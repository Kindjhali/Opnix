const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/c4Diagram-15b5d702-BtZobvnC.js","chunks/svgDrawCommon-3ba9043b-CdWgl4OJ.js","chunks/flowDiagram-cbd28bf7-BBGv6jIm.js","chunks/flowDb-7c981674-Cs1P2e6z.js","chunks/graph-BOs-OnYd.js","chunks/layout-DNdojMHx.js","chunks/styles-2ab5d517-BUsbNVXW.js","chunks/index-6079d271-DLy-BH91.js","chunks/clone-mG0sv98h.js","chunks/edges-332bd1c7-tGtFQZh9.js","chunks/createText-d213de94-Odh7ubiJ.js","chunks/line-D3neg19C.js","chunks/array-BKyUJesY.js","chunks/path-CbwjOpE9.js","chunks/channel-U8UvE9Nt.js","chunks/flowDiagram-v2-ffc7f31a-9uzUqGLS.js","chunks/erDiagram-880f2ed8-DGu80oZn.js","chunks/ganttDiagram-04f9e578-BHgJNci-.js","chunks/linear-Y3Id5j6t.js","chunks/init-Gi6I4Gst.js","chunks/pieDiagram-421022e6-Dv7vMdKC.js","chunks/arc-cNGY3eV4.js","chunks/ordinal-Cboi1Yqb.js","chunks/quadrantDiagram-0957ecba-CADpULQT.js","chunks/xychartDiagram-b6496bcd-C15EwDeW.js","chunks/requirementDiagram-23d650b8-fnGkM_1S.js","chunks/sequenceDiagram-17ac3bff-FpNbcy82.js","chunks/classDiagram-d40c83e7-Cj-mRfxo.js","chunks/styles-5f03d8d2-C8F4gO-F.js","chunks/classDiagram-v2-d5a6b087-CR3m-0v5.js","chunks/stateDiagram-9c5f0230-CBqKgsIg.js","chunks/styles-edf9a4b0-BZzAVlQz.js","chunks/stateDiagram-v2-51a3dcff-Bug3r4RQ.js","chunks/journeyDiagram-29694f62-BFvE3EY9.js","chunks/flowchart-elk-definition-36e2d292-DrgB5VCD.js","chunks/timeline-definition-7e6b55e7-CJ1Wwb16.js","chunks/mindmap-definition-ac74a2e8-CQsjJXmd.js","chunks/sankeyDiagram-23345273-C3k3szqQ.js","chunks/Tableau10-B-NsZVaP.js","chunks/blockDiagram-68f4deed-Cg9y_k4L.js"])))=>i.map(i=>d[i]);
/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ud(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const lt={},ga=[],an=()=>{},s0=()=>!1,du=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),cd=e=>e.startsWith("onUpdate:"),ur=Object.assign,hd=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},ww=Object.prototype.hasOwnProperty,Je=(e,t)=>ww.call(e,t),Ue=Array.isArray,_o=e=>vu(e)==="[object Map]",Tw=e=>vu(e)==="[object Set]",Ye=e=>typeof e=="function",Nt=e=>typeof e=="string",Va=e=>typeof e=="symbol",kt=e=>e!==null&&typeof e=="object",l0=e=>(kt(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),_w=Object.prototype.toString,vu=e=>_w.call(e),Sw=e=>vu(e).slice(8,-1),Ew=e=>vu(e)==="[object Object]",fd=e=>Nt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,So=ud(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pu=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},kw=/-\w/g,ei=pu(e=>e.replace(kw,t=>t.slice(1).toUpperCase())),Bw=/\B([A-Z])/g,Gi=pu(e=>e.replace(Bw,"-$1").toLowerCase()),u0=pu(e=>e.charAt(0).toUpperCase()+e.slice(1)),ic=pu(e=>e?`on${u0(e)}`:""),Mi=(e,t)=>!Object.is(e,t),ac=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},c0=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Aw=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Iv;const gu=()=>Iv||(Iv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dd(e){if(Ue(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Nt(n)?Mw(n):dd(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(Nt(e)||kt(e))return e}const Lw=/;(?![^(]*\))/g,Dw=/:([^]+)/,Pw=/\/\*[^]*?\*\//g;function Mw(e){const t={};return e.replace(Pw,"").split(Lw).forEach(r=>{if(r){const n=r.split(Dw);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function vd(e){let t="";if(Nt(e))t=e;else if(Ue(e))for(let r=0;r<e.length;r++){const n=vd(e[r]);n&&(t+=n+" ")}else if(kt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Fw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ow=ud(Fw);function h0(e){return!!e||e===""}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dr;class Rw{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=dr,!t&&dr&&(this.index=(dr.scopes||(dr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=dr;try{return dr=this,t()}finally{dr=r}}}on(){++this._on===1&&(this.prevScope=dr,dr=this)}off(){this._on>0&&--this._on===0&&(dr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Iw(){return dr}let st;const oc=new WeakSet;class f0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,dr&&dr.active&&dr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oc.has(this)&&(oc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||v0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Nv(this),p0(this);const t=st,r=Hr;st=this,Hr=!0;try{return this.fn()}finally{g0(this),st=t,Hr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)md(t);this.deps=this.depsTail=void 0,Nv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hf(this)&&this.run()}get dirty(){return hf(this)}}let d0=0,Eo,ko;function v0(e,t=!1){if(e.flags|=8,t){e.next=ko,ko=e;return}e.next=Eo,Eo=e}function pd(){d0++}function gd(){if(--d0>0)return;if(ko){let t=ko;for(ko=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Eo;){let t=Eo;for(Eo=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function p0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function g0(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),md(n),Nw(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function hf(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(m0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function m0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vo)||(e.globalVersion=Vo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!hf(e))))return;e.flags|=2;const t=e.dep,r=st,n=Hr;st=e,Hr=!0;try{p0(e);const i=e.fn(e._value);(t.version===0||Mi(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{st=r,Hr=n,g0(e),e.flags&=-3}}function md(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)md(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Nw(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Hr=!0;const y0=[];function An(){y0.push(Hr),Hr=!1}function Ln(){const e=y0.pop();Hr=e===void 0?!0:e}function Nv(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=st;st=void 0;try{t()}finally{st=r}}}let Vo=0;class zw{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class b0{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!st||!Hr||st===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==st)r=this.activeLink=new zw(st,this),st.deps?(r.prevDep=st.depsTail,st.depsTail.nextDep=r,st.depsTail=r):st.deps=st.depsTail=r,x0(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=st.depsTail,r.nextDep=void 0,st.depsTail.nextDep=r,st.depsTail=r,st.deps===r&&(st.deps=n)}return r}trigger(t){this.version++,Vo++,this.notify(t)}notify(t){pd();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{gd()}}}function x0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)x0(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ff=new WeakMap,Fi=Symbol(""),df=Symbol(""),Ho=Symbol("");function jt(e,t,r){if(Hr&&st){let n=ff.get(e);n||ff.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new b0),i.map=n,i.key=r),i.track()}}function Sn(e,t,r,n,i,a){const o=ff.get(e);if(!o){Vo++;return}const s=l=>{l&&l.trigger()};if(pd(),t==="clear")o.forEach(s);else{const l=Ue(e),u=l&&fd(r);if(l&&r==="length"){const c=Number(n);o.forEach((h,f)=>{(f==="length"||f===Ho||!Va(f)&&f>=c)&&s(h)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(Ho)),t){case"add":l?u&&s(o.get("length")):(s(o.get(Fi)),_o(e)&&s(o.get(df)));break;case"delete":l||(s(o.get(Fi)),_o(e)&&s(o.get(df)));break;case"set":_o(e)&&s(o.get(Fi));break}}gd()}function Ji(e){const t=it(e);return t===e?t:(jt(t,"iterate",Ho),on(e)?t:t.map(Cr))}function yd(e){return jt(e=it(e),"iterate",Ho),e}const $w={__proto__:null,[Symbol.iterator](){return sc(this,Symbol.iterator,Cr)},concat(...e){return Ji(this).concat(...e.map(t=>Ue(t)?Ji(t):t))},entries(){return sc(this,"entries",e=>(e[1]=Cr(e[1]),e))},every(e,t){return mn(this,"every",e,t,void 0,arguments)},filter(e,t){return mn(this,"filter",e,t,r=>r.map(Cr),arguments)},find(e,t){return mn(this,"find",e,t,Cr,arguments)},findIndex(e,t){return mn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mn(this,"findLast",e,t,Cr,arguments)},findLastIndex(e,t){return mn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mn(this,"forEach",e,t,void 0,arguments)},includes(...e){return lc(this,"includes",e)},indexOf(...e){return lc(this,"indexOf",e)},join(e){return Ji(this).join(e)},lastIndexOf(...e){return lc(this,"lastIndexOf",e)},map(e,t){return mn(this,"map",e,t,void 0,arguments)},pop(){return Ja(this,"pop")},push(...e){return Ja(this,"push",e)},reduce(e,...t){return zv(this,"reduce",e,t)},reduceRight(e,...t){return zv(this,"reduceRight",e,t)},shift(){return Ja(this,"shift")},some(e,t){return mn(this,"some",e,t,void 0,arguments)},splice(...e){return Ja(this,"splice",e)},toReversed(){return Ji(this).toReversed()},toSorted(e){return Ji(this).toSorted(e)},toSpliced(...e){return Ji(this).toSpliced(...e)},unshift(...e){return Ja(this,"unshift",e)},values(){return sc(this,"values",Cr)}};function sc(e,t,r){const n=yd(e),i=n[t]();return n!==e&&!on(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const qw=Array.prototype;function mn(e,t,r,n,i,a){const o=yd(e),s=o!==e&&!on(e),l=o[t];if(l!==qw[t]){const h=l.apply(e,a);return s?Cr(h):h}let u=r;o!==e&&(s?u=function(h,f){return r.call(this,Cr(h),f,e)}:r.length>2&&(u=function(h,f){return r.call(this,h,f,e)}));const c=l.call(o,u,n);return s&&i?i(c):c}function zv(e,t,r,n){const i=yd(e);let a=r;return i!==e&&(on(e)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,e)}):a=function(o,s,l){return r.call(this,o,Cr(s),l,e)}),i[t](a,...n)}function lc(e,t,r){const n=it(e);jt(n,"iterate",Ho);const i=n[t](...r);return(i===-1||i===!1)&&wd(r[0])?(r[0]=it(r[0]),n[t](...r)):i}function Ja(e,t,r=[]){An(),pd();const n=it(e)[t].apply(e,r);return gd(),Ln(),n}const Vw=ud("__proto__,__v_isRef,__isVue"),C0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Va));function Hw(e){Va(e)||(e=String(e));const t=it(this);return jt(t,"has",e),t.hasOwnProperty(e)}class w0{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?Jw:E0:a?S0:_0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Ue(t);if(!i){let l;if(o&&(l=$w[r]))return l;if(r==="hasOwnProperty")return Hw}const s=Reflect.get(t,r,lr(t)?t:n);return(Va(r)?C0.has(r):Vw(r))||(i||jt(t,"get",r),a)?s:lr(s)?o&&fd(r)?s:s.value:kt(s)?i?k0(s):xd(s):s}}class T0 extends w0{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=Ea(a);if(!on(n)&&!Ea(n)&&(a=it(a),n=it(n)),!Ue(t)&&lr(a)&&!lr(n))return l||(a.value=n),!0}const o=Ue(t)&&fd(r)?Number(r)<t.length:Je(t,r),s=Reflect.set(t,r,n,lr(t)?t:i);return t===it(i)&&(o?Mi(n,a)&&Sn(t,"set",r,n):Sn(t,"add",r,n)),s}deleteProperty(t,r){const n=Je(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Sn(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Va(r)||!C0.has(r))&&jt(t,"has",r),n}ownKeys(t){return jt(t,"iterate",Ue(t)?"length":Fi),Reflect.ownKeys(t)}}class Ww extends w0{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Uw=new T0,Gw=new Ww,Yw=new T0(!0);const vf=e=>e,Ds=e=>Reflect.getPrototypeOf(e);function Kw(e,t,r){return function(...n){const i=this.__v_raw,a=it(i),o=_o(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=r?vf:t?pf:Cr;return!t&&jt(a,"iterate",l?df:Fi),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:s?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Ps(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jw(e,t){const r={get(i){const a=this.__v_raw,o=it(a),s=it(i);e||(Mi(i,s)&&jt(o,"get",i),jt(o,"get",s));const{has:l}=Ds(o),u=t?vf:e?pf:Cr;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&jt(it(i),"iterate",Fi),i.size},has(i){const a=this.__v_raw,o=it(a),s=it(i);return e||(Mi(i,s)&&jt(o,"has",i),jt(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=it(s),u=t?vf:e?pf:Cr;return!e&&jt(l,"iterate",Fi),s.forEach((c,h)=>i.call(a,u(c),u(h),o))}};return ur(r,e?{add:Ps("add"),set:Ps("set"),delete:Ps("delete"),clear:Ps("clear")}:{add(i){!t&&!on(i)&&!Ea(i)&&(i=it(i));const a=it(this);return Ds(a).has.call(a,i)||(a.add(i),Sn(a,"add",i,i)),this},set(i,a){!t&&!on(a)&&!Ea(a)&&(a=it(a));const o=it(this),{has:s,get:l}=Ds(o);let u=s.call(o,i);u||(i=it(i),u=s.call(o,i));const c=l.call(o,i);return o.set(i,a),u?Mi(a,c)&&Sn(o,"set",i,a):Sn(o,"add",i,a),this},delete(i){const a=it(this),{has:o,get:s}=Ds(a);let l=o.call(a,i);l||(i=it(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&Sn(a,"delete",i,void 0),u},clear(){const i=it(this),a=i.size!==0,o=i.clear();return a&&Sn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Kw(i,e,t)}),r}function bd(e,t){const r=jw(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Je(r,i)&&i in n?r:n,i,a)}const Xw={get:bd(!1,!1)},Zw={get:bd(!1,!0)},Qw={get:bd(!0,!1)};const _0=new WeakMap,S0=new WeakMap,E0=new WeakMap,Jw=new WeakMap;function eT(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tT(e){return e.__v_skip||!Object.isExtensible(e)?0:eT(Sw(e))}function xd(e){return Ea(e)?e:Cd(e,!1,Uw,Xw,_0)}function rT(e){return Cd(e,!1,Yw,Zw,S0)}function k0(e){return Cd(e,!0,Gw,Qw,E0)}function Cd(e,t,r,n,i){if(!kt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=tT(e);if(a===0)return e;const o=i.get(e);if(o)return o;const s=new Proxy(e,a===2?n:r);return i.set(e,s),s}function Bo(e){return Ea(e)?Bo(e.__v_raw):!!(e&&e.__v_isReactive)}function Ea(e){return!!(e&&e.__v_isReadonly)}function on(e){return!!(e&&e.__v_isShallow)}function wd(e){return e?!!e.__v_raw:!1}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function nT(e){return!Je(e,"__v_skip")&&Object.isExtensible(e)&&c0(e,"__v_skip",!0),e}const Cr=e=>kt(e)?xd(e):e,pf=e=>kt(e)?k0(e):e;function lr(e){return e?e.__v_isRef===!0:!1}function iT(e){return lr(e)?e.value:e}const aT={get:(e,t,r)=>t==="__v_raw"?e:iT(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return lr(i)&&!lr(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function B0(e){return Bo(e)?e:new Proxy(e,aT)}class oT{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new b0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&st!==this)return v0(this,!0),!0}get value(){const t=this.dep.track();return m0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function sT(e,t,r=!1){let n,i;return Ye(e)?n=e:(n=e.get,i=e.set),new oT(n,i,r)}const Ms={},Sl=new WeakMap;let Ti;function lT(e,t=!1,r=Ti){if(r){let n=Sl.get(r);n||Sl.set(r,n=[]),n.push(e)}}function uT(e,t,r=lt){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=x=>i?x:on(x)||i===!1||i===0?Un(x,1):Un(x);let c,h,f,d,v=!1,y=!1;if(lr(e)?(h=()=>e.value,v=on(e)):Bo(e)?(h=()=>u(e),v=!0):Ue(e)?(y=!0,v=e.some(x=>Bo(x)||on(x)),h=()=>e.map(x=>{if(lr(x))return x.value;if(Bo(x))return u(x);if(Ye(x))return l?l(x,2):x()})):Ye(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){An();try{f()}finally{Ln()}}const x=Ti;Ti=c;try{return l?l(e,3,[d]):e(d)}finally{Ti=x}}:h=an,t&&i){const x=h,w=i===!0?1/0:i;h=()=>Un(x(),w)}const p=Iw(),m=()=>{c.stop(),p&&p.active&&hd(p.effects,c)};if(a&&t){const x=t;t=(...w)=>{x(...w),m()}}let g=y?new Array(e.length).fill(Ms):Ms;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const w=c.run();if(i||v||(y?w.some((T,C)=>Mi(T,g[C])):Mi(w,g))){f&&f();const T=Ti;Ti=c;try{const C=[w,g===Ms?void 0:y&&g[0]===Ms?[]:g,d];g=w,l?l(t,3,C):t(...C)}finally{Ti=T}}}else c.run()};return s&&s(b),c=new f0(h),c.scheduler=o?()=>o(b,!1):b,d=x=>lT(x,!1,c),f=c.onStop=()=>{const x=Sl.get(c);if(x){if(l)l(x,4);else for(const w of x)w();Sl.delete(c)}},t?n?b(!0):g=c.run():o?o(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Un(e,t=1/0,r){if(t<=0||!kt(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,lr(e))Un(e.value,t,r);else if(Ue(e))for(let n=0;n<e.length;n++)Un(e[n],t,r);else if(Tw(e)||_o(e))e.forEach(n=>{Un(n,t,r)});else if(Ew(e)){for(const n in e)Un(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Un(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hs(e,t,r,n){try{return n?e(...n):e()}catch(i){mu(i,t,r)}}function un(e,t,r,n){if(Ye(e)){const i=hs(e,t,r,n);return i&&l0(i)&&i.catch(a=>{mu(a,t,r)}),i}if(Ue(e)){const i=[];for(let a=0;a<e.length;a++)i.push(un(e[a],t,r,n));return i}}function mu(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||lt;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}s=s.parent}if(a){An(),hs(a,null,10,[e,l,u]),Ln();return}}cT(e,r,i,n,o)}function cT(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const ir=[];let Jr=-1;const ma=[];let qn=null,ua=0;const A0=Promise.resolve();let El=null;function hT(e){const t=El||A0;return e?t.then(this?e.bind(this):e):t}function fT(e){let t=Jr+1,r=ir.length;for(;t<r;){const n=t+r>>>1,i=ir[n],a=Wo(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function Td(e){if(!(e.flags&1)){const t=Wo(e),r=ir[ir.length-1];!r||!(e.flags&2)&&t>=Wo(r)?ir.push(e):ir.splice(fT(t),0,e),e.flags|=1,L0()}}function L0(){El||(El=A0.then(P0))}function dT(e){Ue(e)?ma.push(...e):qn&&e.id===-1?qn.splice(ua+1,0,e):e.flags&1||(ma.push(e),e.flags|=1),L0()}function $v(e,t,r=Jr+1){for(;r<ir.length;r++){const n=ir[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ir.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function D0(e){if(ma.length){const t=[...new Set(ma)].sort((r,n)=>Wo(r)-Wo(n));if(ma.length=0,qn){qn.push(...t);return}for(qn=t,ua=0;ua<qn.length;ua++){const r=qn[ua];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}qn=null,ua=0}}const Wo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function P0(e){try{for(Jr=0;Jr<ir.length;Jr++){const t=ir[Jr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),hs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jr<ir.length;Jr++){const t=ir[Jr];t&&(t.flags&=-2)}Jr=-1,ir.length=0,D0(),El=null,(ir.length||ma.length)&&P0()}}let rn=null,M0=null;function kl(e){const t=rn;return rn=e,M0=e&&e.type.__scopeId||null,t}function vT(e,t=rn,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Xv(-1);const a=kl(t);let o;try{o=e(...i)}finally{kl(a),n._d&&Xv(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function bi(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(An(),un(l,r,8,[e.el,s,e,t]),Ln())}}const pT=Symbol("_vte"),gT=e=>e.__isTeleport,mT=Symbol("_leaveCb");function _d(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_d(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function F0(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Bl=new WeakMap;function Ao(e,t,r,n,i=!1){if(Ue(e)){e.forEach((v,y)=>Ao(v,t&&(Ue(t)?t[y]:t),r,n,i));return}if(Lo(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ao(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?Bd(n.component):n.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,c=s.refs===lt?s.refs={}:s.refs,h=s.setupState,f=it(h),d=h===lt?s0:v=>Je(f,v);if(u!=null&&u!==l){if(qv(t),Nt(u))c[u]=null,d(u)&&(h[u]=null);else if(lr(u)){u.value=null;const v=t;v.k&&(c[v.k]=null)}}if(Ye(l))hs(l,s,12,[o,c]);else{const v=Nt(l),y=lr(l);if(v||y){const p=()=>{if(e.f){const m=v?d(l)?h[l]:c[l]:l.value;if(i)Ue(m)&&hd(m,a);else if(Ue(m))m.includes(a)||m.push(a);else if(v)c[l]=[a],d(l)&&(h[l]=c[l]);else{const g=[a];l.value=g,e.k&&(c[e.k]=g)}}else v?(c[l]=o,d(l)&&(h[l]=o)):y&&(l.value=o,e.k&&(c[e.k]=o))};if(o){const m=()=>{p(),Bl.delete(e)};m.id=-1,Bl.set(e,m),xr(m,r)}else qv(e),p()}}}function qv(e){const t=Bl.get(e);t&&(t.flags|=8,Bl.delete(e))}gu().requestIdleCallback;gu().cancelIdleCallback;const Lo=e=>!!e.type.__asyncLoader,O0=e=>e.type.__isKeepAlive;function yT(e,t){R0(e,"a",t)}function bT(e,t){R0(e,"da",t)}function R0(e,t,r=ar){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(yu(t,n,r),r){let i=r.parent;for(;i&&i.parent;)O0(i.parent.vnode)&&xT(n,t,r,i),i=i.parent}}function xT(e,t,r,n){const i=yu(t,e,n,!0);I0(()=>{hd(n[t],i)},r)}function yu(e,t,r=ar,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{An();const s=fs(r),l=un(t,r,e,o);return s(),Ln(),l});return n?i.unshift(a):i.push(a),a}}const Fn=e=>(t,r=ar)=>{(!Go||e==="sp")&&yu(e,(...n)=>t(...n),r)},CT=Fn("bm"),wT=Fn("m"),TT=Fn("bu"),_T=Fn("u"),ST=Fn("bum"),I0=Fn("um"),ET=Fn("sp"),kT=Fn("rtg"),BT=Fn("rtc");function AT(e,t=ar){yu("ec",e,t)}const LT=Symbol.for("v-ndc"),gf=e=>e?ib(e)?Bd(e):gf(e.parent):null,Do=ur(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gf(e.parent),$root:e=>gf(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>z0(e),$forceUpdate:e=>e.f||(e.f=()=>{Td(e.update)}),$nextTick:e=>e.n||(e.n=hT.bind(e.proxy)),$watch:e=>QT.bind(e)}),uc=(e,t)=>e!==lt&&!e.__isScriptSetup&&Je(e,t),DT={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(uc(n,t))return o[t]=1,n[t];if(i!==lt&&Je(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Je(u,t))return o[t]=3,a[t];if(r!==lt&&Je(r,t))return o[t]=4,r[t];mf&&(o[t]=0)}}const c=Do[t];let h,f;if(c)return t==="$attrs"&&jt(e.attrs,"get",""),c(e);if((h=s.__cssModules)&&(h=h[t]))return h;if(r!==lt&&Je(r,t))return o[t]=4,r[t];if(f=l.config.globalProperties,Je(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return uc(i,t)?(i[t]=r,!0):n!==lt&&Je(n,t)?(n[t]=r,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a,type:o}},s){let l,u;return!!(r[s]||e!==lt&&s[0]!=="$"&&Je(e,s)||uc(t,s)||(l=a[0])&&Je(l,s)||Je(n,s)||Je(Do,s)||Je(i.config.globalProperties,s)||(u=o.__cssModules)&&u[s])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Je(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Vv(e){return Ue(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let mf=!0;function PT(e){const t=z0(e),r=e.proxy,n=e.ctx;mf=!1,t.beforeCreate&&Hv(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:v,activated:y,deactivated:p,beforeDestroy:m,beforeUnmount:g,destroyed:b,unmounted:x,render:w,renderTracked:T,renderTriggered:C,errorCaptured:S,serverPrefetch:k,expose:B,inheritAttrs:E,components:A,directives:D,filters:O}=t;if(u&&MT(u,n,null),o)for(const P in o){const I=o[P];Ye(I)&&(n[P]=I.bind(r))}if(i){const P=i.call(r,r);kt(P)&&(e.data=xd(P))}if(mf=!0,a)for(const P in a){const I=a[P],z=Ye(I)?I.bind(r,r):Ye(I.get)?I.get.bind(r,r):an,W=!Ye(I)&&Ye(I.set)?I.set.bind(r):an,N=__({get:z,set:W});Object.defineProperty(n,P,{enumerable:!0,configurable:!0,get:()=>N.value,set:H=>N.value=H})}if(s)for(const P in s)N0(s[P],n,r,P);if(l){const P=Ye(l)?l.call(r):l;Reflect.ownKeys(P).forEach(I=>{zT(I,P[I])})}c&&Hv(c,e,"c");function M(P,I){Ue(I)?I.forEach(z=>P(z.bind(r))):I&&P(I.bind(r))}if(M(CT,h),M(wT,f),M(TT,d),M(_T,v),M(yT,y),M(bT,p),M(AT,S),M(BT,T),M(kT,C),M(ST,g),M(I0,x),M(ET,k),Ue(B))if(B.length){const P=e.exposed||(e.exposed={});B.forEach(I=>{Object.defineProperty(P,I,{get:()=>r[I],set:z=>r[I]=z,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===an&&(e.render=w),E!=null&&(e.inheritAttrs=E),A&&(e.components=A),D&&(e.directives=D),k&&F0(e)}function MT(e,t,r=an){Ue(e)&&(e=yf(e));for(const n in e){const i=e[n];let a;kt(i)?"default"in i?a=el(i.from||n,i.default,!0):a=el(i.from||n):a=el(i),lr(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function Hv(e,t,r){un(Ue(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function N0(e,t,r,n){let i=n.includes(".")?Q0(r,n):()=>r[n];if(Nt(e)){const a=t[e];Ye(a)&&hc(i,a)}else if(Ye(e))hc(i,e.bind(r));else if(kt(e))if(Ue(e))e.forEach(a=>N0(a,t,r,n));else{const a=Ye(e.handler)?e.handler.bind(r):t[e.handler];Ye(a)&&hc(i,a,e)}}function z0(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>Al(l,u,o,!0)),Al(l,t,o)),kt(t)&&a.set(t,l),l}function Al(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Al(e,a,r,!0),i&&i.forEach(o=>Al(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=FT[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const FT={data:Wv,props:Uv,emits:Uv,methods:go,computed:go,beforeCreate:rr,created:rr,beforeMount:rr,mounted:rr,beforeUpdate:rr,updated:rr,beforeDestroy:rr,beforeUnmount:rr,destroyed:rr,unmounted:rr,activated:rr,deactivated:rr,errorCaptured:rr,serverPrefetch:rr,components:go,directives:go,watch:RT,provide:Wv,inject:OT};function Wv(e,t){return t?e?function(){return ur(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function OT(e,t){return go(yf(e),yf(t))}function yf(e){if(Ue(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function rr(e,t){return e?[...new Set([].concat(e,t))]:t}function go(e,t){return e?ur(Object.create(null),e,t):t}function Uv(e,t){return e?Ue(e)&&Ue(t)?[...new Set([...e,...t])]:ur(Object.create(null),Vv(e),Vv(t??{})):t}function RT(e,t){if(!e)return t;if(!t)return e;const r=ur(Object.create(null),e);for(const n in t)r[n]=rr(e[n],t[n]);return r}function $0(){return{app:null,config:{isNativeTag:s0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let IT=0;function NT(e,t){return function(n,i=null){Ye(n)||(n=ur({},n)),i!=null&&!kt(i)&&(i=null);const a=$0(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:IT++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:S_,get config(){return a.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ye(c.install)?(o.add(c),c.install(u,...h)):Ye(c)&&(o.add(c),c(u,...h))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,h){return h?(a.components[c]=h,u):a.components[c]},directive(c,h){return h?(a.directives[c]=h,u):a.directives[c]},mount(c,h,f){if(!l){const d=u._ceVNode||Oi(n,i);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(d,c,f),l=!0,u._container=c,c.__vue_app__=u,Bd(d.component)}},onUnmount(c){s.push(c)},unmount(){l&&(un(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return a.provides[c]=h,u},runWithContext(c){const h=ya;ya=u;try{return c()}finally{ya=h}}};return u}}let ya=null;function zT(e,t){if(ar){let r=ar.provides;const n=ar.parent&&ar.parent.provides;n===r&&(r=ar.provides=Object.create(n)),r[e]=t}}function el(e,t,r=!1){const n=y_();if(n||ya){let i=ya?ya._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Ye(t)?t.call(n&&n.proxy):t}}const q0={},V0=()=>Object.create(q0),H0=e=>Object.getPrototypeOf(e)===q0;function $T(e,t,r,n=!1){const i={},a=V0();e.propsDefaults=Object.create(null),W0(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:rT(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function qT(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=it(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(bu(e.emitsOptions,f))continue;const d=t[f];if(l)if(Je(a,f))d!==a[f]&&(a[f]=d,u=!0);else{const v=ei(f);i[v]=bf(l,s,v,d,e,!1)}else d!==a[f]&&(a[f]=d,u=!0)}}}else{W0(e,t,i,a)&&(u=!0);let c;for(const h in s)(!t||!Je(t,h)&&((c=Gi(h))===h||!Je(t,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(i[h]=bf(l,s,h,void 0,e,!0)):delete i[h]);if(a!==s)for(const h in a)(!t||!Je(t,h))&&(delete a[h],u=!0)}u&&Sn(e.attrs,"set","")}function W0(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(So(l))continue;const u=t[l];let c;i&&Je(i,c=ei(l))?!a||!a.includes(c)?r[c]=u:(s||(s={}))[c]=u:bu(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=it(r),u=s||lt;for(let c=0;c<a.length;c++){const h=a[c];r[h]=bf(i,l,h,u[h],e,!Je(u,h))}}return o}function bf(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=Je(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ye(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=fs(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Gi(r))&&(n=!0))}return n}const VT=new WeakMap;function U0(e,t,r=!1){const n=r?VT:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!Ye(e)){const c=h=>{l=!0;const[f,d]=U0(h,t,!0);ur(o,f),d&&s.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return kt(e)&&n.set(e,ga),ga;if(Ue(a))for(let c=0;c<a.length;c++){const h=ei(a[c]);Gv(h)&&(o[h]=lt)}else if(a)for(const c in a){const h=ei(c);if(Gv(h)){const f=a[c],d=o[h]=Ue(f)||Ye(f)?{type:f}:ur({},f),v=d.type;let y=!1,p=!0;if(Ue(v))for(let m=0;m<v.length;++m){const g=v[m],b=Ye(g)&&g.name;if(b==="Boolean"){y=!0;break}else b==="String"&&(p=!1)}else y=Ye(v)&&v.name==="Boolean";d[0]=y,d[1]=p,(y||Je(d,"default"))&&s.push(h)}}const u=[o,s];return kt(e)&&n.set(e,u),u}function Gv(e){return e[0]!=="$"&&!So(e)}const Sd=e=>e==="_"||e==="_ctx"||e==="$stable",Ed=e=>Ue(e)?e.map(tn):[tn(e)],HT=(e,t,r)=>{if(t._n)return t;const n=vT((...i)=>Ed(t(...i)),r);return n._c=!1,n},G0=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Sd(i))continue;const a=e[i];if(Ye(a))t[i]=HT(i,a,n);else if(a!=null){const o=Ed(a);t[i]=()=>o}}},Y0=(e,t)=>{const r=Ed(t);e.slots.default=()=>r},K0=(e,t,r)=>{for(const n in t)(r||!Sd(n))&&(e[n]=t[n])},WT=(e,t,r)=>{const n=e.slots=V0();if(e.vnode.shapeFlag&32){const i=t._;i?(K0(n,t,r),r&&c0(n,"_",i,!0)):G0(t,n)}else t&&Y0(e,t)},UT=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=lt;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:K0(i,t,r):(a=!t.$stable,G0(t,i)),o=t}else t&&(Y0(e,t),o={default:1});if(a)for(const s in i)!Sd(s)&&o[s]==null&&delete i[s]},xr=o_;function GT(e){return YT(e)}function YT(e,t){const r=gu();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=an,insertStaticContent:v}=e,y=(_,F,q,J=null,$=null,V=null,X=void 0,re=null,ee=!!F.dynamicChildren)=>{if(_===F)return;_&&!eo(_,F)&&(J=ue(_),H(_,$,V,!0),_=null),F.patchFlag===-2&&(ee=!1,F.dynamicChildren=null);const{type:te,ref:de,shapeFlag:he}=F;switch(te){case xu:p(_,F,q,J);break;case ka:m(_,F,q,J);break;case fc:_==null&&g(F,q,J,X);break;case Tn:A(_,F,q,J,$,V,X,re,ee);break;default:he&1?w(_,F,q,J,$,V,X,re,ee):he&6?D(_,F,q,J,$,V,X,re,ee):(he&64||he&128)&&te.process(_,F,q,J,$,V,X,re,ee,U)}de!=null&&$?Ao(de,_&&_.ref,V,F||_,!F):de==null&&_&&_.ref!=null&&Ao(_.ref,null,V,_,!0)},p=(_,F,q,J)=>{if(_==null)n(F.el=s(F.children),q,J);else{const $=F.el=_.el;F.children!==_.children&&u($,F.children)}},m=(_,F,q,J)=>{_==null?n(F.el=l(F.children||""),q,J):F.el=_.el},g=(_,F,q,J)=>{[_.el,_.anchor]=v(_.children,F,q,J,_.el,_.anchor)},b=({el:_,anchor:F},q,J)=>{let $;for(;_&&_!==F;)$=f(_),n(_,q,J),_=$;n(F,q,J)},x=({el:_,anchor:F})=>{let q;for(;_&&_!==F;)q=f(_),i(_),_=q;i(F)},w=(_,F,q,J,$,V,X,re,ee)=>{F.type==="svg"?X="svg":F.type==="math"&&(X="mathml"),_==null?T(F,q,J,$,V,X,re,ee):k(_,F,$,V,X,re,ee)},T=(_,F,q,J,$,V,X,re)=>{let ee,te;const{props:de,shapeFlag:he,transition:ve,dirs:ge}=_;if(ee=_.el=o(_.type,V,de&&de.is,de),he&8?c(ee,_.children):he&16&&S(_.children,ee,null,J,$,cc(_,V),X,re),ge&&bi(_,null,J,"created"),C(ee,_,_.scopeId,X,J),de){for(const Pe in de)Pe!=="value"&&!So(Pe)&&a(ee,Pe,null,de[Pe],V,J);"value"in de&&a(ee,"value",null,de.value,V),(te=de.onVnodeBeforeMount)&&jr(te,J,_)}ge&&bi(_,null,J,"beforeMount");const Ce=KT($,ve);Ce&&ve.beforeEnter(ee),n(ee,F,q),((te=de&&de.onVnodeMounted)||Ce||ge)&&xr(()=>{te&&jr(te,J,_),Ce&&ve.enter(ee),ge&&bi(_,null,J,"mounted")},$)},C=(_,F,q,J,$)=>{if(q&&d(_,q),J)for(let V=0;V<J.length;V++)d(_,J[V]);if($){let V=$.subTree;if(F===V||eb(V.type)&&(V.ssContent===F||V.ssFallback===F)){const X=$.vnode;C(_,X,X.scopeId,X.slotScopeIds,$.parent)}}},S=(_,F,q,J,$,V,X,re,ee=0)=>{for(let te=ee;te<_.length;te++){const de=_[te]=re?Vn(_[te]):tn(_[te]);y(null,de,F,q,J,$,V,X,re)}},k=(_,F,q,J,$,V,X)=>{const re=F.el=_.el;let{patchFlag:ee,dynamicChildren:te,dirs:de}=F;ee|=_.patchFlag&16;const he=_.props||lt,ve=F.props||lt;let ge;if(q&&xi(q,!1),(ge=ve.onVnodeBeforeUpdate)&&jr(ge,q,F,_),de&&bi(F,_,q,"beforeUpdate"),q&&xi(q,!0),(he.innerHTML&&ve.innerHTML==null||he.textContent&&ve.textContent==null)&&c(re,""),te?B(_.dynamicChildren,te,re,q,J,cc(F,$),V):X||I(_,F,re,null,q,J,cc(F,$),V,!1),ee>0){if(ee&16)E(re,he,ve,q,$);else if(ee&2&&he.class!==ve.class&&a(re,"class",null,ve.class,$),ee&4&&a(re,"style",he.style,ve.style,$),ee&8){const Ce=F.dynamicProps;for(let Pe=0;Pe<Ce.length;Pe++){const ke=Ce[Pe],ze=he[ke],_e=ve[ke];(_e!==ze||ke==="value")&&a(re,ke,ze,_e,$,q)}}ee&1&&_.children!==F.children&&c(re,F.children)}else!X&&te==null&&E(re,he,ve,q,$);((ge=ve.onVnodeUpdated)||de)&&xr(()=>{ge&&jr(ge,q,F,_),de&&bi(F,_,q,"updated")},J)},B=(_,F,q,J,$,V,X)=>{for(let re=0;re<F.length;re++){const ee=_[re],te=F[re],de=ee.el&&(ee.type===Tn||!eo(ee,te)||ee.shapeFlag&198)?h(ee.el):q;y(ee,te,de,null,J,$,V,X,!0)}},E=(_,F,q,J,$)=>{if(F!==q){if(F!==lt)for(const V in F)!So(V)&&!(V in q)&&a(_,V,F[V],null,$,J);for(const V in q){if(So(V))continue;const X=q[V],re=F[V];X!==re&&V!=="value"&&a(_,V,re,X,$,J)}"value"in q&&a(_,"value",F.value,q.value,$)}},A=(_,F,q,J,$,V,X,re,ee)=>{const te=F.el=_?_.el:s(""),de=F.anchor=_?_.anchor:s("");let{patchFlag:he,dynamicChildren:ve,slotScopeIds:ge}=F;ge&&(re=re?re.concat(ge):ge),_==null?(n(te,q,J),n(de,q,J),S(F.children||[],q,de,$,V,X,re,ee)):he>0&&he&64&&ve&&_.dynamicChildren?(B(_.dynamicChildren,ve,q,$,V,X,re),(F.key!=null||$&&F===$.subTree)&&j0(_,F,!0)):I(_,F,q,de,$,V,X,re,ee)},D=(_,F,q,J,$,V,X,re,ee)=>{F.slotScopeIds=re,_==null?F.shapeFlag&512?$.ctx.activate(F,q,J,X,ee):O(F,q,J,$,V,X,ee):R(_,F,ee)},O=(_,F,q,J,$,V,X)=>{const re=_.component=m_(_,J,$);if(O0(_)&&(re.ctx.renderer=U),b_(re,!1,X),re.asyncDep){if($&&$.registerDep(re,M,X),!_.el){const ee=re.subTree=Oi(ka);m(null,ee,F,q),_.placeholder=ee.el}}else M(re,_,F,q,$,V,X)},R=(_,F,q)=>{const J=F.component=_.component;if(i_(_,F,q))if(J.asyncDep&&!J.asyncResolved){P(J,F,q);return}else J.next=F,J.update();else F.el=_.el,J.vnode=F},M=(_,F,q,J,$,V,X)=>{const re=()=>{if(_.isMounted){let{next:he,bu:ve,u:ge,parent:Ce,vnode:Pe}=_;{const le=X0(_);if(le){he&&(he.el=Pe.el,P(_,he,X)),le.asyncDep.then(()=>{_.isUnmounted||re()});return}}let ke=he,ze;xi(_,!1),he?(he.el=Pe.el,P(_,he,X)):he=Pe,ve&&ac(ve),(ze=he.props&&he.props.onVnodeBeforeUpdate)&&jr(ze,Ce,he,Pe),xi(_,!0);const _e=Kv(_),be=_.subTree;_.subTree=_e,y(be,_e,h(be.el),ue(be),_,$,V),he.el=_e.el,ke===null&&a_(_,_e.el),ge&&xr(ge,$),(ze=he.props&&he.props.onVnodeUpdated)&&xr(()=>jr(ze,Ce,he,Pe),$)}else{let he;const{el:ve,props:ge}=F,{bm:Ce,m:Pe,parent:ke,root:ze,type:_e}=_,be=Lo(F);xi(_,!1),Ce&&ac(Ce),!be&&(he=ge&&ge.onVnodeBeforeMount)&&jr(he,ke,F),xi(_,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(_e);const le=_.subTree=Kv(_);y(null,le,q,J,_,$,V),F.el=le.el}if(Pe&&xr(Pe,$),!be&&(he=ge&&ge.onVnodeMounted)){const le=F;xr(()=>jr(he,ke,le),$)}(F.shapeFlag&256||ke&&Lo(ke.vnode)&&ke.vnode.shapeFlag&256)&&_.a&&xr(_.a,$),_.isMounted=!0,F=q=J=null}};_.scope.on();const ee=_.effect=new f0(re);_.scope.off();const te=_.update=ee.run.bind(ee),de=_.job=ee.runIfDirty.bind(ee);de.i=_,de.id=_.uid,ee.scheduler=()=>Td(de),xi(_,!0),te()},P=(_,F,q)=>{F.component=_;const J=_.vnode.props;_.vnode=F,_.next=null,qT(_,F.props,J,q),UT(_,F.children,q),An(),$v(_),Ln()},I=(_,F,q,J,$,V,X,re,ee=!1)=>{const te=_&&_.children,de=_?_.shapeFlag:0,he=F.children,{patchFlag:ve,shapeFlag:ge}=F;if(ve>0){if(ve&128){W(te,he,q,J,$,V,X,re,ee);return}else if(ve&256){z(te,he,q,J,$,V,X,re,ee);return}}ge&8?(de&16&&ae(te,$,V),he!==te&&c(q,he)):de&16?ge&16?W(te,he,q,J,$,V,X,re,ee):ae(te,$,V,!0):(de&8&&c(q,""),ge&16&&S(he,q,J,$,V,X,re,ee))},z=(_,F,q,J,$,V,X,re,ee)=>{_=_||ga,F=F||ga;const te=_.length,de=F.length,he=Math.min(te,de);let ve;for(ve=0;ve<he;ve++){const ge=F[ve]=ee?Vn(F[ve]):tn(F[ve]);y(_[ve],ge,q,null,$,V,X,re,ee)}te>de?ae(_,$,V,!0,!1,he):S(F,q,J,$,V,X,re,ee,he)},W=(_,F,q,J,$,V,X,re,ee)=>{let te=0;const de=F.length;let he=_.length-1,ve=de-1;for(;te<=he&&te<=ve;){const ge=_[te],Ce=F[te]=ee?Vn(F[te]):tn(F[te]);if(eo(ge,Ce))y(ge,Ce,q,null,$,V,X,re,ee);else break;te++}for(;te<=he&&te<=ve;){const ge=_[he],Ce=F[ve]=ee?Vn(F[ve]):tn(F[ve]);if(eo(ge,Ce))y(ge,Ce,q,null,$,V,X,re,ee);else break;he--,ve--}if(te>he){if(te<=ve){const ge=ve+1,Ce=ge<de?F[ge].el:J;for(;te<=ve;)y(null,F[te]=ee?Vn(F[te]):tn(F[te]),q,Ce,$,V,X,re,ee),te++}}else if(te>ve)for(;te<=he;)H(_[te],$,V,!0),te++;else{const ge=te,Ce=te,Pe=new Map;for(te=Ce;te<=ve;te++){const ie=F[te]=ee?Vn(F[te]):tn(F[te]);ie.key!=null&&Pe.set(ie.key,te)}let ke,ze=0;const _e=ve-Ce+1;let be=!1,le=0;const L=new Array(_e);for(te=0;te<_e;te++)L[te]=0;for(te=ge;te<=he;te++){const ie=_[te];if(ze>=_e){H(ie,$,V,!0);continue}let se;if(ie.key!=null)se=Pe.get(ie.key);else for(ke=Ce;ke<=ve;ke++)if(L[ke-Ce]===0&&eo(ie,F[ke])){se=ke;break}se===void 0?H(ie,$,V,!0):(L[se-Ce]=te+1,se>=le?le=se:be=!0,y(ie,F[se],q,null,$,V,X,re,ee),ze++)}const Z=be?jT(L):ga;for(ke=Z.length-1,te=_e-1;te>=0;te--){const ie=Ce+te,se=F[ie],ce=F[ie+1],Te=ie+1<de?ce.el||ce.placeholder:J;L[te]===0?y(null,se,q,Te,$,V,X,re,ee):be&&(ke<0||te!==Z[ke]?N(se,q,Te,2):ke--)}}},N=(_,F,q,J,$=null)=>{const{el:V,type:X,transition:re,children:ee,shapeFlag:te}=_;if(te&6){N(_.component.subTree,F,q,J);return}if(te&128){_.suspense.move(F,q,J);return}if(te&64){X.move(_,F,q,U);return}if(X===Tn){n(V,F,q);for(let he=0;he<ee.length;he++)N(ee[he],F,q,J);n(_.anchor,F,q);return}if(X===fc){b(_,F,q);return}if(J!==2&&te&1&&re)if(J===0)re.beforeEnter(V),n(V,F,q),xr(()=>re.enter(V),$);else{const{leave:he,delayLeave:ve,afterLeave:ge}=re,Ce=()=>{_.ctx.isUnmounted?i(V):n(V,F,q)},Pe=()=>{V._isLeaving&&V[mT](!0),he(V,()=>{Ce(),ge&&ge()})};ve?ve(V,Ce,Pe):Pe()}else n(V,F,q)},H=(_,F,q,J=!1,$=!1)=>{const{type:V,props:X,ref:re,children:ee,dynamicChildren:te,shapeFlag:de,patchFlag:he,dirs:ve,cacheIndex:ge}=_;if(he===-2&&($=!1),re!=null&&(An(),Ao(re,null,q,_,!0),Ln()),ge!=null&&(F.renderCache[ge]=void 0),de&256){F.ctx.deactivate(_);return}const Ce=de&1&&ve,Pe=!Lo(_);let ke;if(Pe&&(ke=X&&X.onVnodeBeforeUnmount)&&jr(ke,F,_),de&6)K(_.component,q,J);else{if(de&128){_.suspense.unmount(q,J);return}Ce&&bi(_,null,F,"beforeUnmount"),de&64?_.type.remove(_,F,q,U,J):te&&!te.hasOnce&&(V!==Tn||he>0&&he&64)?ae(te,F,q,!1,!0):(V===Tn&&he&384||!$&&de&16)&&ae(ee,F,q),J&&j(_)}(Pe&&(ke=X&&X.onVnodeUnmounted)||Ce)&&xr(()=>{ke&&jr(ke,F,_),Ce&&bi(_,null,F,"unmounted")},q)},j=_=>{const{type:F,el:q,anchor:J,transition:$}=_;if(F===Tn){ne(q,J);return}if(F===fc){x(_);return}const V=()=>{i(q),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(_.shapeFlag&1&&$&&!$.persisted){const{leave:X,delayLeave:re}=$,ee=()=>X(q,V);re?re(_.el,V,ee):ee()}else V()},ne=(_,F)=>{let q;for(;_!==F;)q=f(_),i(_),_=q;i(F)},K=(_,F,q)=>{const{bum:J,scope:$,job:V,subTree:X,um:re,m:ee,a:te}=_;Yv(ee),Yv(te),J&&ac(J),$.stop(),V&&(V.flags|=8,H(X,_,F,q)),re&&xr(re,F),xr(()=>{_.isUnmounted=!0},F)},ae=(_,F,q,J=!1,$=!1,V=0)=>{for(let X=V;X<_.length;X++)H(_[X],F,q,J,$)},ue=_=>{if(_.shapeFlag&6)return ue(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const F=f(_.anchor||_.el),q=F&&F[pT];return q?f(q):F};let fe=!1;const oe=(_,F,q)=>{_==null?F._vnode&&H(F._vnode,null,null,!0):y(F._vnode||null,_,F,null,null,null,q),F._vnode=_,fe||(fe=!0,$v(),D0(),fe=!1)},U={p:y,um:H,m:N,r:j,mt:O,mc:S,pc:I,pbc:B,n:ue,o:e};return{render:oe,hydrate:void 0,createApp:NT(oe)}}function cc({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function xi({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function KT(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function j0(e,t,r=!1){const n=e.children,i=t.children;if(Ue(n)&&Ue(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=Vn(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&j0(o,s)),s.type===xu&&s.patchFlag!==-1&&(s.el=o.el),s.type===ka&&!s.el&&(s.el=o.el)}}function jT(e){const t=e.slice(),r=[0];let n,i,a,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<u?a=s+1:o=s;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function X0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:X0(t)}function Yv(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const XT=Symbol.for("v-scx"),ZT=()=>el(XT);function hc(e,t,r){return Z0(e,t,r)}function Z0(e,t,r=lt){const{immediate:n,deep:i,flush:a,once:o}=r,s=ur({},r),l=t&&n||!t&&a!=="post";let u;if(Go){if(a==="sync"){const d=ZT();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=an,d.resume=an,d.pause=an,d}}const c=ar;s.call=(d,v,y)=>un(d,c,v,y);let h=!1;a==="post"?s.scheduler=d=>{xr(d,c&&c.suspense)}:a!=="sync"&&(h=!0,s.scheduler=(d,v)=>{v?d():Td(d)}),s.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const f=uT(e,t,s);return Go&&(u?u.push(f):l&&f()),f}function QT(e,t,r){const n=this.proxy,i=Nt(e)?e.includes(".")?Q0(n,e):()=>n[e]:e.bind(n,n);let a;Ye(t)?a=t:(a=t.handler,r=t);const o=fs(this),s=Z0(i,a.bind(n),r);return o(),s}function Q0(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const JT=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ei(t)}Modifiers`]||e[`${Gi(t)}Modifiers`];function e_(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||lt;let i=r;const a=t.startsWith("update:"),o=a&&JT(n,t.slice(7));o&&(o.trim&&(i=r.map(c=>Nt(c)?c.trim():c)),o.number&&(i=r.map(Aw)));let s,l=n[s=ic(t)]||n[s=ic(ei(t))];!l&&a&&(l=n[s=ic(Gi(t))]),l&&un(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,un(u,e,6,i)}}const t_=new WeakMap;function J0(e,t,r=!1){const n=r?t_:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!Ye(e)){const l=u=>{const c=J0(u,t,!0);c&&(s=!0,ur(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(kt(e)&&n.set(e,null),null):(Ue(a)?a.forEach(l=>o[l]=null):ur(o,a),kt(e)&&n.set(e,o),o)}function bu(e,t){return!e||!du(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,Gi(t))||Je(e,t))}function Kv(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:v,inheritAttrs:y}=e,p=kl(e);let m,g;try{if(r.shapeFlag&4){const x=i||n,w=x;m=tn(u.call(w,x,c,h,d,f,v)),g=s}else{const x=t;m=tn(x.length>1?x(h,{attrs:s,slots:o,emit:l}):x(h,null)),g=t.props?s:r_(s)}}catch(x){Po.length=0,mu(x,e,1),m=Oi(ka)}let b=m;if(g&&y!==!1){const x=Object.keys(g),{shapeFlag:w}=b;x.length&&w&7&&(a&&x.some(cd)&&(g=n_(g,a)),b=Ba(b,g,!1,!0))}return r.dirs&&(b=Ba(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&_d(b,r.transition),m=b,kl(p),m}const r_=e=>{let t;for(const r in e)(r==="class"||r==="style"||du(r))&&((t||(t={}))[r]=e[r]);return t},n_=(e,t)=>{const r={};for(const n in e)(!cd(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function i_(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?jv(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==n[f]&&!bu(u,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?jv(n,o,u):!0:!!o;return!1}function jv(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!bu(r,a))return!0}return!1}function a_({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const eb=e=>e.__isSuspense;function o_(e,t){t&&t.pendingBranch?Ue(e)?t.effects.push(...e):t.effects.push(e):dT(e)}const Tn=Symbol.for("v-fgt"),xu=Symbol.for("v-txt"),ka=Symbol.for("v-cmt"),fc=Symbol.for("v-stc"),Po=[];let wr=null;function s_(e=!1){Po.push(wr=e?null:[])}function l_(){Po.pop(),wr=Po[Po.length-1]||null}let Uo=1;function Xv(e,t=!1){Uo+=e,e<0&&wr&&t&&(wr.hasOnce=!0)}function u_(e){return e.dynamicChildren=Uo>0?wr||ga:null,l_(),Uo>0&&wr&&wr.push(e),e}function c_(e,t,r,n,i,a){return u_(nb(e,t,r,n,i,a,!0))}function tb(e){return e?e.__v_isVNode===!0:!1}function eo(e,t){return e.type===t.type&&e.key===t.key}const rb=({key:e})=>e??null,tl=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Nt(e)||lr(e)||Ye(e)?{i:rn,r:e,k:t,f:!!r}:e:null);function nb(e,t=null,r=null,n=0,i=null,a=e===Tn?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rb(t),ref:t&&tl(t),scopeId:M0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rn};return s?(kd(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=Nt(r)?8:16),Uo>0&&!o&&wr&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&wr.push(l),l}const Oi=h_;function h_(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===LT)&&(e=ka),tb(e)){const s=Ba(e,t,!0);return r&&kd(s,r),Uo>0&&!a&&wr&&(s.shapeFlag&6?wr[wr.indexOf(e)]=s:wr.push(s)),s.patchFlag=-2,s}if(T_(e)&&(e=e.__vccOpts),t){t=f_(t);let{class:s,style:l}=t;s&&!Nt(s)&&(t.class=vd(s)),kt(l)&&(wd(l)&&!Ue(l)&&(l=ur({},l)),t.style=dd(l))}const o=Nt(e)?1:eb(e)?128:gT(e)?64:kt(e)?4:Ye(e)?2:0;return nb(e,t,r,n,i,o,a,!0)}function f_(e){return e?wd(e)||H0(e)?ur({},e):e:null}function Ba(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?v_(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&rb(u),ref:t&&t.ref?r&&a?Ue(a)?a.concat(tl(t)):[a,tl(t)]:tl(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ba(e.ssContent),ssFallback:e.ssFallback&&Ba(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&_d(c,l.clone(c)),c}function d_(e=" ",t=0){return Oi(xu,null,e,t)}function tn(e){return e==null||typeof e=="boolean"?Oi(ka):Ue(e)?Oi(Tn,null,e.slice()):tb(e)?Vn(e):Oi(xu,null,String(e))}function Vn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ba(e)}function kd(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ue(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),kd(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!H0(t)?t._ctx=rn:i===3&&rn&&(rn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:rn},r=32):(t=String(t),n&64?(r=16,t=[d_(t)]):r=8);e.children=t,e.shapeFlag|=r}function v_(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=vd([t.class,n.class]));else if(i==="style")t.style=dd([t.style,n.style]);else if(du(i)){const a=t[i],o=n[i];o&&a!==o&&!(Ue(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function jr(e,t,r,n=null){un(e,t,7,[r,n])}const p_=$0();let g_=0;function m_(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||p_,a={uid:g_++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:U0(n,i),emitsOptions:J0(n,i),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:n.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=e_.bind(null,a),e.ce&&e.ce(a),a}let ar=null;const y_=()=>ar||rn;let Ll,xf;{const e=gu(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Ll=t("__VUE_INSTANCE_SETTERS__",r=>ar=r),xf=t("__VUE_SSR_SETTERS__",r=>Go=r)}const fs=e=>{const t=ar;return Ll(e),e.scope.on(),()=>{e.scope.off(),Ll(t)}},Zv=()=>{ar&&ar.scope.off(),Ll(null)};function ib(e){return e.vnode.shapeFlag&4}let Go=!1;function b_(e,t=!1,r=!1){t&&xf(t);const{props:n,children:i}=e.vnode,a=ib(e);$T(e,n,a,t),WT(e,i,r||t);const o=a?x_(e,t):void 0;return t&&xf(!1),o}function x_(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,DT);const{setup:n}=r;if(n){An();const i=e.setupContext=n.length>1?w_(e):null,a=fs(e),o=hs(n,e,0,[e.props,i]),s=l0(o);if(Ln(),a(),(s||e.sp)&&!Lo(e)&&F0(e),s){if(o.then(Zv,Zv),t)return o.then(l=>{Qv(e,l)}).catch(l=>{mu(l,e,0)});e.asyncDep=o}else Qv(e,o)}else ab(e)}function Qv(e,t,r){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:kt(t)&&(e.setupState=B0(t)),ab(e)}function ab(e,t,r){const n=e.type;e.render||(e.render=n.render||an);{const i=fs(e);An();try{PT(e)}finally{Ln(),i()}}}const C_={get(e,t){return jt(e,"get",""),e[t]}};function w_(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,C_),slots:e.slots,emit:e.emit,expose:t}}function Bd(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(B0(nT(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Do)return Do[r](e)},has(t,r){return r in t||r in Do}})):e.proxy}function T_(e){return Ye(e)&&"__vccOpts"in e}const __=(e,t)=>sT(e,t,Go),S_="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cf;const Jv=typeof window<"u"&&window.trustedTypes;if(Jv)try{Cf=Jv.createPolicy("vue",{createHTML:e=>e})}catch{}const ob=Cf?e=>Cf.createHTML(e):e=>e,E_="http://www.w3.org/2000/svg",k_="http://www.w3.org/1998/Math/MathML",wn=typeof document<"u"?document:null,ep=wn&&wn.createElement("template"),B_={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?wn.createElementNS(E_,e):t==="mathml"?wn.createElementNS(k_,e):r?wn.createElement(e,{is:r}):wn.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>wn.createTextNode(e),createComment:e=>wn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{ep.innerHTML=ob(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=ep.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},A_=Symbol("_vtc");function L_(e,t,r){const n=e[A_];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const tp=Symbol("_vod"),D_=Symbol("_vsh"),P_=Symbol(""),M_=/(?:^|;)\s*display\s*:/;function F_(e,t,r){const n=e.style,i=Nt(r);let a=!1;if(r&&!i){if(t)if(Nt(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&rl(n,s,"")}else for(const o in t)r[o]==null&&rl(n,o,"");for(const o in r)o==="display"&&(a=!0),rl(n,o,r[o])}else if(i){if(t!==r){const o=n[P_];o&&(r+=";"+o),n.cssText=r,a=M_.test(r)}}else t&&e.removeAttribute("style");tp in e&&(e[tp]=a?n.display:"",e[D_]&&(n.display="none"))}const rp=/\s*!important$/;function rl(e,t,r){if(Ue(r))r.forEach(n=>rl(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=O_(e,t);rp.test(r)?e.setProperty(Gi(n),r.replace(rp,""),"important"):e[n]=r}}const np=["Webkit","Moz","ms"],dc={};function O_(e,t){const r=dc[t];if(r)return r;let n=ei(t);if(n!=="filter"&&n in e)return dc[t]=n;n=u0(n);for(let i=0;i<np.length;i++){const a=np[i]+n;if(a in e)return dc[t]=a}return t}const ip="http://www.w3.org/1999/xlink";function ap(e,t,r,n,i,a=Ow(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(ip,t.slice(6,t.length)):e.setAttributeNS(ip,t,r):r==null||a&&!h0(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Va(r)?String(r):r)}function op(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?ob(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=h0(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function R_(e,t,r,n){e.addEventListener(t,r,n)}function I_(e,t,r,n){e.removeEventListener(t,r,n)}const sp=Symbol("_vei");function N_(e,t,r,n,i=null){const a=e[sp]||(e[sp]={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=z_(t);if(n){const u=a[t]=V_(n,i);R_(e,s,u,l)}else o&&(I_(e,s,o,l),a[t]=void 0)}}const lp=/(?:Once|Passive|Capture)$/;function z_(e){let t;if(lp.test(e)){t={};let n;for(;n=e.match(lp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gi(e.slice(2)),t]}let vc=0;const $_=Promise.resolve(),q_=()=>vc||($_.then(()=>vc=0),vc=Date.now());function V_(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;un(H_(n,r.value),t,5,[n])};return r.value=e,r.attached=q_(),r}function H_(e,t){if(Ue(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const up=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,W_=(e,t,r,n,i,a)=>{const o=i==="svg";t==="class"?L_(e,n,o):t==="style"?F_(e,r,n):du(t)?cd(t)||N_(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):U_(e,t,n,o))?(op(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ap(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Nt(n))?op(e,ei(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ap(e,t,n,o))};function U_(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&up(t)&&Ye(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return up(t)&&Nt(r)?!1:t in e}const G_=ur({patchProp:W_},B_);let cp;function Y_(){return cp||(cp=GT(G_))}const K_=((...e)=>{const t=Y_().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=X_(n);if(!i)return;const a=t._component;!Ye(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,j_(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function j_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function X_(e){return Nt(e)?document.querySelector(e):e}function Z_(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(s,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?s.concat(u.map(function(c){var h,f;return(f=(h=c.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):s},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(s){return s.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(s,l){var u=o.match(/(?:^|\n)( *)$/),c=u?u[1]:"",h=s;typeof s=="string"&&s.includes(`
`)&&(h=String(s).split(`
`).map(function(f,d){return d===0?f:""+c+f}).join(`
`)),o+=h+n[l+1]}),o}const Q_="modulepreload",J_=function(e){return"/"+e},hp={},mt=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(r.map(u=>{if(u=J_(u),u in hp)return;hp[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Q_,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,v)=>{f.addEventListener("load",d),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nl={exports:{}},eS=nl.exports,fp;function tS(){return fp||(fp=1,(function(e,t){(function(r,n){e.exports=n()})(eS,(function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",c="week",h="month",f="quarter",d="year",v="date",y="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var R=["th","st","nd","rd"],M=O%100;return"["+O+(R[(M-20)%10]||R[M]||R[0])+"]"}},b=function(O,R,M){var P=String(O);return!P||P.length>=R?O:""+Array(R+1-P.length).join(M)+O},x={s:b,z:function(O){var R=-O.utcOffset(),M=Math.abs(R),P=Math.floor(M/60),I=M%60;return(R<=0?"+":"-")+b(P,2,"0")+":"+b(I,2,"0")},m:function O(R,M){if(R.date()<M.date())return-O(M,R);var P=12*(M.year()-R.year())+(M.month()-R.month()),I=R.clone().add(P,h),z=M-I<0,W=R.clone().add(P+(z?-1:1),h);return+(-(P+(M-I)/(z?I-W:W-I))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:d,w:c,d:u,D:v,h:l,m:s,s:o,ms:a,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},w="en",T={};T[w]=g;var C="$isDayjsObject",S=function(O){return O instanceof A||!(!O||!O[C])},k=function O(R,M,P){var I;if(!R)return w;if(typeof R=="string"){var z=R.toLowerCase();T[z]&&(I=z),M&&(T[z]=M,I=z);var W=R.split("-");if(!I&&W.length>1)return O(W[0])}else{var N=R.name;T[N]=R,I=N}return!P&&I&&(w=I),I||!P&&w},B=function(O,R){if(S(O))return O.clone();var M=typeof R=="object"?R:{};return M.date=O,M.args=arguments,new A(M)},E=x;E.l=k,E.i=S,E.w=function(O,R){return B(O,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var A=(function(){function O(M){this.$L=k(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[C]=!0}var R=O.prototype;return R.parse=function(M){this.$d=(function(P){var I=P.date,z=P.utc;if(I===null)return new Date(NaN);if(E.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var W=I.match(p);if(W){var N=W[2]-1||0,H=(W[7]||"0").substring(0,3);return z?new Date(Date.UTC(W[1],N,W[3]||1,W[4]||0,W[5]||0,W[6]||0,H)):new Date(W[1],N,W[3]||1,W[4]||0,W[5]||0,W[6]||0,H)}}return new Date(I)})(M),this.init()},R.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==y},R.isSame=function(M,P){var I=B(M);return this.startOf(P)<=I&&I<=this.endOf(P)},R.isAfter=function(M,P){return B(M)<this.startOf(P)},R.isBefore=function(M,P){return this.endOf(P)<B(M)},R.$g=function(M,P,I){return E.u(M)?this[P]:this.set(I,M)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(M,P){var I=this,z=!!E.u(P)||P,W=E.p(M),N=function(oe,U){var Y=E.w(I.$u?Date.UTC(I.$y,U,oe):new Date(I.$y,U,oe),I);return z?Y:Y.endOf(u)},H=function(oe,U){return E.w(I.toDate()[oe].apply(I.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(U)),I)},j=this.$W,ne=this.$M,K=this.$D,ae="set"+(this.$u?"UTC":"");switch(W){case d:return z?N(1,0):N(31,11);case h:return z?N(1,ne):N(0,ne+1);case c:var ue=this.$locale().weekStart||0,fe=(j<ue?j+7:j)-ue;return N(z?K-fe:K+(6-fe),ne);case u:case v:return H(ae+"Hours",0);case l:return H(ae+"Minutes",1);case s:return H(ae+"Seconds",2);case o:return H(ae+"Milliseconds",3);default:return this.clone()}},R.endOf=function(M){return this.startOf(M,!1)},R.$set=function(M,P){var I,z=E.p(M),W="set"+(this.$u?"UTC":""),N=(I={},I[u]=W+"Date",I[v]=W+"Date",I[h]=W+"Month",I[d]=W+"FullYear",I[l]=W+"Hours",I[s]=W+"Minutes",I[o]=W+"Seconds",I[a]=W+"Milliseconds",I)[z],H=z===u?this.$D+(P-this.$W):P;if(z===h||z===d){var j=this.clone().set(v,1);j.$d[N](H),j.init(),this.$d=j.set(v,Math.min(this.$D,j.daysInMonth())).$d}else N&&this.$d[N](H);return this.init(),this},R.set=function(M,P){return this.clone().$set(M,P)},R.get=function(M){return this[E.p(M)]()},R.add=function(M,P){var I,z=this;M=Number(M);var W=E.p(P),N=function(ne){var K=B(z);return E.w(K.date(K.date()+Math.round(ne*M)),z)};if(W===h)return this.set(h,this.$M+M);if(W===d)return this.set(d,this.$y+M);if(W===u)return N(1);if(W===c)return N(7);var H=(I={},I[s]=n,I[l]=i,I[o]=r,I)[W]||1,j=this.$d.getTime()+M*H;return E.w(j,this)},R.subtract=function(M,P){return this.add(-1*M,P)},R.format=function(M){var P=this,I=this.$locale();if(!this.isValid())return I.invalidDate||y;var z=M||"YYYY-MM-DDTHH:mm:ssZ",W=E.z(this),N=this.$H,H=this.$m,j=this.$M,ne=I.weekdays,K=I.months,ae=I.meridiem,ue=function(U,Y,_,F){return U&&(U[Y]||U(P,z))||_[Y].slice(0,F)},fe=function(U){return E.s(N%12||12,U,"0")},oe=ae||function(U,Y,_){var F=U<12?"AM":"PM";return _?F.toLowerCase():F};return z.replace(m,(function(U,Y){return Y||(function(_){switch(_){case"YY":return String(P.$y).slice(-2);case"YYYY":return E.s(P.$y,4,"0");case"M":return j+1;case"MM":return E.s(j+1,2,"0");case"MMM":return ue(I.monthsShort,j,K,3);case"MMMM":return ue(K,j);case"D":return P.$D;case"DD":return E.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return ue(I.weekdaysMin,P.$W,ne,2);case"ddd":return ue(I.weekdaysShort,P.$W,ne,3);case"dddd":return ne[P.$W];case"H":return String(N);case"HH":return E.s(N,2,"0");case"h":return fe(1);case"hh":return fe(2);case"a":return oe(N,H,!0);case"A":return oe(N,H,!1);case"m":return String(H);case"mm":return E.s(H,2,"0");case"s":return String(P.$s);case"ss":return E.s(P.$s,2,"0");case"SSS":return E.s(P.$ms,3,"0");case"Z":return W}return null})(U)||W.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(M,P,I){var z,W=this,N=E.p(P),H=B(M),j=(H.utcOffset()-this.utcOffset())*n,ne=this-H,K=function(){return E.m(W,H)};switch(N){case d:z=K()/12;break;case h:z=K();break;case f:z=K()/3;break;case c:z=(ne-j)/6048e5;break;case u:z=(ne-j)/864e5;break;case l:z=ne/i;break;case s:z=ne/n;break;case o:z=ne/r;break;default:z=ne}return I?z:E.a(z)},R.daysInMonth=function(){return this.endOf(h).$D},R.$locale=function(){return T[this.$L]},R.locale=function(M,P){if(!M)return this.$L;var I=this.clone(),z=k(M,P,!0);return z&&(I.$L=z),I},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},O})(),D=A.prototype;return B.prototype=D,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",h],["$y",d],["$D",v]].forEach((function(O){D[O[1]]=function(R){return this.$g(R,O[0],O[1])}})),B.extend=function(O,R){return O.$i||(O(R,A,B),O.$i=!0),B},B.locale=k,B.isDayjs=S,B.unix=function(O){return B(1e3*O)},B.en=T[w],B.Ls=T,B.p={},B}))})(nl)),nl.exports}var rS=tS();const nS=sb(rS);var pc={},dp;function iS(){return dp||(dp=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,n=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,o=[".","/"];e.BLANK_URL="about:blank";function s(c){return o.indexOf(c[0])>-1}function l(c){var h=c.replace(i,"");return h.replace(r,function(f,d){return String.fromCharCode(d)})}function u(c){if(!c)return e.BLANK_URL;var h=l(c).replace(n,"").replace(i,"").trim();if(!h)return e.BLANK_URL;if(s(h))return h;var f=h.match(a);if(!f)return h;var d=f[0];return t.test(d)?e.BLANK_URL:h}e.sanitizeUrl=u})(pc)),pc}var aS=iS(),oS={value:()=>{}};function lb(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new il(r)}function il(e){this._=e}function sS(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}il.prototype=lb.prototype={constructor:il,on:function(e,t){var r=this._,n=sS(e+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=lS(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)r[i]=vp(r[i],e.name,t);else if(t==null)for(i in r)r[i]=vp(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new il(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function lS(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function vp(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=oS,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var wf="http://www.w3.org/1999/xhtml";const pp={svg:"http://www.w3.org/2000/svg",xhtml:wf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cu(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),pp.hasOwnProperty(t)?{space:pp[t],local:e}:e}function uS(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===wf&&t.documentElement.namespaceURI===wf?t.createElement(e):t.createElementNS(r,e)}}function cS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ub(e){var t=Cu(e);return(t.local?cS:uS)(t)}function hS(){}function Ad(e){return e==null?hS:function(){return this.querySelector(e)}}function fS(e){typeof e!="function"&&(e=Ad(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new _r(n,this._parents)}function dS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vS(){return[]}function cb(e){return e==null?vS:function(){return this.querySelectorAll(e)}}function pS(e){return function(){return dS(e.apply(this,arguments))}}function gS(e){typeof e=="function"?e=pS(e):e=cb(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(n.push(e.call(l,l.__data__,u,o)),i.push(l));return new _r(n,i)}function hb(e){return function(){return this.matches(e)}}function fb(e){return function(t){return t.matches(e)}}var mS=Array.prototype.find;function yS(e){return function(){return mS.call(this.children,e)}}function bS(){return this.firstElementChild}function xS(e){return this.select(e==null?bS:yS(typeof e=="function"?e:fb(e)))}var CS=Array.prototype.filter;function wS(){return Array.from(this.children)}function TS(e){return function(){return CS.call(this.children,e)}}function _S(e){return this.selectAll(e==null?wS:TS(typeof e=="function"?e:fb(e)))}function SS(e){typeof e!="function"&&(e=hb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new _r(n,this._parents)}function db(e){return new Array(e.length)}function ES(){return new _r(this._enter||this._groups.map(db),this._parents)}function Dl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dl.prototype={constructor:Dl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function kS(e){return function(){return e}}function BS(e,t,r,n,i,a){for(var o=0,s,l=t.length,u=a.length;o<u;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new Dl(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function AS(e,t,r,n,i,a,o){var s,l,u=new Map,c=t.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=t[s])&&(f[s]=d=o.call(l,l.__data__,s,t)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(e,a[s],s,a)+"",(l=u.get(d))?(n[s]=l,l.__data__=a[s],u.delete(d)):r[s]=new Dl(e,a[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(f[s])===l&&(i[s]=l)}function LS(e){return e.__data__}function DS(e,t){if(!arguments.length)return Array.from(this,LS);var r=t?AS:BS,n=this._parents,i=this._groups;typeof e!="function"&&(e=kS(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=n[u],h=i[u],f=h.length,d=PS(e.call(c,c&&c.__data__,u,n)),v=d.length,y=s[u]=new Array(v),p=o[u]=new Array(v),m=l[u]=new Array(f);r(c,h,y,p,m,d,t);for(var g=0,b=0,x,w;g<v;++g)if(x=y[g]){for(g>=b&&(b=g+1);!(w=p[b])&&++b<v;);x._next=w||null}}return o=new _r(o,n),o._enter=s,o._exit=l,o}function PS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MS(){return new _r(this._exit||this._groups.map(db),this._parents)}function FS(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function OS(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=r[l],c=n[l],h=u.length,f=s[l]=new Array(h),d,v=0;v<h;++v)(d=u[v]||c[v])&&(f[v]=d);for(;l<i;++l)s[l]=r[l];return new _r(s,this._parents)}function RS(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function IS(e){e||(e=NS);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new _r(i,this._parents).order()}function NS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function zS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $S(){return Array.from(this)}function qS(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function VS(){let e=0;for(const t of this)++e;return e}function HS(){return!this.node()}function WS(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function US(e){return function(){this.removeAttribute(e)}}function GS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function YS(e,t){return function(){this.setAttribute(e,t)}}function KS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jS(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function XS(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ZS(e,t){var r=Cu(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?GS:US:typeof t=="function"?r.local?XS:jS:r.local?KS:YS)(r,t))}function vb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QS(e){return function(){this.style.removeProperty(e)}}function JS(e,t,r){return function(){this.style.setProperty(e,t,r)}}function eE(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function tE(e,t,r){return arguments.length>1?this.each((t==null?QS:typeof t=="function"?eE:JS)(e,t,r??"")):Aa(this.node(),e)}function Aa(e,t){return e.style.getPropertyValue(t)||vb(e).getComputedStyle(e,null).getPropertyValue(t)}function rE(e){return function(){delete this[e]}}function nE(e,t){return function(){this[e]=t}}function iE(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function aE(e,t){return arguments.length>1?this.each((t==null?rE:typeof t=="function"?iE:nE)(e,t)):this.node()[e]}function pb(e){return e.trim().split(/^|\s+/)}function Ld(e){return e.classList||new gb(e)}function gb(e){this._node=e,this._names=pb(e.getAttribute("class")||"")}gb.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mb(e,t){for(var r=Ld(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function yb(e,t){for(var r=Ld(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function oE(e){return function(){mb(this,e)}}function sE(e){return function(){yb(this,e)}}function lE(e,t){return function(){(t.apply(this,arguments)?mb:yb)(this,e)}}function uE(e,t){var r=pb(e+"");if(arguments.length<2){for(var n=Ld(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?lE:t?oE:sE)(r,t))}function cE(){this.textContent=""}function hE(e){return function(){this.textContent=e}}function fE(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function dE(e){return arguments.length?this.each(e==null?cE:(typeof e=="function"?fE:hE)(e)):this.node().textContent}function vE(){this.innerHTML=""}function pE(e){return function(){this.innerHTML=e}}function gE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function mE(e){return arguments.length?this.each(e==null?vE:(typeof e=="function"?gE:pE)(e)):this.node().innerHTML}function yE(){this.nextSibling&&this.parentNode.appendChild(this)}function bE(){return this.each(yE)}function xE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function CE(){return this.each(xE)}function wE(e){var t=typeof e=="function"?e:ub(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function TE(){return null}function _E(e,t){var r=typeof e=="function"?e:ub(e),n=t==null?TE:typeof t=="function"?t:Ad(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function SE(){var e=this.parentNode;e&&e.removeChild(this)}function EE(){return this.each(SE)}function kE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function BE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function AE(e){return this.select(e?BE:kE)}function LE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function DE(e){return function(t){e.call(this,t,this.__data__)}}function PE(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function ME(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function FE(e,t,r){return function(){var n=this.__on,i,a=DE(t);if(n){for(var o=0,s=n.length;o<s;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function OE(e,t,r){var n=PE(e+""),i,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?FE:ME,i=0;i<a;++i)this.each(s(n[i],t,r));return this}function bb(e,t,r){var n=vb(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function RE(e,t){return function(){return bb(this,e,t)}}function IE(e,t){return function(){return bb(this,e,t.apply(this,arguments))}}function NE(e,t){return this.each((typeof t=="function"?IE:RE)(e,t))}function*zE(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var xb=[null];function _r(e,t){this._groups=e,this._parents=t}function ds(){return new _r([[document.documentElement]],xb)}function $E(){return this}_r.prototype=ds.prototype={constructor:_r,select:fS,selectAll:gS,selectChild:xS,selectChildren:_S,filter:SS,data:DS,enter:ES,exit:MS,join:FS,merge:OS,selection:$E,order:RS,sort:IS,call:zS,nodes:$S,node:qS,size:VS,empty:HS,each:WS,attr:ZS,style:tE,property:aE,classed:uE,text:dE,html:mE,raise:bE,lower:CE,append:wE,insert:_E,remove:EE,clone:AE,datum:LE,on:OE,dispatch:NE,[Symbol.iterator]:zE};function Dr(e){return typeof e=="string"?new _r([[document.querySelector(e)]],[document.documentElement]):new _r([[e]],xb)}function Dd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Cb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vs(){}var Yo=.7,Pl=1/Yo,ba="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qE=/^#([0-9a-f]{3,8})$/,VE=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),HE=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),WE=new RegExp(`^rgba\\(${ba},${ba},${ba},${Ko}\\)$`),UE=new RegExp(`^rgba\\(${sn},${sn},${sn},${Ko}\\)$`),GE=new RegExp(`^hsl\\(${Ko},${sn},${sn}\\)$`),YE=new RegExp(`^hsla\\(${Ko},${sn},${sn},${Ko}\\)$`),gp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dd(vs,jo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mp,formatHex:mp,formatHex8:KE,formatHsl:jE,formatRgb:yp,toString:yp});function mp(){return this.rgb().formatHex()}function KE(){return this.rgb().formatHex8()}function jE(){return wb(this).formatHsl()}function yp(){return this.rgb().formatRgb()}function jo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bp(t):r===3?new mr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Fs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Fs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VE.exec(e))?new mr(t[1],t[2],t[3],1):(t=HE.exec(e))?new mr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WE.exec(e))?Fs(t[1],t[2],t[3],t[4]):(t=UE.exec(e))?Fs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GE.exec(e))?wp(t[1],t[2]/100,t[3]/100,1):(t=YE.exec(e))?wp(t[1],t[2]/100,t[3]/100,t[4]):gp.hasOwnProperty(e)?bp(gp[e]):e==="transparent"?new mr(NaN,NaN,NaN,0):null}function bp(e){return new mr(e>>16&255,e>>8&255,e&255,1)}function Fs(e,t,r,n){return n<=0&&(e=t=r=NaN),new mr(e,t,r,n)}function XE(e){return e instanceof vs||(e=jo(e)),e?(e=e.rgb(),new mr(e.r,e.g,e.b,e.opacity)):new mr}function Tf(e,t,r,n){return arguments.length===1?XE(e):new mr(e,t,r,n??1)}function mr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dd(mr,Tf,Cb(vs,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new mr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new mr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mr(Ri(this.r),Ri(this.g),Ri(this.b),Ml(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xp,formatHex:xp,formatHex8:ZE,formatRgb:Cp,toString:Cp}));function xp(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function ZE(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cp(){const e=Ml(this.opacity);return`${e===1?"rgb(":"rgba("}${Ri(this.r)}, ${Ri(this.g)}, ${Ri(this.b)}${e===1?")":`, ${e})`}`}function Ml(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ri(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Li(e){return e=Ri(e),(e<16?"0":"")+e.toString(16)}function wp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,r,n)}function wb(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof vs||(e=jo(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Vr(o,s,l,e.opacity)}function QE(e,t,r,n){return arguments.length===1?wb(e):new Vr(e,t,r,n??1)}function Vr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dd(Vr,QE,Cb(vs,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new mr(gc(e>=240?e-240:e+120,i,n),gc(e,i,n),gc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Vr(Tp(this.h),Os(this.s),Os(this.l),Ml(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ml(this.opacity);return`${e===1?"hsl(":"hsla("}${Tp(this.h)}, ${Os(this.s)*100}%, ${Os(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tp(e){return e=(e||0)%360,e<0?e+360:e}function Os(e){return Math.max(0,Math.min(1,e||0))}function gc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pd=e=>()=>e;function Tb(e,t){return function(r){return e+r*t}}function JE(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function K$(e,t){var r=t-e;return r?Tb(e,r>180||r<-180?r-360*Math.round(r/360):r):Pd(isNaN(e)?t:e)}function ek(e){return(e=+e)==1?_b:function(t,r){return r-t?JE(t,r,e):Pd(isNaN(t)?r:t)}}function _b(e,t){var r=t-e;return r?Tb(e,r):Pd(isNaN(e)?t:e)}const _p=(function e(t){var r=ek(t);function n(i,a){var o=r((i=Tf(i)).r,(a=Tf(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=_b(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n})(1);function Hn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var _f=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mc=new RegExp(_f.source,"g");function tk(e){return function(){return e}}function rk(e){return function(t){return e(t)+""}}function nk(e,t){var r=_f.lastIndex=mc.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=_f.exec(e))&&(i=mc.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Hn(n,i)})),r=mc.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?rk(l[0].x):tk(t):(t=l.length,function(u){for(var c=0,h;c<t;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}var Sp=180/Math.PI,Sf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sb(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Sp,skewX:Math.atan(l)*Sp,scaleX:o,scaleY:s}}var Rs;function ik(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Sf:Sb(t.a,t.b,t.c,t.d,t.e,t.f)}function ak(e){return e==null||(Rs||(Rs=document.createElementNS("http://www.w3.org/2000/svg","g")),Rs.setAttribute("transform",e),!(e=Rs.transform.baseVal.consolidate()))?Sf:(e=e.matrix,Sb(e.a,e.b,e.c,e.d,e.e,e.f))}function Eb(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,v){if(u!==h||c!==f){var y=d.push("translate(",null,t,null,r);v.push({i:y-4,x:Hn(u,h)},{i:y-2,x:Hn(c,f)})}else(h||f)&&d.push("translate("+h+t+f+r)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:Hn(u,c)})):c&&h.push(i(h)+"rotate("+c+n)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:Hn(u,c)}):c&&h.push(i(h)+"skewX("+c+n)}function l(u,c,h,f,d,v){if(u!==h||c!==f){var y=d.push(i(d)+"scale(",null,",",null,")");v.push({i:y-4,x:Hn(u,h)},{i:y-2,x:Hn(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var v=-1,y=f.length,p;++v<y;)h[(p=f[v]).i]=p.x(d);return h.join("")}}}var ok=Eb(ik,"px, ","px)","deg)"),sk=Eb(ak,", ",")",")"),La=0,mo=0,to=0,kb=1e3,Fl,yo,Ol=0,Ni=0,wu=0,Xo=typeof performance=="object"&&performance.now?performance:Date,Bb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Md(){return Ni||(Bb(lk),Ni=Xo.now()+wu)}function lk(){Ni=0}function Rl(){this._call=this._time=this._next=null}Rl.prototype=Ab.prototype={constructor:Rl,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Md():+r)+(t==null?0:+t),!this._next&&yo!==this&&(yo?yo._next=this:Fl=this,yo=this),this._call=e,this._time=r,Ef()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ef())}};function Ab(e,t,r){var n=new Rl;return n.restart(e,t,r),n}function uk(){Md(),++La;for(var e=Fl,t;e;)(t=Ni-e._time)>=0&&e._call.call(void 0,t),e=e._next;--La}function Ep(){Ni=(Ol=Xo.now())+wu,La=mo=0;try{uk()}finally{La=0,hk(),Ni=0}}function ck(){var e=Xo.now(),t=e-Ol;t>kb&&(wu-=t,Ol=e)}function hk(){for(var e,t=Fl,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Fl=r);yo=e,Ef(n)}function Ef(e){if(!La){mo&&(mo=clearTimeout(mo));var t=e-Ni;t>24?(e<1/0&&(mo=setTimeout(Ep,e-Xo.now()-wu)),to&&(to=clearInterval(to))):(to||(Ol=Xo.now(),to=setInterval(ck,kb)),La=1,Bb(Ep))}}function kp(e,t,r){var n=new Rl;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var fk=lb("start","end","cancel","interrupt"),dk=[],Lb=0,Bp=1,kf=2,al=3,Ap=4,Bf=5,ol=6;function Tu(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;vk(e,r,{name:t,index:n,group:i,on:fk,tween:dk,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Lb})}function Fd(e,t){var r=Yr(e,t);if(r.state>Lb)throw new Error("too late; already scheduled");return r}function dn(e,t){var r=Yr(e,t);if(r.state>al)throw new Error("too late; already running");return r}function Yr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function vk(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Ab(a,0,r.time);function a(u){r.state=Bp,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var c,h,f,d;if(r.state!==Bp)return l();for(c in n)if(d=n[c],d.name===r.name){if(d.state===al)return kp(o);d.state===Ap?(d.state=ol,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[c]):+c<t&&(d.state=ol,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[c])}if(kp(function(){r.state===al&&(r.state=Ap,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=kf,r.on.call("start",e,e.__data__,r.index,r.group),r.state===kf){for(r.state=al,i=new Array(f=r.tween.length),c=0,h=-1;c<f;++c)(d=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=Bf,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);r.state===Bf&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=ol,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function pk(e,t){var r=e.__transition,n,i,a=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>kf&&n.state<Bf,n.state=ol,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function gk(e){return this.each(function(){pk(this,e)})}function mk(e,t){var r,n;return function(){var i=dn(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function yk(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=dn(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function bk(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Yr(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?mk:yk)(r,e,t))}function Od(e,t,r){var n=e._id;return e.each(function(){var i=dn(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Yr(i,n).value[t]}}function Db(e,t){var r;return(typeof t=="number"?Hn:t instanceof jo?_p:(r=jo(t))?(t=r,_p):nk)(e,t)}function xk(e){return function(){this.removeAttribute(e)}}function Ck(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wk(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function Tk(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function _k(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function Sk(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function Ek(e,t){var r=Cu(e),n=r==="transform"?sk:Db;return this.attrTween(e,typeof t=="function"?(r.local?Sk:_k)(r,n,Od(this,"attr."+e,t)):t==null?(r.local?Ck:xk)(r):(r.local?Tk:wk)(r,n,t))}function kk(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Bk(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Ak(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Bk(e,a)),r}return i._value=t,i}function Lk(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&kk(e,a)),r}return i._value=t,i}function Dk(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Cu(e);return this.tween(r,(n.local?Ak:Lk)(n,t))}function Pk(e,t){return function(){Fd(this,e).delay=+t.apply(this,arguments)}}function Mk(e,t){return t=+t,function(){Fd(this,e).delay=t}}function Fk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pk:Mk)(t,e)):Yr(this.node(),t).delay}function Ok(e,t){return function(){dn(this,e).duration=+t.apply(this,arguments)}}function Rk(e,t){return t=+t,function(){dn(this,e).duration=t}}function Ik(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ok:Rk)(t,e)):Yr(this.node(),t).duration}function Nk(e,t){if(typeof t!="function")throw new Error;return function(){dn(this,e).ease=t}}function zk(e){var t=this._id;return arguments.length?this.each(Nk(t,e)):Yr(this.node(),t).ease}function $k(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;dn(this,e).ease=r}}function qk(e){if(typeof e!="function")throw new Error;return this.each($k(this._id,e))}function Vk(e){typeof e!="function"&&(e=hb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Dn(n,this._parents,this._name,this._id)}function Hk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l=t[s],u=r[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<n;++s)o[s]=t[s];return new Dn(o,this._parents,this._name,this._id)}function Wk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Uk(e,t,r){var n,i,a=Wk(t)?Fd:dn;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}function Gk(e,t){var r=this._id;return arguments.length<2?Yr(this.node(),r).on.on(e):this.each(Uk(r,e,t))}function Yk(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Kk(){return this.on("end.remove",Yk(this._id))}function jk(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ad(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s=n[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Tu(u[f],t,r,f,u,Yr(c,r)));return new Dn(a,this._parents,t,r)}function Xk(e){var t=this._name,r=this._id;typeof e!="function"&&(e=cb(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l=n[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=e.call(c,c.__data__,h,l),d,v=Yr(c,r),y=0,p=f.length;y<p;++y)(d=f[y])&&Tu(d,t,r,y,f,v);a.push(f),o.push(c)}return new Dn(a,o,t,r)}var Zk=ds.prototype.constructor;function Qk(){return new Zk(this._groups,this._parents)}function Jk(e,t){var r,n,i;return function(){var a=Aa(this,e),o=(this.style.removeProperty(e),Aa(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function Pb(e){return function(){this.style.removeProperty(e)}}function eB(e,t,r){var n,i=r+"",a;return function(){var o=Aa(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function tB(e,t,r){var n,i,a;return function(){var o=Aa(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Aa(this,e))),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}function rB(e,t){var r,n,i,a="style."+t,o="end."+a,s;return function(){var l=dn(this,e),u=l.on,c=l.value[a]==null?s||(s=Pb(t)):void 0;(u!==r||i!==c)&&(n=(r=u).copy()).on(o,i=c),l.on=n}}function nB(e,t,r){var n=(e+="")=="transform"?ok:Db;return t==null?this.styleTween(e,Jk(e,n)).on("end.style."+e,Pb(e)):typeof t=="function"?this.styleTween(e,tB(e,n,Od(this,"style."+e,t))).each(rB(this._id,e)):this.styleTween(e,eB(e,n,t),r).on("end.style."+e,null)}function iB(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function aB(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&iB(e,o,r)),n}return a._value=t,a}function oB(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,aB(e,t,r??""))}function sB(e){return function(){this.textContent=e}}function lB(e){return function(){var t=e(this);this.textContent=t??""}}function uB(e){return this.tween("text",typeof e=="function"?lB(Od(this,"text",e)):sB(e==null?"":e+""))}function cB(e){return function(t){this.textContent=e.call(this,t)}}function hB(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&cB(i)),t}return n._value=e,n}function fB(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hB(e))}function dB(){for(var e=this._name,t=this._id,r=Mb(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=Yr(l,t);Tu(l,e,r,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Dn(n,this._parents,e,r)}function vB(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};r.each(function(){var u=dn(this,n),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&a()})}var pB=0;function Dn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Mb(){return++pB}var yn=ds.prototype;Dn.prototype={constructor:Dn,select:jk,selectAll:Xk,selectChild:yn.selectChild,selectChildren:yn.selectChildren,filter:Vk,merge:Hk,selection:Qk,transition:dB,call:yn.call,nodes:yn.nodes,node:yn.node,size:yn.size,empty:yn.empty,each:yn.each,on:Gk,attr:Ek,attrTween:Dk,style:nB,styleTween:oB,text:uB,textTween:fB,remove:Kk,tween:bk,delay:Fk,duration:Ik,ease:zk,easeVarying:qk,end:vB,[Symbol.iterator]:yn[Symbol.iterator]};function gB(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mB={time:null,delay:0,duration:250,ease:gB};function yB(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function bB(e){var t,r;e instanceof Dn?(t=e._id,e=e._name):(t=Mb(),(r=mB).time=Md(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Tu(l,e,t,u,o,r||yB(l,t));return new Dn(n,this._parents,e,t)}ds.prototype.interrupt=gk;ds.prototype.transition=bB;const j$=Math.abs,X$=Math.atan2,Z$=Math.cos,Q$=Math.max,J$=Math.min,eq=Math.sin,tq=Math.sqrt,Lp=1e-12,Rd=Math.PI,Dp=Rd/2,rq=2*Rd;function nq(e){return e>1?0:e<-1?Rd:Math.acos(e)}function iq(e){return e>=1?Dp:e<=-1?-Dp:Math.asin(e)}function Fb(e){this._context=e}Fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xB(e){return new Fb(e)}class Ob{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function CB(e){return new Ob(e,!0)}function wB(e){return new Ob(e,!1)}function ti(){}function Il(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _u(e){this._context=e}_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Il(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Il(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TB(e){return new _u(e)}function Rb(e){this._context=e}Rb.prototype={areaStart:ti,areaEnd:ti,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Il(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _B(e){return new Rb(e)}function Ib(e){this._context=e}Ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Il(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SB(e){return new Ib(e)}function Nb(e,t){this._basis=new _u(e),this._beta=t}Nb.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],a=e[r]-n,o=t[r]-i,s=-1,l;++s<=r;)l=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const EB=(function e(t){function r(n){return t===1?new _u(n):new Nb(n,t)}return r.beta=function(n){return e(+n)},r})(.85);function Nl(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Id(e,t){this._context=e,this._k=(1-t)/6}Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nl(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Nl(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kB=(function e(t){function r(n){return new Id(n,t)}return r.tension=function(n){return e(+n)},r})(0);function Nd(e,t){this._context=e,this._k=(1-t)/6}Nd.prototype={areaStart:ti,areaEnd:ti,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nl(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BB=(function e(t){function r(n){return new Nd(n,t)}return r.tension=function(n){return e(+n)},r})(0);function zd(e,t){this._context=e,this._k=(1-t)/6}zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nl(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AB=(function e(t){function r(n){return new zd(n,t)}return r.tension=function(n){return e(+n)},r})(0);function $d(e,t,r){var n=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Lp){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Lp){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,a,o,e._x2,e._y2)}function zb(e,t){this._context=e,this._alpha=t}zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:$d(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LB=(function e(t){function r(n){return t?new zb(n,t):new Id(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function $b(e,t){this._context=e,this._alpha=t}$b.prototype={areaStart:ti,areaEnd:ti,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:$d(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const DB=(function e(t){function r(n){return t?new $b(n,t):new Nd(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function qb(e,t){this._context=e,this._alpha=t}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$d(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const PB=(function e(t){function r(n){return t?new qb(n,t):new zd(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function Vb(e){this._context=e}Vb.prototype={areaStart:ti,areaEnd:ti,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function MB(e){return new Vb(e)}function Pp(e){return e<0?-1:1}function Mp(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Pp(a)+Pp(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Fp(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yc(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function zl(e){this._context=e}zl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yc(this,this._t0,Fp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yc(this,Fp(this,r=Mp(this,e,t)),r);break;default:yc(this,this._t0,r=Mp(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Hb(e){this._context=new Wb(e)}(Hb.prototype=Object.create(zl.prototype)).point=function(e,t){zl.prototype.point.call(this,t,e)};function Wb(e){this._context=e}Wb.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function FB(e){return new zl(e)}function OB(e){return new Hb(e)}function Ub(e){this._context=e}Ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Op(e),i=Op(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Op(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function RB(e){return new Ub(e)}function Su(e,t){this._context=e,this._t=t}Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function IB(e){return new Su(e,.5)}function NB(e){return new Su(e,0)}function zB(e){return new Su(e,1)}function bo(e,t,r){this.k=e,this.x=t,this.y=r}bo.prototype={constructor:bo,scale:function(e){return e===1?this:new bo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bo.prototype;/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:Gb,setPrototypeOf:Rp,isFrozen:$B,getPrototypeOf:qB,getOwnPropertyDescriptor:VB}=Object;let{freeze:cr,seal:Fr,create:Yb}=Object,{apply:Af,construct:Lf}=typeof Reflect<"u"&&Reflect;cr||(cr=function(t){return t});Fr||(Fr=function(t){return t});Af||(Af=function(t,r,n){return t.apply(r,n)});Lf||(Lf=function(t,r){return new t(...r)});const Is=Sr(Array.prototype.forEach),Ip=Sr(Array.prototype.pop),ro=Sr(Array.prototype.push),sl=Sr(String.prototype.toLowerCase),bc=Sr(String.prototype.toString),Np=Sr(String.prototype.match),no=Sr(String.prototype.replace),HB=Sr(String.prototype.indexOf),WB=Sr(String.prototype.trim),$r=Sr(Object.prototype.hasOwnProperty),tr=Sr(RegExp.prototype.test),io=UB(TypeError);function Sr(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Af(e,t,n)}}function UB(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Lf(e,r)}}function Ke(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sl;Rp&&Rp(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&($B(t)||(t[n]=a),i=a)}e[i]=!0}return e}function GB(e){for(let t=0;t<e.length;t++)$r(e,t)||(e[t]=null);return e}function _i(e){const t=Yb(null);for(const[r,n]of Gb(e))$r(e,r)&&(Array.isArray(n)?t[r]=GB(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=_i(n):t[r]=n);return t}function ao(e,t){for(;e!==null;){const n=VB(e,t);if(n){if(n.get)return Sr(n.get);if(typeof n.value=="function")return Sr(n.value)}e=qB(e)}function r(){return null}return r}const zp=cr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xc=cr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cc=cr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),YB=cr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wc=cr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),KB=cr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$p=cr(["#text"]),qp=cr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Tc=cr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vp=cr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ns=cr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jB=Fr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),XB=Fr(/<%[\w\W]*|[\w\W]*%>/gm),ZB=Fr(/\${[\w\W]*}/gm),QB=Fr(/^data-[\-\w.\u00B7-\uFFFF]/),JB=Fr(/^aria-[\-\w]+$/),Kb=Fr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eA=Fr(/^(?:\w+script|data):/i),tA=Fr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jb=Fr(/^html$/i),rA=Fr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Hp=Object.freeze({__proto__:null,MUSTACHE_EXPR:jB,ERB_EXPR:XB,TMPLIT_EXPR:ZB,DATA_ATTR:QB,ARIA_ATTR:JB,IS_ALLOWED_URI:Kb,IS_SCRIPT_OR_DATA:eA,ATTR_WHITESPACE:tA,DOCTYPE_NAME:jb,CUSTOM_ELEMENT:rA});const oo={element:1,text:3,progressingInstruction:7,comment:8,document:9},nA=function(){return typeof window>"u"?null:window},iA=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function Xb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nA();const t=Ae=>Xb(Ae);if(t.version="3.1.6",t.removed=[],!e||!e.document||e.document.nodeType!==oo.document)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=e,v=l.prototype,y=ao(v,"cloneNode"),p=ao(v,"remove"),m=ao(v,"nextSibling"),g=ao(v,"childNodes"),b=ao(v,"parentNode");if(typeof o=="function"){const Ae=r.createElement("template");Ae.content&&Ae.content.ownerDocument&&(r=Ae.content.ownerDocument)}let x,w="";const{implementation:T,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:k}=r,{importNode:B}=n;let E={};t.isSupported=typeof Gb=="function"&&typeof b=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:A,ERB_EXPR:D,TMPLIT_EXPR:O,DATA_ATTR:R,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:z}=Hp;let{IS_ALLOWED_URI:W}=Hp,N=null;const H=Ke({},[...zp,...xc,...Cc,...wc,...$p]);let j=null;const ne=Ke({},[...qp,...Tc,...Vp,...Ns]);let K=Object.seal(Yb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,ue=null,fe=!0,oe=!0,U=!1,Y=!0,_=!1,F=!0,q=!1,J=!1,$=!1,V=!1,X=!1,re=!1,ee=!0,te=!1;const de="user-content-";let he=!0,ve=!1,ge={},Ce=null;const Pe=Ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ke=null;const ze=Ke({},["audio","video","img","source","image","track"]);let _e=null;const be=Ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),le="http://www.w3.org/1998/Math/MathML",L="http://www.w3.org/2000/svg",Z="http://www.w3.org/1999/xhtml";let ie=Z,se=!1,ce=null;const Te=Ke({},[le,L,Z],bc);let pe=null;const De=["application/xhtml+xml","text/html"],Ee="text/html";let we=null,qe=null;const Ve=r.createElement("form"),Be=function(G){return G instanceof RegExp||G instanceof Function},He=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qe&&qe===G)){if((!G||typeof G!="object")&&(G={}),G=_i(G),pe=De.indexOf(G.PARSER_MEDIA_TYPE)===-1?Ee:G.PARSER_MEDIA_TYPE,we=pe==="application/xhtml+xml"?bc:sl,N=$r(G,"ALLOWED_TAGS")?Ke({},G.ALLOWED_TAGS,we):H,j=$r(G,"ALLOWED_ATTR")?Ke({},G.ALLOWED_ATTR,we):ne,ce=$r(G,"ALLOWED_NAMESPACES")?Ke({},G.ALLOWED_NAMESPACES,bc):Te,_e=$r(G,"ADD_URI_SAFE_ATTR")?Ke(_i(be),G.ADD_URI_SAFE_ATTR,we):be,ke=$r(G,"ADD_DATA_URI_TAGS")?Ke(_i(ze),G.ADD_DATA_URI_TAGS,we):ze,Ce=$r(G,"FORBID_CONTENTS")?Ke({},G.FORBID_CONTENTS,we):Pe,ae=$r(G,"FORBID_TAGS")?Ke({},G.FORBID_TAGS,we):{},ue=$r(G,"FORBID_ATTR")?Ke({},G.FORBID_ATTR,we):{},ge=$r(G,"USE_PROFILES")?G.USE_PROFILES:!1,fe=G.ALLOW_ARIA_ATTR!==!1,oe=G.ALLOW_DATA_ATTR!==!1,U=G.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=G.SAFE_FOR_TEMPLATES||!1,F=G.SAFE_FOR_XML!==!1,q=G.WHOLE_DOCUMENT||!1,V=G.RETURN_DOM||!1,X=G.RETURN_DOM_FRAGMENT||!1,re=G.RETURN_TRUSTED_TYPE||!1,$=G.FORCE_BODY||!1,ee=G.SANITIZE_DOM!==!1,te=G.SANITIZE_NAMED_PROPS||!1,he=G.KEEP_CONTENT!==!1,ve=G.IN_PLACE||!1,W=G.ALLOWED_URI_REGEXP||Kb,ie=G.NAMESPACE||Z,K=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&Be(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(K.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&Be(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(K.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(K.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(oe=!1),X&&(V=!0),ge&&(N=Ke({},$p),j=[],ge.html===!0&&(Ke(N,zp),Ke(j,qp)),ge.svg===!0&&(Ke(N,xc),Ke(j,Tc),Ke(j,Ns)),ge.svgFilters===!0&&(Ke(N,Cc),Ke(j,Tc),Ke(j,Ns)),ge.mathMl===!0&&(Ke(N,wc),Ke(j,Vp),Ke(j,Ns))),G.ADD_TAGS&&(N===H&&(N=_i(N)),Ke(N,G.ADD_TAGS,we)),G.ADD_ATTR&&(j===ne&&(j=_i(j)),Ke(j,G.ADD_ATTR,we)),G.ADD_URI_SAFE_ATTR&&Ke(_e,G.ADD_URI_SAFE_ATTR,we),G.FORBID_CONTENTS&&(Ce===Pe&&(Ce=_i(Ce)),Ke(Ce,G.FORBID_CONTENTS,we)),he&&(N["#text"]=!0),q&&Ke(N,["html","head","body"]),N.table&&(Ke(N,["tbody"]),delete ae.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw io('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw io('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=G.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else x===void 0&&(x=iA(d,i)),x!==null&&typeof w=="string"&&(w=x.createHTML(""));cr&&cr(G),qe=G}},We=Ke({},["mi","mo","mn","ms","mtext"]),yt=Ke({},["foreignobject","annotation-xml"]),ft=Ke({},["title","style","font","a","script"]),Ft=Ke({},[...xc,...Cc,...YB]),vt=Ke({},[...wc,...KB]),wt=function(G){let me=b(G);(!me||!me.tagName)&&(me={namespaceURI:ie,tagName:"template"});const Le=sl(G.tagName),rt=sl(me.tagName);return ce[G.namespaceURI]?G.namespaceURI===L?me.namespaceURI===Z?Le==="svg":me.namespaceURI===le?Le==="svg"&&(rt==="annotation-xml"||We[rt]):!!Ft[Le]:G.namespaceURI===le?me.namespaceURI===Z?Le==="math":me.namespaceURI===L?Le==="math"&&yt[rt]:!!vt[Le]:G.namespaceURI===Z?me.namespaceURI===L&&!yt[rt]||me.namespaceURI===le&&!We[rt]?!1:!vt[Le]&&(ft[Le]||!Ft[Le]):!!(pe==="application/xhtml+xml"&&ce[G.namespaceURI]):!1},Qe=function(G){ro(t.removed,{element:G});try{b(G).removeChild(G)}catch{p(G)}},bt=function(G,me){try{ro(t.removed,{attribute:me.getAttributeNode(G),from:me})}catch{ro(t.removed,{attribute:null,from:me})}if(me.removeAttribute(G),G==="is"&&!j[G])if(V||X)try{Qe(me)}catch{}else try{me.setAttribute(G,"")}catch{}},Ir=function(G){let me=null,Le=null;if($)G="<remove></remove>"+G;else{const At=Np(G,/^[\r\n\t ]+/);Le=At&&At[0]}pe==="application/xhtml+xml"&&ie===Z&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const rt=x?x.createHTML(G):G;if(ie===Z)try{me=new f().parseFromString(rt,pe)}catch{}if(!me||!me.documentElement){me=T.createDocument(ie,"template",null);try{me.documentElement.innerHTML=se?w:rt}catch{}}const Ot=me.body||me.documentElement;return G&&Le&&Ot.insertBefore(r.createTextNode(Le),Ot.childNodes[0]||null),ie===Z?k.call(me,q?"html":"body")[0]:q?me.documentElement:Ot},pt=function(G){return C.call(G.ownerDocument||G,G,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Er=function(G){return G instanceof h&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof c)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},kr=function(G){return typeof s=="function"&&G instanceof s},Ut=function(G,me,Le){E[G]&&Is(E[G],rt=>{rt.call(t,me,Le,qe)})},gi=function(G){let me=null;if(Ut("beforeSanitizeElements",G,null),Er(G))return Qe(G),!0;const Le=we(G.nodeName);if(Ut("uponSanitizeElement",G,{tagName:Le,allowedTags:N}),G.hasChildNodes()&&!kr(G.firstElementChild)&&tr(/<[/\w]/g,G.innerHTML)&&tr(/<[/\w]/g,G.textContent)||G.nodeType===oo.progressingInstruction||F&&G.nodeType===oo.comment&&tr(/<[/\w]/g,G.data))return Qe(G),!0;if(!N[Le]||ae[Le]){if(!ae[Le]&&$t(Le)&&(K.tagNameCheck instanceof RegExp&&tr(K.tagNameCheck,Le)||K.tagNameCheck instanceof Function&&K.tagNameCheck(Le)))return!1;if(he&&!Ce[Le]){const rt=b(G)||G.parentNode,Ot=g(G)||G.childNodes;if(Ot&&rt){const At=Ot.length;for(let Yt=At-1;Yt>=0;--Yt){const Br=y(Ot[Yt],!0);Br.__removalCount=(G.__removalCount||0)+1,rt.insertBefore(Br,m(G))}}}return Qe(G),!0}return G instanceof l&&!wt(G)||(Le==="noscript"||Le==="noembed"||Le==="noframes")&&tr(/<\/no(script|embed|frames)/i,G.innerHTML)?(Qe(G),!0):(_&&G.nodeType===oo.text&&(me=G.textContent,Is([A,D,O],rt=>{me=no(me,rt," ")}),G.textContent!==me&&(ro(t.removed,{element:G.cloneNode()}),G.textContent=me)),Ut("afterSanitizeElements",G,null),!1)},Kr=function(G,me,Le){if(ee&&(me==="id"||me==="name")&&(Le in r||Le in Ve))return!1;if(!(oe&&!ue[me]&&tr(R,me))){if(!(fe&&tr(M,me))){if(!j[me]||ue[me]){if(!($t(G)&&(K.tagNameCheck instanceof RegExp&&tr(K.tagNameCheck,G)||K.tagNameCheck instanceof Function&&K.tagNameCheck(G))&&(K.attributeNameCheck instanceof RegExp&&tr(K.attributeNameCheck,me)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck(me))||me==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&tr(K.tagNameCheck,Le)||K.tagNameCheck instanceof Function&&K.tagNameCheck(Le))))return!1}else if(!_e[me]){if(!tr(W,no(Le,I,""))){if(!((me==="src"||me==="xlink:href"||me==="href")&&G!=="script"&&HB(Le,"data:")===0&&ke[G])){if(!(U&&!tr(P,no(Le,I,"")))){if(Le)return!1}}}}}}return!0},$t=function(G){return G!=="annotation-xml"&&Np(G,z)},Bt=function(G){Ut("beforeSanitizeAttributes",G,null);const{attributes:me}=G;if(!me)return;const Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};let rt=me.length;for(;rt--;){const Ot=me[rt],{name:At,namespaceURI:Yt,value:Br}=Ot,mi=we(At);let Ct=At==="value"?Br:WB(Br);if(Le.attrName=mi,Le.attrValue=Ct,Le.keepAttr=!0,Le.forceKeepAttr=void 0,Ut("uponSanitizeAttribute",G,Le),Ct=Le.attrValue,F&&tr(/((--!?|])>)|<\/(style|title)/i,Ct)){bt(At,G);continue}if(Le.forceKeepAttr||(bt(At,G),!Le.keepAttr))continue;if(!Y&&tr(/\/>/i,Ct)){bt(At,G);continue}_&&Is([A,D,O],yi=>{Ct=no(Ct,yi," ")});const Qi=we(G.nodeName);if(Kr(Qi,mi,Ct)){if(te&&(mi==="id"||mi==="name")&&(bt(At,G),Ct=de+Ct),x&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Yt)switch(d.getAttributeType(Qi,mi)){case"TrustedHTML":{Ct=x.createHTML(Ct);break}case"TrustedScriptURL":{Ct=x.createScriptURL(Ct);break}}try{Yt?G.setAttributeNS(Yt,At,Ct):G.setAttribute(At,Ct),Er(G)?Qe(G):Ip(t.removed)}catch{}}}Ut("afterSanitizeAttributes",G,null)},Gt=function Ae(G){let me=null;const Le=pt(G);for(Ut("beforeSanitizeShadowDOM",G,null);me=Le.nextNode();)Ut("uponSanitizeShadowNode",me,null),!gi(me)&&(me.content instanceof a&&Ae(me.content),Bt(me));Ut("afterSanitizeShadowDOM",G,null)};return t.sanitize=function(Ae){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=null,Le=null,rt=null,Ot=null;if(se=!Ae,se&&(Ae="<!-->"),typeof Ae!="string"&&!kr(Ae))if(typeof Ae.toString=="function"){if(Ae=Ae.toString(),typeof Ae!="string")throw io("dirty is not a string, aborting")}else throw io("toString is not a function");if(!t.isSupported)return Ae;if(J||He(G),t.removed=[],typeof Ae=="string"&&(ve=!1),ve){if(Ae.nodeName){const Br=we(Ae.nodeName);if(!N[Br]||ae[Br])throw io("root node is forbidden and cannot be sanitized in-place")}}else if(Ae instanceof s)me=Ir("<!---->"),Le=me.ownerDocument.importNode(Ae,!0),Le.nodeType===oo.element&&Le.nodeName==="BODY"||Le.nodeName==="HTML"?me=Le:me.appendChild(Le);else{if(!V&&!_&&!q&&Ae.indexOf("<")===-1)return x&&re?x.createHTML(Ae):Ae;if(me=Ir(Ae),!me)return V?null:re?w:""}me&&$&&Qe(me.firstChild);const At=pt(ve?Ae:me);for(;rt=At.nextNode();)gi(rt)||(rt.content instanceof a&&Gt(rt.content),Bt(rt));if(ve)return Ae;if(V){if(X)for(Ot=S.call(me.ownerDocument);me.firstChild;)Ot.appendChild(me.firstChild);else Ot=me;return(j.shadowroot||j.shadowrootmode)&&(Ot=B.call(n,Ot,!0)),Ot}let Yt=q?me.outerHTML:me.innerHTML;return q&&N["!doctype"]&&me.ownerDocument&&me.ownerDocument.doctype&&me.ownerDocument.doctype.name&&tr(jb,me.ownerDocument.doctype.name)&&(Yt="<!DOCTYPE "+me.ownerDocument.doctype.name+`>
`+Yt),_&&Is([A,D,O],Br=>{Yt=no(Yt,Br," ")}),x&&re?x.createHTML(Yt):Yt},t.setConfig=function(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};He(Ae),J=!0},t.clearConfig=function(){qe=null,J=!1},t.isValidAttribute=function(Ae,G,me){qe||He({});const Le=we(Ae),rt=we(G);return Kr(Le,rt,me)},t.addHook=function(Ae,G){typeof G=="function"&&(E[Ae]=E[Ae]||[],ro(E[Ae],G))},t.removeHook=function(Ae){if(E[Ae])return Ip(E[Ae])},t.removeHooks=function(Ae){E[Ae]&&(E[Ae]=[])},t.removeAllHooks=function(){E={}},t}var Da=Xb();const ll={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return ll.hue2rgb(a,i,e+1/3)*255;case"g":return ll.hue2rgb(a,i,e)*255;case"b":return ll.hue2rgb(a,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),a=Math.min(e,t,r),o=(i+a)/2;if(n==="l")return o*100;if(i===a)return 0;const s=i-a,l=o>.5?s/(2-i-a):s/(i+a);if(n==="s")return l*100;switch(i){case e:return((t-r)/s+(t<r?6:0))*60;case t:return((r-e)/s+2)*60;case r:return((e-t)/s+4)*60;default:return-1}}},aA={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},oA={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},$e={channel:ll,lang:aA,unit:oA},$n={};for(let e=0;e<=255;e++)$n[e]=$e.unit.dec2hex(e);const Kt={ALL:0,RGB:1,HSL:2};let sA=class{constructor(){this.type=Kt.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Kt.ALL}is(t){return this.type===t}};class lA{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new sA}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Kt.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=$e.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=$e.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=$e.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=$e.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=$e.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=$e.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(Kt.HSL)&&r!==void 0?r:(this._ensureHSL(),$e.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(Kt.HSL)&&r!==void 0?r:(this._ensureHSL(),$e.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(Kt.HSL)&&r!==void 0?r:(this._ensureHSL(),$e.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(Kt.RGB)&&r!==void 0?r:(this._ensureRGB(),$e.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(Kt.RGB)&&r!==void 0?r:(this._ensureRGB(),$e.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(Kt.RGB)&&r!==void 0?r:(this._ensureRGB(),$e.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Kt.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Kt.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Kt.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Kt.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Kt.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Kt.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Eu=new lA({r:0,g:0,b:0,a:0},"transparent"),xa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(xa.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,a=i%4===0,o=i>4,s=o?1:17,l=o?8:4,u=a?0:-1,c=o?255:15;return Eu.set({r:(n>>l*(u+3)&c)*s,g:(n>>l*(u+2)&c)*s,b:(n>>l*(u+1)&c)*s,a:a?(n&c)*s/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${$n[Math.round(t)]}${$n[Math.round(r)]}${$n[Math.round(n)]}${$n[Math.round(i*255)]}`:`#${$n[Math.round(t)]}${$n[Math.round(r)]}${$n[Math.round(n)]}`}},Di={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Di.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return $e.channel.clamp.h(parseFloat(r)*.9);case"rad":return $e.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return $e.channel.clamp.h(parseFloat(r)*360)}}return $e.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Di.re);if(!r)return;const[,n,i,a,o,s]=r;return Eu.set({h:Di._hue2deg(n),s:$e.channel.clamp.s(parseFloat(i)),l:$e.channel.clamp.l(parseFloat(a)),a:o?$e.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${$e.lang.round(t)}, ${$e.lang.round(r)}%, ${$e.lang.round(n)}%, ${i})`:`hsl(${$e.lang.round(t)}, ${$e.lang.round(r)}%, ${$e.lang.round(n)}%)`}},Mo={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Mo.colors[e];if(t)return xa.parse(t)},stringify:e=>{const t=xa.stringify(e);for(const r in Mo.colors)if(Mo.colors[r]===t)return r}},xo={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(xo.re);if(!r)return;const[,n,i,a,o,s,l,u,c]=r;return Eu.set({r:$e.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:$e.channel.clamp.g(o?parseFloat(a)*2.55:parseFloat(a)),b:$e.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:u?$e.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${$e.lang.round(t)}, ${$e.lang.round(r)}, ${$e.lang.round(n)}, ${$e.lang.round(i)})`:`rgb(${$e.lang.round(t)}, ${$e.lang.round(r)}, ${$e.lang.round(n)})`}},cn={format:{keyword:Mo,hex:xa,rgb:xo,rgba:xo,hsl:Di,hsla:Di},parse:e=>{if(typeof e!="string")return e;const t=xa.parse(e)||xo.parse(e)||Di.parse(e)||Mo.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Kt.HSL)||e.data.r===void 0?Di.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?xo.stringify(e):xa.stringify(e)},Zb=(e,t)=>{const r=cn.parse(e);for(const n in t)r[n]=$e.channel.clamp[n](t[n]);return cn.stringify(r)},Fo=(e,t,r=0,n=1)=>{if(typeof e!="number")return Zb(e,{a:t});const i=Eu.set({r:$e.channel.clamp.r(e),g:$e.channel.clamp.g(t),b:$e.channel.clamp.b(r),a:$e.channel.clamp.a(n)});return cn.stringify(i)},uA=e=>{const{r:t,g:r,b:n}=cn.parse(e),i=.2126*$e.channel.toLinear(t)+.7152*$e.channel.toLinear(r)+.0722*$e.channel.toLinear(n);return $e.lang.round(i)},cA=e=>uA(e)>=.5,ps=e=>!cA(e),Qb=(e,t,r)=>{const n=cn.parse(e),i=n[t],a=$e.channel.clamp[t](i+r);return i!==a&&(n[t]=a),cn.stringify(n)},Me=(e,t)=>Qb(e,"l",t),Ie=(e,t)=>Qb(e,"l",-t),Q=(e,t)=>{const r=cn.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return Zb(e,n)},hA=(e,t,r=50)=>{const{r:n,g:i,b:a,a:o}=cn.parse(e),{r:s,g:l,b:u,a:c}=cn.parse(t),h=r/100,f=h*2-1,d=o-c,y=((f*d===-1?f:(f+d)/(1+f*d))+1)/2,p=1-y,m=n*y+s*p,g=i*y+l*p,b=a*y+u*p,x=o*h+c*(1-h);return Fo(m,g,b,x)},xe=(e,t=100)=>{const r=cn.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,hA(r,e,t)};var Jb=typeof global=="object"&&global&&global.Object===Object&&global,fA=typeof self=="object"&&self&&self.Object===Object&&self,vn=Jb||fA||Function("return this")(),$l=vn.Symbol,ex=Object.prototype,dA=ex.hasOwnProperty,vA=ex.toString,so=$l?$l.toStringTag:void 0;function pA(e){var t=dA.call(e,so),r=e[so];try{e[so]=void 0;var n=!0}catch{}var i=vA.call(e);return n&&(t?e[so]=r:delete e[so]),i}var gA=Object.prototype,mA=gA.toString;function yA(e){return mA.call(e)}var bA="[object Null]",xA="[object Undefined]",Wp=$l?$l.toStringTag:void 0;function Ha(e){return e==null?e===void 0?xA:bA:Wp&&Wp in Object(e)?pA(e):yA(e)}function Yi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var CA="[object AsyncFunction]",wA="[object Function]",TA="[object GeneratorFunction]",_A="[object Proxy]";function qd(e){if(!Yi(e))return!1;var t=Ha(e);return t==wA||t==TA||t==CA||t==_A}var _c=vn["__core-js_shared__"],Up=(function(){var e=/[^.]+$/.exec(_c&&_c.keys&&_c.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function SA(e){return!!Up&&Up in e}var EA=Function.prototype,kA=EA.toString;function Ki(e){if(e!=null){try{return kA.call(e)}catch{}try{return e+""}catch{}}return""}var BA=/[\\^$.*+?()[\]{}|]/g,AA=/^\[object .+?Constructor\]$/,LA=Function.prototype,DA=Object.prototype,PA=LA.toString,MA=DA.hasOwnProperty,FA=RegExp("^"+PA.call(MA).replace(BA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OA(e){if(!Yi(e)||SA(e))return!1;var t=qd(e)?FA:AA;return t.test(Ki(e))}function RA(e,t){return e==null?void 0:e[t]}function ji(e,t){var r=RA(e,t);return OA(r)?r:void 0}var Zo=ji(Object,"create");function IA(){this.__data__=Zo?Zo(null):{},this.size=0}function NA(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zA="__lodash_hash_undefined__",$A=Object.prototype,qA=$A.hasOwnProperty;function VA(e){var t=this.__data__;if(Zo){var r=t[e];return r===zA?void 0:r}return qA.call(t,e)?t[e]:void 0}var HA=Object.prototype,WA=HA.hasOwnProperty;function UA(e){var t=this.__data__;return Zo?t[e]!==void 0:WA.call(t,e)}var GA="__lodash_hash_undefined__";function YA(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zo&&t===void 0?GA:t,this}function zi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zi.prototype.clear=IA;zi.prototype.delete=NA;zi.prototype.get=VA;zi.prototype.has=UA;zi.prototype.set=YA;function KA(){this.__data__=[],this.size=0}function ku(e,t){return e===t||e!==e&&t!==t}function Bu(e,t){for(var r=e.length;r--;)if(ku(e[r][0],t))return r;return-1}var jA=Array.prototype,XA=jA.splice;function ZA(e){var t=this.__data__,r=Bu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():XA.call(t,r,1),--this.size,!0}function QA(e){var t=this.__data__,r=Bu(t,e);return r<0?void 0:t[r][1]}function JA(e){return Bu(this.__data__,e)>-1}function e2(e,t){var r=this.__data__,n=Bu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function On(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}On.prototype.clear=KA;On.prototype.delete=ZA;On.prototype.get=QA;On.prototype.has=JA;On.prototype.set=e2;var Qo=ji(vn,"Map");function t2(){this.size=0,this.__data__={hash:new zi,map:new(Qo||On),string:new zi}}function r2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Au(e,t){var r=e.__data__;return r2(t)?r[typeof t=="string"?"string":"hash"]:r.map}function n2(e){var t=Au(this,e).delete(e);return this.size-=t?1:0,t}function i2(e){return Au(this,e).get(e)}function a2(e){return Au(this,e).has(e)}function o2(e,t){var r=Au(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function ci(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ci.prototype.clear=t2;ci.prototype.delete=n2;ci.prototype.get=i2;ci.prototype.has=a2;ci.prototype.set=o2;var s2="Expected a function";function gs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(s2);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(gs.Cache||ci),r}gs.Cache=ci;function l2(){this.__data__=new On,this.size=0}function u2(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function c2(e){return this.__data__.get(e)}function h2(e){return this.__data__.has(e)}var f2=200;function d2(e,t){var r=this.__data__;if(r instanceof On){var n=r.__data__;if(!Qo||n.length<f2-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ci(n)}return r.set(e,t),this.size=r.size,this}function Wa(e){var t=this.__data__=new On(e);this.size=t.size}Wa.prototype.clear=l2;Wa.prototype.delete=u2;Wa.prototype.get=c2;Wa.prototype.has=h2;Wa.prototype.set=d2;var ql=(function(){try{var e=ji(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Vd(e,t,r){t=="__proto__"&&ql?ql(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Df(e,t,r){(r!==void 0&&!ku(e[t],r)||r===void 0&&!(t in e))&&Vd(e,t,r)}function v2(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return t}}var p2=v2(),tx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gp=tx&&typeof module=="object"&&module&&!module.nodeType&&module,g2=Gp&&Gp.exports===tx,Yp=g2?vn.Buffer:void 0,Kp=Yp?Yp.allocUnsafe:void 0;function m2(e,t){if(t)return e.slice();var r=e.length,n=Kp?Kp(r):new e.constructor(r);return e.copy(n),n}var jp=vn.Uint8Array;function y2(e){var t=new e.constructor(e.byteLength);return new jp(t).set(new jp(e)),t}function b2(e,t){var r=t?y2(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function x2(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Xp=Object.create,C2=(function(){function e(){}return function(t){if(!Yi(t))return{};if(Xp)return Xp(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function rx(e,t){return function(r){return e(t(r))}}var nx=rx(Object.getPrototypeOf,Object),w2=Object.prototype;function Lu(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||w2;return e===r}function T2(e){return typeof e.constructor=="function"&&!Lu(e)?C2(nx(e)):{}}function ms(e){return e!=null&&typeof e=="object"}var _2="[object Arguments]";function Zp(e){return ms(e)&&Ha(e)==_2}var ix=Object.prototype,S2=ix.hasOwnProperty,E2=ix.propertyIsEnumerable,Vl=Zp((function(){return arguments})())?Zp:function(e){return ms(e)&&S2.call(e,"callee")&&!E2.call(e,"callee")},Hl=Array.isArray,k2=9007199254740991;function ax(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=k2}function Du(e){return e!=null&&ax(e.length)&&!qd(e)}function B2(e){return ms(e)&&Du(e)}function A2(){return!1}var ox=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qp=ox&&typeof module=="object"&&module&&!module.nodeType&&module,L2=Qp&&Qp.exports===ox,Jp=L2?vn.Buffer:void 0,D2=Jp?Jp.isBuffer:void 0,Hd=D2||A2,P2="[object Object]",M2=Function.prototype,F2=Object.prototype,sx=M2.toString,O2=F2.hasOwnProperty,R2=sx.call(Object);function I2(e){if(!ms(e)||Ha(e)!=P2)return!1;var t=nx(e);if(t===null)return!0;var r=O2.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&sx.call(r)==R2}var N2="[object Arguments]",z2="[object Array]",$2="[object Boolean]",q2="[object Date]",V2="[object Error]",H2="[object Function]",W2="[object Map]",U2="[object Number]",G2="[object Object]",Y2="[object RegExp]",K2="[object Set]",j2="[object String]",X2="[object WeakMap]",Z2="[object ArrayBuffer]",Q2="[object DataView]",J2="[object Float32Array]",eL="[object Float64Array]",tL="[object Int8Array]",rL="[object Int16Array]",nL="[object Int32Array]",iL="[object Uint8Array]",aL="[object Uint8ClampedArray]",oL="[object Uint16Array]",sL="[object Uint32Array]",ct={};ct[J2]=ct[eL]=ct[tL]=ct[rL]=ct[nL]=ct[iL]=ct[aL]=ct[oL]=ct[sL]=!0;ct[N2]=ct[z2]=ct[Z2]=ct[$2]=ct[Q2]=ct[q2]=ct[V2]=ct[H2]=ct[W2]=ct[U2]=ct[G2]=ct[Y2]=ct[K2]=ct[j2]=ct[X2]=!1;function lL(e){return ms(e)&&ax(e.length)&&!!ct[Ha(e)]}function uL(e){return function(t){return e(t)}}var lx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oo=lx&&typeof module=="object"&&module&&!module.nodeType&&module,cL=Oo&&Oo.exports===lx,Sc=cL&&Jb.process,eg=(function(){try{var e=Oo&&Oo.require&&Oo.require("util").types;return e||Sc&&Sc.binding&&Sc.binding("util")}catch{}})(),tg=eg&&eg.isTypedArray,Wd=tg?uL(tg):lL;function Pf(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var hL=Object.prototype,fL=hL.hasOwnProperty;function dL(e,t,r){var n=e[t];(!(fL.call(e,t)&&ku(n,r))||r===void 0&&!(t in e))&&Vd(e,t,r)}function vL(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;l===void 0&&(l=e[s]),i?Vd(r,s,l):dL(r,s,l)}return r}function pL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var gL=9007199254740991,mL=/^(?:0|[1-9]\d*)$/;function ux(e,t){var r=typeof e;return t=t??gL,!!t&&(r=="number"||r!="symbol"&&mL.test(e))&&e>-1&&e%1==0&&e<t}var yL=Object.prototype,bL=yL.hasOwnProperty;function xL(e,t){var r=Hl(e),n=!r&&Vl(e),i=!r&&!n&&Hd(e),a=!r&&!n&&!i&&Wd(e),o=r||n||i||a,s=o?pL(e.length,String):[],l=s.length;for(var u in e)(t||bL.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ux(u,l)))&&s.push(u);return s}function CL(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var wL=Object.prototype,TL=wL.hasOwnProperty;function _L(e){if(!Yi(e))return CL(e);var t=Lu(e),r=[];for(var n in e)n=="constructor"&&(t||!TL.call(e,n))||r.push(n);return r}function cx(e){return Du(e)?xL(e,!0):_L(e)}function SL(e){return vL(e,cx(e))}function EL(e,t,r,n,i,a,o){var s=Pf(e,r),l=Pf(t,r),u=o.get(l);if(u){Df(e,r,u);return}var c=a?a(s,l,r+"",e,t,o):void 0,h=c===void 0;if(h){var f=Hl(l),d=!f&&Hd(l),v=!f&&!d&&Wd(l);c=l,f||d||v?Hl(s)?c=s:B2(s)?c=x2(s):d?(h=!1,c=m2(l,!0)):v?(h=!1,c=b2(l,!0)):c=[]:I2(l)||Vl(l)?(c=s,Vl(s)?c=SL(s):(!Yi(s)||qd(s))&&(c=T2(l))):h=!1}h&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Df(e,r,c)}function hx(e,t,r,n,i){e!==t&&p2(t,function(a,o){if(i||(i=new Wa),Yi(a))EL(e,t,o,r,hx,n,i);else{var s=n?n(Pf(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),Df(e,o,s)}},cx)}function fx(e){return e}function kL(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rg=Math.max;function BL(e,t,r){return t=rg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=rg(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),kL(e,this,s)}}function AL(e){return function(){return e}}var LL=ql?function(e,t){return ql(e,"toString",{configurable:!0,enumerable:!1,value:AL(t),writable:!0})}:fx,DL=800,PL=16,ML=Date.now;function FL(e){var t=0,r=0;return function(){var n=ML(),i=PL-(n-r);if(r=n,i>0){if(++t>=DL)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var OL=FL(LL);function RL(e,t){return OL(BL(e,t,fx),e+"")}function IL(e,t,r){if(!Yi(r))return!1;var n=typeof t;return(n=="number"?Du(r)&&ux(t,r.length):n=="string"&&t in r)?ku(r[t],e):!1}function NL(e){return RL(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&IL(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var zL=NL(function(e,t,r){hx(e,t,r)}),dx="comm",vx="rule",px="decl",$L="@import",qL="@namespace",VL="@keyframes",HL="@layer",gx=Math.abs,Ud=String.fromCharCode;function mx(e){return e.trim()}function ul(e,t,r){return e.replace(t,r)}function WL(e,t,r){return e.indexOf(t,r)}function Ca(e,t){return e.charCodeAt(t)|0}function Pa(e,t,r){return e.slice(t,r)}function en(e){return e.length}function UL(e){return e.length}function zs(e,t){return t.push(e),e}var Pu=1,Ma=1,yx=0,Or=0,St=0,Ua="";function Gd(e,t,r,n,i,a,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Pu,column:Ma,length:o,return:"",siblings:s}}function GL(){return St}function YL(){return St=Or>0?Ca(Ua,--Or):0,Ma--,St===10&&(Ma=1,Pu--),St}function Wr(){return St=Or<yx?Ca(Ua,Or++):0,Ma++,St===10&&(Ma=1,Pu++),St}function Yn(){return Ca(Ua,Or)}function cl(){return Or}function Mu(e,t){return Pa(Ua,e,t)}function Jo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KL(e){return Pu=Ma=1,yx=en(Ua=e),Or=0,[]}function jL(e){return Ua="",e}function Ec(e){return mx(Mu(Or-1,Mf(e===91?e+2:e===40?e+1:e)))}function XL(e){for(;(St=Yn())&&St<33;)Wr();return Jo(e)>2||Jo(St)>3?"":" "}function ZL(e,t){for(;--t&&Wr()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return Mu(e,cl()+(t<6&&Yn()==32&&Wr()==32))}function Mf(e){for(;Wr();)switch(St){case e:return Or;case 34:case 39:e!==34&&e!==39&&Mf(St);break;case 40:e===41&&Mf(e);break;case 92:Wr();break}return Or}function QL(e,t){for(;Wr()&&e+St!==57;)if(e+St===84&&Yn()===47)break;return"/*"+Mu(t,Or-1)+"*"+Ud(e===47?e:Wr())}function JL(e){for(;!Jo(Yn());)Wr();return Mu(e,Or)}function eD(e){return jL(hl("",null,null,null,[""],e=KL(e),0,[0],e))}function hl(e,t,r,n,i,a,o,s,l){for(var u=0,c=0,h=o,f=0,d=0,v=0,y=1,p=1,m=1,g=0,b="",x=i,w=a,T=n,C=b;p;)switch(v=g,g=Wr()){case 40:if(v!=108&&Ca(C,h-1)==58){WL(C+=ul(Ec(g),"&","&\f"),"&\f",gx(u?s[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:C+=Ec(g);break;case 9:case 10:case 13:case 32:C+=XL(v);break;case 92:C+=ZL(cl()-1,7);continue;case 47:switch(Yn()){case 42:case 47:zs(tD(QL(Wr(),cl()),t,r,l),l),(Jo(v||1)==5||Jo(Yn()||1)==5)&&en(C)&&Pa(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*y:s[u++]=en(C)*m;case 125*y:case 59:case 0:switch(g){case 0:case 125:p=0;case 59+c:m==-1&&(C=ul(C,/\f/g,"")),d>0&&(en(C)-h||y===0&&v===47)&&zs(d>32?ig(C+";",n,r,h-1,l):ig(ul(C," ","")+";",n,r,h-2,l),l);break;case 59:C+=";";default:if(zs(T=ng(C,t,r,u,c,i,s,b,x=[],w=[],h,a),a),g===123)if(c===0)hl(C,t,T,T,x,a,h,s,w);else{switch(f){case 99:if(Ca(C,3)===110)break;case 108:if(Ca(C,2)===97)break;default:c=0;case 100:case 109:case 115:}c?hl(e,T,T,n&&zs(ng(e,T,T,0,0,i,s,b,i,x=[],h,w),w),i,w,h,s,n?x:w):hl(C,T,T,T,[""],w,0,s,w)}}u=c=d=0,y=m=1,b=C="",h=o;break;case 58:h=1+en(C),d=v;default:if(y<1){if(g==123)--y;else if(g==125&&y++==0&&YL()==125)continue}switch(C+=Ud(g),g*y){case 38:m=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(en(C)-1)*m,m=1;break;case 64:Yn()===45&&(C+=Ec(Wr())),f=Yn(),c=h=en(b=C+=JL(cl())),g++;break;case 45:v===45&&en(C)==2&&(y=0)}}return a}function ng(e,t,r,n,i,a,o,s,l,u,c,h){for(var f=i-1,d=i===0?a:[""],v=UL(d),y=0,p=0,m=0;y<n;++y)for(var g=0,b=Pa(e,f+1,f=gx(p=o[y])),x=e;g<v;++g)(x=mx(p>0?d[g]+" "+b:ul(b,/&\f/g,d[g])))&&(l[m++]=x);return Gd(e,t,r,i===0?vx:s,l,u,c,h)}function tD(e,t,r,n){return Gd(e,t,r,dx,Ud(GL()),Pa(e,2,-2),0,n)}function ig(e,t,r,n,i){return Gd(e,t,r,px,Pa(e,0,n),Pa(e,n+1,-1),n,i)}function Ff(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function rD(e,t,r,n){switch(e.type){case HL:if(e.children.length)break;case $L:case qL:case px:return e.return=e.return||e.value;case dx:return"";case VL:return e.return=e.value+"{"+Ff(e.children,n)+"}";case vx:if(!en(e.value=e.props.join(",")))return""}return en(r=Ff(e.children,n))?e.return=e.value+"{"+r+"}":""}var nD=rx(Object.keys,Object),iD=Object.prototype,aD=iD.hasOwnProperty;function oD(e){if(!Lu(e))return nD(e);var t=[];for(var r in Object(e))aD.call(e,r)&&r!="constructor"&&t.push(r);return t}var Of=ji(vn,"DataView"),Rf=ji(vn,"Promise"),If=ji(vn,"Set"),Nf=ji(vn,"WeakMap"),ag="[object Map]",sD="[object Object]",og="[object Promise]",sg="[object Set]",lg="[object WeakMap]",ug="[object DataView]",lD=Ki(Of),uD=Ki(Qo),cD=Ki(Rf),hD=Ki(If),fD=Ki(Nf),Si=Ha;(Of&&Si(new Of(new ArrayBuffer(1)))!=ug||Qo&&Si(new Qo)!=ag||Rf&&Si(Rf.resolve())!=og||If&&Si(new If)!=sg||Nf&&Si(new Nf)!=lg)&&(Si=function(e){var t=Ha(e),r=t==sD?e.constructor:void 0,n=r?Ki(r):"";if(n)switch(n){case lD:return ug;case uD:return ag;case cD:return og;case hD:return sg;case fD:return lg}return t});var dD="[object Map]",vD="[object Set]",pD=Object.prototype,gD=pD.hasOwnProperty;function kc(e){if(e==null)return!0;if(Du(e)&&(Hl(e)||typeof e=="string"||typeof e.splice=="function"||Hd(e)||Wd(e)||Vl(e)))return!e.length;var t=Si(e);if(t==dD||t==vD)return!e.size;if(Lu(e))return!oD(e).length;for(var r in e)if(gD.call(e,r))return!1;return!0}const bn={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Re={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},Yd=function(e="fatal"){let t=bn.fatal;typeof e=="string"?(e=e.toLowerCase(),e in bn&&(t=bn[e])):typeof e=="number"&&(t=e),Re.trace=()=>{},Re.debug=()=>{},Re.info=()=>{},Re.warn=()=>{},Re.error=()=>{},Re.fatal=()=>{},t<=bn.fatal&&(Re.fatal=console.error?console.error.bind(console,Ar("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ar("FATAL"))),t<=bn.error&&(Re.error=console.error?console.error.bind(console,Ar("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ar("ERROR"))),t<=bn.warn&&(Re.warn=console.warn?console.warn.bind(console,Ar("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ar("WARN"))),t<=bn.info&&(Re.info=console.info?console.info.bind(console,Ar("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ar("INFO"))),t<=bn.debug&&(Re.debug=console.debug?console.debug.bind(console,Ar("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ar("DEBUG"))),t<=bn.trace&&(Re.trace=console.debug?console.debug.bind(console,Ar("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ar("TRACE")))},Ar=e=>`%c${nS().format("ss.SSS")} : ${e} : `,ys=/<br\s*\/?>/gi,mD=e=>e?xx(e).replace(/\\n/g,"#br#").split("#br#"):[""],yD=(()=>{let e=!1;return()=>{e||(bD(),e=!0)}})();function bD(){const e="data-temp-href-target";Da.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")||"")}),Da.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)||""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}const bx=e=>(yD(),Da.sanitize(e)),cg=(e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=bx(e):n!=="loose"&&(e=xx(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=TD(e))}return e},Fa=(e,t)=>e&&(t.dompurifyConfig?e=Da.sanitize(cg(e,t),t.dompurifyConfig).toString():e=Da.sanitize(cg(e,t),{FORBID_TAGS:["style"]}).toString(),e),xD=(e,t)=>typeof e=="string"?Fa(e,t):e.flat().map(r=>Fa(r,t)),CD=e=>ys.test(e),wD=e=>e.split(ys),TD=e=>e.replace(/#br#/g,"<br/>"),xx=e=>e.replace(ys,"#br#"),_D=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},Cx=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),SD=function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},ED=function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},oq=function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const a=t[n-1],o=t[n+1];kD(a,o)&&(i=a+","+o,n++,r.pop())}r.push(BD(i))}return r.join("")},zf=(e,t)=>Math.max(0,e.split(t).length-1),kD=(e,t)=>{const r=zf(e,"~"),n=zf(t,"~");return r===1&&n===1},BD=e=>{const t=zf(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},hg=()=>window.MathMLElement!==void 0,$f=/\$\$(.*)\$\$/g,fg=e=>{var t;return(((t=e.match($f))==null?void 0:t.length)??0)>0},sq=async(e,t)=>{const r=document.createElement("div");r.innerHTML=await LD(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},AD=async(e,t)=>{if(!fg(e))return e;if(!hg()&&!t.legacyMathML)return e.replace($f,"MathML is unsupported in this environment.");const{default:r}=await mt(async()=>{const{default:n}=await import("./chunks/katex-ChWnQ-fc.js");return{default:n}},[]);return e.split(ys).map(n=>fg(n)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${n}
            </div>
          `:`<div>${n}</div>`).join("").replace($f,(n,i)=>r.renderToString(i,{throwOnError:!0,displayMode:!0,output:hg()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},LD=async(e,t)=>Fa(await AD(e,t),t),Kd={getRows:mD,sanitizeText:Fa,sanitizeTextOrArray:xD,hasBreaks:CD,splitBreaks:wD,lineBreakRegex:ys,removeScript:bx,getUrl:_D,evaluate:Cx,getMax:SD,getMin:ED},sr=(e,t)=>t?Q(e,{s:-40,l:10}):Q(e,{s:-40,l:-10}),Fu="#ffffff",Ou="#f2f2f2";let DD=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Q(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Q(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||sr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||sr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||sr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||sr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||xe(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||xe(this.tertiaryColor),this.lineColor=this.lineColor||xe(this.background),this.arrowheadColor=this.arrowheadColor||xe(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ie(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ie(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||xe(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Me(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330}),this.darkMode)for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=Ie(this["cScale"+d],75);else for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=Ie(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||xe(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||Me(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||Ie(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;const f=this.darkMode?-4:-1;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||Q(this.mainBkg,{h:180,s:-15,l:f*(5+d*3)}),this["surfacePeer"+d]=this["surfacePeer"+d]||Q(this.mainBkg,{h:180,s:-15,l:f*(8+d*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Q(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Q(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Q(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Q(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Q(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Q(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Q(this.primaryColor,{l:-10}),this.pie5=this.pie5||Q(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Q(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Q(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Q(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Q(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Q(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Q(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Q(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Q(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Q(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Q(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Q(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Q(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Q(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ps(this.quadrant1Fill)?Me(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ie(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Q(this.primaryColor,{h:-30}),this.git4=this.git4||Q(this.primaryColor,{h:-60}),this.git5=this.git5||Q(this.primaryColor,{h:-90}),this.git6=this.git6||Q(this.primaryColor,{h:60}),this.git7=this.git7||Q(this.primaryColor,{h:120}),this.darkMode?(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)):(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)),this.gitInv0=this.gitInv0||xe(this.git0),this.gitInv1=this.gitInv1||xe(this.git1),this.gitInv2=this.gitInv2||xe(this.git2),this.gitInv3=this.gitInv3||xe(this.git3),this.gitInv4=this.gitInv4||xe(this.git4),this.gitInv5=this.gitInv5||xe(this.git5),this.gitInv6=this.gitInv6||xe(this.git6),this.gitInv7=this.gitInv7||xe(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ou}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const PD=e=>{const t=new DD;return t.calculate(e),t};let MD=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Me(this.primaryColor,16),this.tertiaryColor=Q(this.primaryColor,{h:-160}),this.primaryBorderColor=xe(this.background),this.secondaryBorderColor=sr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sr(this.tertiaryColor,this.darkMode),this.primaryTextColor=xe(this.primaryColor),this.secondaryTextColor=xe(this.secondaryColor),this.tertiaryTextColor=xe(this.tertiaryColor),this.lineColor=xe(this.background),this.textColor=xe(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Me(xe("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Fo(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ie("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ie(this.sectionBkgColor,10),this.taskBorderColor=Fo(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Fo(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.secondBkg=Me(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Me(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Me(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||xe(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScalePeer"+f]=this["cScalePeer"+f]||Me(this["cScale"+f],10);for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Q(this.mainBkg,{h:30,s:-30,l:-(-10+f*4)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Q(this.mainBkg,{h:30,s:-30,l:-(-7+f*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Q(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Q(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Q(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Q(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Q(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Q(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ps(this.quadrant1Fill)?Me(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ie(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Me(this.secondaryColor,20),this.git1=Me(this.pie2||this.secondaryColor,20),this.git2=Me(this.pie3||this.tertiaryColor,20),this.git3=Me(this.pie4||Q(this.primaryColor,{h:-30}),20),this.git4=Me(this.pie5||Q(this.primaryColor,{h:-60}),20),this.git5=Me(this.pie6||Q(this.primaryColor,{h:-90}),10),this.git6=Me(this.pie7||Q(this.primaryColor,{h:60}),10),this.git7=Me(this.pie8||Q(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||xe(this.git0),this.gitInv1=this.gitInv1||xe(this.git1),this.gitInv2=this.gitInv2||xe(this.git2),this.gitInv3=this.gitInv3||xe(this.git3),this.gitInv4=this.gitInv4||xe(this.git4),this.gitInv5=this.gitInv5||xe(this.git5),this.gitInv6=this.gitInv6||xe(this.git6),this.gitInv7=this.gitInv7||xe(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||xe(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||xe(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Me(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Me(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const FD=e=>{const t=new MD;return t.calculate(e),t};let OD=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Q(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Q(this.primaryColor,{h:-160}),this.primaryBorderColor=sr(this.primaryColor,this.darkMode),this.secondaryBorderColor=sr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sr(this.tertiaryColor,this.darkMode),this.primaryTextColor=xe(this.primaryColor),this.secondaryTextColor=xe(this.secondaryColor),this.tertiaryTextColor=xe(this.tertiaryColor),this.lineColor=xe(this.background),this.textColor=xe(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Fo(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ie(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ie(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Ie(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||Ie(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Q(this["cScale"+f],{h:180});for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Q(this.mainBkg,{h:30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Q(this.mainBkg,{h:30,l:-(7+f*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||xe(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||xe(this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Me(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Q(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Q(this.primaryColor,{l:-10}),this.pie5=this.pie5||Q(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Q(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Q(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Q(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Q(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Q(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Q(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Q(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Q(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Q(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Q(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Q(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Q(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Q(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ps(this.quadrant1Fill)?Me(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Q(this.primaryColor,{h:-30}),this.git4=this.git4||Q(this.primaryColor,{h:-60}),this.git5=this.git5||Q(this.primaryColor,{h:-90}),this.git6=this.git6||Q(this.primaryColor,{h:60}),this.git7=this.git7||Q(this.primaryColor,{h:120}),this.darkMode?(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)):(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)),this.gitInv0=this.gitInv0||Ie(xe(this.git0),25),this.gitInv1=this.gitInv1||xe(this.git1),this.gitInv2=this.gitInv2||xe(this.git2),this.gitInv3=this.gitInv3||xe(this.git3),this.gitInv4=this.gitInv4||xe(this.git4),this.gitInv5=this.gitInv5||xe(this.git5),this.gitInv6=this.gitInv6||xe(this.git6),this.gitInv7=this.gitInv7||xe(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||xe(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||xe(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ou}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const RD=e=>{const t=new OD;return t.calculate(e),t};let ID=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Me("#cde498",10),this.primaryBorderColor=sr(this.primaryColor,this.darkMode),this.secondaryBorderColor=sr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sr(this.tertiaryColor,this.darkMode),this.primaryTextColor=xe(this.primaryColor),this.secondaryTextColor=xe(this.secondaryColor),this.tertiaryTextColor=xe(this.primaryColor),this.lineColor=xe(this.background),this.textColor=xe(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.actorBorder=Ie(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ie(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ie(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Ie(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||Ie(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Q(this["cScale"+f],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Q(this.mainBkg,{h:30,s:-30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Q(this.mainBkg,{h:30,s:-30,l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Q(this.primaryColor,{l:-30}),this.pie5=this.pie5||Q(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Q(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Q(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Q(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Q(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Q(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Q(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Q(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Q(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Q(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Q(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Q(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Q(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Q(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ps(this.quadrant1Fill)?Me(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Q(this.primaryColor,{h:-30}),this.git4=this.git4||Q(this.primaryColor,{h:-60}),this.git5=this.git5||Q(this.primaryColor,{h:-90}),this.git6=this.git6||Q(this.primaryColor,{h:60}),this.git7=this.git7||Q(this.primaryColor,{h:120}),this.darkMode?(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)):(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)),this.gitInv0=this.gitInv0||xe(this.git0),this.gitInv1=this.gitInv1||xe(this.git1),this.gitInv2=this.gitInv2||xe(this.git2),this.gitInv3=this.gitInv3||xe(this.git3),this.gitInv4=this.gitInv4||xe(this.git4),this.gitInv5=this.gitInv5||xe(this.git5),this.gitInv6=this.gitInv6||xe(this.git6),this.gitInv7=this.gitInv7||xe(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||xe(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||xe(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ou}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const ND=e=>{const t=new ID;return t.calculate(e),t};class zD{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Me(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Q(this.primaryColor,{h:-160}),this.primaryBorderColor=sr(this.primaryColor,this.darkMode),this.secondaryBorderColor=sr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sr(this.tertiaryColor,this.darkMode),this.primaryTextColor=xe(this.primaryColor),this.secondaryTextColor=xe(this.secondaryColor),this.tertiaryTextColor=xe(this.tertiaryColor),this.lineColor=xe(this.background),this.textColor=xe(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.secondBkg=Me(this.contrast,55),this.border2=this.contrast,this.actorBorder=Me(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||xe(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Me(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||Ie(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Q(this.mainBkg,{l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Q(this.mainBkg,{l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Me(this.contrast,30),this.sectionBkgColor2=Me(this.contrast,30),this.taskBorderColor=Ie(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Me(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ie(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Q(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Q(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Q(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Q(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Q(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Q(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ps(this.quadrant1Fill)?Me(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ie(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Q(this.primaryColor,{h:-30}),this.git4=this.pie5||Q(this.primaryColor,{h:-60}),this.git5=this.pie6||Q(this.primaryColor,{h:-90}),this.git6=this.pie7||Q(this.primaryColor,{h:60}),this.git7=this.pie8||Q(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||xe(this.git0),this.gitInv1=this.gitInv1||xe(this.git1),this.gitInv2=this.gitInv2||xe(this.git2),this.gitInv3=this.gitInv3||xe(this.git3),this.gitInv4=this.gitInv4||xe(this.git4),this.gitInv5=this.gitInv5||xe(this.git5),this.gitInv6=this.gitInv6||xe(this.git6),this.gitInv7=this.gitInv7||xe(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ou}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const $D=e=>{const t=new zD;return t.calculate(e),t},Bn={base:{getThemeVariables:PD},dark:{getThemeVariables:FD},default:{getThemeVariables:RD},forest:{getThemeVariables:ND},neutral:{getThemeVariables:$D}},xn={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},wx={...xn,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Bn.default.getThemeVariables(),sequence:{...xn.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...xn.gantt,tickInterval:void 0,useWidth:void 0},c4:{...xn.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...xn.pie,useWidth:984},xyChart:{...xn.xyChart,useWidth:void 0},requirement:{...xn.requirement,useWidth:void 0},gitGraph:{...xn.gitGraph,useMaxWidth:!1},sankey:{...xn.sankey,useMaxWidth:!1}},Tx=(e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...Tx(e[n],"")]:[...r,t+n],[]),qD=new Set(Tx(wx,"")),VD=wx,Wl=e=>{if(Re.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Wl(t));return}for(const t of Object.keys(e)){if(Re.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!qD.has(t)||e[t]==null){Re.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){Re.debug("sanitizing object",t),Wl(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(Re.debug("sanitizing css option",t),e[t]=HD(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}Re.debug("After sanitization",e)}},HD=e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},_x=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Ro=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,WD=/\s*%%.*\n/gm;class Sx extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const Oa={},Ru=function(e,t){e=e.replace(_x,"").replace(Ro,"").replace(WD,`
`);for(const[r,{detector:n}]of Object.entries(Oa))if(n(e,t))return r;throw new Sx(`No diagram type detected matching given configuration for text: ${e}`)},Ex=(...e)=>{for(const{id:t,detector:r,loader:n}of e)kx(t,r,n)},kx=(e,t,r)=>{Oa[e]?Re.error(`Detector with key ${e} already exists`):Oa[e]={detector:t,loader:r},Re.debug(`Detector with key ${e} added${r?" with loader":""}`)},UD=e=>Oa[e].loader,qf=(e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>qf(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=qf(e[a],t[a],{depth:r-1,clobber:n})):(n||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},Xt=qf,GD="",YD={curveBasis:TB,curveBasisClosed:_B,curveBasisOpen:SB,curveBumpX:CB,curveBumpY:wB,curveBundle:EB,curveCardinalClosed:BB,curveCardinalOpen:AB,curveCardinal:kB,curveCatmullRomClosed:DB,curveCatmullRomOpen:PB,curveCatmullRom:LB,curveLinear:xB,curveLinearClosed:MB,curveMonotoneX:FB,curveMonotoneY:OB,curveNatural:RB,curveStep:IB,curveStepAfter:zB,curveStepBefore:NB},KD=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,jD=function(e,t){const r=Bx(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(s=>s.args);Wl(o),n=Xt(n,[...o])}else n=r.args;if(!n)return;let i=Ru(e,t);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},Bx=function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${KD.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),Re.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const i=[];for(;(n=Ro.exec(e))!==null;)if(n.index===Ro.lastIndex&&Ro.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){const a=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:a,args:o})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return Re.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},XD=function(e){return e.replace(Ro,"")},ZD=function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1};function QD(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return YD[r]??t}function JD(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?aS.sanitizeUrl(r):r}const eP=(e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let a=window;for(let o=0;o<n;o++)if(a=a[r[o]],!a){Re.error(`Function name: ${e} not found in window`);return}a[i](...t)};function Ax(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function tP(e){let t,r=0;e.forEach(i=>{r+=Ax(i,t),t=i});const n=r/2;return jd(e,n)}function rP(e){return e.length===1?e[0]:tP(e)}const dg=(e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},jd=(e,t)=>{let r,n=t;for(const i of e){if(r){const a=Ax(i,r);if(a<n)n-=a;else{const o=n/a;if(o<=0)return r;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:dg((1-o)*r.x+o*i.x,5),y:dg((1-o)*r.y+o*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},nP=(e,t,r)=>{Re.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=jd(t,25),a=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),s={x:0,y:0};return s.x=Math.sin(o)*a+(t[0].x+i.x)/2,s.y=-Math.cos(o)*a+(t[0].y+i.y)/2,s};function iP(e,t,r){const n=structuredClone(r);Re.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,a=jd(n,i),o=10+e*.5,s=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*o+(n[0].x+a.x)/2,l.y=-Math.cos(s+Math.PI)*o+(n[0].y+a.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*o+(n[0].x+a.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(n[0].y+a.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*o+(n[0].x+a.x)/2-5,l.y=-Math.cos(s)*o+(n[0].y+a.y)/2-5):(l.x=Math.sin(s)*o+(n[0].x+a.x)/2,l.y=-Math.cos(s)*o+(n[0].y+a.y)/2),l}function aP(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}let vg=0;const oP=()=>(vg++,"id-"+Math.random().toString(36).substr(2,12)+"-"+vg);function sP(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}const lP=e=>sP(e.length),uP=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},cP=function(e,t){const r=t.text.replace(Kd.lineBreakRegex," "),[,n]=Zd(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(r),i},hP=gs((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Kd.lineBreakRegex.test(e)))return e;const n=e.split(" "),i=[];let a="";return n.forEach((o,s)=>{const l=Ul(`${o} `,r),u=Ul(a,r);if(l>t){const{hyphenatedStrings:f,remainingWord:d}=fP(o,t,"-",r);i.push(a,...f),a=d}else u+l>=t?(i.push(a),a=o):a=[a,o].filter(Boolean).join(" ");s+1===n.length&&i.push(a)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),fP=gs((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],a=[];let o="";return i.forEach((s,l)=>{const u=`${o}${s}`;if(Ul(u,n)>=t){const h=l+1,f=i.length===h,d=`${u}${r}`;a.push(f?u:d),o=""}else o=u}),{hyphenatedStrings:a,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function dP(e,t){return Xd(e,t).height}function Ul(e,t){return Xd(e,t).width}const Xd=gs((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,a]=Zd(r),o=["sans-serif",n],s=e.split(Kd.lineBreakRegex),l=[],u=Dr("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const c=u.append("svg");for(const f of o){let d=0;const v={width:0,height:0,lineHeight:0};for(const y of s){const p=uP();p.text=y||GD;const m=cP(c,p).style("font-size",a).style("font-weight",i).style("font-family",f),g=(m._groups||m)[0][0].getBBox();if(g.width===0&&g.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,g.width)),d=Math.round(g.height),v.height+=d,v.lineHeight=Math.round(Math.max(v.lineHeight,d))}l.push(v)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);class vP{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}}let $s;const pP=function(e){return $s=$s||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),$s.innerHTML=e,unescape($s.textContent)};function Lx(e){return"str"in e}const gP=(e,t,r,n)=>{var i;if(!n)return;const a=(i=e.node())==null?void 0:i.getBBox();a&&e.append("text").text(n).attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},Zd=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function Dx(e,t){return zL({},e,t)}const Io={assignWithDepth:Xt,wrapLabel:hP,calculateTextHeight:dP,calculateTextWidth:Ul,calculateTextDimensions:Xd,cleanAndMerge:Dx,detectInit:jD,detectDirective:Bx,isSubstringInArray:ZD,interpolateToCurve:QD,calcLabelPosition:rP,calcCardinalityPosition:nP,calcTerminalLabelPosition:iP,formatUrl:JD,getStylesFromArray:aP,generateId:oP,random:lP,runFunc:eP,entityDecode:pP,insertTitle:gP,parseFontSize:Zd,InitIDGenerator:vP},mP=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),t},yP=function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},pg="10.9.4",Ra=Object.freeze(VD);let vr=Xt({},Ra),Px,Ia=[],No=Xt({},Ra);const Iu=(e,t)=>{let r=Xt({},e),n={};for(const i of t)Ox(i),n=Xt(n,i);if(r=Xt(r,n),n.theme&&n.theme in Bn){const i=Xt({},Px),a=Xt(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Bn&&(r.themeVariables=Bn[r.theme].getThemeVariables(a))}return No=r,Rx(No),No},bP=e=>(vr=Xt({},Ra),vr=Xt(vr,e),e.theme&&Bn[e.theme]&&(vr.themeVariables=Bn[e.theme].getThemeVariables(e.themeVariables)),Iu(vr,Ia),vr),xP=e=>{Px=Xt({},e)},CP=e=>(vr=Xt(vr,e),Iu(vr,Ia),vr),Mx=()=>Xt({},vr),Fx=e=>(Rx(e),Xt(No,e),hn()),hn=()=>Xt({},No),Ox=e=>{e&&(["secure",...vr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(Re.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&Ox(e[t])}))},wP=e=>{Wl(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),Ia.push(e),Iu(vr,Ia)},Gl=(e=vr)=>{Ia=[],Iu(e,Ia)},TP={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},gg={},_P=e=>{gg[e]||(Re.warn(TP[e]),gg[e]=!0)},Rx=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&_P("LAZY_LOAD_DEPRECATED")},Ix="c4",SP=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),EP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/c4Diagram-15b5d702-BtZobvnC.js");return{diagram:t}},__vite__mapDeps([0,1]));return{id:Ix,diagram:e}},kP={id:Ix,detector:SP,loader:EP},BP=kP,Nx="flowchart",AP=(e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},LP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/flowDiagram-cbd28bf7-BBGv6jIm.js");return{diagram:t}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:Nx,diagram:e}},DP={id:Nx,detector:AP,loader:LP},PP=DP,zx="flowchart-v2",MP=(e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},FP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/flowDiagram-v2-ffc7f31a-9uzUqGLS.js");return{diagram:t}},__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:zx,diagram:e}},OP={id:zx,detector:MP,loader:FP},RP=OP,$x="er",IP=e=>/^\s*erDiagram/.test(e),NP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/erDiagram-880f2ed8-DGu80oZn.js");return{diagram:t}},__vite__mapDeps([16,4,5,11,12,13]));return{id:$x,diagram:e}},zP={id:$x,detector:IP,loader:NP},$P=zP,qx="gitGraph",qP=e=>/^\s*gitGraph/.test(e),VP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/gitGraphDiagram-21fc4d3e-B1MO5BMh.js");return{diagram:t}},[]);return{id:qx,diagram:e}},HP={id:qx,detector:qP,loader:VP},WP=HP,Vx="gantt",UP=e=>/^\s*gantt/.test(e),GP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/ganttDiagram-04f9e578-BHgJNci-.js");return{diagram:t}},__vite__mapDeps([17,18,19]));return{id:Vx,diagram:e}},YP={id:Vx,detector:UP,loader:GP},KP=YP,Hx="info",jP=e=>/^\s*info/.test(e),XP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/infoDiagram-4a4f5b27-B8l0jpZN.js");return{diagram:t}},[]);return{id:Hx,diagram:e}},ZP={id:Hx,detector:jP,loader:XP},Wx="pie",QP=e=>/^\s*pie/.test(e),JP=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/pieDiagram-421022e6-Dv7vMdKC.js");return{diagram:t}},__vite__mapDeps([20,21,13,22,19,12]));return{id:Wx,diagram:e}},eM={id:Wx,detector:QP,loader:JP},Ux="quadrantChart",tM=e=>/^\s*quadrantChart/.test(e),rM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/quadrantDiagram-0957ecba-CADpULQT.js");return{diagram:t}},__vite__mapDeps([23,18,19]));return{id:Ux,diagram:e}},nM={id:Ux,detector:tM,loader:rM},iM=nM,Gx="xychart",aM=e=>/^\s*xychart-beta/.test(e),oM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/xychartDiagram-b6496bcd-C15EwDeW.js");return{diagram:t}},__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:Gx,diagram:e}},sM={id:Gx,detector:aM,loader:oM},lM=sM,Yx="requirement",uM=e=>/^\s*requirement(Diagram)?/.test(e),cM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/requirementDiagram-23d650b8-fnGkM_1S.js");return{diagram:t}},__vite__mapDeps([25,4,5,11,12,13]));return{id:Yx,diagram:e}},hM={id:Yx,detector:uM,loader:cM},fM=hM,Kx="sequence",dM=e=>/^\s*sequenceDiagram/.test(e),vM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/sequenceDiagram-17ac3bff-FpNbcy82.js");return{diagram:t}},__vite__mapDeps([26,1]));return{id:Kx,diagram:e}},pM={id:Kx,detector:dM,loader:vM},gM=pM,jx="class",mM=(e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},yM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/classDiagram-d40c83e7-Cj-mRfxo.js");return{diagram:t}},__vite__mapDeps([27,28,4,5,11,12,13]));return{id:jx,diagram:e}},bM={id:jx,detector:mM,loader:yM},xM=bM,Xx="classDiagram",CM=(e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},wM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/classDiagram-v2-d5a6b087-CR3m-0v5.js");return{diagram:t}},__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:Xx,diagram:e}},TM={id:Xx,detector:CM,loader:wM},_M=TM,Zx="state",SM=(e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},EM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/stateDiagram-9c5f0230-CBqKgsIg.js");return{diagram:t}},__vite__mapDeps([30,31,4,5,11,12,13]));return{id:Zx,diagram:e}},kM={id:Zx,detector:SM,loader:EM},BM=kM,Qx="stateDiagram",AM=(e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},LM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/stateDiagram-v2-51a3dcff-Bug3r4RQ.js");return{diagram:t}},__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:Qx,diagram:e}},DM={id:Qx,detector:AM,loader:LM},PM=DM,Jx="journey",MM=e=>/^\s*journey/.test(e),FM=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/journeyDiagram-29694f62-BFvE3EY9.js");return{diagram:t}},__vite__mapDeps([33,1,21,13]));return{id:Jx,diagram:e}},OM={id:Jx,detector:MM,loader:FM},RM=OM,IM=function(e,t){for(let r of t)e.attr(r[0],r[1])},NM=function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},e1=function(e,t,r,n){const i=NM(t,r,n);IM(e,i)},zM=function(e,t,r,n){const i=t.node().getBBox(),a=i.width,o=i.height;Re.info(`SVG bounds: ${a}x${o}`,i);let s=0,l=0;Re.info(`Graph bounds: ${s}x${l}`,e),s=a+r*2,l=o+r*2,Re.info(`Calculated bounds: ${s}x${l}`),e1(t,l,s,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)},fl={},$M=(e,t,r)=>{let n="";return e in fl&&fl[e]?n=fl[e](r):Re.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},qM=(e,t)=>{t!==void 0&&(fl[e]=t)},VM=$M;let Qd="",Jd="",ev="";const tv=e=>Fa(e,hn()),HM=()=>{Qd="",ev="",Jd=""},WM=e=>{Qd=tv(e).replace(/^\s+/g,"")},UM=()=>Qd,GM=e=>{ev=tv(e).replace(/\n\s+/g,`
`)},YM=()=>ev,KM=e=>{Jd=tv(e)},jM=()=>Jd,XM=Object.freeze(Object.defineProperty({__proto__:null,clear:HM,getAccDescription:YM,getAccTitle:UM,getDiagramTitle:jM,setAccDescription:GM,setAccTitle:WM,setDiagramTitle:KM},Symbol.toStringTag,{value:"Module"})),ZM=Re,QM=Yd,rv=hn,fq=Fx,dq=Ra,JM=e=>Fa(e,rv()),eF=zM,tF=()=>XM,Yl={},Kl=(e,t,r)=>{var n;if(Yl[e])throw new Error(`Diagram ${e} already registered.`);Yl[e]=t,r&&kx(e,r),qM(e,t.styles),(n=t.injectUtils)==null||n.call(t,ZM,QM,rv,JM,eF,tF(),()=>{})},nv=e=>{if(e in Yl)return Yl[e];throw new rF(e)};class rF extends Error{constructor(t){super(`Diagram ${t} not found.`)}}const nF=e=>{var t;const{securityLevel:r}=rv();let n=Dr("body");if(r==="sandbox"){const o=((t=Dr(`#i${e}`).node())==null?void 0:t.contentDocument)??document;n=Dr(o.body)}return n.select(`#${e}`)},iF=(e,t,r)=>{Re.debug(`rendering svg for syntax error
`);const n=nF(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),e1(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},t1={draw:iF},aF=t1,oF={db:{},renderer:t1,parser:{parser:{yy:{}},parse:()=>{}}},sF=oF,r1="flowchart-elk",lF=(e,t)=>{var r;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk")},uF=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/flowchart-elk-definition-36e2d292-DrgB5VCD.js");return{diagram:t}},__vite__mapDeps([34,3,9,10,11,12,13]));return{id:r1,diagram:e}},cF={id:r1,detector:lF,loader:uF},hF=cF,n1="timeline",fF=e=>/^\s*timeline/.test(e),dF=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/timeline-definition-7e6b55e7-CJ1Wwb16.js");return{diagram:t}},__vite__mapDeps([35,21,13]));return{id:n1,diagram:e}},vF={id:n1,detector:fF,loader:dF},pF=vF,i1="mindmap",gF=e=>/^\s*mindmap/.test(e),mF=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/mindmap-definition-ac74a2e8-CQsjJXmd.js");return{diagram:t}},__vite__mapDeps([36,10]));return{id:i1,diagram:e}},yF={id:i1,detector:gF,loader:mF},bF=yF,a1="sankey",xF=e=>/^\s*sankey-beta/.test(e),CF=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/sankeyDiagram-23345273-C3k3szqQ.js");return{diagram:t}},__vite__mapDeps([37,22,19,38]));return{id:a1,diagram:e}},wF={id:a1,detector:xF,loader:CF},TF=wF,o1="block",_F=e=>/^\s*block-beta/.test(e),SF=async()=>{const{diagram:e}=await mt(async()=>{const{diagram:t}=await import("./chunks/blockDiagram-68f4deed-Cg9y_k4L.js");return{diagram:t}},__vite__mapDeps([39,8,4,9,10,11,12,13,14,22,19,38]));return{id:o1,diagram:e}},EF={id:o1,detector:_F,loader:SF},kF=EF;let mg=!1;const iv=()=>{mg||(mg=!0,Kl("error",sF,e=>e.toLowerCase().trim()==="error"),Kl("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),Ex(BP,_M,xM,$P,KP,ZP,eM,fM,gM,hF,RP,PP,bF,pF,WP,PM,BM,RM,iM,TF,lM,kF))};class s1{constructor(t,r={}){this.text=t,this.metadata=r,this.type="graph",this.text=mP(t),this.text+=`
`;const n=hn();try{this.type=Ru(t,n)}catch(a){this.type="error",this.detectError=a}const i=nv(this.type);Re.debug("Type "+this.type),this.db=i.db,this.renderer=i.renderer,this.parser=i.parser,this.parser.parser.yy=this.db,this.init=i.init,this.parse()}parse(){var t,r,n,i,a;if(this.detectError)throw this.detectError;(r=(t=this.db).clear)==null||r.call(t);const o=hn();(n=this.init)==null||n.call(this,o),this.metadata.title&&((a=(i=this.db).setDiagramTitle)==null||a.call(i,this.metadata.title)),this.parser.parse(this.text)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}}const BF=async(e,t={})=>{const r=Ru(e,hn());try{nv(r)}catch{const i=UD(r);if(!i)throw new Sx(`Diagram ${r} not found.`);const{id:a,diagram:o}=await i();Kl(a,o)}return new s1(e,t)};let yg=[];const AF=()=>{yg.forEach(e=>{e()}),yg=[]},LF="graphics-document document";function DF(e,t){e.attr("role",LF),t!==""&&e.attr("aria-roledescription",t)}function PF(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}const MF=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function l1(e){return typeof e>"u"||e===null}function FF(e){return typeof e=="object"&&e!==null}function OF(e){return Array.isArray(e)?e:l1(e)?[]:[e]}function RF(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function IF(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function NF(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var zF=l1,$F=FF,qF=OF,VF=IF,HF=NF,WF=RF,or={isNothing:zF,isObject:$F,toArray:qF,repeat:VF,isNegativeZero:HF,extend:WF};function u1(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function es(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=u1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}es.prototype=Object.create(Error.prototype);es.prototype.constructor=es;es.prototype.toString=function(t){return this.name+": "+u1(this,t)};var En=es;function Bc(e,t,r,n,i){var a="",o="",s=Math.floor(i/2)-1;return n-t>s&&(a=" ... ",t=n-s+a.length),r-n>s&&(o=" ...",r=n+s-o.length),{str:a+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+a.length}}function Ac(e,t){return or.repeat(" ",t-e.length)+e}function UF(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,o=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var s="",l,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=Bc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),h),s=or.repeat(" ",t.indent)+Ac((e.line-l+1).toString(),c)+" | "+u.str+`
`+s;for(u=Bc(e.buffer,n[o],i[o],e.position,h),s+=or.repeat(" ",t.indent)+Ac((e.line+1).toString(),c)+" | "+u.str+`
`,s+=or.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)u=Bc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),h),s+=or.repeat(" ",t.indent)+Ac((e.line+l+1).toString(),c)+" | "+u.str+`
`;return s.replace(/\n$/,"")}var GF=UF,YF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],KF=["scalar","sequence","mapping"];function jF(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function XF(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(YF.indexOf(r)===-1)throw new En('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=jF(t.styleAliases||null),KF.indexOf(this.kind)===-1)throw new En('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Zt=XF;function bg(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,o){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=o)}),r[i]=n}),r}function ZF(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Vf(e){return this.extend(e)}Vf.prototype.extend=function(t){var r=[],n=[];if(t instanceof Zt)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new En("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof Zt))throw new En("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new En("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new En("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof Zt))throw new En("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Vf.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=bg(i,"implicit"),i.compiledExplicit=bg(i,"explicit"),i.compiledTypeMap=ZF(i.compiledImplicit,i.compiledExplicit),i};var QF=Vf,JF=new Zt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),eO=new Zt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),tO=new Zt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),rO=new QF({explicit:[JF,eO,tO]});function nO(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function iO(){return null}function aO(e){return e===null}var oO=new Zt("tag:yaml.org,2002:null",{kind:"scalar",resolve:nO,construct:iO,predicate:aO,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function sO(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function lO(e){return e==="true"||e==="True"||e==="TRUE"}function uO(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var cO=new Zt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:sO,construct:lO,predicate:uO,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function hO(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function fO(e){return 48<=e&&e<=55}function dO(e){return 48<=e&&e<=57}function vO(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!hO(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!fO(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!dO(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function pO(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function gO(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!or.isNegativeZero(e)}var mO=new Zt("tag:yaml.org,2002:int",{kind:"scalar",resolve:vO,construct:pO,predicate:gO,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),yO=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function bO(e){return!(e===null||!yO.test(e)||e[e.length-1]==="_")}function xO(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var CO=/^[-+]?[0-9]+e/;function wO(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(or.isNegativeZero(e))return"-0.0";return r=e.toString(10),CO.test(r)?r.replace("e",".e"):r}function TO(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||or.isNegativeZero(e))}var _O=new Zt("tag:yaml.org,2002:float",{kind:"scalar",resolve:bO,construct:xO,predicate:TO,represent:wO,defaultStyle:"lowercase"}),c1=rO.extend({implicit:[oO,cO,mO,_O]}),SO=c1,h1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),f1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function EO(e){return e===null?!1:h1.exec(e)!==null||f1.exec(e)!==null}function kO(e){var t,r,n,i,a,o,s,l=0,u=null,c,h,f;if(t=h1.exec(e),t===null&&(t=f1.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],h=+(t[11]||0),u=(c*60+h)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,a,o,s,l)),u&&f.setTime(f.getTime()-u),f}function BO(e){return e.toISOString()}var AO=new Zt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:EO,construct:kO,instanceOf:Date,represent:BO});function LO(e){return e==="<<"||e===null}var DO=new Zt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:LO}),av=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function PO(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=av;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function MO(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=av,o=0,s=[];for(t=0;t<i;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function FO(e){var t="",r=0,n,i,a=e.length,o=av;for(n=0;n<a;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function OO(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var RO=new Zt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:PO,construct:MO,predicate:OO,represent:FO}),IO=Object.prototype.hasOwnProperty,NO=Object.prototype.toString;function zO(e){if(e===null)return!0;var t=[],r,n,i,a,o,s=e;for(r=0,n=s.length;r<n;r+=1){if(i=s[r],o=!1,NO.call(i)!=="[object Object]")return!1;for(a in i)if(IO.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function $O(e){return e!==null?e:[]}var qO=new Zt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:zO,construct:$O}),VO=Object.prototype.toString;function HO(e){if(e===null)return!0;var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],VO.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function WO(e){if(e===null)return[];var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}var UO=new Zt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:HO,construct:WO}),GO=Object.prototype.hasOwnProperty;function YO(e){if(e===null)return!0;var t,r=e;for(t in r)if(GO.call(r,t)&&r[t]!==null)return!1;return!0}function KO(e){return e!==null?e:{}}var jO=new Zt("tag:yaml.org,2002:set",{kind:"mapping",resolve:YO,construct:KO}),XO=SO.extend({implicit:[AO,DO],explicit:[RO,qO,UO,jO]}),ri=Object.prototype.hasOwnProperty,jl=1,d1=2,v1=3,Xl=4,Lc=1,ZO=2,xg=3,QO=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,JO=/[\x85\u2028\u2029]/,eR=/[,\[\]\{\}]/,p1=/^(?:!|!!|![a-z\-]+!)$/i,g1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Cg(e){return Object.prototype.toString.call(e)}function ln(e){return e===10||e===13}function Ii(e){return e===9||e===32}function yr(e){return e===9||e===32||e===10||e===13}function ha(e){return e===44||e===91||e===93||e===123||e===125}function tR(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function rR(e){return e===120?2:e===117?4:e===85?8:0}function nR(e){return 48<=e&&e<=57?e-48:-1}function wg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function iR(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var m1=new Array(256),y1=new Array(256);for(var ea=0;ea<256;ea++)m1[ea]=wg(ea)?1:0,y1[ea]=wg(ea);function aR(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||XO,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function b1(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=GF(r),new En(t,r)}function Fe(e,t){throw b1(e,t)}function Zl(e,t){e.onWarning&&e.onWarning.call(null,b1(e,t))}var Tg={YAML:function(t,r,n){var i,a,o;t.version!==null&&Fe(t,"duplication of %YAML directive"),n.length!==1&&Fe(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Fe(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&Fe(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Zl(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,a;n.length!==2&&Fe(t,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],p1.test(i)||Fe(t,"ill-formed tag handle (first argument) of the TAG directive"),ri.call(t.tagMap,i)&&Fe(t,'there is a previously declared suffix for "'+i+'" tag handle'),g1.test(a)||Fe(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Fe(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function Zn(e,t,r,n){var i,a,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,a=s.length;i<a;i+=1)o=s.charCodeAt(i),o===9||32<=o&&o<=1114111||Fe(e,"expected valid JSON character");else QO.test(s)&&Fe(e,"the stream contains non-printable characters");e.result+=s}}function _g(e,t,r,n){var i,a,o,s;for(or.isObject(r)||Fe(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,s=i.length;o<s;o+=1)a=i[o],ri.call(t,a)||(t[a]=r[a],n[a]=!0)}function fa(e,t,r,n,i,a,o,s,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Fe(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Cg(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Cg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)_g(e,t,a[u],r);else _g(e,t,a,r);else!e.json&&!ri.call(r,i)&&ri.call(t,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,Fe(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function ov(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Fe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Et(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ii(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ln(i))for(ov(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Zl(e,"deficient indentation"),n}function Nu(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||yr(r)))}function sv(e,t){t===1?e.result+=" ":t>1&&(e.result+=or.repeat(`
`,t-1))}function oR(e,t,r){var n,i,a,o,s,l,u,c,h=e.kind,f=e.result,d;if(d=e.input.charCodeAt(e.position),yr(d)||ha(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=e.input.charCodeAt(e.position+1),yr(i)||r&&ha(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;d!==0;){if(d===58){if(i=e.input.charCodeAt(e.position+1),yr(i)||r&&ha(i))break}else if(d===35){if(n=e.input.charCodeAt(e.position-1),yr(n))break}else{if(e.position===e.lineStart&&Nu(e)||r&&ha(d))break;if(ln(d))if(l=e.line,u=e.lineStart,c=e.lineIndent,Et(e,!1,-1),e.lineIndent>=t){s=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}s&&(Zn(e,a,o,!1),sv(e,e.line-l),a=o=e.position,s=!1),Ii(d)||(o=e.position+1),d=e.input.charCodeAt(++e.position)}return Zn(e,a,o,!1),e.result?!0:(e.kind=h,e.result=f,!1)}function sR(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Zn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ln(r)?(Zn(e,n,i,!0),sv(e,Et(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Nu(e)?Fe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Fe(e,"unexpected end of the stream within a single quoted scalar")}function lR(e,t){var r,n,i,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Zn(e,r,e.position,!0),e.position++,!0;if(s===92){if(Zn(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),ln(s))Et(e,!1,t);else if(s<256&&m1[s])e.result+=y1[s],e.position++;else if((o=rR(s))>0){for(i=o,a=0;i>0;i--)s=e.input.charCodeAt(++e.position),(o=tR(s))>=0?a=(a<<4)+o:Fe(e,"expected hexadecimal character");e.result+=iR(a),e.position++}else Fe(e,"unknown escape sequence");r=n=e.position}else ln(s)?(Zn(e,r,n,!0),sv(e,Et(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Nu(e)?Fe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Fe(e,"unexpected end of the stream within a double quoted scalar")}function uR(e,t){var r=!0,n,i,a,o=e.tag,s,l=e.anchor,u,c,h,f,d,v=Object.create(null),y,p,m,g;if(g=e.input.charCodeAt(e.position),g===91)c=93,d=!1,s=[];else if(g===123)c=125,d=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),g=e.input.charCodeAt(++e.position);g!==0;){if(Et(e,!0,t),g=e.input.charCodeAt(e.position),g===c)return e.position++,e.tag=o,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=s,!0;r?g===44&&Fe(e,"expected the node content, but found ','"):Fe(e,"missed comma between flow collection entries"),p=y=m=null,h=f=!1,g===63&&(u=e.input.charCodeAt(e.position+1),yr(u)&&(h=f=!0,e.position++,Et(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,Na(e,t,jl,!1,!0),p=e.tag,y=e.result,Et(e,!0,t),g=e.input.charCodeAt(e.position),(f||e.line===n)&&g===58&&(h=!0,g=e.input.charCodeAt(++e.position),Et(e,!0,t),Na(e,t,jl,!1,!0),m=e.result),d?fa(e,s,v,p,y,m,n,i,a):h?s.push(fa(e,null,v,p,y,m,n,i,a)):s.push(y),Et(e,!0,t),g=e.input.charCodeAt(e.position),g===44?(r=!0,g=e.input.charCodeAt(++e.position)):r=!1}Fe(e,"unexpected end of the stream within a flow collection")}function cR(e,t){var r,n,i=Lc,a=!1,o=!1,s=t,l=0,u=!1,c,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Lc===i?i=h===43?xg:ZO:Fe(e,"repeat of a chomping mode identifier");else if((c=nR(h))>=0)c===0?Fe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Fe(e,"repeat of an indentation width identifier"):(s=t+c-1,o=!0);else break;if(Ii(h)){do h=e.input.charCodeAt(++e.position);while(Ii(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!ln(h)&&h!==0)}for(;h!==0;){for(ov(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),ln(h)){l++;continue}if(e.lineIndent<s){i===xg?e.result+=or.repeat(`
`,a?1+l:l):i===Lc&&a&&(e.result+=`
`);break}for(n?Ii(h)?(u=!0,e.result+=or.repeat(`
`,a?1+l:l)):u?(u=!1,e.result+=or.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=or.repeat(`
`,l):e.result+=or.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,r=e.position;!ln(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Zn(e,r,e.position,!1)}return!0}function Sg(e,t){var r,n=e.tag,i=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Fe(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!yr(o))));){if(s=!0,e.position++,Et(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Na(e,t,v1,!1,!0),a.push(e.result),Et(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)Fe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function hR(e,t,r){var n,i,a,o,s,l,u=e.tag,c=e.anchor,h={},f=Object.create(null),d=null,v=null,y=null,p=!1,m=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),g=e.input.charCodeAt(e.position);g!==0;){if(!p&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Fe(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(g===63||g===58)&&yr(n))g===63?(p&&(fa(e,h,f,d,v,null,o,s,l),d=v=y=null),m=!0,p=!0,i=!0):p?(p=!1,i=!0):Fe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=n;else{if(o=e.line,s=e.lineStart,l=e.position,!Na(e,r,d1,!1,!0))break;if(e.line===a){for(g=e.input.charCodeAt(e.position);Ii(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),yr(g)||Fe(e,"a whitespace character is expected after the key-value separator within a block mapping"),p&&(fa(e,h,f,d,v,null,o,s,l),d=v=y=null),m=!0,p=!1,i=!1,d=e.tag,v=e.result;else if(m)Fe(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(m)Fe(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===a||e.lineIndent>t)&&(p&&(o=e.line,s=e.lineStart,l=e.position),Na(e,t,Xl,!0,i)&&(p?v=e.result:y=e.result),p||(fa(e,h,f,d,v,y,o,s,l),d=v=y=null),Et(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&g!==0)Fe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return p&&fa(e,h,f,d,v,null,o,s,l),m&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=h),m}function fR(e){var t,r=!1,n=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Fe(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Fe(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!yr(o);)o===33&&(n?Fe(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),p1.test(i)||Fe(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),eR.test(a)&&Fe(e,"tag suffix cannot contain flow indicator characters")}a&&!g1.test(a)&&Fe(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Fe(e,"tag name is malformed: "+a)}return r?e.tag=a:ri.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:Fe(e,'undeclared tag handle "'+i+'"'),!0}function dR(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Fe(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!yr(r)&&!ha(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Fe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function vR(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!yr(n)&&!ha(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Fe(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ri.call(e.anchorMap,r)||Fe(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Et(e,!0,-1),!0}function Na(e,t,r,n,i){var a,o,s,l=1,u=!1,c=!1,h,f,d,v,y,p;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=Xl===r||v1===r,n&&Et(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;fR(e)||dR(e);)Et(e,!0,-1)?(u=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=u||i),(l===1||Xl===r)&&(jl===r||d1===r?y=t:y=t+1,p=e.position-e.lineStart,l===1?s&&(Sg(e,p)||hR(e,p,y))||uR(e,y)?c=!0:(o&&cR(e,y)||sR(e,y)||lR(e,y)?c=!0:vR(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&Fe(e,"alias node should not have any properties")):oR(e,y,jl===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=s&&Sg(e,p))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Fe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(v=e.implicitTypes[h],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ri.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,d=e.typeMap.multi[e.kind||"fallback"],h=0,f=d.length;h<f;h+=1)if(e.tag.slice(0,d[h].tag.length)===d[h].tag){v=d[h];break}v||Fe(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&Fe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Fe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function pR(e){var t=e.position,r,n,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Et(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!yr(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Fe(e,"directive name must not be less than one character in length");o!==0;){for(;Ii(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ln(o));break}if(ln(o))break;for(r=e.position;o!==0&&!yr(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&ov(e),ri.call(Tg,n)?Tg[n](e,n,i):Zl(e,'unknown document directive "'+n+'"')}if(Et(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Et(e,!0,-1)):a&&Fe(e,"directives end mark is expected"),Na(e,e.lineIndent-1,Xl,!1,!0),Et(e,!0,-1),e.checkLineBreaks&&JO.test(e.input.slice(t,e.position))&&Zl(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Nu(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Et(e,!0,-1));return}if(e.position<e.length-1)Fe(e,"end of the stream or a document separator is expected");else return}function gR(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new aR(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Fe(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)pR(r);return r.documents}function mR(e,t){var r=gR(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new En("expected a single document in the stream, but found more")}}var yR=mR,bR={load:yR},xR=c1,CR=bR.load;function wR(e){const t=e.match(_x);if(!t)return{text:e,metadata:{}};let r=CR(t[1],{schema:xR})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}const TR=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),_R=e=>{const{text:t,metadata:r}=wR(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},SR=e=>{const t=Io.detectInit(e)??{},r=Io.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>{}):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:XD(e),directive:t}};function x1(e){const t=TR(e),r=_R(t),n=SR(r.text),i=Dx(r.config,n.directive);return e=MF(n.text),{code:e,title:r.title,config:i}}const ER=5e4,kR="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",BR="sandbox",AR="loose",LR="http://www.w3.org/2000/svg",DR="http://www.w3.org/1999/xlink",PR="http://www.w3.org/1999/xhtml",MR="100%",FR="100%",OR="border:0;margin:0;",RR="margin:0",IR="allow-top-navigation-by-user-activation allow-popups",NR='The "iframe" tag is not supported by your browser.',zR=["foreignobject"],$R=["dominant-baseline"];function C1(e){const t=x1(e);return Gl(),wP(t.config??{}),t}async function qR(e,t){iv(),e=C1(e).code;try{await lv(e)}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}return!0}const Eg=(e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,VR=(e,t={})=>{var r;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!kc(t)){const s=e.htmlLabels||((r=e.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in t){const u=t[l];kc(u.styles)||s.forEach(c=>{n+=Eg(u.id,c,u.styles)}),kc(u.textStyles)||(n+=Eg(u.id,"tspan",u.textStyles))}}return n},HR=(e,t,r,n)=>{const i=VR(e,r),a=VM(t,i,e.themeVariables);return Ff(eD(`${n}{${a}}`),rD)},WR=(e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=yP(n),n=n.replace(/<br>/g,"<br/>"),n},UR=(e="",t)=>{var r,n;const i=(n=(r=t==null?void 0:t.viewBox)==null?void 0:r.baseVal)!=null&&n.height?t.viewBox.baseVal.height+"px":FR,a=btoa('<body style="'+RR+'">'+e+"</body>");return`<iframe style="width:${MR};height:${i};${OR}" src="data:text/html;base64,${a}" sandbox="${IR}">
  ${NR}
</iframe>`},kg=(e,t,r,n,i)=>{const a=e.append("div");a.attr("id",r),n&&a.attr("style",n);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",LR);return i&&o.attr("xmlns:xlink",i),o.append("g"),e};function Bg(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const GR=(e,t,r,n)=>{var i,a,o;(i=e.getElementById(t))==null||i.remove(),(a=e.getElementById(r))==null||a.remove(),(o=e.getElementById(n))==null||o.remove()},YR=async function(e,t,r){var n,i,a,o,s,l;iv();const u=C1(t);t=u.code;const c=hn();Re.debug(c),t.length>((c==null?void 0:c.maxTextSize)??ER)&&(t=kR);const h="#"+e,f="i"+e,d="#"+f,v="d"+e,y="#"+v;let p=Dr("body");const m=c.securityLevel===BR,g=c.securityLevel===AR,b=c.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),m){const z=Bg(Dr(r),f);p=Dr(z.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Dr(r);kg(p,e,v,`font-family: ${b}`,DR)}else{if(GR(document,e,v,f),m){const z=Bg(Dr("body"),f);p=Dr(z.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Dr("body");kg(p,e,v)}let x,w;try{x=await lv(t,{title:u.title})}catch(z){x=new s1("error"),w=z}const T=p.select(y).node(),C=x.type,S=T.firstChild,k=S.firstChild,B=(i=(n=x.renderer).getClasses)==null?void 0:i.call(n,t,x),E=HR(c,C,B,h),A=document.createElement("style");A.innerHTML=E,S.insertBefore(A,k);try{await x.renderer.draw(t,e,pg,x)}catch(z){throw aF.draw(t,e,pg),z}const D=p.select(`${y} svg`),O=(o=(a=x.db).getAccTitle)==null?void 0:o.call(a),R=(l=(s=x.db).getAccDescription)==null?void 0:l.call(s);jR(C,D,O,R),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",PR);let M=p.select(y).node().innerHTML;if(Re.debug("config.arrowMarkerAbsolute",c.arrowMarkerAbsolute),M=WR(M,m,Cx(c.arrowMarkerAbsolute)),m){const z=p.select(y+" svg").node();M=UR(M,z)}else g||(M=Da.sanitize(M,{ADD_TAGS:zR,ADD_ATTR:$R}));if(AF(),w)throw w;const I=Dr(m?d:y).node();return I&&"remove"in I&&I.remove(),{svg:M,bindFunctions:x.db.bindFunctions}};function KR(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),xP(e),e!=null&&e.theme&&e.theme in Bn?e.themeVariables=Bn[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Bn.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?bP(e):Mx();Yd(r.logLevel),iv()}const lv=(e,t={})=>{const{code:r}=x1(e);return BF(r,t)};function jR(e,t,r,n){DF(t,e),PF(t,r,n,t.attr("id"))}const $i=Object.freeze({render:YR,parse:qR,getDiagramFromText:lv,initialize:KR,getConfig:hn,setConfig:Fx,getSiteConfig:Mx,updateSiteConfig:CP,reset:()=>{Gl()},globalReset:()=>{Gl(Ra)},defaultConfig:Ra});Yd(hn().logLevel);Gl(hn());const XR=async()=>{Re.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Oa).map(async([r,{detector:n,loader:i}])=>{if(i)try{nv(r)}catch{try{const{diagram:o,id:s}=await i();Kl(s,o,n)}catch(o){throw Re.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Oa[r],o}}}))).filter(r=>r.status==="rejected");if(t.length>0){Re.error(`Failed to load ${t.length} external diagrams`);for(const r of t)Re.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},ZR=(e,t,r)=>{Re.warn(e),Lx(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},w1=async function(e={querySelector:".mermaid"}){try{await QR(e)}catch(t){if(Lx(t)&&Re.error(t.str),Rr.parseError&&Rr.parseError(t),!e.suppressErrors)throw Re.error("Use the suppressErrors option to suppress these errors"),t}},QR=async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=$i.getConfig();Re.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");Re.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(Re.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),$i.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Io.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const s=[];for(const l of Array.from(i)){Re.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;o=l.innerHTML,o=Z_(Io.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const c=Io.detectInit(o);c&&Re.debug("Detected early reinit: ",c);try{const{svg:h,bindFunctions:f}=await E1(u,o,l);l.innerHTML=h,e&&await e(u),f&&f(l)}catch(h){ZR(h,s,Rr.parseError)}}if(s.length>0)throw s[0]},T1=function(e){$i.initialize(e)},JR=async function(e,t,r){Re.warn("mermaid.init is deprecated. Please use run instead."),e&&T1(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await w1(n)},eI=async(e,{lazyLoad:t=!0}={})=>{Ex(...e),t===!1&&await XR()},_1=function(){if(Rr.startOnLoad){const{startOnLoad:e}=$i.getConfig();e&&Rr.run().catch(t=>Re.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",_1,!1)}const tI=function(e){Rr.parseError=e},Ql=[];let Dc=!1;const S1=async()=>{if(!Dc){for(Dc=!0;Ql.length>0;){const e=Ql.shift();if(e)try{await e()}catch(t){Re.error("Error executing queue",t)}}Dc=!1}},rI=async(e,t)=>new Promise((r,n)=>{const i=()=>new Promise((a,o)=>{$i.parse(e,t).then(s=>{a(s),r(s)},s=>{var l;Re.error("Error parsing",s),(l=Rr.parseError)==null||l.call(Rr,s),o(s),n(s)})});Ql.push(i),S1().catch(n)}),E1=(e,t,r)=>new Promise((n,i)=>{const a=()=>new Promise((o,s)=>{$i.render(e,t,r).then(l=>{o(l),n(l)},l=>{var u;Re.error("Error parsing",l),(u=Rr.parseError)==null||u.call(Rr,l),s(l),i(l)})});Ql.push(a),S1().catch(i)}),Rr={startOnLoad:!0,mermaidAPI:$i,parse:rI,render:E1,init:JR,run:w1,registerExternalDiagrams:eI,initialize:T1,parseError:void 0,contentLoaded:_1,setParseErrorHandler:tI,detectType:Ru};function Hf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nI(e){if(Array.isArray(e))return e}function iI(e){if(Array.isArray(e))return Hf(e)}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B1(n.key),n)}}function fi(e,t,r){return t&&aI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function br(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=uv(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||r.return==null||r.return()}finally{if(s)throw a}}}}function k1(e,t,r){return(t=B1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(e,t){return nI(e)||sI(e,t)||uv(e,t)||lI()}function Jl(e){return iI(e)||oI(e)||uv(e)||uI()}function cI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B1(e){var t=cI(e,"string");return typeof t=="symbol"?t:t+""}function Pt(e){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(e)}function uv(e,t){if(e){if(typeof e=="string")return Hf(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hf(e,t):void 0}}var Lt=typeof window>"u"?null:window,Ag=Lt?Lt.navigator:null;Lt&&Lt.document;var hI=Pt(""),A1=Pt({}),fI=Pt(function(){}),dI=typeof HTMLElement>"u"?"undefined":Pt(HTMLElement),bs=function(t){return t&&t.instanceString&&gt(t.instanceString)?t.instanceString():null},Oe=function(t){return t!=null&&Pt(t)==hI},gt=function(t){return t!=null&&Pt(t)===fI},at=function(t){return!Tr(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Xe=function(t){return t!=null&&Pt(t)===A1&&!at(t)&&t.constructor===Object},vI=function(t){return t!=null&&Pt(t)===A1},ye=function(t){return t!=null&&Pt(t)===Pt(1)&&!isNaN(t)},pI=function(t){return ye(t)&&Math.floor(t)===t},eu=function(t){if(dI!=="undefined")return t!=null&&t instanceof HTMLElement},Tr=function(t){return xs(t)||L1(t)},xs=function(t){return bs(t)==="collection"&&t._private.single},L1=function(t){return bs(t)==="collection"&&!t._private.single},cv=function(t){return bs(t)==="core"},D1=function(t){return bs(t)==="stylesheet"},gI=function(t){return bs(t)==="event"},ni=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},mI=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},yI=function(t){return Xe(t)&&ye(t.x1)&&ye(t.x2)&&ye(t.y1)&&ye(t.y2)},bI=function(t){return vI(t)&&gt(t.then)},xI=function(){return Ag&&Ag.userAgent.match(/msie|trident|edge/i)},za=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function(){var a=this,o=arguments,s,l=r.apply(a,o),u=n.cache;return(s=u[l])||(s=u[l]=t.apply(a,o)),s};return n.cache={},n},hv=za(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),zu=za(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),P1=za(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Lg=function(t){return ni(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},Kn=function(t,r){return t.slice(-1*r.length)===r},Dt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",CI="rgb[a]?\\(("+Dt+"[%]?)\\s*,\\s*("+Dt+"[%]?)\\s*,\\s*("+Dt+"[%]?)(?:\\s*,\\s*("+Dt+"))?\\)",wI="rgb[a]?\\((?:"+Dt+"[%]?)\\s*,\\s*(?:"+Dt+"[%]?)\\s*,\\s*(?:"+Dt+"[%]?)(?:\\s*,\\s*(?:"+Dt+"))?\\)",TI="hsl[a]?\\(("+Dt+")\\s*,\\s*("+Dt+"[%])\\s*,\\s*("+Dt+"[%])(?:\\s*,\\s*("+Dt+"))?\\)",_I="hsl[a]?\\((?:"+Dt+")\\s*,\\s*(?:"+Dt+"[%])\\s*,\\s*(?:"+Dt+"[%])(?:\\s*,\\s*(?:"+Dt+"))?\\)",SI="\\#[0-9a-fA-F]{3}",EI="\\#[0-9a-fA-F]{6}",M1=function(t,r){return t<r?-1:t>r?1:0},kI=function(t,r){return-1*M1(t,r)},Ne=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];e[o]=n[o]}}return e},BI=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,i,a,o=16;return r?(n=parseInt(t[1]+t[1],o),i=parseInt(t[2]+t[2],o),a=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),i=parseInt(t[3]+t[4],o),a=parseInt(t[5]+t[6],o)),[n,i,a]}},AI=function(t){var r,n,i,a,o,s,l,u;function c(v,y,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?v+(y-v)*6*p:p<1/2?y:p<2/3?v+(y-v)*(2/3-p)*6:v}var h=new RegExp("^"+TI+"$").exec(t);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,a=parseFloat(h[3]),a<0||a>100)||(a=a/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=l=u=Math.round(a*255);else{var f=a<.5?a*(1+i):a+i-a*i,d=2*a-f;s=Math.round(255*c(d,f,n+1/3)),l=Math.round(255*c(d,f,n)),u=Math.round(255*c(d,f,n-1/3))}r=[s,l,u,o]}return r},LI=function(t){var r,n=new RegExp("^"+CI+"$").exec(t);if(n){r=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},DI=function(t){return PI[t.toLowerCase()]},F1=function(t){return(at(t)?t:null)||DI(t)||BI(t)||LI(t)||AI(t)},PI={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},O1=function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(Xe(o))throw Error("Tried to set map with object key");a<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},R1=function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(Xe(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pc,Dg;function ws(){if(Dg)return Pc;Dg=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Pc=e,Pc}var Mc,Pg;function MI(){if(Pg)return Mc;Pg=1;var e=typeof qs=="object"&&qs&&qs.Object===Object&&qs;return Mc=e,Mc}var Fc,Mg;function $u(){if(Mg)return Fc;Mg=1;var e=MI(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Fc=r,Fc}var Oc,Fg;function FI(){if(Fg)return Oc;Fg=1;var e=$u(),t=function(){return e.Date.now()};return Oc=t,Oc}var Rc,Og;function OI(){if(Og)return Rc;Og=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Rc=t,Rc}var Ic,Rg;function RI(){if(Rg)return Ic;Rg=1;var e=OI(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Ic=r,Ic}var Nc,Ig;function fv(){if(Ig)return Nc;Ig=1;var e=$u(),t=e.Symbol;return Nc=t,Nc}var zc,Ng;function II(){if(Ng)return zc;Ng=1;var e=fv(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=n.call(o);return u&&(s?o[i]=l:delete o[i]),c}return zc=a,zc}var $c,zg;function NI(){if(zg)return $c;zg=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return $c=r,$c}var qc,$g;function I1(){if($g)return qc;$g=1;var e=fv(),t=II(),r=NI(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return qc=o,qc}var Vc,qg;function zI(){if(qg)return Vc;qg=1;function e(t){return t!=null&&typeof t=="object"}return Vc=e,Vc}var Hc,Vg;function Ts(){if(Vg)return Hc;Vg=1;var e=I1(),t=zI(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Hc=n,Hc}var Wc,Hg;function $I(){if(Hg)return Wc;Hg=1;var e=RI(),t=ws(),r=Ts(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=a.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?n:+u}return Wc=l,Wc}var Uc,Wg;function qI(){if(Wg)return Uc;Wg=1;var e=ws(),t=FI(),r=$I(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var c,h,f,d,v,y,p=0,m=!1,g=!1,b=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(m=!!u.leading,g="maxWait"in u,f=g?i(r(u.maxWait)||0,l):f,b="trailing"in u?!!u.trailing:b);function x(D){var O=c,R=h;return c=h=void 0,p=D,d=s.apply(R,O),d}function w(D){return p=D,v=setTimeout(S,l),m?x(D):d}function T(D){var O=D-y,R=D-p,M=l-O;return g?a(M,f-R):M}function C(D){var O=D-y,R=D-p;return y===void 0||O>=l||O<0||g&&R>=f}function S(){var D=t();if(C(D))return k(D);v=setTimeout(S,T(D))}function k(D){return v=void 0,b&&c?x(D):(c=h=void 0,d)}function B(){v!==void 0&&clearTimeout(v),p=0,c=y=h=v=void 0}function E(){return v===void 0?d:k(t())}function A(){var D=t(),O=C(D);if(c=arguments,h=this,y=D,O){if(v===void 0)return w(y);if(g)return clearTimeout(v),v=setTimeout(S,l),x(y)}return v===void 0&&(v=setTimeout(S,l)),d}return A.cancel=B,A.flush=E,A}return Uc=o,Uc}var VI=qI(),_s=Cs(VI),Gc=Lt?Lt.performance:null,N1=Gc&&Gc.now?function(){return Gc.now()}:function(){return Date.now()},HI=(function(){if(Lt){if(Lt.requestAnimationFrame)return function(e){Lt.requestAnimationFrame(e)};if(Lt.mozRequestAnimationFrame)return function(e){Lt.mozRequestAnimationFrame(e)};if(Lt.webkitRequestAnimationFrame)return function(e){Lt.webkitRequestAnimationFrame(e)};if(Lt.msRequestAnimationFrame)return function(e){Lt.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(N1())},1e3/60)}})(),tu=function(t){return HI(t)},Pn=N1,Bi=9261,z1=65599,ca=5381,$1=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bi,n=r,i;i=t.next(),!i.done;)n=n*z1+i.value|0;return n},ts=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bi;return r*z1+t|0},rs=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ca;return(r<<5)+r+t|0},WI=function(t,r){return t*2097152+r},Nn=function(t){return t[0]*2097152+t[1]},Vs=function(t,r){return[ts(t[0],r[0]),rs(t[1],r[1])]},Ug=function(t,r){var n={value:0,done:!1},i=0,a=t.length,o={next:function(){return i<a?n.value=t[i++]:n.done=!0,n}};return $1(o,r)},qi=function(t,r){var n={value:0,done:!1},i=0,a=t.length,o={next:function(){return i<a?n.value=t.charCodeAt(i++):n.done=!0,n}};return $1(o,r)},q1=function(){return UI(arguments)},UI=function(t){for(var r,n=0;n<t.length;n++){var i=t[n];n===0?r=qi(i):r=qi(i,r)}return r};function GI(e,t,r,n,i){var a=i*Math.PI/180,o=Math.cos(a)*(e-r)-Math.sin(a)*(t-n)+r,s=Math.sin(a)*(e-r)+Math.cos(a)*(t-n)+n;return{x:o,y:s}}var YI=function(t,r,n,i,a,o){return{x:(t-n)*a+n,y:(r-i)*o+i}};function KI(e,t,r){if(r===0)return e;var n=(t.x1+t.x2)/2,i=(t.y1+t.y2)/2,a=t.w/t.h,o=1/a,s=GI(e.x,e.y,n,i,r),l=YI(s.x,s.y,n,i,a,o);return{x:l.x,y:l.y}}var Gg=!0,jI=console.warn!=null,XI=console.trace!=null,dv=Number.MAX_SAFE_INTEGER||9007199254740991,V1=function(){return!0},ru=function(){return!1},Yg=function(){return 0},vv=function(){},dt=function(t){throw new Error(t)},H1=function(t){if(t!==void 0)Gg=!!t;else return Gg},tt=function(t){H1()&&(jI?console.warn(t):(console.log(t),XI&&console.trace()))},ZI=function(t){return Ne({},t)},nn=function(t){return t==null?t:at(t)?t.slice():Xe(t)?ZI(t):t},QI=function(t){return t.slice()},W1=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},JI={},U1=function(){return JI},Ht=function(t){var r=Object.keys(t);return function(n){for(var i={},a=0;a<r.length;a++){var o=r[a],s=n==null?void 0:n[o];i[o]=s===void 0?t[o]:s}return i}},ii=function(t,r,n){for(var i=t.length-1;i>=0;i--)t[i]===r&&t.splice(i,1)},pv=function(t){t.splice(0,t.length)},e5=function(t,r){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}},pr=function(t,r,n){return n&&(r=P1(n,r)),t[r]},_n=function(t,r,n,i){n&&(r=P1(n,r)),t[r]=i},t5=(function(){function e(){hi(this,e),this._obj={}}return fi(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),kn=typeof Map<"u"?Map:t5,r5="undefined",n5=(function(){function e(t){if(hi(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return fi(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),Ga=(typeof Set>"u"?"undefined":Pt(Set))!==r5?Set:n5,qu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!cv(t)){dt("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){dt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new Ga,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=t.pan(),l=t.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];at(r.classes)?u=r.classes:Oe(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,h=u.length;c<h;c++){var f=u[c];!f||f===""||a.classes.add(f)}this.createEmitter(),(n===void 0||n)&&this.restore();var d=r.style||r.css;d&&(tt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},Kg=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,i,a){var o;Xe(n)&&!Tr(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!gt(i)?i:a,i=gt(i)?i:function(){};for(var s=this._private.cy,l=n=Oe(n)?this.filter(n):n,u=[],c=[],h={},f={},d={},v=0,y,p=this.byGroup(),m=p.nodes,g=p.edges,b=0;b<l.length;b++){var x=l[b],w=x.id();x.isNode()&&(u.unshift(x),t.bfs&&(d[w]=!0,c.push(x)),f[w]=0)}for(var T=function(){var D=t.bfs?u.shift():u.pop(),O=D.id();if(t.dfs){if(d[O])return 0;d[O]=!0,c.push(D)}var R=f[O],M=h[O],P=M!=null?M.source():null,I=M!=null?M.target():null,z=M==null?void 0:D.same(P)?I[0]:P[0],W;if(W=i(D,M,z,v++,R),W===!0)return y=D,1;if(W===!1)return 1;for(var N=D.connectedEdges().filter(function(ae){return(!a||ae.source().same(D))&&g.has(ae)}),H=0;H<N.length;H++){var j=N[H],ne=j.connectedNodes().filter(function(ae){return!ae.same(D)&&m.has(ae)}),K=ne.id();ne.length!==0&&!d[K]&&(ne=ne[0],u.push(ne),t.bfs&&(d[K]=!0,c.push(ne)),h[K]=j,f[K]=f[O]+1)}},C;u.length!==0&&(C=T(),!(C!==0&&C===1)););for(var S=s.collection(),k=0;k<c.length;k++){var B=c[k],E=h[B.id()];E!=null&&S.push(E),S.push(B)}return{path:s.collection(S),found:s.collection(y)}}},ns={breadthFirstSearch:Kg({bfs:!0}),depthFirstSearch:Kg({dfs:!0})};ns.bfs=ns.breadthFirstSearch;ns.dfs=ns.depthFirstSearch;var dl={exports:{}},i5=dl.exports,jg;function a5(){return jg||(jg=1,(function(e,t){(function(){var r,n,i,a,o,s,l,u,c,h,f,d,v,y,p;i=Math.floor,h=Math.min,n=function(m,g){return m<g?-1:m>g?1:0},c=function(m,g,b,x,w){var T;if(b==null&&(b=0),w==null&&(w=n),b<0)throw new Error("lo must be non-negative");for(x==null&&(x=m.length);b<x;)T=i((b+x)/2),w(g,m[T])<0?x=T:b=T+1;return[].splice.apply(m,[b,b-b].concat(g)),g},s=function(m,g,b){return b==null&&(b=n),m.push(g),y(m,0,m.length-1,b)},o=function(m,g){var b,x;return g==null&&(g=n),b=m.pop(),m.length?(x=m[0],m[0]=b,p(m,0,g)):x=b,x},u=function(m,g,b){var x;return b==null&&(b=n),x=m[0],m[0]=g,p(m,0,b),x},l=function(m,g,b){var x;return b==null&&(b=n),m.length&&b(m[0],g)<0&&(x=[m[0],g],g=x[0],m[0]=x[1],p(m,0,b)),g},a=function(m,g){var b,x,w,T,C,S;for(g==null&&(g=n),T=(function(){S=[];for(var k=0,B=i(m.length/2);0<=B?k<B:k>B;0<=B?k++:k--)S.push(k);return S}).apply(this).reverse(),C=[],x=0,w=T.length;x<w;x++)b=T[x],C.push(p(m,b,g));return C},v=function(m,g,b){var x;if(b==null&&(b=n),x=m.indexOf(g),x!==-1)return y(m,0,x,b),p(m,x,b)},f=function(m,g,b){var x,w,T,C,S;if(b==null&&(b=n),w=m.slice(0,g),!w.length)return w;for(a(w,b),S=m.slice(g),T=0,C=S.length;T<C;T++)x=S[T],l(w,x,b);return w.sort(b).reverse()},d=function(m,g,b){var x,w,T,C,S,k,B,E,A;if(b==null&&(b=n),g*10<=m.length){if(T=m.slice(0,g).sort(b),!T.length)return T;for(w=T[T.length-1],B=m.slice(g),C=0,k=B.length;C<k;C++)x=B[C],b(x,w)<0&&(c(T,x,0,null,b),T.pop(),w=T[T.length-1]);return T}for(a(m,b),A=[],S=0,E=h(g,m.length);0<=E?S<E:S>E;0<=E?++S:--S)A.push(o(m,b));return A},y=function(m,g,b,x){var w,T,C;for(x==null&&(x=n),w=m[b];b>g;){if(C=b-1>>1,T=m[C],x(w,T)<0){m[b]=T,b=C;continue}break}return m[b]=w},p=function(m,g,b){var x,w,T,C,S;for(b==null&&(b=n),w=m.length,S=g,T=m[g],x=2*g+1;x<w;)C=x+1,C<w&&!(b(m[x],m[C])<0)&&(x=C),m[g]=m[x],g=x,x=2*g+1;return m[g]=T,y(m,S,g,b)},r=(function(){m.push=s,m.pop=o,m.replace=u,m.pushpop=l,m.heapify=a,m.updateItem=v,m.nlargest=f,m.nsmallest=d;function m(g){this.cmp=g??n,this.nodes=[]}return m.prototype.push=function(g){return s(this.nodes,g,this.cmp)},m.prototype.pop=function(){return o(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(g){return this.nodes.indexOf(g)!==-1},m.prototype.replace=function(g){return u(this.nodes,g,this.cmp)},m.prototype.pushpop=function(g){return l(this.nodes,g,this.cmp)},m.prototype.heapify=function(){return a(this.nodes,this.cmp)},m.prototype.updateItem=function(g){return v(this.nodes,g,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var g;return g=new m,g.nodes=this.nodes.slice(0),g},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m})(),(function(m,g){return e.exports=g()})(this,function(){return r})}).call(i5)})(dl)),dl.exports}var Yc,Xg;function o5(){return Xg||(Xg=1,Yc=a5()),Yc}var s5=o5(),Ss=Cs(s5),l5=Ht({root:null,weight:function(t){return 1},directed:!1}),u5={dijkstra:function(t){if(!Xe(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=l5(t),i=n.root,a=n.weight,o=n.directed,s=this,l=a,u=Oe(i)?this.filter(i)[0]:i[0],c={},h={},f={},d=this.byGroup(),v=d.nodes,y=d.edges;y.unmergeBy(function(R){return R.isLoop()});for(var p=function(M){return c[M.id()]},m=function(M,P){c[M.id()]=P,g.updateItem(M)},g=new Ss(function(R,M){return p(R)-p(M)}),b=0;b<v.length;b++){var x=v[b];c[x.id()]=x.same(u)?0:1/0,g.push(x)}for(var w=function(M,P){for(var I=(o?M.edgesTo(P):M.edgesWith(P)).intersect(y),z=1/0,W,N=0;N<I.length;N++){var H=I[N],j=l(H);(j<z||!W)&&(z=j,W=H)}return{edge:W,dist:z}};g.size()>0;){var T=g.pop(),C=p(T),S=T.id();if(f[S]=C,C!==1/0)for(var k=T.neighborhood().intersect(v),B=0;B<k.length;B++){var E=k[B],A=E.id(),D=w(T,E),O=C+D.dist;O<p(E)&&(m(E,O),h[A]={node:T,edge:D.edge})}}return{distanceTo:function(M){var P=Oe(M)?v.filter(M)[0]:M[0];return f[P.id()]},pathTo:function(M){var P=Oe(M)?v.filter(M)[0]:M[0],I=[],z=P,W=z.id();if(P.length>0)for(I.unshift(P);h[W];){var N=h[W];I.unshift(N.edge),I.unshift(N.node),z=N.node,W=z.id()}return s.spawn(I)}}}},c5={kruskal:function(t){t=t||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,o=new Array(a),s=n,l=function(x){for(var w=0;w<o.length;w++){var T=o[w];if(T.has(x))return w}},u=0;u<a;u++)o[u]=this.spawn(n[u]);for(var c=i.sort(function(b,x){return t(b)-t(x)}),h=0;h<c.length;h++){var f=c[h],d=f.source()[0],v=f.target()[0],y=l(d),p=l(v),m=o[y],g=o[p];y!==p&&(s.merge(f),m.merge(g),o.splice(p,1))}return s}},h5=Ht({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),f5={aStar:function(t){var r=this.cy(),n=h5(t),i=n.root,a=n.goal,o=n.heuristic,s=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),c=a.id(),h={},f={},d={},v=new Ss(function(W,N){return f[W.id()]-f[N.id()]}),y=new Ga,p={},m={},g=function(N,H){v.push(N),y.add(H)},b,x,w=function(){b=v.pop(),x=b.id(),y.delete(x)},T=function(N){return y.has(N)};g(i,u),h[u]=0,f[u]=o(i);for(var C=0;v.size()>0;){if(w(),C++,x===c){for(var S=[],k=a,B=c,E=m[B];S.unshift(k),E!=null&&S.unshift(E),k=p[B],k!=null;)B=k.id(),E=m[B];return{found:!0,distance:h[x],path:this.spawn(S),steps:C}}d[x]=!0;for(var A=b._private.edges,D=0;D<A.length;D++){var O=A[D];if(this.hasElementWithId(O.id())&&!(s&&O.data("source")!==x)){var R=O.source(),M=O.target(),P=R.id()!==x?R:M,I=P.id();if(this.hasElementWithId(I)&&!d[I]){var z=h[x]+l(O);if(!T(I)){h[I]=z,f[I]=z+o(P),g(P,I),p[I]=b,m[I]=O;continue}z<h[I]&&(h[I]=z,f[I]=z+o(P),p[I]=b,m[I]=O)}}}}return{found:!1,distance:void 0,path:void 0,steps:C}}},d5=Ht({weight:function(t){return 1},directed:!1}),v5={floydWarshall:function(t){for(var r=this.cy(),n=d5(t),i=n.weight,a=n.directed,o=i,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=c*c,f=function(j){return l.indexOf(j)},d=function(j){return l[j]},v=new Array(h),y=0;y<h;y++){var p=y%c,m=(y-p)/c;m===p?v[y]=0:v[y]=1/0}for(var g=new Array(h),b=new Array(h),x=0;x<u.length;x++){var w=u[x],T=w.source()[0],C=w.target()[0];if(T!==C){var S=f(T),k=f(C),B=S*c+k,E=o(w);if(v[B]>E&&(v[B]=E,g[B]=k,b[B]=w),!a){var A=k*c+S;!a&&v[A]>E&&(v[A]=E,g[A]=S,b[A]=w)}}}for(var D=0;D<c;D++)for(var O=0;O<c;O++)for(var R=O*c+D,M=0;M<c;M++){var P=O*c+M,I=D*c+M;v[R]+v[I]<v[P]&&(v[P]=v[R]+v[I],g[P]=g[R])}var z=function(j){return(Oe(j)?r.filter(j):j)[0]},W=function(j){return f(z(j))},N={distance:function(j,ne){var K=W(j),ae=W(ne);return v[K*c+ae]},path:function(j,ne){var K=W(j),ae=W(ne),ue=d(K);if(K===ae)return ue.collection();if(g[K*c+ae]==null)return r.collection();var fe=r.collection(),oe=K,U;for(fe.merge(ue);K!==ae;)oe=K,K=g[K*c+ae],U=b[oe*c+K],fe.merge(U),fe.merge(d(K));return fe}};return N}},p5=Ht({weight:function(t){return 1},directed:!1,root:null}),g5={bellmanFord:function(t){var r=this,n=p5(t),i=n.weight,a=n.directed,o=n.root,s=i,l=this,u=this.cy(),c=this.byGroup(),h=c.edges,f=c.nodes,d=f.length,v=new kn,y=!1,p=[];o=u.collection(o)[0],h.unmergeBy(function(V){return V.isLoop()});for(var m=h.length,g=function(X){var re=v.get(X.id());return re||(re={},v.set(X.id(),re)),re},b=function(X){return(Oe(X)?u.$(X):X)[0]},x=function(X){return g(b(X)).dist},w=function(X){for(var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,ee=b(X),te=[],de=ee;;){if(de==null)return r.spawn();var he=g(de),ve=he.edge,ge=he.pred;if(te.unshift(de[0]),de.same(re)&&te.length>0)break;ve!=null&&te.unshift(ve),de=ge}return l.spawn(te)},T=0;T<d;T++){var C=f[T],S=g(C);C.same(o)?S.dist=0:S.dist=1/0,S.pred=null,S.edge=null}for(var k=!1,B=function(X,re,ee,te,de,he){var ve=te.dist+he;ve<de.dist&&!ee.same(te.edge)&&(de.dist=ve,de.pred=X,de.edge=ee,k=!0)},E=1;E<d;E++){k=!1;for(var A=0;A<m;A++){var D=h[A],O=D.source(),R=D.target(),M=s(D),P=g(O),I=g(R);B(O,R,D,P,I,M),a||B(R,O,D,I,P,M)}if(!k)break}if(k)for(var z=[],W=0;W<m;W++){var N=h[W],H=N.source(),j=N.target(),ne=s(N),K=g(H).dist,ae=g(j).dist;if(K+ne<ae||!a&&ae+ne<K)if(y||(tt("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),t.findNegativeWeightCycles!==!1){var ue=[];K+ne<ae&&ue.push(H),!a&&ae+ne<K&&ue.push(j);for(var fe=ue.length,oe=0;oe<fe;oe++){var U=ue[oe],Y=[U];Y.push(g(U).edge);for(var _=g(U).pred;Y.indexOf(_)===-1;)Y.push(_),Y.push(g(_).edge),_=g(_).pred;Y=Y.slice(Y.indexOf(_));for(var F=Y[0].id(),q=0,J=2;J<Y.length;J+=2)Y[J].id()<F&&(F=Y[J].id(),q=J);Y=Y.slice(q).concat(Y.slice(0,q)),Y.push(Y[0]);var $=Y.map(function(V){return V.id()}).join(",");z.indexOf($)===-1&&(p.push(l.spawn(Y)),z.push($))}}else break}return{distanceTo:x,pathTo:w,hasNegativeWeightCycle:y,negativeWeightCycles:p}}},m5=Math.sqrt(2),y5=function(t,r,n){n.length===0&&dt("Karger-Stein must be run on a connected (sub)graph");for(var i=n[t],a=i[1],o=i[2],s=r[a],l=r[o],u=n,c=u.length-1;c>=0;c--){var h=u[c],f=h[1],d=h[2];(r[f]===s&&r[d]===l||r[f]===l&&r[d]===s)&&u.splice(c,1)}for(var v=0;v<u.length;v++){var y=u[v];y[1]===l?(u[v]=y.slice(),u[v][1]=s):y[2]===l&&(u[v]=y.slice(),u[v][2]=s)}for(var p=0;p<r.length;p++)r[p]===l&&(r[p]=s);return u},Kc=function(t,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=y5(a,t,r),n--}return r},b5={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(I){return I.isLoop()});var a=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/m5);if(a<2){dt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var h=i[c];u.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var f=1/0,d=[],v=new Array(a),y=new Array(a),p=new Array(a),m=function(z,W){for(var N=0;N<a;N++)W[N]=z[N]},g=0;g<=s;g++){for(var b=0;b<a;b++)y[b]=b;var x=Kc(y,u.slice(),a,l),w=x.slice();m(y,p);var T=Kc(y,x,l,2),C=Kc(p,w,l,2);T.length<=C.length&&T.length<f?(f=T.length,d=T,m(y,v)):C.length<=T.length&&C.length<f&&(f=C.length,d=C,m(p,v))}for(var S=this.spawn(d.map(function(I){return i[I[0]]})),k=this.spawn(),B=this.spawn(),E=v[0],A=0;A<v.length;A++){var D=v[A],O=n[A];D===E?k.merge(O):B.merge(O)}var R=function(z){var W=t.spawn();return z.forEach(function(N){W.merge(N),N.connectedEdges().forEach(function(H){t.contains(H)&&!S.contains(H)&&W.merge(H)})}),W},M=[R(k),R(B)],P={cut:S,components:M,partition1:k,partition2:B};return P}},jc,x5=function(t){return{x:t.x,y:t.y}},Vu=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},G1=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},da=function(t){return{x:t[0],y:t[1]}},C5=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=1/0,a=r;a<n;a++){var o=t[a];isFinite(o)&&(i=Math.min(o,i))}return i},w5=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=-1/0,a=r;a<n;a++){var o=t[a];isFinite(o)&&(i=Math.max(o,i))}return i},T5=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=0,a=0,o=r;o<n;o++){var s=t[o];isFinite(s)&&(i+=s,a++)}return i/a},_5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var s=0,l=t.length-1;l>=0;l--){var u=t[l];o?isFinite(u)||(t[l]=-1/0,s++):t.splice(l,1)}a&&t.sort(function(f,d){return f-d});var c=t.length,h=Math.floor(c/2);return c%2!==0?t[h+1+s]:(t[h-1+s]+t[h+s])/2},S5=function(t){return Math.PI*t/180},Hs=function(t,r){return Math.atan2(r,t)-Math.PI/2},gv=Math.log2||function(e){return Math.log(e)/Math.log(2)},mv=function(t){return t>0?1:t<0?-1:0},Vi=function(t,r){return Math.sqrt(Ei(t,r))},Ei=function(t,r){var n=r.x-t.x,i=r.y-t.y;return n*n+i*i},E5=function(t){for(var r=t.length,n=0,i=0;i<r;i++)n+=t[i];for(var a=0;a<r;a++)t[a]=t[a]/n;return t},Rt=function(t,r,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*r+i*i*n},wa=function(t,r,n,i){return{x:Rt(t.x,r.x,n.x,i),y:Rt(t.y,r.y,n.y,i)}},k5=function(t,r,n,i){var a={x:r.x-t.x,y:r.y-t.y},o=Vi(t,r),s={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:t.x+s.x*i,y:t.y+s.y*i}},is=function(t,r,n){return Math.max(t,Math.min(n,r))},hr=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},B5=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},A5=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},L5=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},Y1=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},vl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},pl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(r.length===1)n=i=a=o=r[0];else if(r.length===2)n=a=r[0],o=i=r[1];else if(r.length===4){var s=_t(r,4);n=s[0],i=s[1],a=s[2],o=s[3]}return t.x1-=o,t.x2+=i,t.y1-=n,t.y2+=a,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Zg=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},yv=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},jn=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},Qg=function(t,r){return jn(t,r.x,r.y)},K1=function(t,r){return jn(t,r.x1,r.y1)&&jn(t,r.x2,r.y2)},D5=(jc=Math.hypot)!==null&&jc!==void 0?jc:function(e,t){return Math.sqrt(e*e+t*t)};function P5(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(S,k){return{x:S.x+k.x,y:S.y+k.y}},n=function(S,k){return{x:S.x-k.x,y:S.y-k.y}},i=function(S,k){return{x:S.x*k,y:S.y*k}},a=function(S,k){return S.x*k.y-S.y*k.x},o=function(S){var k=D5(S.x,S.y);return k===0?{x:0,y:0}:{x:S.x/k,y:S.y/k}},s=function(S){for(var k=0,B=0;B<S.length;B++){var E=S[B],A=S[(B+1)%S.length];k+=E.x*A.y-A.x*E.y}return k/2},l=function(S,k,B,E){var A=n(k,S),D=n(E,B),O=a(A,D);if(Math.abs(O)<1e-9)return r(S,i(A,.5));var R=a(n(B,S),D)/O;return r(S,i(A,R))},u=e.map(function(C){return{x:C.x,y:C.y}});s(u)<0&&u.reverse();for(var c=u.length,h=[],f=0;f<c;f++){var d=u[f],v=u[(f+1)%c],y=n(v,d),p=o({x:y.y,y:-y.x});h.push(p)}for(var m=h.map(function(C,S){var k=r(u[S],i(C,t)),B=r(u[(S+1)%c],i(C,t));return{p1:k,p2:B}}),g=[],b=0;b<c;b++){var x=m[(b-1+c)%c],w=m[b],T=l(x.p1,x.p2,w.p1,w.p2);g.push(T)}return g}function M5(e,t,r,n,i,a){var o=V5(e,t,r,n,i),s=P5(o,a),l=hr();return s.forEach(function(u){return Y1(l,u.x,u.y)}),l}var j1=function(t,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?ai(a,o):l,c=a/2,h=o/2;u=Math.min(u,c,h);var f=u!==c,d=u!==h,v;if(f){var y=n-c+u-s,p=i-h-s,m=n+c-u+s,g=p;if(v=Xn(t,r,n,i,y,p,m,g,!1),v.length>0)return v}if(d){var b=n+c+s,x=i-h+u-s,w=b,T=i+h-u+s;if(v=Xn(t,r,n,i,b,x,w,T,!1),v.length>0)return v}if(f){var C=n-c+u-s,S=i+h+s,k=n+c-u+s,B=S;if(v=Xn(t,r,n,i,C,S,k,B,!1),v.length>0)return v}if(d){var E=n-c-s,A=i-h+u-s,D=E,O=i+h-u+s;if(v=Xn(t,r,n,i,E,A,D,O,!1),v.length>0)return v}var R;{var M=n-c+u,P=i-h+u;if(R=Co(t,r,n,i,M,P,u+s),R.length>0&&R[0]<=M&&R[1]<=P)return[R[0],R[1]]}{var I=n+c-u,z=i-h+u;if(R=Co(t,r,n,i,I,z,u+s),R.length>0&&R[0]>=I&&R[1]<=z)return[R[0],R[1]]}{var W=n+c-u,N=i+h-u;if(R=Co(t,r,n,i,W,N,u+s),R.length>0&&R[0]>=W&&R[1]>=N)return[R[0],R[1]]}{var H=n-c+u,j=i+h-u;if(R=Co(t,r,n,i,H,j,u+s),R.length>0&&R[0]<=H&&R[1]>=j)return[R[0],R[1]]}return[]},F5=function(t,r,n,i,a,o,s){var l=s,u=Math.min(n,a),c=Math.max(n,a),h=Math.min(i,o),f=Math.max(i,o);return u-l<=t&&t<=c+l&&h-l<=r&&r<=f+l},O5=function(t,r,n,i,a,o,s,l,u){var c={x1:Math.min(n,s,a)-u,x2:Math.max(n,s,a)+u,y1:Math.min(i,l,o)-u,y2:Math.max(i,l,o)+u};return!(t<c.x1||t>c.x2||r<c.y1||r>c.y2)},R5=function(t,r,n,i){n-=i;var a=r*r-4*t*n;if(a<0)return[];var o=Math.sqrt(a),s=2*t,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},I5=function(t,r,n,i,a){var o=1e-5;t===0&&(t=o),r/=t,n/=t,i/=t;var s,l,u,c,h,f,d,v;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,a[1]=0,d=r/3,s>0){h=u+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),f=u-Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),a[0]=-d+h+f,d+=(h+f)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-f+h)/2,a[3]=d,a[5]=-d;return}if(a[5]=a[3]=0,s===0){v=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-d+2*v,a[4]=a[2]=-(v+d);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),v=2*Math.sqrt(l),a[0]=-d+v*Math.cos(c/3),a[2]=-d+v*Math.cos((c+2*Math.PI)/3),a[4]=-d+v*Math.cos((c+4*Math.PI)/3)},N5=function(t,r,n,i,a,o,s,l){var u=1*n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*l+4*o*o-4*o*l+l*l,c=9*n*a-3*n*n-3*n*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*l-6*o*o+3*o*l,h=3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t+3*i*i-6*i*o+i*l-i*r+2*o*o+2*o*r-l*r,f=1*n*a-n*n+n*t-a*t+i*o-i*i+i*r-o*r,d=[];I5(u,c,h,f,d);for(var v=1e-7,y=[],p=0;p<6;p+=2)Math.abs(d[p+1])<v&&d[p]>=0&&d[p]<=1&&y.push(d[p]);y.push(1),y.push(0);for(var m=-1,g,b,x,w=0;w<y.length;w++)g=Math.pow(1-y[w],2)*n+2*(1-y[w])*y[w]*a+y[w]*y[w]*s,b=Math.pow(1-y[w],2)*i+2*(1-y[w])*y[w]*o+y[w]*y[w]*l,x=Math.pow(g-t,2)+Math.pow(b-r,2),m>=0?x<m&&(m=x):m=x;return m},z5=function(t,r,n,i,a,o){var s=[t-n,r-i],l=[a-n,o-i],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],h=s[0]*l[0]+s[1]*l[1],f=h*h/u;return h<0?c:f>u?(t-a)*(t-a)+(r-o)*(r-o):c-f},gr=function(t,r,n){for(var i,a,o,s,l,u=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(i==t&&o==t))if(i>=t&&t>=o||i<=t&&t<=o)l=(t-i)/(o-i)*(s-a)+a,l>r&&u++;else continue;return u%2!==0},Mn=function(t,r,n,i,a,o,s,l,u){var c=new Array(n.length),h;l[0]!=null?(h=Math.atan(l[1]/l[0]),l[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=l;for(var f=Math.cos(-h),d=Math.sin(-h),v=0;v<c.length/2;v++)c[v*2]=o/2*(n[v*2]*f-n[v*2+1]*d),c[v*2+1]=s/2*(n[v*2+1]*f+n[v*2]*d),c[v*2]+=i,c[v*2+1]+=a;var y;if(u>0){var p=iu(c,-u);y=nu(p)}else y=c;return gr(t,r,y)},$5=function(t,r,n,i,a,o,s,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var h=l[c];u[c*4+0]=h.startX,u[c*4+1]=h.startY,u[c*4+2]=h.stopX,u[c*4+3]=h.stopY;var f=Math.pow(h.cx-t,2)+Math.pow(h.cy-r,2);if(f<=Math.pow(h.radius,2))return!0}return gr(t,r,u)},nu=function(t){for(var r=new Array(t.length/2),n,i,a,o,s,l,u,c,h=0;h<t.length/4;h++){n=t[h*4],i=t[h*4+1],a=t[h*4+2],o=t[h*4+3],h<t.length/4-1?(s=t[(h+1)*4],l=t[(h+1)*4+1],u=t[(h+1)*4+2],c=t[(h+1)*4+3]):(s=t[0],l=t[1],u=t[2],c=t[3]);var f=Xn(n,i,a,o,s,l,u,c,!0);r[h*2]=f[0],r[h*2+1]=f[1]}return r},iu=function(t,r){for(var n=new Array(t.length*2),i,a,o,s,l=0;l<t.length/2;l++){i=t[l*2],a=t[l*2+1],l<t.length/2-1?(o=t[(l+1)*2],s=t[(l+1)*2+1]):(o=t[0],s=t[1]);var u=s-a,c=-(o-i),h=Math.sqrt(u*u+c*c),f=u/h,d=c/h;n[l*4]=i+f*r,n[l*4+1]=a+d*r,n[l*4+2]=o+f*r,n[l*4+3]=s+d*r}return n},q5=function(t,r,n,i,a,o){var s=n-t,l=i-r;s/=a,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var h=c/u;return[(n-t)*h+t,(i-r)*h+r]},Pi=function(t,r,n,i,a,o,s){return t-=a,r-=o,t/=n/2+s,r/=i/2+s,t*t+r*r<=1},Co=function(t,r,n,i,a,o,s){var l=[n-t,i-r],u=[t-a,r-o],c=l[0]*l[0]+l[1]*l[1],h=2*(u[0]*l[0]+u[1]*l[1]),f=u[0]*u[0]+u[1]*u[1]-s*s,d=h*h-4*c*f;if(d<0)return[];var v=(-h+Math.sqrt(d))/(2*c),y=(-h-Math.sqrt(d))/(2*c),p=Math.min(v,y),m=Math.max(v,y),g=[];if(p>=0&&p<=1&&g.push(p),m>=0&&m<=1&&g.push(m),g.length===0)return[];var b=g[0]*l[0]+t,x=g[0]*l[1]+r;if(g.length>1){if(g[0]==g[1])return[b,x];var w=g[1]*l[0]+t,T=g[1]*l[1]+r;return[b,x,w,T]}else return[b,x]},Xc=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},Xn=function(t,r,n,i,a,o,s,l,u){var c=t-a,h=n-t,f=s-a,d=r-o,v=i-r,y=l-o,p=f*d-y*c,m=h*d-v*c,g=y*h-f*v;if(g!==0){var b=p/g,x=m/g,w=.001,T=0-w,C=1+w;return T<=b&&b<=C&&T<=x&&x<=C?[t+b*h,r+b*v]:u?[t+b*h,r+b*v]:[]}else return p===0||m===0?Xc(t,n,s)===s?[s,l]:Xc(t,n,a)===a?[a,o]:Xc(a,s,n)===n?[n,i]:[]:[]},V5=function(t,r,n,i,a){var o=[],s=i/2,l=a/2,u=r,c=n;o.push({x:u+s*t[0],y:c+l*t[1]});for(var h=1;h<t.length/2;h++)o.push({x:u+s*t[h*2],y:c+l*t[h*2+1]});return o},as=function(t,r,n,i,a,o,s,l){var u=[],c,h=new Array(n.length),f=!0;o==null&&(f=!1);var d;if(f){for(var v=0;v<h.length/2;v++)h[v*2]=n[v*2]*o+i,h[v*2+1]=n[v*2+1]*s+a;if(l>0){var y=iu(h,-l);d=nu(y)}else d=h}else d=n;for(var p,m,g,b,x=0;x<d.length/2;x++)p=d[x*2],m=d[x*2+1],x<d.length/2-1?(g=d[(x+1)*2],b=d[(x+1)*2+1]):(g=d[0],b=d[1]),c=Xn(t,r,i,a,p,m,g,b),c.length!==0&&u.push(c[0],c[1]);return u},H5=function(t,r,n,i,a,o,s,l,u){var c=[],h,f=new Array(n.length*2);u.forEach(function(g,b){b===0?(f[f.length-2]=g.startX,f[f.length-1]=g.startY):(f[b*4-2]=g.startX,f[b*4-1]=g.startY),f[b*4]=g.stopX,f[b*4+1]=g.stopY,h=Co(t,r,i,a,g.cx,g.cy,g.radius),h.length!==0&&c.push(h[0],h[1])});for(var d=0;d<f.length/4;d++)h=Xn(t,r,i,a,f[d*4],f[d*4+1],f[d*4+2],f[d*4+3],!1),h.length!==0&&c.push(h[0],h[1]);if(c.length>2){for(var v=[c[0],c[1]],y=Math.pow(v[0]-t,2)+Math.pow(v[1]-r,2),p=1;p<c.length/2;p++){var m=Math.pow(c[p*2]-t,2)+Math.pow(c[p*2+1]-r,2);m<=y&&(v[0]=c[p*2],v[1]=c[p*2+1],y=m)}return v}return c},Ws=function(t,r,n){var i=[t[0]-r[0],t[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[r[0]+o*i[0],r[1]+o*i[1]]},nr=function(t,r){var n=Wf(t,r);return n=X1(n),n},X1=function(t){for(var r,n,i=t.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i;u++)r=t[2*u],n=t[2*u+1],a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var c=2/(s-a),h=2/(l-o),f=0;f<i;f++)r=t[2*f]=t[2*f]*c,n=t[2*f+1]=t[2*f+1]*h,a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var d=0;d<i;d++)n=t[2*d+1]=t[2*d+1]+(-1-o);return t},Wf=function(t,r){var n=1/t*2*Math.PI,i=t%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(t*2),o,s=0;s<t;s++)o=s*n+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},ai=function(t,r){return Math.min(t/4,r/4,8)},Z1=function(t,r){return Math.min(t/10,r/10,8)},bv=function(){return 8},W5=function(t,r,n){return[t-2*r+n,2*(r-t),t]},Uf=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};function Zc(e,t){function r(h){for(var f=[],d=0;d<h.length;d++){var v=h[d],y=h[(d+1)%h.length],p={x:y.x-v.x,y:y.y-v.y},m={x:-p.y,y:p.x},g=Math.sqrt(m.x*m.x+m.y*m.y);f.push({x:m.x/g,y:m.y/g})}return f}function n(h,f){var d=1/0,v=-1/0,y=br(h),p;try{for(y.s();!(p=y.n()).done;){var m=p.value,g=m.x*f.x+m.y*f.y;d=Math.min(d,g),v=Math.max(v,g)}}catch(b){y.e(b)}finally{y.f()}return{min:d,max:v}}function i(h,f){return!(h.max<f.min||f.max<h.min)}var a=[].concat(Jl(r(e)),Jl(r(t))),o=br(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n(e,l),c=n(t,l);if(!i(u,c))return!1}}catch(h){o.e(h)}finally{o.f()}return!0}var U5=Ht({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),G5={pageRank:function(t){for(var r=U5(t),n=r.dampingFactor,i=r.precision,a=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,h=u.length,f=h*h,d=c.length,v=new Array(f),y=new Array(h),p=(1-n)/h,m=0;m<h;m++){for(var g=0;g<h;g++){var b=m*h+g;v[b]=0}y[m]=0}for(var x=0;x<d;x++){var w=c[x],T=w.data("source"),C=w.data("target");if(T!==C){var S=u.indexOfId(T),k=u.indexOfId(C),B=o(w),E=k*h+S;v[E]+=B,y[S]+=B}}for(var A=1/h+p,D=0;D<h;D++)if(y[D]===0)for(var O=0;O<h;O++){var R=O*h+D;v[R]=A}else for(var M=0;M<h;M++){var P=M*h+D;v[P]=v[P]/y[D]+p}for(var I=new Array(h),z=new Array(h),W,N=0;N<h;N++)I[N]=1;for(var H=0;H<a;H++){for(var j=0;j<h;j++)z[j]=0;for(var ne=0;ne<h;ne++)for(var K=0;K<h;K++){var ae=ne*h+K;z[ne]+=v[ae]*I[K]}E5(z),W=I,I=z,z=W;for(var ue=0,fe=0;fe<h;fe++){var oe=W[fe]-I[fe];ue+=oe*oe}if(ue<i)break}var U={rank:function(_){return _=s.collection(_)[0],I[u.indexOf(_)]}};return U}},Jg=Ht({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Ta={degreeCentralityNormalized:function(t){t=Jg(t);var r=this.cy(),n=this.nodes(),i=n.length;if(t.directed){for(var c={},h={},f=0,d=0,v=0;v<i;v++){var y=n[v],p=y.id();t.root=y;var m=this.degreeCentrality(t);f<m.indegree&&(f=m.indegree),d<m.outdegree&&(d=m.outdegree),c[p]=m.indegree,h[p]=m.outdegree}return{indegree:function(b){return f==0?0:(Oe(b)&&(b=r.filter(b)),c[b.id()]/f)},outdegree:function(b){return d===0?0:(Oe(b)&&(b=r.filter(b)),h[b.id()]/d)}}}else{for(var a={},o=0,s=0;s<i;s++){var l=n[s];t.root=l;var u=this.degreeCentrality(t);o<u.degree&&(o=u.degree),a[l.id()]=u.degree}return{degree:function(b){return o===0?0:(Oe(b)&&(b=r.filter(b)),a[b.id()]/o)}}}},degreeCentrality:function(t){t=Jg(t);var r=this.cy(),n=this,i=t,a=i.root,o=i.weight,s=i.directed,l=i.alpha;if(a=r.collection(a)[0],s){for(var d=a.connectedEdges(),v=d.filter(function(T){return T.target().same(a)&&n.has(T)}),y=d.filter(function(T){return T.source().same(a)&&n.has(T)}),p=v.length,m=y.length,g=0,b=0,x=0;x<v.length;x++)g+=o(v[x]);for(var w=0;w<y.length;w++)b+=o(y[w]);return{indegree:Math.pow(p,1-l)*Math.pow(g,l),outdegree:Math.pow(m,1-l)*Math.pow(b,l)}}else{for(var u=a.connectedEdges().intersection(n),c=u.length,h=0,f=0;f<u.length;f++)h+=o(u[f]);return{degree:Math.pow(c,1-l)*Math.pow(h,l)}}}};Ta.dc=Ta.degreeCentrality;Ta.dcn=Ta.degreeCentralityNormalised=Ta.degreeCentralityNormalized;var em=Ht({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),_a={closenessCentralityNormalized:function(t){for(var r=em(t),n=r.harmonic,i=r.weight,a=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),h=0;h<u.length;h++){for(var f=0,d=u[h],v=0;v<u.length;v++)if(h!==v){var y=c.distance(d,u[v]);n?f+=1/y:f+=y}n||(f=1/f),l<f&&(l=f),s[d.id()]=f}return{closeness:function(m){return l==0?0:(Oe(m)?m=o.filter(m)[0].id():m=m.id(),s[m]/l)}}},closenessCentrality:function(t){var r=em(t),n=r.root,i=r.weight,a=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var h=u[c];if(!h.same(n)){var f=s.distanceTo(h);o?l+=1/f:l+=f}}return o?l:1/l}};_a.cc=_a.closenessCentrality;_a.ccn=_a.closenessCentralityNormalised=_a.closenessCentralityNormalized;var Y5=Ht({weight:null,directed:!1}),Gf={betweennessCentrality:function(t){for(var r=Y5(t),n=r.directed,i=r.weight,a=i!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,h={set:function(b,x){u[b]=x,x>c&&(c=x)},get:function(b){return u[b]}},f=0;f<s.length;f++){var d=s[f],v=d.id();n?l[v]=d.outgoers().nodes():l[v]=d.openNeighborhood().nodes(),h.set(v,0)}for(var y=function(){for(var b=s[p].id(),x=[],w={},T={},C={},S=new Ss(function(ne,K){return C[ne]-C[K]}),k=0;k<s.length;k++){var B=s[k].id();w[B]=[],T[B]=0,C[B]=1/0}for(T[b]=1,C[b]=0,S.push(b);!S.empty();){var E=S.pop();if(x.push(E),a)for(var A=0;A<l[E].length;A++){var D=l[E][A],O=o.getElementById(E),R=void 0;O.edgesTo(D).length>0?R=O.edgesTo(D)[0]:R=D.edgesTo(O)[0];var M=i(R);D=D.id(),C[D]>C[E]+M&&(C[D]=C[E]+M,S.nodes.indexOf(D)<0?S.push(D):S.updateItem(D),T[D]=0,w[D]=[]),C[D]==C[E]+M&&(T[D]=T[D]+T[E],w[D].push(E))}else for(var P=0;P<l[E].length;P++){var I=l[E][P].id();C[I]==1/0&&(S.push(I),C[I]=C[E]+1),C[I]==C[E]+1&&(T[I]=T[I]+T[E],w[I].push(E))}}for(var z={},W=0;W<s.length;W++)z[s[W].id()]=0;for(;x.length>0;){for(var N=x.pop(),H=0;H<w[N].length;H++){var j=w[N][H];z[j]=z[j]+T[j]/T[N]*(1+z[N])}N!=s[p].id()&&h.set(N,h.get(N)+z[N])}},p=0;p<s.length;p++)y();var m={betweenness:function(b){var x=o.collection(b).id();return h.get(x)},betweennessNormalized:function(b){if(c==0)return 0;var x=o.collection(b).id();return h.get(x)/c}};return m.betweennessNormalised=m.betweennessNormalized,m}};Gf.bc=Gf.betweennessCentrality;var K5=Ht({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),j5=function(t){return K5(t)},X5=function(t,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](t);return n},Z5=function(t,r,n){for(var i=0;i<r;i++)t[i*r+i]=n},Q1=function(t,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=t[a*r+i];for(var o=0;o<r;o++)t[o*r+i]=t[o*r+i]/n}},Q5=function(t,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)i[a*n+l]+=t[a*n+s]*r[s*n+l]}return i},J5=function(t,r,n){for(var i=t.slice(0),a=1;a<n;a++)t=Q5(t,i,r);return t},eN=function(t,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(t[a],n);return Q1(i,r),i},tN=function(t,r,n,i){for(var a=0;a<n;a++){var o=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},rN=function(t,r,n,i){for(var a=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(t[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&a.push(i.collection(s))}return a},nN=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},iN=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&nN(t[r],t[n])&&t.splice(n,1);return t},tm=function(t){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=j5(t),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,c=new Array(u),h,f=0;f<u;f++)c[f]=0;for(var d=0;d<n.length;d++){var v=n[d],y=o[v.source().id()],p=o[v.target().id()],m=X5(v,a.attributes);c[y*l+p]+=m,c[p*l+y]+=m}Z5(c,l,a.multFactor),Q1(c,l);for(var g=!0,b=0;g&&b<a.maxIterations;)g=!1,h=J5(c,l,a.expandFactor),c=eN(h,l,a.inflateFactor),tN(c,h,u,4)||(g=!0),b++;var x=rN(c,l,r,i);return x=iN(x),x},aN={markovClustering:tm,mcl:tm},oN=function(t){return t},J1=function(t,r){return Math.abs(r-t)},rm=function(t,r,n){return t+J1(r,n)},nm=function(t,r,n){return t+Math.pow(n-r,2)},sN=function(t){return Math.sqrt(t)},lN=function(t,r,n){return Math.max(t,J1(r,n))},lo=function(t,r,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:oN,s=i,l,u,c=0;c<t;c++)l=r(c),u=n(c),s=a(s,l,u);return o(s)},$a={euclidean:function(t,r,n){return t>=2?lo(t,r,n,0,nm,sN):lo(t,r,n,0,rm)},squaredEuclidean:function(t,r,n){return lo(t,r,n,0,nm)},manhattan:function(t,r,n){return lo(t,r,n,0,rm)},max:function(t,r,n){return lo(t,r,n,-1/0,lN)}};$a["squared-euclidean"]=$a.squaredEuclidean;$a.squaredeuclidean=$a.squaredEuclidean;function Hu(e,t,r,n,i,a){var o;return gt(e)?o=e:o=$a[e]||$a.euclidean,t===0&&gt(e)?o(i,a):o(t,r,n,i,a)}var uN=Ht({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),xv=function(t){return uN(t)},au=function(t,r,n,i,a){var o=a!=="kMedoids",s=o?function(h){return n[h]}:function(h){return i[h](n)},l=function(f){return i[f](r)},u=n,c=r;return Hu(t,i.length,s,l,u,c)},Qc=function(t,r,n){for(var i=n.length,a=new Array(i),o=new Array(i),s=new Array(r),l=null,u=0;u<i;u++)a[u]=t.min(n[u]).value,o[u]=t.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var h=0;h<i;h++)l[h]=Math.random()*(o[h]-a[h])+a[h];s[c]=l}return s},eC=function(t,r,n,i,a){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=au(n,t,r[l],i,a);u<o&&(o=u,s=l)}return s},tC=function(t,r,n){for(var i=[],a=null,o=0;o<r.length;o++)a=r[o],n[a.id()]===t&&i.push(a);return i},cN=function(t,r,n){return Math.abs(r-t)<=n},hN=function(t,r,n){for(var i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){var o=Math.abs(t[i][a]-r[i][a]);if(o>n)return!1}return!0},fN=function(t,r,n){for(var i=0;i<n;i++)if(t===r[i])return!0;return!1},im=function(t,r){var n=new Array(r);if(t.length<50)for(var i=0;i<r;i++){for(var a=t[Math.floor(Math.random()*t.length)];fN(a,n,i);)a=t[Math.floor(Math.random()*t.length)];n[i]=a}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},am=function(t,r,n){for(var i=0,a=0;a<r.length;a++)i+=au("manhattan",r[a],t,n,"kMedoids");return i},dN=function(t){var r=this.cy(),n=this.nodes(),i=null,a=xv(t),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=Qc(n,a.k,a.attributes)):Pt(a.testCentroids)==="object"?l=a.testCentroids:l=Qc(n,a.k,a.attributes):l=Qc(n,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],s[i.id()]=eC(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var f=0;f<a.k;f++){var d=tC(f,n,s);if(d.length!==0){for(var v=a.attributes.length,y=l[f],p=new Array(v),m=new Array(v),g=0;g<v;g++){m[g]=0;for(var b=0;b<d.length;b++)i=d[b],m[g]+=a.attributes[g](i);p[g]=m[g]/d.length,cN(p[g],y[g],a.sensitivityThreshold)||(u=!0)}l[f]=p,o[f]=r.collection(d)}}c++}return o},vN=function(t){var r=this.cy(),n=this.nodes(),i=null,a=xv(t),o=new Array(a.k),s,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Pt(a.testCentroids)==="object"?s=a.testCentroids:s=im(n,a.k)):s=im(n,a.k);for(var h=!0,f=0;h&&f<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],l[i.id()]=eC(i,s,a.distance,a.attributes,"kMedoids");h=!1;for(var v=0;v<s.length;v++){var y=tC(v,n,l);if(y.length!==0){c[v]=am(s[v],y,a.attributes);for(var p=0;p<y.length;p++)u=am(y[p],y,a.attributes),u<c[v]&&(c[v]=u,s[v]=y[p],h=!0);o[v]=r.collection(y)}}f++}return o},pN=function(t,r,n,i,a){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<t.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var c=0;c<t.length;c++)for(var h=0;h<a.attributes.length;h++){o=0,s=0;for(var f=0;f<r.length;f++)o+=i[f][c]*a.attributes[h](r[f]),s+=i[f][c];t[c][h]=o/s}},gN=function(t,r,n,i,a){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var s,l,u,c=2/(a.m-1),h=0;h<n.length;h++)for(var f=0;f<i.length;f++){s=0;for(var d=0;d<n.length;d++)l=au(a.distance,i[f],n[h],a.attributes,"cmeans"),u=au(a.distance,i[f],n[d],a.attributes,"cmeans"),s+=Math.pow(l/u,c);t[f][h]=1/s}},mN=function(t,r,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>s&&(s=r[u][c],l=c);a[l].push(t[u])}for(var h=0;h<a.length;h++)a[h]=i.collection(a[h]);return a},om=function(t){var r=this.cy(),n=this.nodes(),i=xv(t),a,o,s,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(i.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(i.k);for(var f=0;f<n.length;f++){for(var d=0,v=0;v<i.k;v++)s[f][v]=Math.random(),d+=s[f][v];for(var y=0;y<i.k;y++)s[f][y]=s[f][y]/d}o=new Array(i.k);for(var p=0;p<i.k;p++)o[p]=new Array(i.attributes.length);u=new Array(n.length);for(var m=0;m<n.length;m++)u[m]=new Array(i.k);for(var g=!0,b=0;g&&b<i.maxIterations;)g=!1,pN(o,n,s,u,i),gN(s,l,o,n,i),hN(s,l,i.sensitivityThreshold)||(g=!0),b++;return a=mN(n,s,i,r),{clusters:a,degreeOfMembership:s}},yN={kMeans:dN,kMedoids:vN,fuzzyCMeans:om,fcm:om},bN=Ht({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),xN={single:"min",complete:"max"},CN=function(t){var r=bN(t),n=xN[r.linkage];return n!=null&&(r.linkage=n),r},sm=function(t,r,n,i,a){for(var o=0,s=1/0,l,u=a.attributes,c=function(k,B){return Hu(a.distance,u.length,function(E){return u[E](k)},function(E){return u[E](B)},k,B)},h=0;h<t.length;h++){var f=t[h].key,d=n[f][i[f]];d<s&&(o=f,s=d)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&t.length===1)return!1;var v=r[o],y=r[i[o]],p;a.mode==="dendrogram"?p={left:v,right:y,key:v.key}:p={value:v.value.concat(y.value),key:v.key},t[v.index]=p,t.splice(y.index,1),r[v.key]=p;for(var m=0;m<t.length;m++){var g=t[m];v.key===g.key?l=1/0:a.linkage==="min"?(l=n[v.key][g.key],n[v.key][g.key]>n[y.key][g.key]&&(l=n[y.key][g.key])):a.linkage==="max"?(l=n[v.key][g.key],n[v.key][g.key]<n[y.key][g.key]&&(l=n[y.key][g.key])):a.linkage==="mean"?l=(n[v.key][g.key]*v.size+n[y.key][g.key]*y.size)/(v.size+y.size):a.mode==="dendrogram"?l=c(g.value,v.value):l=c(g.value[0],v.value[0]),n[v.key][g.key]=n[g.key][v.key]=l}for(var b=0;b<t.length;b++){var x=t[b].key;if(i[x]===v.key||i[x]===y.key){for(var w=x,T=0;T<t.length;T++){var C=t[T].key;n[x][C]<n[x][w]&&(w=C)}i[x]=w}t[b].index=b}return v.key=y.key=v.index=y.index=null,!0},va=function(t,r,n){t&&(t.value?r.push(t.value):(t.left&&va(t.left,r),t.right&&va(t.right,r)))},Yf=function(t,r){if(!t)return"";if(t.left&&t.right){var n=Yf(t.left,r),i=Yf(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},Kf=function(t,r,n){if(!t)return[];var i=[],a=[],o=[];return r===0?(t.left&&va(t.left,i),t.right&&va(t.right,a),o=i.concat(a),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&va(t.left,i),t.right&&va(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=Kf(t.left,r-1,n)),t.right&&(a=Kf(t.right,r-1,n)),i.concat(a))},lm=function(t){for(var r=this.cy(),n=this.nodes(),i=CN(t),a=i.attributes,o=function(b,x){return Hu(i.distance,a.length,function(w){return a[w](b)},function(w){return a[w](x)},b,x)},s=[],l=[],u=[],c=[],h=0;h<n.length;h++){var f={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=f,c[h]=f,l[h]=[],u[h]=0}for(var d=0;d<s.length;d++)for(var v=0;v<=d;v++){var y=void 0;i.mode==="dendrogram"?y=d===v?1/0:o(s[d].value,s[v].value):y=d===v?1/0:o(s[d].value[0],s[v].value[0]),l[d][v]=y,l[v][d]=y,y<l[d][u[d]]&&(u[d]=v)}for(var p=sm(s,c,l,u,i);p;)p=sm(s,c,l,u,i);var m;return i.mode==="dendrogram"?(m=Kf(s[0],i.dendrogramDepth,r),i.addDendrogram&&Yf(s[0],r)):(m=new Array(s.length),s.forEach(function(g,b){g.key=g.index=null,m[b]=r.collection(g.value)})),m},wN={hierarchicalClustering:lm,hca:lm},TN=Ht({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),_N=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||dt("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||ye(n)||dt("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),TN(t)},SN=function(t,r,n,i){var a=function(s,l){return i[l](s)};return-Hu(t,i.length,function(o){return a(r,o)},function(o){return a(n,o)},r,n)},EN=function(t,r){var n=null;return r==="median"?n=_5(t):r==="mean"?n=T5(t):r==="min"?n=C5(t):r==="max"?n=w5(t):n=r,n},kN=function(t,r,n){for(var i=[],a=0;a<t;a++)r[a*t+a]+n[a*t+a]>0&&i.push(a);return i},um=function(t,r,n){for(var i=[],a=0;a<t;a++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*t+u]>s&&(o=u,s=r[a*t+u])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},BN=function(t,r,n){for(var i=um(t,r,n),a=0;a<n.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===n[a]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var h=0,f=0;f<o.length;f++)h+=r[o[f]*t+o[c]];h>u&&(l=c,u=h)}n[a]=o[l]}return i=um(t,r,n),i},cm=function(t){for(var r=this.cy(),n=this.nodes(),i=_N(t),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var s,l,u,c,h,f;s=n.length,l=s*s,u=new Array(l);for(var d=0;d<l;d++)u[d]=-1/0;for(var v=0;v<s;v++)for(var y=0;y<s;y++)v!==y&&(u[v*s+y]=SN(i.distance,n[v],n[y],i.attributes));c=EN(u,i.preference);for(var p=0;p<s;p++)u[p*s+p]=c;h=new Array(l);for(var m=0;m<l;m++)h[m]=0;f=new Array(l);for(var g=0;g<l;g++)f[g]=0;for(var b=new Array(s),x=new Array(s),w=new Array(s),T=0;T<s;T++)b[T]=0,x[T]=0,w[T]=0;for(var C=new Array(s*i.minIterations),S=0;S<C.length;S++)C[S]=0;var k;for(k=0;k<i.maxIterations;k++){for(var B=0;B<s;B++){for(var E=-1/0,A=-1/0,D=-1,O=0,R=0;R<s;R++)b[R]=h[B*s+R],O=f[B*s+R]+u[B*s+R],O>=E?(A=E,E=O,D=R):O>A&&(A=O);for(var M=0;M<s;M++)h[B*s+M]=(1-i.damping)*(u[B*s+M]-E)+i.damping*b[M];h[B*s+D]=(1-i.damping)*(u[B*s+D]-A)+i.damping*b[D]}for(var P=0;P<s;P++){for(var I=0,z=0;z<s;z++)b[z]=f[z*s+P],x[z]=Math.max(0,h[z*s+P]),I+=x[z];I-=x[P],x[P]=h[P*s+P],I+=x[P];for(var W=0;W<s;W++)f[W*s+P]=(1-i.damping)*Math.min(0,I-x[W])+i.damping*b[W];f[P*s+P]=(1-i.damping)*(I-x[P])+i.damping*b[P]}for(var N=0,H=0;H<s;H++){var j=f[H*s+H]+h[H*s+H]>0?1:0;C[k%i.minIterations*s+H]=j,N+=j}if(N>0&&(k>=i.minIterations-1||k==i.maxIterations-1)){for(var ne=0,K=0;K<s;K++){w[K]=0;for(var ae=0;ae<i.minIterations;ae++)w[K]+=C[ae*s+K];(w[K]===0||w[K]===i.minIterations)&&ne++}if(ne===s)break}}for(var ue=kN(s,h,f),fe=BN(s,u,ue),oe={},U=0;U<ue.length;U++)oe[ue[U]]=[];for(var Y=0;Y<n.length;Y++){var _=a[n[Y].id()],F=fe[_];F!=null&&oe[F].push(n[Y])}for(var q=new Array(ue.length),J=0;J<ue.length;J++)q[J]=r.collection(oe[ue[J]]);return q},AN={affinityPropagation:cm,ap:cm},LN=Ht({root:void 0,directed:!1}),DN={hierholzer:function(t){if(!Xe(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=LN(t),i=n.root,a=n.directed,o=this,s=!1,l,u,c;i&&(c=Oe(i)?this.filter(i)[0].id():i[0].id());var h={},f={};a?o.forEach(function(g){var b=g.id();if(g.isNode()){var x=g.indegree(!0),w=g.outdegree(!0),T=x-w,C=w-x;T==1?l?s=!0:l=b:C==1?u?s=!0:u=b:(C>1||T>1)&&(s=!0),h[b]=[],g.outgoers().forEach(function(S){S.isEdge()&&h[b].push(S.id())})}else f[b]=[void 0,g.target().id()]}):o.forEach(function(g){var b=g.id();if(g.isNode()){var x=g.degree(!0);x%2&&(l?u?s=!0:u=b:l=b),h[b]=[],g.connectedEdges().forEach(function(w){return h[b].push(w.id())})}else f[b]=[g.source().id(),g.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(u&&l)if(a){if(c&&u!=c)return d;c=u}else{if(c&&u!=c&&l!=c)return d;c||(c=u)}else c||(c=o[0].id());var v=function(b){for(var x=b,w=[b],T,C,S;h[x].length;)T=h[x].shift(),C=f[T][0],S=f[T][1],x!=S?(h[S]=h[S].filter(function(k){return k!=T}),x=S):!a&&x!=C&&(h[C]=h[C].filter(function(k){return k!=T}),x=C),w.unshift(T),w.unshift(x);return w},y=[],p=[];for(p=v(c);p.length!=1;)h[p[0]].length==0?(y.unshift(o.getElementById(p.shift())),y.unshift(o.getElementById(p.shift()))):p=v(p.shift()).concat(p);y.unshift(o.getElementById(p.shift()));for(var m in h)if(h[m].length)return d;return d.found=!0,d.trail=this.spawn(y,!0),d}},Us=function(){var t=this,r={},n=0,i=0,a=[],o=[],s={},l=function(f,d){for(var v=o.length-1,y=[],p=t.spawn();o[v].x!=f||o[v].y!=d;)y.push(o.pop().edge),v--;y.push(o.pop().edge),y.forEach(function(m){var g=m.connectedNodes().intersection(t);p.merge(m),g.forEach(function(b){var x=b.id(),w=b.connectedEdges().intersection(t);p.merge(b),r[x].cutVertex?p.merge(w.filter(function(T){return T.isLoop()})):p.merge(w)})}),a.push(p)},u=function(f,d,v){f===v&&(i+=1),r[d]={id:n,low:n++,cutVertex:!1};var y=t.getElementById(d).connectedEdges().intersection(t);if(y.size()===0)a.push(t.spawn(t.getElementById(d)));else{var p,m,g,b;y.forEach(function(x){p=x.source().id(),m=x.target().id(),g=p===d?m:p,g!==v&&(b=x.id(),s[b]||(s[b]=!0,o.push({x:d,y:g,edge:x})),g in r?r[d].low=Math.min(r[d].low,r[g].id):(u(f,g,d),r[d].low=Math.min(r[d].low,r[g].low),r[d].id<=r[g].low&&(r[d].cutVertex=!0,l(d,g))))})}};t.forEach(function(h){if(h.isNode()){var f=h.id();f in r||(i=0,u(f,f),r[f].cutVertex=i>1)}});var c=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return t.getElementById(h)});return{cut:t.spawn(c),components:a}},PN={hopcroftTarjanBiconnected:Us,htbc:Us,htb:Us,hopcroftTarjanBiconnectedComponents:Us},Gs=function(){var t=this,r={},n=0,i=[],a=[],o=t.spawn(t),s=function(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var c=t.getElementById(u).connectedEdges().intersection(t);if(c.forEach(function(y){var p=y.target().id();p!==u&&(p in r||s(p),r[p].explored||(r[u].low=Math.min(r[u].low,r[p].low)))}),r[u].index===r[u].low){for(var h=t.spawn();;){var f=a.pop();if(h.merge(t.getElementById(f)),r[f].low=r[u].index,r[f].explored=!0,f===u)break}var d=h.edgesWith(h),v=h.merge(d);i.push(v),o=o.difference(v)}};return t.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:i}},MN={tarjanStronglyConnected:Gs,tsc:Gs,tscc:Gs,tarjanStronglyConnectedComponents:Gs},rC={};[ns,u5,c5,f5,v5,g5,b5,G5,Ta,_a,Gf,aN,yN,wN,AN,DN,PN,MN].forEach(function(e){Ne(rC,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var nC=0,iC=1,aC=2,Gr=function(t){if(!(this instanceof Gr))return new Gr(t);this.id="Thenable/1.0.7",this.state=nC,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Gr.prototype={fulfill:function(t){return hm(this,iC,"fulfillValue",t)},reject:function(t){return hm(this,aC,"rejectReason",t)},then:function(t,r){var n=this,i=new Gr;return n.onFulfilled.push(dm(t,i,"fulfill")),n.onRejected.push(dm(r,i,"reject")),oC(n),i.proxy}};var hm=function(t,r,n,i){return t.state===nC&&(t.state=r,t[n]=i,oC(t)),t},oC=function(t){t.state===iC?fm(t,"onFulfilled",t.fulfillValue):t.state===aC&&fm(t,"onRejected",t.rejectReason)},fm=function(t,r,n){if(t[r].length!==0){var i=t[r];t[r]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},dm=function(t,r,n){return function(i){if(typeof t!="function")r[n].call(r,i);else{var a;try{a=t(i)}catch(o){r.reject(o);return}sC(r,a)}}},sC=function(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Pt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){t.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?t.reject(new TypeError("circular thenable chain")):sC(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(r)};Gr.all=function(e){return new Gr(function(t,r){for(var n=new Array(e.length),i=0,a=function(l,u){n[l]=u,i++,i===e.length&&t(n)},o=0;o<e.length;o++)(function(s){var l=e[s],u=l!=null&&l.then!=null;if(u)l.then(function(h){a(s,h)},function(h){r(h)});else{var c=l;a(s,c)}})(o)})};Gr.resolve=function(e){return new Gr(function(t,r){t(e)})};Gr.reject=function(e){return new Gr(function(t,r){r(e)})};var Ya=typeof Promise<"u"?Promise:Gr,jf=function(t,r,n){var i=cv(t),a=!i,o=this._private=Ne({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&gt(o.complete)&&o.completes.push(o.complete),a){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(i){var l=t.pan();o.startPan={x:l.x,y:l.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Hi=jf.prototype;Ne(Hi,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),Tr(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(u,c){var h=t[u];h!=null&&(t[u]=t[c],t[c]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var a=t.style[i],o=a.name,s=t.startStyle[o];t.startStyle[o]=a,t.style[i]=s}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Ya(function(i,a){n.push(function(){i()})})}});Hi.complete=Hi.completed;Hi.run=Hi.play;Hi.running=Hi.playing;var FN={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,l=!a,u=!l;if(!s.styleEnabled())return this;var c=s.style();r=Ne({},r,n);var h=Object.keys(r).length===0;if(h)return new jf(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var f=r.renderedPosition,d=s.pan(),v=s.zoom();r.position=G1(f,v,d)}if(l&&r.panBy!=null){var y=r.panBy,p=s.pan();r.pan={x:p.x+y.x,y:p.y+y.y}}var m=r.center||r.centre;if(l&&m!=null){var g=s.getCenterPan(m.eles,r.zoom);g!=null&&(r.pan=g)}if(l&&r.fit!=null){var b=r.fit,x=s.getFitViewport(b.eles||b.boundingBox,b.padding);x!=null&&(r.pan=x.pan,r.zoom=x.zoom)}if(l&&Xe(r.zoom)){var w=s.getZoomedViewport(r.zoom);w!=null?(w.zoomed&&(r.zoom=w.zoom),w.panned&&(r.pan=w.pan)):r.zoom=null}return new jf(o[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Ne({},r,n));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(r.queue===void 0||r.queue),h=u.animation(r,c?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,h=c.animation.current,f=0;f<h.length;f++){var d=h[f],v=d._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},Jc,vm;function Wu(){if(vm)return Jc;vm=1;var e=Array.isArray;return Jc=e,Jc}var eh,pm;function ON(){if(pm)return eh;pm=1;var e=Wu(),t=Ts(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return eh=i,eh}var th,gm;function RN(){if(gm)return th;gm=1;var e=I1(),t=ws(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return th=o,th}var rh,mm;function IN(){if(mm)return rh;mm=1;var e=$u(),t=e["__core-js_shared__"];return rh=t,rh}var nh,ym;function NN(){if(ym)return nh;ym=1;var e=IN(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return nh=r,nh}var ih,bm;function zN(){if(bm)return ih;bm=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return ih=r,ih}var ah,xm;function $N(){if(xm)return ah;xm=1;var e=RN(),t=NN(),r=ws(),n=zN(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!r(f)||t(f))return!1;var d=e(f)?c:a;return d.test(n(f))}return ah=h,ah}var oh,Cm;function qN(){if(Cm)return oh;Cm=1;function e(t,r){return t==null?void 0:t[r]}return oh=e,oh}var sh,wm;function Cv(){if(wm)return sh;wm=1;var e=$N(),t=qN();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return sh=r,sh}var lh,Tm;function Uu(){if(Tm)return lh;Tm=1;var e=Cv(),t=e(Object,"create");return lh=t,lh}var uh,_m;function VN(){if(_m)return uh;_m=1;var e=Uu();function t(){this.__data__=e?e(null):{},this.size=0}return uh=t,uh}var ch,Sm;function HN(){if(Sm)return ch;Sm=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return ch=e,ch}var hh,Em;function WN(){if(Em)return hh;Em=1;var e=Uu(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return hh=i,hh}var fh,km;function UN(){if(km)return fh;km=1;var e=Uu(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return fh=n,fh}var dh,Bm;function GN(){if(Bm)return dh;Bm=1;var e=Uu(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return dh=r,dh}var vh,Am;function YN(){if(Am)return vh;Am=1;var e=VN(),t=HN(),r=WN(),n=UN(),i=GN();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,vh=a,vh}var ph,Lm;function KN(){if(Lm)return ph;Lm=1;function e(){this.__data__=[],this.size=0}return ph=e,ph}var gh,Dm;function lC(){if(Dm)return gh;Dm=1;function e(t,r){return t===r||t!==t&&r!==r}return gh=e,gh}var mh,Pm;function Gu(){if(Pm)return mh;Pm=1;var e=lC();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return mh=t,mh}var yh,Mm;function jN(){if(Mm)return yh;Mm=1;var e=Gu(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return yh=n,yh}var bh,Fm;function XN(){if(Fm)return bh;Fm=1;var e=Gu();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return bh=t,bh}var xh,Om;function ZN(){if(Om)return xh;Om=1;var e=Gu();function t(r){return e(this.__data__,r)>-1}return xh=t,xh}var Ch,Rm;function QN(){if(Rm)return Ch;Rm=1;var e=Gu();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Ch=t,Ch}var wh,Im;function JN(){if(Im)return wh;Im=1;var e=KN(),t=jN(),r=XN(),n=ZN(),i=QN();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,wh=a,wh}var Th,Nm;function e3(){if(Nm)return Th;Nm=1;var e=Cv(),t=$u(),r=e(t,"Map");return Th=r,Th}var _h,zm;function t3(){if(zm)return _h;zm=1;var e=YN(),t=JN(),r=e3();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return _h=n,_h}var Sh,$m;function r3(){if($m)return Sh;$m=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Sh=e,Sh}var Eh,qm;function Yu(){if(qm)return Eh;qm=1;var e=r3();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Eh=t,Eh}var kh,Vm;function n3(){if(Vm)return kh;Vm=1;var e=Yu();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return kh=t,kh}var Bh,Hm;function i3(){if(Hm)return Bh;Hm=1;var e=Yu();function t(r){return e(this,r).get(r)}return Bh=t,Bh}var Ah,Wm;function a3(){if(Wm)return Ah;Wm=1;var e=Yu();function t(r){return e(this,r).has(r)}return Ah=t,Ah}var Lh,Um;function o3(){if(Um)return Lh;Um=1;var e=Yu();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Lh=t,Lh}var Dh,Gm;function s3(){if(Gm)return Dh;Gm=1;var e=t3(),t=n3(),r=i3(),n=a3(),i=o3();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Dh=a,Dh}var Ph,Ym;function l3(){if(Ym)return Ph;Ym=1;var e=s3(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||e),a}return r.Cache=e,Ph=r,Ph}var Mh,Km;function u3(){if(Km)return Mh;Km=1;var e=l3(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Mh=r,Mh}var Fh,jm;function uC(){if(jm)return Fh;jm=1;var e=u3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return Fh=n,Fh}var Oh,Xm;function cC(){if(Xm)return Oh;Xm=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return Oh=e,Oh}var Rh,Zm;function c3(){if(Zm)return Rh;Zm=1;var e=fv(),t=cC(),r=Wu(),n=Ts(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Rh=o,Rh}var Ih,Qm;function hC(){if(Qm)return Ih;Qm=1;var e=c3();function t(r){return r==null?"":e(r)}return Ih=t,Ih}var Nh,Jm;function fC(){if(Jm)return Nh;Jm=1;var e=Wu(),t=ON(),r=uC(),n=hC();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return Nh=i,Nh}var zh,ey;function wv(){if(ey)return zh;ey=1;var e=Ts();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return zh=t,zh}var $h,ty;function h3(){if(ty)return $h;ty=1;var e=fC(),t=wv();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return $h=r,$h}var qh,ry;function f3(){if(ry)return qh;ry=1;var e=h3();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return qh=t,qh}var d3=f3(),v3=Cs(d3),Vh,ny;function p3(){if(ny)return Vh;ny=1;var e=Cv(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Vh=t,Vh}var Hh,iy;function g3(){if(iy)return Hh;iy=1;var e=p3();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Hh=t,Hh}var Wh,ay;function m3(){if(ay)return Wh;ay=1;var e=g3(),t=lC(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s){var l=a[o];(!(n.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return Wh=i,Wh}var Uh,oy;function y3(){if(oy)return Uh;oy=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Uh=r,Uh}var Gh,sy;function b3(){if(sy)return Gh;sy=1;var e=m3(),t=fC(),r=y3(),n=ws(),i=wv();function a(o,s,l,u){if(!n(o))return o;s=t(s,o);for(var c=-1,h=s.length,f=h-1,d=o;d!=null&&++c<h;){var v=i(s[c]),y=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(c!=f){var p=d[v];y=u?u(p,v,d):void 0,y===void 0&&(y=n(p)?p:r(s[c+1])?[]:{})}e(d,v,y),d=d[v]}return o}return Gh=a,Gh}var Yh,ly;function x3(){if(ly)return Yh;ly=1;var e=b3();function t(r,n,i){return r==null?r:e(r,n,i)}return Yh=t,Yh}var C3=x3(),w3=Cs(C3),Kh,uy;function T3(){if(uy)return Kh;uy=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Kh=e,Kh}var jh,cy;function _3(){if(cy)return jh;cy=1;var e=cC(),t=T3(),r=Wu(),n=Ts(),i=uC(),a=wv(),o=hC();function s(l){return r(l)?e(l,a):n(l)?[l]:t(i(o(l)))}return jh=s,jh}var S3=_3(),E3=Cs(S3),k3={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return t=Ne({},r,t),function(i,a){var o=t,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if(Oe(i)){var h=i.indexOf(".")!==-1,f=h&&E3(i);if(o.allowGetting&&a===void 0){var d;return c&&(o.beforeGet(c),f&&c._private[o.field][i]===void 0?d=v3(c._private[o.field],f):d=c._private[o.field][i]),d}else if(o.allowSetting&&a!==void 0){var v=!o.immutableKeys[i];if(v){var y=k1({},i,a);o.beforeSet(s,y);for(var p=0,m=u.length;p<m;p++){var g=u[p];o.canSet(g)&&(f&&c._private[o.field][i]===void 0?w3(g._private[o.field],f,a):g._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Xe(i)){var b=i,x,w,T=Object.keys(b);o.beforeSet(s,b);for(var C=0;C<T.length;C++){x=T[C],w=b[x];var S=!o.immutableKeys[x];if(S)for(var k=0;k<u.length;k++){var B=u[k];o.canSet(B)&&(B._private[o.field][x]=w)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&gt(i)){var E=i;s.on(o.bindingEvent,E)}else if(o.allowGetting&&i===void 0){var A;return c&&(o.beforeGet(c),A=c._private[o.field]),A}return s}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Ne({},r,t),function(i){var a=t,o=this,s=o.length!==void 0,l=s?o:[o];if(Oe(i)){for(var u=i.split(/\s+/),c=u.length,h=0;h<c;h++){var f=u[h];if(!ni(f)){var d=!a.immutableKeys[f];if(d)for(var v=0,y=l.length;v<y;v++)l[v]._private[a.field][f]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var p=0,m=l.length;p<m;p++)for(var g=l[p]._private[a.field],b=Object.keys(g),x=0;x<b.length;x++){var w=b[x],T=!a.immutableKeys[w];T&&(g[w]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},B3={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new Ya(function(s,l){var u=function(d){a.off.apply(a,h),s(d)},c=o.concat([u]),h=c.concat([]);a.on.apply(a,c)})}}},et={};[FN,k3,B3].forEach(function(e){Ne(et,e)});var A3={animate:et.animate(),animation:et.animation(),animated:et.animated(),clearQueue:et.clearQueue(),delay:et.delay(),delayAnimation:et.delayAnimation(),stop:et.stop()},gl={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else at(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],a=new Ga(t),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,c=!1,h=0;h<t.length;h++){var f=t[h],d=u.has(f);if(!d){c=!0;break}}c||(c=u.size!==t.length),c&&(l.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){at(t)||(t=t.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,c=!1,h=0;h<t.length;h++){var f=t[h],d=u.has(f),v=!1;r||i&&!d?(u.add(f),v=!0):(!r||i&&d)&&(u.delete(f),v=!0),!c&&v&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};gl.className=gl.classNames=gl.classes;var je={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Dt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};je.variable="(?:[\\w-.]|(?:\\\\"+je.metaChar+"))+";je.className="(?:[\\w-]|(?:\\\\"+je.metaChar+"))+";je.value=je.string+"|"+je.number;je.id=je.variable;(function(){var e,t,r;for(e=je.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],je.comparatorOp+="|@"+t;for(e=je.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(je.comparatorOp+="|\\!"+t)})();var nt=function(){return{checks:[]}},Se={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Xf=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return kI(e.selector,t.selector)}),L3=(function(){for(var e={},t,r=0;r<Xf.length;r++)t=Xf[r],e[t.selector]=t.matches;return e})(),D3=function(t,r){return L3[t](r)},P3="("+Xf.map(function(e){return e.selector}).join("|")+")",ta=function(t){return t.replace(new RegExp("\\\\("+je.metaChar+")","g"),function(r,n){return n})},zn=function(t,r,n){t[t.length-1]=n},Zf=[{name:"group",query:!0,regex:"("+je.group+")",populate:function(t,r,n){var i=_t(n,1),a=i[0];r.checks.push({type:Se.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:P3,populate:function(t,r,n){var i=_t(n,1),a=i[0];r.checks.push({type:Se.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+je.id+")",populate:function(t,r,n){var i=_t(n,1),a=i[0];r.checks.push({type:Se.ID,value:ta(a)})}},{name:"className",query:!0,regex:"\\.("+je.className+")",populate:function(t,r,n){var i=_t(n,1),a=i[0];r.checks.push({type:Se.CLASS,value:ta(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+je.variable+")\\s*\\]",populate:function(t,r,n){var i=_t(n,1),a=i[0];r.checks.push({type:Se.DATA_EXIST,field:ta(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+je.variable+")\\s*("+je.comparatorOp+")\\s*("+je.value+")\\s*\\]",populate:function(t,r,n){var i=_t(n,3),a=i[0],o=i[1],s=i[2],l=new RegExp("^"+je.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Se.DATA_COMPARE,field:ta(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+je.boolOp+")\\s*("+je.variable+")\\s*\\]",populate:function(t,r,n){var i=_t(n,2),a=i[0],o=i[1];r.checks.push({type:Se.DATA_BOOL,field:ta(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+je.meta+")\\s*("+je.comparatorOp+")\\s*("+je.number+")\\s*\\]\\]",populate:function(t,r,n){var i=_t(n,3),a=i[0],o=i[1],s=i[2];r.checks.push({type:Se.META_COMPARE,field:ta(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:je.separator,populate:function(t,r){var n=t.currentSubject,i=t.edgeCount,a=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=i,o.compoundCount=a,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=nt();return s}},{name:"directedEdge",separator:!0,regex:je.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=nt(),i=r,a=nt();return n.checks.push({type:Se.DIRECTED_EDGE,source:i,target:a}),zn(t,r,n),t.edgeCount++,a}else{var o=nt(),s=r,l=nt();return o.checks.push({type:Se.NODE_SOURCE,source:s,target:l}),zn(t,r,o),t.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:je.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=nt(),i=r,a=nt();return n.checks.push({type:Se.UNDIRECTED_EDGE,nodes:[i,a]}),zn(t,r,n),t.edgeCount++,a}else{var o=nt(),s=r,l=nt();return o.checks.push({type:Se.NODE_NEIGHBOR,node:s,neighbor:l}),zn(t,r,o),l}}},{name:"child",separator:!0,regex:je.child,populate:function(t,r){if(t.currentSubject==null){var n=nt(),i=nt(),a=t[t.length-1];return n.checks.push({type:Se.CHILD,parent:a,child:i}),zn(t,r,n),t.compoundCount++,i}else if(t.currentSubject===r){var o=nt(),s=t[t.length-1],l=nt(),u=nt(),c=nt(),h=nt();return o.checks.push({type:Se.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Se.TRUE}],h.checks.push({type:Se.TRUE}),l.checks.push({type:Se.PARENT,parent:h,child:c}),zn(t,s,o),t.currentSubject=u,t.compoundCount++,c}else{var f=nt(),d=nt(),v=[{type:Se.PARENT,parent:f,child:d}];return f.checks=r.checks,r.checks=v,t.compoundCount++,d}}},{name:"descendant",separator:!0,regex:je.descendant,populate:function(t,r){if(t.currentSubject==null){var n=nt(),i=nt(),a=t[t.length-1];return n.checks.push({type:Se.DESCENDANT,ancestor:a,descendant:i}),zn(t,r,n),t.compoundCount++,i}else if(t.currentSubject===r){var o=nt(),s=t[t.length-1],l=nt(),u=nt(),c=nt(),h=nt();return o.checks.push({type:Se.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Se.TRUE}],h.checks.push({type:Se.TRUE}),l.checks.push({type:Se.ANCESTOR,ancestor:h,descendant:c}),zn(t,s,o),t.currentSubject=u,t.compoundCount++,c}else{var f=nt(),d=nt(),v=[{type:Se.ANCESTOR,ancestor:f,descendant:d}];return f.checks=r.checks,r.checks=v,t.compoundCount++,d}}},{name:"subject",modifier:!0,regex:je.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return tt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],i=n.checks[0],a=i==null?null:i.type;a===Se.DIRECTED_EDGE?i.type=Se.NODE_TARGET:a===Se.UNDIRECTED_EDGE&&(i.type=Se.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Zf.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var M3=function(t){for(var r,n,i,a=0;a<Zf.length;a++){var o=Zf[a],s=o.name,l=t.match(o.regexObj);if(l!=null){n=l,r=o,i=s;var u=l[0];t=t.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:t}},F3=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},O3=function(t){var r=this,n=r.inputText=t,i=r[0]=nt();for(r.length=1,n=F3(n);;){var a=M3(n);if(a.expr==null)return tt("The selector `"+t+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(r,i,o);if(s===!1)return!1;if(s!=null&&(i=s),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return tt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return tt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&tt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},R3=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(c){return c??""},r=function(c){return Oe(c)?'"'+c+'"':t(c)},n=function(c){return" "+c+" "},i=function(c,h){var f=c.type,d=c.value;switch(f){case Se.GROUP:{var v=t(d);return v.substring(0,v.length-1)}case Se.DATA_COMPARE:{var y=c.field,p=c.operator;return"["+y+n(t(p))+r(d)+"]"}case Se.DATA_BOOL:{var m=c.operator,g=c.field;return"["+t(m)+g+"]"}case Se.DATA_EXIST:{var b=c.field;return"["+b+"]"}case Se.META_COMPARE:{var x=c.operator,w=c.field;return"[["+w+n(t(x))+r(d)+"]]"}case Se.STATE:return d;case Se.ID:return"#"+d;case Se.CLASS:return"."+d;case Se.PARENT:case Se.CHILD:return a(c.parent,h)+n(">")+a(c.child,h);case Se.ANCESTOR:case Se.DESCENDANT:return a(c.ancestor,h)+" "+a(c.descendant,h);case Se.COMPOUND_SPLIT:{var T=a(c.left,h),C=a(c.subject,h),S=a(c.right,h);return T+(T.length>0?" ":"")+C+S}case Se.TRUE:return""}},a=function(c,h){return c.checks.reduce(function(f,d,v){return f+(h===c&&v===0?"$":"")+i(d,h)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},I3={parse:O3,toString:R3},dC=function(t,r,n){var i,a=Oe(t),o=ye(t),s=Oe(n),l,u,c=!1,h=!1,f=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||s||c)&&(l=!a&&!o?"":""+t,u=""+n),c&&(t=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=t===n;break;case">":f=!0,i=t>n;break;case">=":f=!0,i=t>=n;break;case"<":f=!0,i=t<n;break;case"<=":f=!0,i=t<=n;break;default:i=!1;break}return h&&(t!=null||!f)&&(i=!i),i},N3=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},z3=function(t){return t!==void 0},Tv=function(t,r){return t.data(r)},$3=function(t,r){return t[r]()},xt=[],ht=function(t,r){return t.checks.every(function(n){return xt[n.type](n,r)})};xt[Se.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};xt[Se.STATE]=function(e,t){var r=e.value;return D3(r,t)};xt[Se.ID]=function(e,t){var r=e.value;return t.id()===r};xt[Se.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};xt[Se.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return dC($3(t,r),n,i)};xt[Se.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return dC(Tv(t,r),n,i)};xt[Se.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return N3(Tv(t,r),n)};xt[Se.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,z3(Tv(t,r))};xt[Se.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return ht(r,i)&&ht(n,a)||ht(n,i)&&ht(r,a)};xt[Se.NODE_NEIGHBOR]=function(e,t){return ht(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&ht(e.neighbor,r)})};xt[Se.DIRECTED_EDGE]=function(e,t){return ht(e.source,t.source())&&ht(e.target,t.target())};xt[Se.NODE_SOURCE]=function(e,t){return ht(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&ht(e.target,r)})};xt[Se.NODE_TARGET]=function(e,t){return ht(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&ht(e.source,r)})};xt[Se.CHILD]=function(e,t){return ht(e.child,t)&&ht(e.parent,t.parent())};xt[Se.PARENT]=function(e,t){return ht(e.parent,t)&&t.children().some(function(r){return ht(e.child,r)})};xt[Se.DESCENDANT]=function(e,t){return ht(e.descendant,t)&&t.ancestors().some(function(r){return ht(e.ancestor,r)})};xt[Se.ANCESTOR]=function(e,t){return ht(e.ancestor,t)&&t.descendants().some(function(r){return ht(e.descendant,r)})};xt[Se.COMPOUND_SPLIT]=function(e,t){return ht(e.subject,t)&&ht(e.left,t)&&ht(e.right,t)};xt[Se.TRUE]=function(){return!0};xt[Se.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};xt[Se.FILTER]=function(e,t){var r=e.value;return r(t)};var q3=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Se.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var o=0;o<r.length;o++){var s=r[o];if(ht(s,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},V3=function(t){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(ht(i,t))return!0}return!1},H3={matches:V3,filter:q3},oi=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||Oe(t)&&t.match(/^\s*$/)||(Tr(t)?this.addQuery({checks:[{type:Se.COLLECTION,value:t.collection()}]}):gt(t)?this.addQuery({checks:[{type:Se.FILTER,value:t}]}):Oe(t)?this.parse(t)||(this.invalid=!0):dt("A selector must be created from a string; found "))},si=oi.prototype;[I3,H3].forEach(function(e){return Ne(si,e)});si.text=function(){return this.inputText};si.size=function(){return this.length};si.eq=function(e){return this[e]};si.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};si.addQuery=function(e){this[this.length++]=e};si.selector=si.toString;var Qn={allAre:function(t){var r=new oi(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new oi(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var i=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(i)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var i=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!i)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(i){return t.hasElementWithId(i.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};Qn.allAreNeighbours=Qn.allAreNeighbors;Qn.has=Qn.contains;Qn.equal=Qn.equals=Qn.same;var Mr=function(t,r){return function(i,a,o,s){var l=i,u=this,c;if(l==null?c="":Tr(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var h=u[0]._private,f=h.traversalCache=h.traversalCache||{},d=f[r]=f[r]||[],v=qi(c),y=d[v];return y||(d[v]=t.call(u,i,a,o,s))}else return t.call(u,i,a,o,s)}},qa={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Mr(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function _v(e,t,r,n){for(var i=[],a=new Ga,o=e.cy(),s=o.hasCompoundNodes(),l=0;l<e.length;l++){var u=e[l];r?i.push(u):s&&n(i,a,u)}for(;i.length>0;){var c=i.shift();t(c),a.add(c.id()),s&&n(i,a,c)}return e}function vC(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}qa.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _v(this,e,t,vC)};function pC(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}qa.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _v(this,e,t,pC)};function W3(e,t,r){pC(e,t,r),vC(e,t,r)}qa.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _v(this,e,t,W3)};qa.ancestors=qa.parents;var os,gC;os=gC={data:et.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:et.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:et.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:et.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:et.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:et.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};os.attr=os.data;os.removeAttr=os.removeData;var U3=gC,Ku={};function Xh(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}else return}}Ne(Ku,{degree:Xh(function(e,t){return t.source().same(t.target())?2:1}),indegree:Xh(function(e,t){return t.target().same(e)?1:0}),outdegree:Xh(function(e,t){return t.source().same(e)?1:0})});function ra(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);s!==void 0&&(n===void 0||t(s,n))&&(n=s)}return n}}Ne(Ku,{minDegree:ra("degree",function(e,t){return e<t}),maxDegree:ra("degree",function(e,t){return e>t}),minIndegree:ra("indegree",function(e,t){return e<t}),maxIndegree:ra("indegree",function(e,t){return e>t}),minOutdegree:ra("outdegree",function(e,t){return e<t}),maxOutdegree:ra("outdegree",function(e,t){return e>t})});Ne(Ku,{totalDegree:function(t){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(t);return r}});var Ur,mC,yC=function(t,r,n){for(var i=0;i<t.length;i++){var a=t[i];if(!a.locked()){var o=a._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,n),a.dirtyBoundingBoxCache()}}},hy={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){yC(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Ur=mC={position:et.data(hy),silentPosition:et.data(Ne({},hy,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){yC(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(Xe(t))r?this.silentPosition(t):this.position(t);else if(gt(t)){var n=t,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=n(o,a))&&(r?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var i;if(Xe(t)?(i={x:ye(t.x)?t.x:0,y:ye(t.y)?t.y:0},n=r):Oe(t)&&ye(r)&&(i={x:0,y:0},i[t]=r),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+i.x,y:l.y+i.y};n?s.silentPosition(u):s.position(u)}}a.endBatch()}return this},silentShift:function(t,r){return Xe(t)?this.shift(t,!0):Oe(t)&&ye(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=Xe(t)?t:void 0,l=s!==void 0||r!==void 0&&Oe(t);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(t,(r-o[t])/a):s!==void 0&&c.position(G1(s,a,o))}else{var h=n.position();return s=Vu(h,a,o),t===void 0?s:s[t]}else if(!l)return;return this},relativePosition:function(t,r){var n=this[0],i=this.cy(),a=Xe(t)?t:void 0,o=a!==void 0||r!==void 0&&Oe(t),s=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,h=c&&c.length>0,f=h;h&&(c=c[0]);var d=f?c.position():{x:0,y:0};r!==void 0?u.position(t,r+d[t]):a!==void 0&&u.position({x:a.x+d.x,y:a.y+d.y})}else{var v=n.position(),y=s?n.parent():null,p=y&&y.length>0,m=p;p&&(y=y[0]);var g=m?y.position():{x:0,y:0};return a={x:v.x-g.x,y:v.y-g.y},t===void 0?a:a[t]}else if(!o)return;return this}};Ur.modelPosition=Ur.point=Ur.position;Ur.modelPositions=Ur.points=Ur.positions;Ur.renderedPoint=Ur.renderedPosition;Ur.relativePoint=Ur.relativePosition;var G3=mC,Sa,di;Sa=di={};di.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};di.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};di.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),f=s.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=f.x-h.w/2,h.x2=f.x+h.w/2,h.y1=f.y-h.h/2,h.y2=f.y+h.h/2);function d(k,B,E){var A=0,D=0,O=B+E;return k>0&&O>0&&(A=B/O*k,D=E/O*k),{biasDiff:A,biasComplementDiff:D}}function v(k,B,E,A){if(E.units==="%")switch(A){case"width":return k>0?E.pfValue*k:0;case"height":return B>0?E.pfValue*B:0;case"average":return k>0&&B>0?E.pfValue*(k+B)/2:0;case"min":return k>0&&B>0?k>B?E.pfValue*B:E.pfValue*k:0;case"max":return k>0&&B>0?k>B?E.pfValue*k:E.pfValue*B:0;default:return 0}else return E.units==="px"?E.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var p=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(p=p*100/c.width.val);var m=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var g=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var b=d(c.width.val-h.w,y,p),x=b.biasDiff,w=b.biasComplementDiff,T=d(c.height.val-h.h,m,g),C=T.biasDiff,S=T.biasComplementDiff;s.autoPadding=v(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,c.width.val),f.x=(-x+h.x1+h.x2+w)/2,s.autoHeight=Math.max(h.h,c.height.val),f.y=(-C+h.y1+h.y2+S)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||e)&&(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Pr=function(t){return t===1/0||t===-1/0?0:t},qr=function(t,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(t.x1=r<t.x1?r:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=a>t.y2?a:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Wn=function(t,r){return r==null?t:qr(t,r.x1,r.y1,r.x2,r.y2)},uo=function(t,r,n){return pr(t,r,n)},Ys=function(t,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,o=a.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},h=c[n]=c[n]||{};h.x1=l-o,h.y1=u-o,h.x2=l+o,h.y2=u+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,vl(h,1),qr(t,h.x1,h.y1,h.x2,h.y2)}}},Zh=function(t,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,o=a.rstyle,s=r.pstyle(i+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=uo(o,"labelWidth",n),h=uo(o,"labelHeight",n),f=uo(o,"labelX",n),d=uo(o,"labelY",n),v=r.pstyle(i+"text-margin-x").pfValue,y=r.pstyle(i+"text-margin-y").pfValue,p=r.isEdge(),m=r.pstyle(i+"text-rotation"),g=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,x=b/2,w=r.pstyle("text-background-padding").pfValue,T=2,C=h,S=c,k=S/2,B=C/2,E,A,D,O;if(p)E=f-k,A=f+k,D=d-B,O=d+B;else{switch(l.value){case"left":E=f-S,A=f;break;case"center":E=f-k,A=f+k;break;case"right":E=f,A=f+S;break}switch(u.value){case"top":D=d-C,O=d;break;case"center":D=d-B,O=d+B;break;case"bottom":D=d,O=d+C;break}}var R=v-Math.max(g,x)-w-T,M=v+Math.max(g,x)+w+T,P=y-Math.max(g,x)-w-T,I=y+Math.max(g,x)+w+T;E+=R,A+=M,D+=P,O+=I;var z=n||"main",W=a.labelBounds,N=W[z]=W[z]||{};N.x1=E,N.y1=D,N.x2=A,N.y2=O,N.w=A-E,N.h=O-D,N.leftPad=R,N.rightPad=M,N.topPad=P,N.botPad=I;var H=p&&m.strValue==="autorotate",j=m.pfValue!=null&&m.pfValue!==0;if(H||j){var ne=H?uo(a.rstyle,"labelAngle",n):m.pfValue,K=Math.cos(ne),ae=Math.sin(ne),ue=(E+A)/2,fe=(D+O)/2;if(!p){switch(l.value){case"left":ue=A;break;case"right":ue=E;break}switch(u.value){case"top":fe=O;break;case"bottom":fe=D;break}}var oe=function(V,X){return V=V-ue,X=X-fe,{x:V*K-X*ae+ue,y:V*ae+X*K+fe}},U=oe(E,D),Y=oe(E,O),_=oe(A,D),F=oe(A,O);E=Math.min(U.x,Y.x,_.x,F.x),A=Math.max(U.x,Y.x,_.x,F.x),D=Math.min(U.y,Y.y,_.y,F.y),O=Math.max(U.y,Y.y,_.y,F.y)}var q=z+"Rot",J=W[q]=W[q]||{};J.x1=E,J.y1=D,J.x2=A,J.y2=O,J.w=A-E,J.h=O-D,qr(t,E,D,A,O),qr(a.labelBounds.all,E,D,A,O)}return t}},fy=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value,a=r.pstyle("outline-offset").value,o=i+a;bC(t,r,n,o,"outside",o/2)}},bC=function(t,r,n,i,a,o){if(!(n===0||i<=0||a==="inside")){var s=r.cy(),l=r.pstyle("shape").value,u=s.renderer().nodeShapes[l],c=r.position(),h=c.x,f=c.y,d=r.width(),v=r.height();if(u.hasMiterBounds){a==="center"&&(i/=2);var y=u.miterBounds(h,f,d,v,i);Wn(t,y)}else o!=null&&o>0&&pl(t,[o,o,o,o])}},Y3=function(t,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,i=r.pstyle("border-width").pfValue,a=r.pstyle("border-position").value;bC(t,r,n,i,a)}},K3=function(t,r){var n=t._private.cy,i=n.styleEnabled(),a=n.headless(),o=hr(),s=t._private,l=t.isNode(),u=t.isEdge(),c,h,f,d,v,y,p=s.rstyle,m=l&&i?t.pstyle("bounds-expansion").pfValue:[0],g=function($){return $.pstyle("display").value!=="none"},b=!i||g(t)&&(!u||g(t.source())&&g(t.target()));if(b){var x=0,w=0;i&&r.includeOverlays&&(x=t.pstyle("overlay-opacity").value,x!==0&&(w=t.pstyle("overlay-padding").value));var T=0,C=0;i&&r.includeUnderlays&&(T=t.pstyle("underlay-opacity").value,T!==0&&(C=t.pstyle("underlay-padding").value));var S=Math.max(w,C),k=0,B=0;if(i&&(k=t.pstyle("width").pfValue,B=k/2),l&&r.includeNodes){var E=t.position();v=E.x,y=E.y;var A=t.outerWidth(),D=A/2,O=t.outerHeight(),R=O/2;c=v-D,h=v+D,f=y-R,d=y+R,qr(o,c,f,h,d),i&&fy(o,t),i&&r.includeOutlines&&!a&&fy(o,t),i&&Y3(o,t)}else if(u&&r.includeEdges)if(i&&!a){var M=t.pstyle("curve-style").strValue;if(c=Math.min(p.srcX,p.midX,p.tgtX),h=Math.max(p.srcX,p.midX,p.tgtX),f=Math.min(p.srcY,p.midY,p.tgtY),d=Math.max(p.srcY,p.midY,p.tgtY),c-=B,h+=B,f-=B,d+=B,qr(o,c,f,h,d),M==="haystack"){var P=p.haystackPts;if(P&&P.length===2){if(c=P[0].x,f=P[0].y,h=P[1].x,d=P[1].y,c>h){var I=c;c=h,h=I}if(f>d){var z=f;f=d,d=z}qr(o,c-B,f-B,h+B,d+B)}}else if(M==="bezier"||M==="unbundled-bezier"||Kn(M,"segments")||Kn(M,"taxi")){var W;switch(M){case"bezier":case"unbundled-bezier":W=p.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":W=p.linePts;break}if(W!=null)for(var N=0;N<W.length;N++){var H=W[N];c=H.x-B,h=H.x+B,f=H.y-B,d=H.y+B,qr(o,c,f,h,d)}}}else{var j=t.source(),ne=j.position(),K=t.target(),ae=K.position();if(c=ne.x,h=ae.x,f=ne.y,d=ae.y,c>h){var ue=c;c=h,h=ue}if(f>d){var fe=f;f=d,d=fe}c-=B,h+=B,f-=B,d+=B,qr(o,c,f,h,d)}if(i&&r.includeEdges&&u&&(Ys(o,t,"mid-source"),Ys(o,t,"mid-target"),Ys(o,t,"source"),Ys(o,t,"target")),i){var oe=t.pstyle("ghost").value==="yes";if(oe){var U=t.pstyle("ghost-offset-x").pfValue,Y=t.pstyle("ghost-offset-y").pfValue;qr(o,o.x1+U,o.y1+Y,o.x2+U,o.y2+Y)}}var _=s.bodyBounds=s.bodyBounds||{};Zg(_,o),pl(_,m),vl(_,1),i&&(c=o.x1,h=o.x2,f=o.y1,d=o.y2,qr(o,c-S,f-S,h+S,d+S));var F=s.overlayBounds=s.overlayBounds||{};Zg(F,o),pl(F,m),vl(F,1);var q=s.labelBounds=s.labelBounds||{};q.all!=null?A5(q.all):q.all=hr(),i&&r.includeLabels&&(r.includeMainLabels&&Zh(o,t,null),u&&(r.includeSourceLabels&&Zh(o,t,"source"),r.includeTargetLabels&&Zh(o,t,"target")))}return o.x1=Pr(o.x1),o.y1=Pr(o.y1),o.x2=Pr(o.x2),o.y2=Pr(o.y2),o.w=Pr(o.x2-o.x1),o.h=Pr(o.y2-o.y1),o.w>0&&o.h>0&&b&&(pl(o,m),vl(o,1)),o},xC=function(t){var r=0,n=function(o){return(o?1:0)<<r++},i=0;return i+=n(t.incudeNodes),i+=n(t.includeEdges),i+=n(t.includeLabels),i+=n(t.includeMainLabels),i+=n(t.includeSourceLabels),i+=n(t.includeTargetLabels),i+=n(t.includeOverlays),i+=n(t.includeOutlines),i},CC=function(t){var r=function(s){return Math.round(s)};if(t.isEdge()){var n=t.source().position(),i=t.target().position();return Ug([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var a=t.position();return Ug([r(a.x),r(a.y)])}},dy=function(t,r){var n=t._private,i,a=t.isEdge(),o=r==null?vy:xC(r),s=o===vy;if(n.bbCache==null?(i=K3(t,ss),n.bbCache=i,n.bbCachePosKey=CC(t)):i=n.bbCache,!s){var l=t.isNode();i=hr(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?Wn(i,n.overlayBounds):Wn(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?Wn(i,n.labelBounds.all):(r.includeMainLabels&&Wn(i,n.labelBounds.mainRot),r.includeSourceLabels&&Wn(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Wn(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},ss={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},vy=xC(ss),py=Ht(ss);di.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,n=za(function(c){var h=c._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==CC(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))e===void 0?e=ss:e=py(e),t=dy(this[0],e);else{t=hr(),e=e||ss;var i=py(e),a=this,o=a.cy(),s=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),s&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<a.length;l++){var u=a[l];n(u)&&u.dirtyBoundingBoxCache(),Wn(t,dy(u,i))}}return t.x1=Pr(t.x1),t.y1=Pr(t.y1),t.x2=Pr(t.x2),t.y2=Pr(t.y2),t.w=Pr(t.x2-t.x1),t.h=Pr(t.y2-t.y1),t};di.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};di.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(u){return u.isParent()}),t=t.not(i)),Xe(e)){var a=e;e=function(){return a}}var o=function(c,h){return c._private.bbAtOldPos=e(c,h)},s=function(c){return c._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=B5(this.boundingBox({useCache:!1}));return t.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};Sa.boundingbox=Sa.bb=Sa.boundingBox;Sa.renderedBoundingbox=Sa.renderedBoundingBox;var j3=di,wo,Es;wo=Es={};var wC=function(t){t.uppercaseName=Lg(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Lg(t.outerName),wo[t.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[t.autoName]||0;var s=n.pstyle(t.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},wo["outer"+t.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var s=n[t.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var c=2*n.padding();return s+u+c}else return 1},wo["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var i=n[t.name]();return i*this.cy().zoom()}},wo["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[t.outerName]();return i*this.cy().zoom()}}};wC({name:"width"});wC({name:"height"});Es.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};Es.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};Es.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var X3=Es,Z3=function(t,r){if(t.isEdge()&&t.takesUpSpace())return r(t)},Q3=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy();return Vu(r(t),n.zoom(),n.pan())}},J3=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy(),i=n.pan(),a=n.zoom();return r(t).map(function(o){return Vu(o,a,i)})}},e4=function(t){return t.renderer().getControlPoints(t)},t4=function(t){return t.renderer().getSegmentPoints(t)},r4=function(t){return t.renderer().getSourceEndpoint(t)},n4=function(t){return t.renderer().getTargetEndpoint(t)},i4=function(t){return t.renderer().getEdgeMidpoint(t)},gy={controlPoints:{get:e4,mult:!0},segmentPoints:{get:t4,mult:!0},sourceEndpoint:{get:r4},targetEndpoint:{get:n4},midpoint:{get:i4}},a4=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},o4=Object.keys(gy).reduce(function(e,t){var r=gy[t],n=a4(t);return e[t]=function(){return Z3(this,r.get)},r.mult?e[n]=function(){return J3(this,r.get)}:e[n]=function(){return Q3(this,r.get)},e},{}),s4=Ne({},G3,j3,X3,o4);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var TC=function(t,r){this.recycle(t,r)};function co(){return!1}function Ks(){return!0}TC.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=co,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Ks:co):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ks;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ks;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ks,this.stopPropagation()},isDefaultPrevented:co,isPropagationStopped:co,isImmediatePropagationStopped:co};var _C=/^([^.]+)(\.(?:[^.]+))?$/,l4=".*",SC={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},my=Object.keys(SC),u4={};function ju(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u4,t=arguments.length>1?arguments[1]:void 0,r=0;r<my.length;r++){var n=my[r];this[n]=e[n]||SC[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var li=ju.prototype,EC=function(t,r,n,i,a,o,s){gt(i)&&(a=i,i=null),s&&(o==null?o=s:o=Ne({},o,s));for(var l=at(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!ni(c)){var h=c.match(_C);if(h){var f=h[1],d=h[2]?h[2]:null,v=r(t,c,f,d,i,a,o);if(v===!1)break}}}},yy=function(t,r){return t.addEventFields(t.context,r),new TC(r.type,r)},c4=function(t,r,n){if(gI(n)){r(t,n);return}else if(Xe(n)){r(t,yy(t,n));return}for(var i=at(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!ni(o)){var s=o.match(_C);if(s){var l=s[1],u=s[2]?s[2]:null,c=yy(t,{type:l,namespace:u,target:t.context});r(t,c)}}}};li.on=li.addListener=function(e,t,r,n,i){return EC(this,function(a,o,s,l,u,c,h){gt(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:h})},e,t,r,n,i),this};li.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};li.removeListener=li.off=function(e,t,r,n){var i=this;this.emitting!==0&&(this.listeners=QI(this.listeners));for(var a=this.listeners,o=function(u){var c=a[u];EC(i,function(h,f,d,v,y,p){if((c.type===d||e==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!y||h.qualifierCompare(c.qualifier,y))&&(!p||c.callback===p))return a.splice(u,1),!1},e,t,r,n)},s=a.length-1;s>=0;s--)o(s);return this};li.removeAllListeners=function(){return this.removeListener("*")};li.emit=li.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,at(t)||(t=[t]),c4(this,function(a,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],i=n.length);for(var s=function(){var c=n[l];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===l4)&&a.eventMatches(a.context,c,o)){var h=[o];t!=null&&e5(h,t),a.beforeEmit(a.context,c,o),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(v){return v!==c}));var f=a.callbackContext(a.context,c,o),d=c.callback.apply(f,h);a.afterEmit(a.context,c,o),d===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<i;l++)s();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,t)},e),this.emitting--,this};var h4={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var i=r.qualifier;return i!=null?t!==n.target&&xs(n.target)&&i.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},js=function(t){return Oe(t)?new oi(t):t},kC={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new ju(h4,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var i=js(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,i,n)}return this},removeListener:function(t,r,n){for(var i=js(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(t,i,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var i=js(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(t,i,n)}return this},once:function(t,r,n){for(var i=js(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,i,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};et.eventAliasesOn(kC);var BC={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?t.push(i):r.push(i)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(Oe(t)||Tr(t))return new oi(t).filter(this);if(gt(t)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=r?t.apply(r,[o,a,i]):t(o,a,i);s&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){Oe(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=t.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(Oe(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),i=this,a=t,o=this.length<t.length,s=o?i:a,l=o?a:i,u=0;u<s.length;u++){var c=s[u];l.has(c)&&n.push(c)}return n},xor:function(t){var r=this._private.cy;Oe(t)&&(t=r.$(t));var n=this.spawn(),i=this,a=t,o=function(l,u){for(var c=0;c<l.length;c++){var h=l[c],f=h._private.data.id,d=u.hasElementWithId(f);d||n.push(h)}};return o(i,a),o(a,i),n},diff:function(t){var r=this._private.cy;Oe(t)&&(t=r.$(t));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=t,l=function(c,h,f){for(var d=0;d<c.length;d++){var v=c[d],y=v._private.data.id,p=h.hasElementWithId(y);p?a.merge(v):f.push(v)}};return l(o,s,n),l(s,o,i),{left:n,right:i,both:a}},add:function(t){var r=this._private.cy;if(!t)return this;if(Oe(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<t.length;a++){var o=t[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&Oe(t)){var i=t;t=n.mutableElements().filter(i)}for(var a=r.map,o=0;o<t.length;o++){var s=t[o],l=s._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=s,a.set(l,{ele:s,index:c})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),i=this._private,a=i.map;this[t]=void 0,a.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[t]=l,a.set(u,{ele:l,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&Oe(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],s=r?t.apply(r,[o,a,i]):t(o,a,i);n.push(s)}return n},reduce:function(t,r){for(var n=r,i=this,a=0;a<i.length;a++)n=t(n,i[a],a,i);return n},max:function(t,r){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?t.apply(r,[s,o,a]):t(s,o,a);l>n&&(n=l,i=s)}return{value:n,ele:i}},min:function(t,r){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?t.apply(r,[s,o,a]):t(s,o,a);l<n&&(n=l,i=s)}return{value:n,ele:i}}},Ze=BC;Ze.u=Ze["|"]=Ze["+"]=Ze.union=Ze.or=Ze.add;Ze["\\"]=Ze["!"]=Ze["-"]=Ze.difference=Ze.relativeComplement=Ze.subtract=Ze.not;Ze.n=Ze["&"]=Ze["."]=Ze.and=Ze.intersection=Ze.intersect;Ze["^"]=Ze["(+)"]=Ze["(-)"]=Ze.symmetricDifference=Ze.symdiff=Ze.xor;Ze.fnFilter=Ze.filterFn=Ze.stdFilter=Ze.filter;Ze.complement=Ze.abscomp=Ze.absoluteComplement;var f4={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},AC=function(t,r){var n=t.cy(),i=n.hasCompoundNodes();function a(c){var h=c.pstyle("z-compound-depth");return h.value==="auto"?i?c.zDepth():0:h.value==="bottom"?-1:h.value==="top"?dv:0}var o=a(t)-a(r);if(o!==0)return o;function s(c){var h=c.pstyle("z-index-compare");return h.value==="auto"&&c.isNode()?1:0}var l=s(t)-s(r);if(l!==0)return l;var u=t.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:t.poolIndex()-r.poolIndex()},ou={forEach:function(t,r){if(gt(t))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=r?t.apply(r,[a,i,this]):t(a,i,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],i=this.length;r==null&&(r=i),t==null&&(t=0),t<0&&(t=i+t),r<0&&(r=i+r);for(var a=t;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!gt(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(AC)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var i=r.data.parent?t.parents().size():0;return t.isParent()?i:dv-1}else{var a=r.source,o=r.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};ou.each=ou.forEach;var d4=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":Pt(Symbol))!=t&&Pt(Symbol.iterator)!=t;r&&(ou[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return k1({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};d4();var v4=Ht({nodeDimensionsIncludeLabels:!1}),ml={layoutDimensions:function(t){t=v4(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var i=this.nodes().filter(function(w){return!w.isParent()}),a=this.cy(),o=r.eles,s=function(T){return T.id()},l=za(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var u=function(T,C,S){var k={x:C.x1+C.w/2,y:C.y1+C.h/2},B={x:(S.x-k.x)*T,y:(S.y-k.y)*T};return{x:k.x+B.x,y:k.y+B.y}},c=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!c)return null;for(var T=hr(),C=0;C<i.length;C++){var S=i[C],k=l(S,C);Y1(T,k.x,k.y)}return T},f=h(),d=za(function(w,T){var C=l(w,T);if(c){var S=Math.abs(r.spacingFactor);C=u(S,f,C)}return r.transform!=null&&(C=r.transform(w,C)),C},s);if(r.animate){for(var v=0;v<i.length;v++){var y=i[v],p=d(y,v),m=r.animateFilter==null||r.animateFilter(y,v);if(m){var g=y.animation({position:p,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(g)}else y.position(p)}if(r.fit){var b=a.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var x=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(x)}t.animations.forEach(function(w){return w.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),Ya.all(t.animations.map(function(w){return w.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(d),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Ne({},t,{eles:this}))}};ml.createLayout=ml.makeLayout=ml.layout;function LC(e,t,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(r)),a}function Xu(e,t){return e=qi(e),function(n){return LC(e,t,n)}}function Zu(e,t){e=qi(e);var r=function(i){return t.call(i)};return function(){var i=this[0];if(i)return LC(e,r,i)}}var qt={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(a){return a._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;t=!!(t||t===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return t?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[t];return a??(r?i.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Xe(t)){var o=t;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if(Oe(t))if(r===void 0){var s=this[0];return s?a.getStylePropertyValue(s,t):void 0}else a.applyBypass(this,t,r,i),this.emitAndNotify("style");else if(t===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(t===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Qh(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!t(a))return!1}return!0}function Sv(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!t(a))return!1;if(a.isNode())return!o||Qh(a,n);var l=s.source,u=s.target;return r(l)&&(!o||Qh(l,r))&&(l===u||r(u)&&(!o||Qh(u,r)))}}}var Ka=Xu("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});qt.takesUpSpace=Zu("takesUpSpace",Sv({ok:Ka}));var p4=Xu("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Ka(e)}),g4=Xu("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Ka(e)});qt.interactive=Zu("interactive",Sv({ok:p4,parentOk:g4,edgeOkViaNode:Ka}));qt.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var m4=Xu("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Ka(e)}),y4=Ka;qt.visible=Zu("visible",Sv({ok:m4,edgeOkViaNode:y4}));qt.hidden=function(){var e=this[0];if(e)return!e.visible()};qt.isBundledBezier=Zu("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});qt.bypass=qt.css=qt.style;qt.renderedCss=qt.renderedStyle;qt.removeBypass=qt.removeCss=qt.removeStyle;qt.pstyle=qt.parsedStyle;var Jn={};function by(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(t.length===1&&gt(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&at(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(h!==void 0&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,c&&r.push(l))}var f=this.spawn(r);f.updateStyle(),f.emit(e.event),o&&f.emit(o)}return this}}function ja(e){Jn[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Jn[e.on]=by({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Jn[e.off]=by({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}ja({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ja({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ja({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ja({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Jn.deselect=Jn.unselect;Jn.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};ja({field:"active",on:"activate",off:"unactivate"});ja({field:"pannable",on:"panify",off:"unpanify"});Jn.inactive=function(){var e=this[0];if(e)return!e._private.active};var Qt={},xy=function(t){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var h=u[c],f=h.source(),d=h.target();if(t.noIncomingEdges&&d===s&&f!==s||t.noOutgoingEdges&&f===s&&d!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(n)}},Cy=function(t){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),h=u.target();t.outgoing&&c===o?(i.push(u),i.push(h)):t.incoming&&h===o&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(r)}},wy=function(t){return function(r){for(var n=this,i=[],a={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();a[c]||(a[c]=!0,i.push(u),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(r)}};Qt.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Ne(Qt,{roots:xy({noIncomingEdges:!0}),leaves:xy({noOutgoingEdges:!0}),outgoers:Mr(Cy({outgoing:!0}),"outgoers"),successors:wy({outgoing:!0}),incomers:Mr(Cy({incoming:!0}),"incomers"),predecessors:wy({})});Ne(Qt,{neighborhood:Mr(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});Qt.neighbourhood=Qt.neighborhood;Qt.closedNeighbourhood=Qt.closedNeighborhood;Qt.openNeighbourhood=Qt.openNeighborhood;Ne(Qt,{source:Mr(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Mr(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:Ty({attr:"source"}),targets:Ty({attr:"target"})});function Ty(e){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Ne(Qt,{edgesWith:Mr(_y(),"edgesWith"),edgesTo:Mr(_y({thisIsSrc:!0}),"edgesTo")});function _y(e){return function(r){var n=[],i=this._private.cy,a=e||{};Oe(r)&&(r=i.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,h=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),f=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=h||f;d&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!h||a.thisIsTgt&&!f)||n.push(u))}return this.spawn(n,!0)}}Ne(Qt,{connectedEdges:Mr(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Mr(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Mr(Sy(),"parallelEdges"),codirectedEdges:Mr(Sy({codirected:!0}),"codirectedEdges")});function Sy(e){var t={codirected:!1};return e=Ne({},t,e),function(n){for(var i=[],a=this.edges(),o=e,s=0;s<a.length;s++)for(var l=a[s],u=l._private,c=u.source,h=c._private.data.id,f=u.data.target,d=c._private.edges,v=0;v<d.length;v++){var y=d[v],p=y._private.data,m=p.target,g=p.source,b=m===f&&g===h,x=h===m&&f===g;(o.codirected&&b||!o.codirected&&(b||x))&&i.push(y)}return this.spawn(i,!0).filter(n)}}Ne(Qt,{components:function(t){var r=this,n=r.cy(),i=n.collection(),a=t==null?r.nodes():t.nodes(),o=[];t!=null&&a.empty()&&(a=t.sources());var s=function(c,h){i.merge(c),a.unmerge(c),h.merge(c)};if(a.empty())return r.spawn();var l=function(){var c=n.collection();o.push(c);var h=a[0];s(h,c),r.bfs({directed:!1,roots:h,visit:function(d){return s(d,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do l();while(a.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});Qt.componentsOf=Qt.components;var Vt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){dt("A collection must have a reference to the core");return}var a=new kn,o=!1;if(!r)r=[];else if(r.length>0&&Xe(r[0])&&!xs(r[0])){o=!0;for(var s=[],l=new Ga,u=0,c=r.length;u<c;u++){var h=r[u];h.data==null&&(h.data={});var f=h.data;if(f.id==null)f.id=W1();else if(t.hasElementWithId(f.id)||l.has(f.id))continue;var d=new qu(t,h,!1);s.push(d),l.add(f.id)}r=s}this.length=0;for(var v=0,y=r.length;v<y;v++){var p=r[v][0];if(p!=null){var m=p._private.data.id;(!n||!a.has(m))&&(n&&a.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(g){this.lazyMap=g},rebuildMap:function(){for(var b=this.lazyMap=new kn,x=this.eles,w=0;w<x.length;w++){var T=x[w];b.set(T.id(),{index:w,ele:T})}}},n&&(this._private.map=a),o&&!i&&this.restore()},ut=qu.prototype=Vt.prototype=Object.create(Array.prototype);ut.instanceString=function(){return"collection"};ut.spawn=function(e,t){return new Vt(this.cy(),e,t)};ut.spawnSelf=function(){return this.spawn(this)};ut.cy=function(){return this._private.cy};ut.renderer=function(){return this._private.cy.renderer()};ut.element=function(){return this[0]};ut.collection=function(){return L1(this)?this:new Vt(this._private.cy,[this])};ut.unique=function(){return new Vt(this._private.cy,this,!0)};ut.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};ut.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new Vt(t)};ut.$id=ut.getElementById;ut.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};ut.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};ut.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};ut.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(Xe(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,l=e.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),l!=null&&l!=i.target&&(o.target=""+l,a=!0),a&&(t=t.move(o))}else{var u="parent"in e.data,c=e.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var h=function(y,p,m){var g=e[y];g!=null&&g!==n[y]&&(g?t[p]():t[m]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var f={data:nn(n.data),position:nn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var d=0;return n.classes.forEach(function(v){return f.classes+=d++===0?v:" "+v}),f}}};ut.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};ut.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new qu(e,i,!1);t.push(a)}return new Vt(e,t)};ut.copy=ut.clone;ut.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],o=[],s,l=0,u=r.length;l<u;l++){var c=r[l];t&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var h,f=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var d=s[h],v=d._private,y=v.data;if(d.clearTraversalCache(),!(!t&&!v.removed)){if(y.id===void 0)y.id=W1();else if(ye(y.id))y.id=""+y.id;else if(ni(y.id)||!Oe(y.id)){dt("Can not create element with invalid string ID `"+y.id+"`"),f();continue}else if(n.hasElementWithId(y.id)){dt("Can not create second element with ID `"+y.id+"`"),f();continue}}var p=y.id;if(d.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(d.isEdge()){for(var g=d,b=["source","target"],x=b.length,w=!1,T=0;T<x;T++){var C=b[T],S=y[C];ye(S)&&(S=y[C]=""+y[C]),S==null||S===""?(dt("Can not create edge `"+p+"` with unspecified "+C),w=!0):n.hasElementWithId(S)||(dt("Can not create edge `"+p+"` with nonexistant "+C+" `"+S+"`"),w=!0)}if(w){f();continue}var k=n.getElementById(y.source),B=n.getElementById(y.target);k.same(B)?k._private.edges.push(g):(k._private.edges.push(g),B._private.edges.push(g)),g._private.source=k,g._private.target=B}v.map=new kn,v.map.set(p,{ele:d,index:0}),v.removed=!1,t&&n.addToPool(d)}for(var E=0;E<a.length;E++){var A=a[E],D=A._private.data;ye(D.parent)&&(D.parent=""+D.parent);var O=D.parent,R=O!=null;if(R||A._private.parent){var M=A._private.parent?n.collection().merge(A._private.parent):n.getElementById(O);if(M.empty())D.parent=void 0;else if(M[0].removed())tt("Node added with missing parent, reference to parent removed"),D.parent=void 0,A._private.parent=null;else{for(var P=!1,I=M;!I.empty();){if(A.same(I)){P=!0,D.parent=void 0;break}I=I.parent()}P||(M[0]._private.children.push(A),A._private.parent=M[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var z=s.length===r.length?r:new Vt(n,s),W=0;W<z.length;W++){var N=z[W];N.isNode()||(N.parallelEdges().clearTraversalCache(),N.source().clearTraversalCache(),N.target().clearTraversalCache())}var H;i.hasCompoundNodes?H=n.collection().merge(z).merge(z.connectedNodes()).merge(z.parent()):H=z,H.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?z.emitAndNotify("add"):t&&z.emit("add")}return r};ut.removed=function(){var e=this[0];return e&&e._private.removed};ut.inside=function(){var e=this[0];return e&&!e._private.removed};ut.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function o(O){for(var R=O._private.edges,M=0;M<R.length;M++)l(R[M])}function s(O){for(var R=O._private.children,M=0;M<R.length;M++)l(R[M])}function l(O){var R=i[O.id()];t&&O.removed()||R||(i[O.id()]=!0,O.isNode()?(n.push(O),o(O),s(O)):n.unshift(O))}for(var u=0,c=r.length;u<c;u++){var h=r[u];l(h)}function f(O,R){var M=O._private.edges;ii(M,R),O.clearTraversalCache()}function d(O){O.clearTraversalCache()}var v=[];v.ids={};function y(O,R){R=R[0],O=O[0];var M=O._private.children,P=O.id();ii(M,R),R._private.parent=null,v.ids[P]||(v.ids[P]=!0,v.push(O))}r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var p=0;p<n.length;p++){var m=n[p];if(m.isEdge()){var g=m.source()[0],b=m.target()[0];f(g,m),f(b,m);for(var x=m.parallelEdges(),w=0;w<x.length;w++){var T=x[w];d(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var C=m.parent();C.length!==0&&y(C,m)}t&&(m._private.removed=!0)}var S=a._private.elements;a._private.hasCompoundNodes=!1;for(var k=0;k<S.length;k++){var B=S[k];if(B.isParent()){a._private.hasCompoundNodes=!0;break}}var E=new Vt(this.cy(),n);E.size()>0&&(e?E.emitAndNotify("remove"):t&&E.emit("remove"));for(var A=0;A<v.length;A++){var D=v[A];(!t||!D.removed())&&D.updateStyle()}return E};ut.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=function(v){return v==null?v:""+v};if(e.source!==void 0||e.target!==void 0){var o=a(e.source),s=a(e.target),l=o!=null&&t.hasElementWithId(o),u=s!=null&&t.hasElementWithId(s);(l||u)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var v=r[d],y=v._private.data;v.isEdge()&&(l&&(y.source=o),u&&(y.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var c=a(e.parent),h=c===null||t.hasElementWithId(c);if(h){var f=c===null?void 0:c;t.batch(function(){var d=r.remove(n,i);d.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var y=r[v],p=y._private.data;y.isNode()&&(p.parent=f)}d.restore(n,i)}),r.emitAndNotify("move")}}return this};[rC,A3,gl,Qn,qa,U3,Ku,s4,kC,BC,f4,ou,ml,qt,Jn,Qt].forEach(function(e){Ne(ut,e)});var b4={add:function(t){var r,n=this;if(Tr(t)){var i=t;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}r=new Vt(n,a)}}else if(at(t)){var l=t;r=new Vt(n,l)}else if(Xe(t)&&(at(t.nodes)||at(t.edges))){for(var u=t,c=[],h=["nodes","edges"],f=0,d=h.length;f<d;f++){var v=h[f],y=u[v];if(at(y))for(var p=0,m=y.length;p<m;p++){var g=Ne({group:v},y[p]);c.push(g)}}r=new Vt(n,c)}else{var b=t;r=new qu(n,b).collection()}return r},remove:function(t){if(!Tr(t)){if(Oe(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function x4(e,t,r,n){var i=4,a=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var f=c?new Float32Array(l):new Array(l);function d(B,E){return 1-3*E+3*B}function v(B,E){return 3*E-6*B}function y(B){return 3*B}function p(B,E,A){return((d(E,A)*B+v(E,A))*B+y(E))*B}function m(B,E,A){return 3*d(E,A)*B*B+2*v(E,A)*B+y(E)}function g(B,E){for(var A=0;A<i;++A){var D=m(E,e,r);if(D===0)return E;var O=p(E,e,r)-B;E-=O/D}return E}function b(){for(var B=0;B<l;++B)f[B]=p(B*u,e,r)}function x(B,E,A){var D,O,R=0;do O=E+(A-E)/2,D=p(O,e,r)-B,D>0?A=O:E=O;while(Math.abs(D)>o&&++R<s);return O}function w(B){for(var E=0,A=1,D=l-1;A!==D&&f[A]<=B;++A)E+=u;--A;var O=(B-f[A])/(f[A+1]-f[A]),R=E+O*u,M=m(R,e,r);return M>=a?g(B,R):M===0?R:x(B,E,E+u)}var T=!1;function C(){T=!0,(e!==t||r!==n)&&b()}var S=function(E){return T||C(),e===t&&r===n?E:E===0?0:E===1?1:p(w(E),t,n)};S.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var k="generateBezier("+[e,t,r,n]+")";return S.toString=function(){return k},S}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var C4=(function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,i){var a={dx:n.v,dv:e(n)},o=t(n,i*.5,a),s=t(n,i*.5,o),l=t(n,i,s),u=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+c*i,n}return function n(i,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,h=16/1e3,f,d,v;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,f=o!==null,f?(u=n(i,a),d=u/o*h):d=h;v=r(v||s,d),l.push(1+v.x),u+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return f?function(y){return l[y*(l.length-1)|0]}:u}})(),ot=function(t,r,n,i){var a=x4(t,r,n,i);return function(o,s,l){return o+(s-o)*a(l)}},yl={linear:function(t,r,n){return t+(r-t)*n},ease:ot(.25,.1,.25,1),"ease-in":ot(.42,0,1,1),"ease-out":ot(0,0,.58,1),"ease-in-out":ot(.42,0,.58,1),"ease-in-sine":ot(.47,0,.745,.715),"ease-out-sine":ot(.39,.575,.565,1),"ease-in-out-sine":ot(.445,.05,.55,.95),"ease-in-quad":ot(.55,.085,.68,.53),"ease-out-quad":ot(.25,.46,.45,.94),"ease-in-out-quad":ot(.455,.03,.515,.955),"ease-in-cubic":ot(.55,.055,.675,.19),"ease-out-cubic":ot(.215,.61,.355,1),"ease-in-out-cubic":ot(.645,.045,.355,1),"ease-in-quart":ot(.895,.03,.685,.22),"ease-out-quart":ot(.165,.84,.44,1),"ease-in-out-quart":ot(.77,0,.175,1),"ease-in-quint":ot(.755,.05,.855,.06),"ease-out-quint":ot(.23,1,.32,1),"ease-in-out-quint":ot(.86,0,.07,1),"ease-in-expo":ot(.95,.05,.795,.035),"ease-out-expo":ot(.19,1,.22,1),"ease-in-out-expo":ot(1,0,0,1),"ease-in-circ":ot(.6,.04,.98,.335),"ease-out-circ":ot(.075,.82,.165,1),"ease-in-out-circ":ot(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return yl.linear;var i=C4(t,r,n);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":ot};function Ey(e,t,r,n,i){if(n===1||t===r)return r;var a=i(t,r,n);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function ky(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function na(e,t,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var o=ky(e,i),s=ky(t,i);if(ye(o)&&ye(s))return Ey(a,o,s,r,n);if(at(o)&&at(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],h=s[u];if(c!=null&&h!=null){var f=Ey(a,c,h,r,n);l.push(f)}else l.push(h)}return l}}function w4(e,t,r,n){var i=!n,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=n?e:e.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=yl.linear;else{var h;if(Oe(s)){var f=c.parse("transition-timing-function",s);h=f.value}else h=s;var d,v;Oe(h)?(d=h,v=[]):(d=h[1],v=h.slice(2).map(function(z){return+z})),v.length>0?(d==="spring"&&v.push(o.duration),o.easingImpl=yl[d].apply(null,v)):o.easingImpl=yl[d]}var y=o.easingImpl,p;if(o.duration===0?p=1:p=(r-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),o.delay==null){var m=o.startPosition,g=o.position;if(g&&i&&!e.locked()){var b={};ho(m.x,g.x)&&(b.x=na(m.x,g.x,p,y)),ho(m.y,g.y)&&(b.y=na(m.y,g.y,p,y)),e.position(b)}var x=o.startPan,w=o.pan,T=a.pan,C=w!=null&&n;C&&(ho(x.x,w.x)&&(T.x=na(x.x,w.x,p,y)),ho(x.y,w.y)&&(T.y=na(x.y,w.y,p,y)),e.emit("pan"));var S=o.startZoom,k=o.zoom,B=k!=null&&n;B&&(ho(S,k)&&(a.zoom=is(a.minZoom,na(S,k,p,y),a.maxZoom)),e.emit("zoom")),(C||B)&&e.emit("viewport");var E=o.style;if(E&&E.length>0&&i){for(var A=0;A<E.length;A++){var D=E[A],O=D.name,R=D,M=o.startStyle[O],P=c.properties[M.name],I=na(M,R,p,y,P);c.overrideBypass(e,O,I)}e.emit("style")}}return o.progress=p,p}function ho(e,t){return e==null||t==null?!1:ye(e)&&ye(t)?!0:!!(e&&t)}function T4(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function By(e,t){var r=t._private.aniEles,n=[];function i(c,h){var f=c._private,d=f.animation.current,v=f.animation.queue,y=!1;if(d.length===0){var p=v.shift();p&&d.push(p)}for(var m=function(T){for(var C=T.length-1;C>=0;C--){var S=T[C];S()}T.splice(0,T.length)},g=d.length-1;g>=0;g--){var b=d[g],x=b._private;if(x.stopped){d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,m(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||T4(c,b,e),w4(c,b,e,h),x.applying&&(x.applying=!1),m(x.frames),x.step!=null&&x.step(e),b.completed()&&(d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,m(x.completes)),y=!0)}return!h&&d.length===0&&v.length===0&&n.push(c),y}for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=i(s);a=a||l}var u=i(t,!0);(a||u)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var _4={animate:et.animate(),animation:et.animation(),animated:et.animated(),clearQueue:et.clearQueue(),delay:et.delay(),delayAnimation:et.delayAnimation(),stop:et.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&tu(function(a){By(a,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){By(o,t)},n.beforeRenderPriorities.animations):r()}},S4={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var i=r.qualifier;return i!=null?t!==n.target&&xs(n.target)&&i.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},Xs=function(t){return Oe(t)?new oi(t):t},DC={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new ju(S4,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,Xs(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,Xs(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,Xs(r),n),this},once:function(t,r,n){return this.emitter().one(t,Xs(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};et.eventAliasesOn(DC);var Qf={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};Qf.jpeg=Qf.jpg;var bl={layout:function(t){var r=this;if(t==null){dt("Layout options must be specified to make a layout");return}if(t.name==null){dt("A `name` must be specified to make a layout");return}var n=t.name,i=r.extension("layout",n);if(i==null){dt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Oe(t.eles)?a=r.$(t.eles):a=t.eles!=null?t.eles:r.$();var o=new i(Ne({},t,{cy:r,eles:a}));return o}};bl.createLayout=bl.makeLayout=bl.layout;var E4={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var i=t.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),i=0;i<n.length;i++){var a=n[i],o=t[a],s=r.getElementById(a);s.data(o)}})}},k4=Ht({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Jf={renderTo:function(t,r,n,i){var a=this._private.renderer;return a.renderTo(t,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){dt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&tt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=k4(t);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};Jf.invalidateDimensions=Jf.resize;var xl={collection:function(t,r){return Oe(t)?this.$(t):Tr(t)?t.collection():at(t)?(r||(r={}),new Vt(this,t,r.unique,r.removed)):new Vt(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};xl.elements=xl.filter=xl.$;var zt={},zo="t",B4="f";zt.apply=function(e){for(var t=this,r=t._private,n=r.cy,i=n.collection(),a=0;a<e.length;a++){var o=e[a],s=t.getContextMeta(o);if(!s.empty){var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,o);o._private.appliedInitStyle?t.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=t.updateStyleHints(o);c&&i.push(o)}}return i};zt.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=e[l]===zo,h=t[l]===zo,f=c!==h,d=u.mappedProperties.length>0;if(f||h&&d){var v=void 0;f&&d||f?v=u.properties:d&&(v=u.mappedProperties);for(var y=0;y<v.length;y++){for(var p=v[y],m=p.name,g=!1,b=l+1;b<r.length;b++){var x=r[b],w=t[b]===zo;if(w&&(g=x.properties[p.name]!=null,g))break}!s[m]&&!g&&(s[m]=!0,o.push(m))}}}return n[i]=o,o};zt.getContextMeta=function(e){for(var t=this,r="",n,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var o=t[a],s=o.selector&&o.selector.matches(e);s?r+=zo:r+=B4}return n=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};zt.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s=t[a]===zo;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];i[u.name]=u}}return n[t]=i,i};zt.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=n.types,s=0;s<i.length;s++){var l=i[s],u=t[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var h=c.mapping,f=h.fnValue=u.value(r);if(f===h.prevFnValue)continue}var d=a[l]={prev:c};n.applyParsedProperty(r,u),d.next=r.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}};zt.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(_,F,q){return r.getPropertiesHash(_,F,q)},o=t.styleKey;if(e.removed())return!1;var s=t.group==="nodes",l=e._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=[Bi,ca]}for(var h=function(_,F){return t.styleKeys[F][0]=ts(_,t.styleKeys[F][0])},f=function(_,F){return t.styleKeys[F][1]=rs(_,t.styleKeys[F][1])},d=function(_,F){h(_,F),f(_,F)},v=function(_,F){for(var q=0;q<_.length;q++){var J=_.charCodeAt(q);h(J,F),f(J,F)}},y=2e9,p=function(_){return-128<_&&_<128&&Math.floor(_)!==_?y-(_*1024|0):_},m=0;m<n.length;m++){var g=n[m],b=l[g];if(b!=null){var x=this.properties[g],w=x.type,T=x.groupKey,C=void 0;x.hashOverride!=null?C=x.hashOverride(e,b):b.pfValue!=null&&(C=b.pfValue);var S=x.enums==null?b.value:null,k=C!=null,B=S!=null,E=k||B,A=b.units;if(w.number&&E&&!w.multiple){var D=k?C:S;d(p(D),T),!k&&A!=null&&v(A,T)}else v(b.strValue,T)}}for(var O=[Bi,ca],R=0;R<i.length;R++){var M=i[R],P=t.styleKeys[M];O[0]=ts(P[0],O[0]),O[1]=rs(P[1],O[1])}t.styleKey=WI(O[0],O[1]);var I=t.styleKeys;t.labelDimsKey=Nn(I.labelDimensions);var z=a(e,["label"],I.labelDimensions);if(t.labelKey=Nn(z),t.labelStyleKey=Nn(Vs(I.commonLabel,z)),!s){var W=a(e,["source-label"],I.labelDimensions);t.sourceLabelKey=Nn(W),t.sourceLabelStyleKey=Nn(Vs(I.commonLabel,W));var N=a(e,["target-label"],I.labelDimensions);t.targetLabelKey=Nn(N),t.targetLabelStyleKey=Nn(Vs(I.commonLabel,N))}if(s){var H=t.styleKeys,j=H.nodeBody,ne=H.nodeBorder,K=H.nodeOutline,ae=H.backgroundImage,ue=H.compound,fe=H.pie,oe=H.stripe,U=[j,ne,K,ae,ue,fe,oe].filter(function(Y){return Y!=null}).reduce(Vs,[Bi,ca]);t.nodeKey=Nn(U),t.hasPie=fe!=null&&fe[0]!==Bi&&fe[1]!==ca,t.hasStripe=oe!=null&&oe[0]!==Bi&&oe[1]!==ca}return o!==t.styleKey};zt.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};zt.applyParsedProperty=function(e,t){var r=this,n=t,i=e._private.style,a,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=i[n.name],c=u&&u.bypass,h=e._private,f="mapping",d=function(j){return j==null?null:j.pfValue!=null?j.pfValue:j.value},v=function(){var j=d(u),ne=d(n);r.checkTriggers(e,n.name,j,ne)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",l)),n.delete)return i[n.name]=void 0,v(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,v(),!0):!1:(v(),!0);var y=function(){tt("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var p=n.field.split("."),m=h.data,g=0;g<p.length&&m;g++){var b=p[g];m=m[b]}if(m==null)return y(),!1;var x;if(ye(m)){var w=n.fieldMax-n.fieldMin;w===0?x=0:x=(m-n.fieldMin)/w}else return tt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var T=n.valueMin[0],C=n.valueMax[0],S=n.valueMin[1],k=n.valueMax[1],B=n.valueMin[2],E=n.valueMax[2],A=n.valueMin[3]==null?1:n.valueMin[3],D=n.valueMax[3]==null?1:n.valueMax[3],O=[Math.round(T+(C-T)*x),Math.round(S+(k-S)*x),Math.round(B+(E-B)*x),Math.round(A+(D-A)*x)];a={bypass:n.bypass,name:n.name,value:O,strValue:"rgb("+O[0]+", "+O[1]+", "+O[2]+")"}}else if(s.number){var R=n.valueMin+(n.valueMax-n.valueMin)*x;a=this.parse(n.name,R,n.bypass,f)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case o.data:{for(var M=n.field.split("."),P=h.data,I=0;I<M.length&&P;I++){var z=M[I];P=P[z]}if(P!=null&&(a=this.parse(n.name,P,n.bypass,f)),!a)return y(),!1;a.mapping=n,n=a;break}case o.fn:{var W=n.value,N=n.fnValue!=null?n.fnValue:W(e);if(n.prevFnValue=N,N==null)return tt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(n.name,N,n.bypass,f),!a)return tt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=nn(n),n=a;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):c?u.bypassed=n:i[n.name]=n,v(),!0};zt.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];l!=null&&(l.bypass?l.bypassed=null:i[s]=null)}}};zt.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};zt.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],h=e.pstyle(c),f=t[c];if(f){var d=f.prev,v=d,y=f.next!=null?f.next:h,p=!1,m=void 0,g=1e-6;v&&(ye(v.pfValue)&&ye(y.pfValue)?(p=y.pfValue-v.pfValue,m=v.pfValue+g*p):ye(v.value)&&ye(y.value)?(p=y.value-v.value,m=v.value+g*p):at(v.value)&&at(y.value)&&(p=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],m=v.strValue),p&&(s[c]=y.strValue,this.applyBypass(e,c,m),l=!0))}}if(!l)return;n.transitioning=!0,new Ya(function(b){o>0?e.delayAnimation(o).play().promise().then(b):b()}).then(function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)};zt.checkTrigger=function(e,t,r,n,i,a){var o=this.properties[t],s=i(o);e.removed()||s!=null&&s(r,n,e)&&a(o)};zt.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})};zt.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};zt.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};zt.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){e.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};zt.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};var ks={};ks.applyBypass=function(e,t,r,n){var i=this,a=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var s=0;s<i.properties.length;s++){var l=i.properties[s],u=l.name,c=this.parse(u,r,!0);c&&a.push(c)}}else if(Oe(t)){var h=this.parse(t,r,!0);h&&a.push(h)}else if(Xe(t)){var f=t;n=r;for(var d=Object.keys(f),v=0;v<d.length;v++){var y=d[v],p=f[y];if(p===void 0&&(p=f[zu(y)]),p!==void 0){var m=this.parse(y,p,!0);m&&a.push(m)}}}else return!1;if(a.length===0)return!1;for(var g=!1,b=0;b<e.length;b++){for(var x=e[b],w={},T=void 0,C=0;C<a.length;C++){var S=a[C];if(n){var k=x.pstyle(S.name);T=w[S.name]={prev:k}}g=this.applyParsedProperty(x,nn(S))||g,n&&(T.next=x.pstyle(S.name))}g&&this.updateStyleHints(x),n&&this.updateTransitions(x,w,o)}return g};ks.overrideBypass=function(e,t,r){t=hv(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),s?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,t,u,r)}};ks.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};ks.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],o={},s=0;s<t.length;s++){var l=t[s],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var h="",f=this.parse(l,h,!0),d=o[u.name]={prev:c};this.applyParsedProperty(a,f),d.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,n)}};var Ev={};Ev.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};Ev.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var fn={};fn.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};fn.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(e,a.name,t);o!=null&&(n[a.name]=o,n[zu(a.name)]=o)}return n}};fn.getIndexedStyle=function(e,t,r,n){var i=e.pstyle(t)[r][n];return i??e.cy().style().getDefaultProperty(t)[r][0]};fn.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var i=n.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,o=e.pstyle(i.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&a.number&&s!=null&&ye(s)){var c=e.cy().zoom(),h=function(p){return p*c},f=function(p,m){return h(p)+m},d=at(s),v=d?l.every(function(y){return y!=null}):l!=null;return v?d?s.map(function(y,p){return f(y,l[p])}).join(" "):f(s,l):d?s.map(function(y){return Oe(y)?y:""+h(y)}).join(" "):""+h(s)}else if(u!=null)return u}return null}};fn.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=i.name,o=e.pstyle(a);o!==void 0&&(Xe(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};fn.getPropsList=function(e){var t=this,r=[],n=e,i=t.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s],u=i[s]||i[hv(s)],c=this.parse(u.name,l);c&&r.push(c)}return r};fn.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),i,a,o,s,l,u;for(l=0;l<t.length;l++)if(i=t[l],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=ts(s,n[0]),n[1]=rs(s,n[1]);else for(o=a.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=ts(s,n[0]),n[1]=rs(s,n[1]);return n};fn.getPropertiesHash=fn.getNonDefaultPropertiesHash;var Qu={};Qu.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];t.css(l,u)}}return t};Qu.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Qu.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e};var kv={};kv.appendFromString=function(e){var t=this,r=this,n=""+e,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){tt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var h=c[1];if(h!=="core"){var f=new oi(h);if(f.invalid){tt("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var d=c[2],v=!1;a=d;for(var y=[];;){var p=a.match(/^\s*$/);if(p)break;var m=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){tt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}o=m[0];var g=m[1],b=m[2],x=t.properties[g];if(!x){tt("Skipping property: Invalid property name in: "+o),l();continue}var w=r.parse(g,b);if(!w){tt("Skipping property: Invalid property definition in: "+o),l();continue}y.push({name:g,val:b}),l()}if(v){s();break}r.selector(h);for(var T=0;T<y.length;T++){var C=y[T];r.css(C.name,C.val)}s()}return r};kv.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Tt={};(function(){var e=Dt,t=wI,r=_I,n=SI,i=EI,a=function(Y){return"^"+Y+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(Y){var _=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+i;return"^"+Y+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+_+")\\s*\\,\\s*("+_+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Tt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Y,_){switch(Y.length){case 2:return _[0]!=="deg"&&_[0]!=="rad"&&_[1]!=="deg"&&_[1]!=="rad";case 1:return Oe(Y[0])||_[0]==="deg"||_[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Y){var _=Y.length;return _===1||_===2||_===4}}};var l={zeroNonZero:function(Y,_){return(Y==null||_==null)&&Y!==_||Y==0&&_!=0?!0:Y!=0&&_==0},any:function(Y,_){return Y!=_},emptyNonEmpty:function(Y,_){var F=ni(Y),q=ni(_);return F&&!q||!F&&q}},u=Tt.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],h=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],f=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],v=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:l.any}],p=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(Y,_,F){return Y===_?!1:F.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],m=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],g=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],b=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(Y,_){return _.value==="label"?-Y.poolIndex():_.pfValue},w=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],T=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],C=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],S=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],k=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],B=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(Y,_){return Y===_?!1:Y==="bezier"||_==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],E=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],A=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],D=[];Tt.pieBackgroundN=16,D.push({name:"pie-size",type:u.sizeMaybePercent}),D.push({name:"pie-hole",type:u.sizeMaybePercent}),D.push({name:"pie-start-angle",type:u.angle});for(var O=1;O<=Tt.pieBackgroundN;O++)D.push({name:"pie-"+O+"-background-color",type:u.color}),D.push({name:"pie-"+O+"-background-size",type:u.percent}),D.push({name:"pie-"+O+"-background-opacity",type:u.zeroOneNumber});var R=[];Tt.stripeBackgroundN=16,R.push({name:"stripe-size",type:u.sizeMaybePercent}),R.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var M=1;M<=Tt.stripeBackgroundN;M++)R.push({name:"stripe-"+M+"-background-color",type:u.color}),R.push({name:"stripe-"+M+"-background-size",type:u.percent}),R.push({name:"stripe-"+M+"-background-opacity",type:u.zeroOneNumber});var P=[],I=Tt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(U){I.forEach(function(Y){var _=Y+"-"+U.name,F=U.type,q=U.triggersBounds;P.push({name:_,type:F,triggersBounds:q})})},{});var z=Tt.properties=[].concat(y,b,p,m,g,E,v,d,c,h,f,w,T,C,S,D,R,k,B,P,A),W=Tt.propertyGroups={behavior:y,transition:b,visibility:p,overlay:m,underlay:g,ghost:E,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:h,targetLabel:f,nodeBody:w,nodeBorder:T,nodeOutline:C,backgroundImage:S,pie:D,stripe:R,compound:k,edgeLine:B,edgeArrow:P,core:A},N=Tt.propertyGroupNames={},H=Tt.propertyGroupKeys=Object.keys(W);H.forEach(function(U){N[U]=W[U].map(function(Y){return Y.name}),W[U].forEach(function(Y){return Y.groupKey=U})});var j=Tt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Tt.propertyNames=z.map(function(U){return U.name});for(var ne=0;ne<z.length;ne++){var K=z[ne];z[K.name]=K}for(var ae=0;ae<j.length;ae++){var ue=j[ae],fe=z[ue.pointsTo],oe={name:ue.name,alias:!0,pointsTo:fe};z.push(oe),z[ue.name]=oe}})();Tt.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Tt.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Ne({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Tt.pieBackgroundN;c++){var h=u.name.replace("{{i}}",c),f=u.value;l[h]=f}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Tt.stripeBackgroundN;c++){var h=u.name.replace("{{i}}",c),f=u.value;l[h]=f}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Tt.arrowPrefixes.forEach(function(c){var h=c+"-"+u.name,f=u.value;l[h]=f}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);r[a]=s}}return e.defaultProperties=r,e.defaultProperties};Tt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ju={};Ju.parse=function(e,t,r,n){var i=this;if(gt(t))return i.parseImplWarn(e,t,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+t,l=q1(e,s,o,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(c=nn(c),c&&(c.value=nn(c.value))),c};Ju.parseImplWarn=function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return!i&&t!=null&&tt("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&tt("The style value of `label` is deprecated for `"+i.name+"`"),i};Ju.parseImpl=function(e,t,r,n){var i=this;e=hv(e);var a=i.properties[e],o=t,s=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var l=Oe(t);l&&(t=t.trim());var u=a.type;if(!u)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(gt(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};var c,h;if(!(!l||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(c=new RegExp(s.data.regex).exec(t))){if(r)return!1;var f=s.data;return{name:e,value:c,strValue:""+t,mapped:f,field:c[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(t))){if(r||u.multiple)return!1;var d=s.mapData;if(!(u.color||u.number))return!1;var v=this.parse(e,h[4]);if(!v||v.mapped)return!1;var y=this.parse(e,h[5]);if(!y||y.mapped)return!1;if(v.pfValue===y.pfValue||v.strValue===y.strValue)return tt("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+v.strValue+"`"),this.parse(e,v.strValue);if(u.color){var p=v.value,m=y.value,g=p[0]===m[0]&&p[1]===m[1]&&p[2]===m[2]&&(p[3]===m[3]||(p[3]==null||p[3]===1)&&(m[3]==null||m[3]===1));if(g)return!1}return{name:e,value:h,strValue:""+t,mapped:d,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:v.value,valueMax:y.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var b;if(l?b=t.split(/\s+/):at(t)?b=t:b=[t],u.evenMultiple&&b.length%2!==0)return null;for(var x=[],w=[],T=[],C="",S=!1,k=0;k<b.length;k++){var B=i.parse(e,b[k],r,"multiple");S=S||Oe(B.value),x.push(B.value),T.push(B.pfValue!=null?B.pfValue:B.value),w.push(B.units),C+=(k>0?" ":"")+B.strValue}return u.validate&&!u.validate(x,w)?null:u.singleEnum&&S?x.length===1&&Oe(x[0])?{name:e,value:x[0],strValue:x[0],bypass:r}:null:{name:e,value:x,pfValue:T,strValue:C,bypass:r,units:w}}var E=function(){for(var oe=0;oe<u.enums.length;oe++){var U=u.enums[oe];if(U===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(u.number){var A,D="px";if(u.units&&(A=u.units),u.implicitUnits&&(D=u.implicitUnits),!u.unitless)if(l){var O="px|em"+(u.allowPercent?"|\\%":"");A&&(O=A);var R=t.match("^("+Dt+")("+O+")?$");R&&(t=R[1],A=R[2]||D)}else(!A||u.implicitUnits)&&(A=D);if(t=parseFloat(t),isNaN(t)&&u.enums===void 0)return null;if(isNaN(t)&&u.enums!==void 0)return t=o,E();if(u.integer&&!pI(t)||u.min!==void 0&&(t<u.min||u.strictMin&&t===u.min)||u.max!==void 0&&(t>u.max||u.strictMax&&t===u.max))return null;var M={name:e,value:t,strValue:""+t+(A||""),units:A,bypass:r};return u.unitless||A!=="px"&&A!=="em"?M.pfValue=t:M.pfValue=A==="px"||!A?t:this.getEmSizeInPixels()*t,(A==="ms"||A==="s")&&(M.pfValue=A==="ms"?t:1e3*t),(A==="deg"||A==="rad")&&(M.pfValue=A==="rad"?t:S5(t)),A==="%"&&(M.pfValue=t/100),M}else if(u.propList){var P=[],I=""+t;if(I!=="none"){for(var z=I.split(/\s*,\s*|\s+/),W=0;W<z.length;W++){var N=z[W].trim();i.properties[N]?P.push(N):tt("`"+N+"` is not a valid property name")}if(P.length===0)return null}return{name:e,value:P,strValue:P.length===0?"none":P.join(" "),bypass:r}}else if(u.color){var H=F1(t);return H?{name:e,value:H,pfValue:H,strValue:"rgb("+H[0]+","+H[1]+","+H[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var j=E();if(j)return j}for(var ne=u.regexes?u.regexes:[u.regex],K=0;K<ne.length;K++){var ae=new RegExp(ne[K]),ue=ae.exec(t);if(ue)return{name:e,value:u.singleRegexMatchValue?ue[1]:ue,strValue:""+t,bypass:r}}return null}else return u.string?{name:e,value:""+t,strValue:""+t,bypass:r}:u.enums?E():null};var It=function(t){if(!(this instanceof It))return new It(t);if(!cv(t)){dt("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Jt=It.prototype;Jt.instanceString=function(){return"style"};Jt.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Jt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Jt.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Jt.selector=function(e){var t=e==="core"?null:new oi(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};Jt.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var i=e.properties[n],a=r[i.name];a===void 0&&(a=r[zu(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Jt.style=Jt.css;Jt.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Jt.append=function(e){return D1(e)?e.appendToStyle(this):at(e)?this.appendFromJson(e):Oe(e)&&this.appendFromString(e),this};It.fromJson=function(e,t){var r=new It(e);return r.fromJson(t),r};It.fromString=function(e,t){return new It(e).fromString(t)};[zt,ks,Ev,fn,Qu,kv,Tt,Ju].forEach(function(e){Ne(Jt,e)});It.types=Jt.types;It.properties=Jt.properties;It.propertyGroups=Jt.propertyGroups;It.propertyGroupNames=Jt.propertyGroupNames;It.propertyGroupKeys=Jt.propertyGroupKeys;var A4={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return D1(t)?r.style=t.generateStyle(this):at(t)?r.style=It.fromJson(this,t):Oe(t)?r.style=It.fromString(this,t):r.style=It(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},L4="single",Wi={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=L4),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,i,a,o,s;switch(t.length){case 0:return r;case 1:if(Oe(t[0]))return n=t[0],r[n];if(Xe(t[0])){if(!this._private.panningEnabled)return this;a=t[0],o=a.x,s=a.y,ye(o)&&(r.x=o),ye(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],i=t[1],(n==="x"||n==="y")&&ye(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,i=this._private.pan,a,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Xe(t)&&(s=n[0],l=s.x,u=s.y,ye(l)&&(i.x+=l),ye(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=t,o=r,(a==="x"||a==="y")&&ye(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(ye(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Oe(t)){var i=t;t=this.$(i)}else if(yI(t)){var a=t;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Tr(t)||(t=this.mutableElements());if(!(Tr(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),s=this.height(),l;if(r=ye(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var i=t;t=i.min,r=i.max}return ye(t)&&ye(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):ye(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:ye(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,i=r.zoom,a,o,s=!1;if(r.zoomingEnabled||(s=!0),ye(t)?o=t:Xe(t)&&(o=t.level,t.position!=null?a=Vu(t.position,i,n):t.renderedPosition!=null&&(a=t.renderedPosition),a!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!ye(o)||o===i||a!=null&&(!ye(a.x)||!ye(a.y)))return null;if(a!=null){var l=n,u=i,c=o,h={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!t)return this;if(ye(t.zoom)||(n=!1),Xe(t.pan)||(i=!1),!n&&!i)return this;if(n){var l=t.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var u=t.pan;ye(u.x)&&(r.pan.x=u.x,s=!1),ye(u.y)&&(r.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(Oe(t)){var n=t;t=this.mutableElements().filter(n)}else Tr(t)||(t=this.mutableElements());if(t.length!==0){var i=t.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?(function(){var i=n.window().getComputedStyle(r),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};Wi.centre=Wi.center;Wi.autolockNodes=Wi.autolock;Wi.autoungrabifyNodes=Wi.autoungrabify;var ls={data:et.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:et.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:et.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:et.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ls.attr=ls.data;ls.removeAttr=ls.removeData;var us=function(t){var r=this;t=Ne({},t);var n=t.container;n&&!eu(n)&&eu(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var o=Lt!==void 0&&n!==void 0&&!t.headless,s=t;s.layout=Ne({name:o?"grid":"null"},s.layout),s.renderer=Ne({name:o?"canvas":"null"},s.renderer);var l=function(v,y,p){return y!==void 0?y:p!==void 0?p:v},u=this._private={container:n,ready:!1,options:s,elements:new Vt(this),listeners:[],aniEles:new Vt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:ye(s.zoom)?s.zoom:1,pan:{x:Xe(s.pan)&&ye(s.pan.x)?s.pan.x:0,y:Xe(s.pan)&&ye(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(v,y){var p=v.some(bI);if(p)return Ya.all(v).then(y);y(v)};u.styleEnabled&&r.setStyle([]);var h=Ne({},s,s.renderer);r.initRenderer(h);var f=function(v,y,p){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(Xe(v)||at(v))&&r.add(v),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",p),r.emit("done")});var g=Ne({},r._private.options.layout);g.eles=r.elements(),r.layout(g).run()};c([s.style,s.elements],function(d){var v=d[0],y=d[1];u.styleEnabled&&r.style().append(v),f(y,function(){r.startAnimationLoop(),u.ready=!0,gt(s.ready)&&r.on("ready",s.ready);for(var p=0;p<a.length;p++){var m=a[p];r.on("ready",m)}i&&(i.readies=[]),r.emit("ready")},s.done)})},su=us.prototype;Ne(su,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return Lt;var r=this._private.container.ownerDocument;return r===void 0||r==null?Lt:r.defaultView||Lt},mount:function(t){if(t!=null){var r=this,n=r._private,i=n.options;return!eu(t)&&eu(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ne({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return nn(this._private.options)},json:function(t){var r=this,n=r._private,i=r.mutableElements(),a=function(x){return r.getElementById(x.id())};if(Xe(t)){if(r.startBatch(),t.elements){var o={},s=function(x,w){for(var T=[],C=[],S=0;S<x.length;S++){var k=x[S];if(!k.data.id){tt("cy.json() cannot handle elements without an ID attribute");continue}var B=""+k.data.id,E=r.getElementById(B);o[B]=!0,E.length!==0?C.push({ele:E,json:k}):(w&&(k.group=w),T.push(k))}r.add(T);for(var A=0;A<C.length;A++){var D=C[A],O=D.ele,R=D.json;O.json(R)}};if(at(t.elements))s(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],h=t.elements[c];at(h)&&s(h,c)}var f=r.collection();i.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?f.merge(b):b.remove()}),f.forEach(function(b){return b.children().move({parent:null})}),f.forEach(function(b){return a(b).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var y=d[v];t[y]!=null&&r[y](t[y])}return r.endBatch(),this}else{var p=!!t,m={};p?m.elements=this.elements().map(function(b){return b.json()}):(m.elements={},i.forEach(function(b){var x=b.group();m.elements[x]||(m.elements[x]=[]),m.elements[x].push(b.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=nn(r.data());var g=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=nn(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=nn(g.renderer),m.hideEdgesOnViewport=g.hideEdgesOnViewport,m.textureOnViewport=g.textureOnViewport,m.wheelSensitivity=g.wheelSensitivity,m.motionBlur=g.motionBlur,m.multiClickDebounceTime=g.multiClickDebounceTime,m}}});su.$id=su.getElementById;[b4,_4,DC,Qf,bl,E4,Jf,xl,A4,Wi,ls].forEach(function(e){Ne(su,e)});var D4={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},P4={maximal:!1,acyclic:!1},ia=function(t){return t.scratch("breadthfirst")},Ay=function(t,r){return t.scratch("breadthfirst",r)};function PC(e){this.options=Ne({},D4,P4,e)}PC.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(re){return re.isChildless()}),i=r,a=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,s=!!e.boundingBox,l=hr(s?e.boundingBox:structuredClone(t.extent())),u;if(Tr(e.roots))u=e.roots;else if(at(e.roots)){for(var c=[],h=0;h<e.roots.length;h++){var f=e.roots[h],d=t.getElementById(f);c.push(d)}u=t.collection(c)}else if(Oe(e.roots))u=t.$(e.roots);else if(a)u=n.roots();else{var v=r.components();u=t.collection();for(var y=function(){var ee=v[p],te=ee.maxDegree(!1),de=ee.filter(function(he){return he.degree(!1)===te});u=u.add(de)},p=0;p<v.length;p++)y()}var m=[],g={},b=function(ee,te){m[te]==null&&(m[te]=[]);var de=m[te].length;m[te].push(ee),Ay(ee,{index:de,depth:te})},x=function(ee,te){var de=ia(ee),he=de.depth,ve=de.index;m[he][ve]=null,ee.isChildless()&&b(ee,te)};i.bfs({roots:u,directed:e.directed,visit:function(ee,te,de,he,ve){var ge=ee[0],Ce=ge.id();ge.isChildless()&&b(ge,ve),g[Ce]=!0}});for(var w=[],T=0;T<n.length;T++){var C=n[T];g[C.id()]||w.push(C)}var S=function(ee){for(var te=m[ee],de=0;de<te.length;de++){var he=te[de];if(he==null){te.splice(de,1),de--;continue}Ay(he,{depth:ee,index:de})}},k=function(ee,te){for(var de=ia(ee),he=ee.incomers().filter(function(_e){return _e.isNode()&&r.has(_e)}),ve=-1,ge=ee.id(),Ce=0;Ce<he.length;Ce++){var Pe=he[Ce],ke=ia(Pe);ve=Math.max(ve,ke.depth)}if(de.depth<=ve){if(!e.acyclic&&te[ge])return null;var ze=ve+1;return x(ee,ze),te[ge]=ze,!0}return!1};if(a&&o){var B=[],E={},A=function(ee){return B.push(ee)},D=function(){return B.shift()};for(n.forEach(function(re){return B.push(re)});B.length>0;){var O=D(),R=k(O,E);if(R)O.outgoers().filter(function(re){return re.isNode()&&r.has(re)}).forEach(A);else if(R===null){tt("Detected double maximal shift for node `"+O.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var M=0;if(e.avoidOverlap)for(var P=0;P<n.length;P++){var I=n[P],z=I.layoutDimensions(e),W=z.w,N=z.h;M=Math.max(M,W,N)}var H={},j=function(ee){if(H[ee.id()])return H[ee.id()];for(var te=ia(ee).depth,de=ee.neighborhood(),he=0,ve=0,ge=0;ge<de.length;ge++){var Ce=de[ge];if(!(Ce.isEdge()||Ce.isParent()||!n.has(Ce))){var Pe=ia(Ce);if(Pe!=null){var ke=Pe.index,ze=Pe.depth;if(!(ke==null||ze==null)){var _e=m[ze].length;ze<te&&(he+=ke/_e,ve++)}}}}return ve=Math.max(1,ve),he=he/ve,ve===0&&(he=0),H[ee.id()]=he,he},ne=function(ee,te){var de=j(ee),he=j(te),ve=de-he;return ve===0?M1(ee.id(),te.id()):ve};e.depthSort!==void 0&&(ne=e.depthSort);for(var K=m.length,ae=0;ae<K;ae++)m[ae].sort(ne),S(ae);for(var ue=[],fe=0;fe<w.length;fe++)ue.push(w[fe]);var oe=function(){for(var ee=0;ee<K;ee++)S(ee)};ue.length&&(m.unshift(ue),K=m.length,oe());for(var U=0,Y=0;Y<K;Y++)U=Math.max(m[Y].length,U);var _={x:l.x1+l.w/2,y:l.y1+l.h/2},F=n.reduce(function(re,ee){return(function(te){return{w:re.w===-1?te.w:(re.w+te.w)/2,h:re.h===-1?te.h:(re.h+te.h)/2}})(ee.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),q=Math.max(K===1?0:s?(l.h-e.padding*2-F.h)/(K-1):(l.h-e.padding*2-F.h)/(K+1),M),J=m.reduce(function(re,ee){return Math.max(re,ee.length)},0),$=function(ee){var te=ia(ee),de=te.depth,he=te.index;if(e.circle){var ve=Math.min(l.w/2/K,l.h/2/K);ve=Math.max(ve,M);var ge=ve*de+ve-(K>0&&m[0].length<=3?ve/2:0),Ce=2*Math.PI/m[de].length*he;return de===0&&m[0].length===1&&(ge=1),{x:_.x+ge*Math.cos(Ce),y:_.y+ge*Math.sin(Ce)}}else{var Pe=m[de].length,ke=Math.max(Pe===1?0:s?(l.w-e.padding*2-F.w)/((e.grid?J:Pe)-1):(l.w-e.padding*2-F.w)/((e.grid?J:Pe)+1),M),ze={x:_.x+(he+1-(Pe+1)/2)*ke,y:_.y+(de+1-(K+1)/2)*q};return ze}},V={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(V).indexOf(e.direction)===-1&&dt("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(V).join(", ")));var X=function(ee){return KI($(ee),l,V[e.direction])};return r.nodes().layoutPositions(this,e,X),this};var M4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function MC(e){this.options=Ne({},M4,e)}MC.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o=hr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,u=l/Math.max(1,a.length-1),c,h=0,f=0;f<a.length;f++){var d=a[f],v=d.layoutDimensions(t),y=v.w,p=v.h;h=Math.max(h,y,p)}if(ye(t.radius)?c=t.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-h,a.length>1&&t.avoidOverlap){h*=1.75;var m=Math.cos(u)-Math.cos(0),g=Math.sin(u)-Math.sin(0),b=Math.sqrt(h*h/(m*m+g*g));c=Math.max(b,c)}var x=function(T,C){var S=t.startAngle+C*u*(i?1:-1),k=c*Math.cos(S),B=c*Math.sin(S),E={x:s.x+k,y:s.y+B};return E};return n.nodes().layoutPositions(this,t,x),this};var F4={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function FC(e){this.options=Ne({},F4,e)}FC.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),o=hr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<a.length;c++){var h=a[c],f=void 0;f=t.concentric(h),l.push({value:f,node:h}),h._private.scratch.concentric=f}a.updateStyle();for(var d=0;d<a.length;d++){var v=a[d],y=v.layoutDimensions(t);u=Math.max(u,y.w,y.h)}l.sort(function(q,J){return J.value-q.value});for(var p=t.levelWidth(a),m=[[]],g=m[0],b=0;b<l.length;b++){var x=l[b];if(g.length>0){var w=Math.abs(g[0].value-x.value);w>=p&&(g=[],m.push(g))}g.push(x)}var T=u+t.minNodeSpacing;if(!t.avoidOverlap){var C=m.length>0&&m[0].length>1,S=Math.min(o.w,o.h)/2-T,k=S/(m.length+C?1:0);T=Math.min(T,k)}for(var B=0,E=0;E<m.length;E++){var A=m[E],D=t.sweep===void 0?2*Math.PI-2*Math.PI/A.length:t.sweep,O=A.dTheta=D/Math.max(1,A.length-1);if(A.length>1&&t.avoidOverlap){var R=Math.cos(O)-Math.cos(0),M=Math.sin(O)-Math.sin(0),P=Math.sqrt(T*T/(R*R+M*M));B=Math.max(P,B)}A.r=B,B+=T}if(t.equidistant){for(var I=0,z=0,W=0;W<m.length;W++){var N=m[W],H=N.r-z;I=Math.max(I,H)}z=0;for(var j=0;j<m.length;j++){var ne=m[j];j===0&&(z=ne.r),ne.r=z,z+=I}}for(var K={},ae=0;ae<m.length;ae++)for(var ue=m[ae],fe=ue.dTheta,oe=ue.r,U=0;U<ue.length;U++){var Y=ue[U],_=t.startAngle+(r?1:-1)*fe*U,F={x:s.x+oe*Math.cos(_),y:s.y+oe*Math.sin(_)};K[Y.node.id()]=F}return i.nodes().layoutPositions(this,t,function(q){var J=q.id();return K[J]}),this};var Jh,O4={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ec(e){this.options=Ne({},O4,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=t.some(function(u){return u.data("id")===a}),l=t.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(n)}ec.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?Jh=!0:Jh=!1;var n=R4(t,r,e);Jh&&N4(n),e.randomize&&z4(n);var i=Pn(),a=function(){$4(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(f){return!(r.stopped||f>=e.numIter||(q4(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var f=e.eles.nodes(),d=RC(n,e,f);f.layoutPositions(r,e,d)}},l=0,u=!0;if(e.animate===!0){var c=function(){for(var f=0;u&&f<e.refresh;)u=o(l),l++,f++;if(!u)Dy(n,e),s();else{var d=Pn();d-i>=e.animationThreshold&&a(),tu(c)}};c()}else{for(;u;)u=o(l),l++;Dy(n,e),s()}return this};ec.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};ec.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var R4=function(t,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=hr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var h=l[c],f=0;f<h.length;f++){var d=h[f];u[d.id()]=c}for(var c=0;c<s.nodeSize;c++){var v=a[c],y=v.layoutDimensions(n),p={};p.isLocked=v.locked(),p.id=v.data("id"),p.parentId=v.data("parent"),p.cmptId=u[v.id()],p.children=[],p.positionX=v.position("x"),p.positionY=v.position("y"),p.offsetX=0,p.offsetY=0,p.height=y.w,p.width=y.h,p.maxX=p.positionX+p.width/2,p.minX=p.positionX-p.width/2,p.maxY=p.positionY+p.height/2,p.minY=p.positionY-p.height/2,p.padLeft=parseFloat(v.style("padding")),p.padRight=parseFloat(v.style("padding")),p.padTop=parseFloat(v.style("padding")),p.padBottom=parseFloat(v.style("padding")),p.nodeRepulsion=gt(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(p),s.idToIndex[p.id]=c}for(var m=[],g=0,b=-1,x=[],c=0;c<s.nodeSize;c++){var v=s.layoutNodes[c],w=v.parentId;w!=null?s.layoutNodes[s.idToIndex[w]].children.push(v.id):(m[++b]=v.id,x.push(v.id))}for(s.graphSet.push(x);g<=b;){var T=m[g++],C=s.idToIndex[T],d=s.layoutNodes[C],S=d.children;if(S.length>0){s.graphSet.push(S);for(var c=0;c<S.length;c++)m[++b]=S[c]}}for(var c=0;c<s.graphSet.length;c++)for(var k=s.graphSet[c],f=0;f<k.length;f++){var B=s.idToIndex[k[f]];s.indexToGraph[B]=c}for(var c=0;c<s.edgeSize;c++){var E=i[c],A={};A.id=E.data("id"),A.sourceId=E.data("source"),A.targetId=E.data("target");var D=gt(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,O=gt(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,R=s.idToIndex[A.sourceId],M=s.idToIndex[A.targetId],P=s.indexToGraph[R],I=s.indexToGraph[M];if(P!=I){for(var z=I4(A.sourceId,A.targetId,s),W=s.graphSet[z],N=0,p=s.layoutNodes[R];W.indexOf(p.id)===-1;)p=s.layoutNodes[s.idToIndex[p.parentId]],N++;for(p=s.layoutNodes[M];W.indexOf(p.id)===-1;)p=s.layoutNodes[s.idToIndex[p.parentId]],N++;D*=N*n.nestingFactor}A.idealLength=D,A.elasticity=O,s.layoutEdges.push(A)}return s},I4=function(t,r,n){var i=OC(t,r,0,n);return 2>i.count?0:i.graph},OC=function(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var h=i.indexToGraph[i.idToIndex[c[0]]],f=OC(t,r,h,i);if(f.count!==0)if(f.count===1){if(o++,o===2)break}else return f}}return{count:o,graph:n}},N4,z4=function(t,r){for(var n=t.clientWidth,i=t.clientHeight,a=0;a<t.nodeSize;a++){var o=t.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},RC=function(t,r,n){var i=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var u=a.w===0?.5:(l.positionX-a.x1)/a.w,c=a.h===0?.5:(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},$4=function(t,r,n){var i=n.layout,a=n.eles.nodes(),o=RC(t,n,a);a.positions(o),t.ready!==!0&&(t.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},q4=function(t,r,n){V4(t,r),U4(t),G4(t,r),Y4(t),K4(t)},V4=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var i=t.graphSet[n],a=i.length,o=0;o<a;o++)for(var s=t.layoutNodes[t.idToIndex[i[o]]],l=o+1;l<a;l++){var u=t.layoutNodes[t.idToIndex[i[l]]];H4(s,u,t,r)}},Ly=function(t){return-1+2*t*Math.random()},H4=function(t,r,n,i){var a=t.cmptId,o=r.cmptId;if(!(a!==o&&!n.isCompound)){var s=r.positionX-t.positionX,l=r.positionY-t.positionY,u=1;s===0&&l===0&&(s=Ly(u),l=Ly(u));var c=W4(t,r,s,l);if(c>0)var h=i.nodeOverlap*c,f=Math.sqrt(s*s+l*l),d=h*s/f,v=h*l/f;else var y=lu(t,s,l),p=lu(r,-1*s,-1*l),m=p.x-y.x,g=p.y-y.y,b=m*m+g*g,f=Math.sqrt(b),h=(t.nodeRepulsion+r.nodeRepulsion)/b,d=h*m/f,v=h*g/f;t.isLocked||(t.offsetX-=d,t.offsetY-=v),r.isLocked||(r.offsetX+=d,r.offsetY+=v)}},W4=function(t,r,n,i){if(n>0)var a=t.maxX-r.minX;else var a=r.maxX-t.minX;if(i>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},lu=function(t,r,n){var i=t.positionX,a=t.positionY,o=t.height||1,s=t.width||1,l=n/r,u=o/s,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+o/2,c):0<r&&-1*u<=l&&l<=u?(c.x=i+s/2,c.y=a+s*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=i-s/2,c.y=a-s*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=i+o*r/2/n,c.y=a+o/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=i-o*r/2/n,c.y=a-o/2),c)},U4=function(t,r){for(var n=0;n<t.edgeSize;n++){var i=t.layoutEdges[n],a=t.idToIndex[i.sourceId],o=t.layoutNodes[a],s=t.idToIndex[i.targetId],l=t.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var h=lu(o,u,c),f=lu(l,-1*u,-1*c),d=f.x-h.x,v=f.y-h.y,y=Math.sqrt(d*d+v*v),p=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var m=p*d/y,g=p*v/y;else var m=0,g=0;o.isLocked||(o.offsetX+=m,o.offsetY+=g),l.isLocked||(l.offsetX-=m,l.offsetY-=g)}}},G4=function(t,r){if(r.gravity!==0)for(var n=1,i=0;i<t.graphSet.length;i++){var a=t.graphSet[i],o=a.length;if(i===0)var s=t.clientHeight/2,l=t.clientWidth/2;else var u=t.layoutNodes[t.idToIndex[a[0]]],c=t.layoutNodes[t.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var h=0;h<o;h++){var f=t.layoutNodes[t.idToIndex[a[h]]];if(!f.isLocked){var d=s-f.positionX,v=l-f.positionY,y=Math.sqrt(d*d+v*v);if(y>n){var p=r.gravity*d/y,m=r.gravity*v/y;f.offsetX+=p,f.offsetY+=m}}}}},Y4=function(t,r){var n=[],i=0,a=-1;for(n.push.apply(n,t.graphSet[0]),a+=t.graphSet[0].length;i<=a;){var o=n[i++],s=t.idToIndex[o],l=t.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,h=l.offsetY,f=0;f<u.length;f++){var d=t.layoutNodes[t.idToIndex[u[f]]];d.offsetX+=c,d.offsetY+=h,n[++a]=u[f]}l.offsetX=0,l.offsetY=0}}},K4=function(t,r){for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=j4(i.offsetX,i.offsetY,t.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,IC(i,t)}}for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},j4=function(t,r,n){var i=Math.sqrt(t*t+r*r);if(i>n)var a={x:n*t/i,y:n*r/i};else var a={x:t,y:r};return a},IC=function(t,r){var n=t.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return IC(i,r)}},Dy=function(t,r){for(var n=t.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var h=0;h<c.length;h++){var f=c[h];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(g,b){return b.w*b.h-g.w*g.h});for(var d=0,v=0,y=0,p=0,m=Math.sqrt(u)*t.clientWidth/t.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var h=0;h<c.length;h++){var f=c[h];f.isLocked||(f.positionX+=d-c.x1,f.positionY+=v-c.y1)}d+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,p=Math.max(p,c.h),y>m&&(v+=p+r.componentSpacing,d=0,y=0,p=0)}}},X4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function NC(e){this.options=Ne({},X4,e)}NC.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=hr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,t,function(j){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),u=Math.round(a.w/a.h*s),c=function(ne){if(ne==null)return Math.min(l,u);var K=Math.min(l,u);K==l?l=ne:u=ne},h=function(ne){if(ne==null)return Math.max(l,u);var K=Math.max(l,u);K==l?l=ne:u=ne},f=t.rows,d=t.cols!=null?t.cols:t.columns;if(f!=null&&d!=null)l=f,u=d;else if(f!=null&&d==null)l=f,u=Math.ceil(o/l);else if(f==null&&d!=null)u=d,l=Math.ceil(o/u);else if(u*l>o){var v=c(),y=h();(v-1)*y>=o?c(v-1):(y-1)*v>=o&&h(y-1)}else for(;u*l<o;){var p=c(),m=h();(m+1)*p>=o?h(m+1):c(p+1)}var g=a.w/u,b=a.h/l;if(t.condense&&(g=0,b=0),t.avoidOverlap)for(var x=0;x<i.length;x++){var w=i[x],T=w._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var C=w.layoutDimensions(t),S=t.avoidOverlapPadding,k=C.w+S,B=C.h+S;g=Math.max(g,k),b=Math.max(b,B)}for(var E={},A=function(ne,K){return!!E["c-"+ne+"-"+K]},D=function(ne,K){E["c-"+ne+"-"+K]=!0},O=0,R=0,M=function(){R++,R>=u&&(R=0,O++)},P={},I=0;I<i.length;I++){var z=i[I],W=t.position(z);if(W&&(W.row!==void 0||W.col!==void 0)){var N={row:W.row,col:W.col};if(N.col===void 0)for(N.col=0;A(N.row,N.col);)N.col++;else if(N.row===void 0)for(N.row=0;A(N.row,N.col);)N.row++;P[z.id()]=N,D(N.row,N.col)}}var H=function(ne,K){var ae,ue;if(ne.locked()||ne.isParent())return!1;var fe=P[ne.id()];if(fe)ae=fe.col*g+g/2+a.x1,ue=fe.row*b+b/2+a.y1;else{for(;A(O,R);)M();ae=R*g+g/2+a.x1,ue=O*b+b/2+a.y1,D(O,R),M()}return{x:ae,y:ue}};i.layoutPositions(this,t,H)}return this};var Z4={ready:function(){},stop:function(){}};function Bv(e){this.options=Ne({},Z4,e)}Bv.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};Bv.prototype.stop=function(){return this};var Q4={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function zC(e){this.options=Ne({},Q4,e)}zC.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=gt(e.positions);function i(a){if(e.positions==null)return x5(a.position());if(n)return e.positions(a);var o=e.positions[a._private.data.id];return o??null}return r.layoutPositions(this,e,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var J4={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function $C(e){this.options=Ne({},J4,e)}$C.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=hr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,i),this};var ez=[{name:"breadthfirst",impl:PC},{name:"circle",impl:MC},{name:"concentric",impl:FC},{name:"cose",impl:ec},{name:"grid",impl:NC},{name:"null",impl:Bv},{name:"preset",impl:zC},{name:"random",impl:$C}];function qC(e){this.options=e,this.notifications=0}var Py=function(){},My=function(){throw new Error("A headless instance can not render images")};qC.prototype={recalculateRenderedStyle:Py,notify:function(){this.notifications++},init:Py,isHeadless:function(){return!0},png:My,jpg:My};var Av={};Av.arrowShapeWidth=.3;Av.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(u,c,h,f,d,v,y){var p=d.x-h/2-y,m=d.x+h/2+y,g=d.y-h/2-y,b=d.y+h/2+y,x=p<=u&&u<=m&&g<=c&&c<=b;return x},n=function(u,c,h,f,d){var v=u*Math.cos(f)-c*Math.sin(f),y=u*Math.sin(f)+c*Math.cos(f),p=v*h,m=y*h,g=p+d.x,b=m+d.y;return{x:g,y:b}},i=function(u,c,h,f){for(var d=[],v=0;v<u.length;v+=2){var y=u[v],p=u[v+1];d.push(n(y,p,c,h,f))}return d},a=function(u){for(var c=[],h=0;h<u.length;h++){var f=u[h];c.push(f.x,f.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){Oe(c)&&(c=e[c]),e[u]=Ne({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,d,v,y,p,m){var g=a(i(this.points,v+2*m,y,p)),b=gr(f,d,g);return b},roughCollide:r,draw:function(f,d,v,y){var p=i(this.points,d,v,y);t.arrowShapeImpl("polygon")(f,p)},spacing:function(f){return 0},gap:o},c)};s("none",{collide:ru,roughCollide:ru,draw:vv,spacing:Yg,gap:Yg}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,h,f,d){var v=i(this.points,c,h,f),y=this.controlPoint,p=n(y[0],y[1],c,h,f);t.arrowShapeImpl(this.name)(u,v,p)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,h,f,d,v,y){var p=a(i(this.points,h+2*y,f,d)),m=a(i(this.pointsTee,h+2*y,f,d)),g=gr(u,c,p)||gr(u,c,m);return g},draw:function(u,c,h,f,d){var v=i(this.points,c,h,f),y=i(this.pointsTee,c,h,f);t.arrowShapeImpl(this.name)(u,v,y)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,h,f,d,v,y){var p=d,m=Math.pow(p.x-u,2)+Math.pow(p.y-c,2)<=Math.pow((h+2*y)*this.radius,2),g=a(i(this.points,h+2*y,f,d));return gr(u,c,g)||m},draw:function(u,c,h,f,d){var v=i(this.pointsTr,c,h,f);t.arrowShapeImpl(this.name)(u,v,f.x,f.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var h=this.baseCrossLinePts.slice(),f=c/u,d=3,v=5;return h[d]=h[d]-f,h[v]=h[v]-f,h},collide:function(u,c,h,f,d,v,y){var p=a(i(this.points,h+2*y,f,d)),m=a(i(this.crossLinePts(h,v),h+2*y,f,d)),g=gr(u,c,p)||gr(u,c,m);return g},draw:function(u,c,h,f,d){var v=i(this.points,c,h,f),y=i(this.crossLinePts(c,d),c,h,f);t.arrowShapeImpl(this.name)(u,v,y)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,h,f,d,v,y){var p=d,m=Math.pow(p.x-u,2)+Math.pow(p.y-c,2)<=Math.pow((h+2*y)*this.radius,2);return m},draw:function(u,c,h,f,d){t.arrowShapeImpl(this.name)(u,f.x,f.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var Xi={};Xi.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((e-i)/o-s.x)/l,c=((t-a)/o-s.y)/l;return[u,c]};Xi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(m){return parseFloat(r.getPropertyValue(m))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,s=e.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,h=t.width/(o+c),f=o-l,d=s-u,v=t.left+i.left+a.left,y=t.top+i.top+a.top;return this.containerBB=[v,y,f,d,h]};Xi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Xi.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};Xi.findNearestElements=function(e,t,r,n){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/l,h=(n?8:2)/l,f=(n?8:2)/l,d=1/0,v,y;r&&(o=o.interactive);function p(C,S){if(C.isNode()){if(y)return;y=C,s.push(C)}if(C.isEdge()&&(S==null||S<d))if(v){if(v.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var k=0;k<s.length;k++)if(s[k].isEdge()){s[k]=C,v=C,d=S??d;break}}}else s.push(C),v=C,d=S??d}function m(C){var S=C.outerWidth()+2*h,k=C.outerHeight()+2*h,B=S/2,E=k/2,A=C.position(),D=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,O=C._private.rscratch;if(A.x-B<=e&&e<=A.x+B&&A.y-E<=t&&t<=A.y+E){var R=a.nodeShapes[i.getNodeShape(C)];if(R.checkPoint(e,t,0,S,k,A.x,A.y,D,O))return p(C,0),!0}}function g(C){var S=C._private,k=S.rscratch,B=C.pstyle("width").pfValue,E=C.pstyle("arrow-scale").value,A=B/2+c,D=A*A,O=A*2,I=S.source,z=S.target,R;if(k.edgeType==="segments"||k.edgeType==="straight"||k.edgeType==="haystack"){for(var M=k.allpts,P=0;P+3<M.length;P+=2)if(F5(e,t,M[P],M[P+1],M[P+2],M[P+3],O)&&D>(R=z5(e,t,M[P],M[P+1],M[P+2],M[P+3])))return p(C,R),!0}else if(k.edgeType==="bezier"||k.edgeType==="multibezier"||k.edgeType==="self"||k.edgeType==="compound"){for(var M=k.allpts,P=0;P+5<k.allpts.length;P+=4)if(O5(e,t,M[P],M[P+1],M[P+2],M[P+3],M[P+4],M[P+5],O)&&D>(R=N5(e,t,M[P],M[P+1],M[P+2],M[P+3],M[P+4],M[P+5])))return p(C,R),!0}for(var I=I||S.source,z=z||S.target,W=i.getArrowWidth(B,E),N=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}],P=0;P<N.length;P++){var H=N[P],j=a.arrowShapes[C.pstyle(H.name+"-arrow-shape").value],ne=C.pstyle("width").pfValue;if(j.roughCollide(e,t,W,H.angle,{x:H.x,y:H.y},ne,c)&&j.collide(e,t,W,H.angle,{x:H.x,y:H.y},ne,c))return p(C),!0}u&&s.length>0&&(m(I),m(z))}function b(C,S,k){return pr(C,S,k)}function x(C,S){var k=C._private,B=f,E;S?E=S+"-":E="",C.boundingBox();var A=k.labelBounds[S||"main"],D=C.pstyle(E+"label").value,O=C.pstyle("text-events").strValue==="yes";if(!(!O||!D)){var R=b(k.rscratch,"labelX",S),M=b(k.rscratch,"labelY",S),P=b(k.rscratch,"labelAngle",S),I=C.pstyle(E+"text-margin-x").pfValue,z=C.pstyle(E+"text-margin-y").pfValue,W=A.x1-B-I,N=A.x2+B-I,H=A.y1-B-z,j=A.y2+B-z;if(P){var ne=Math.cos(P),K=Math.sin(P),ae=function(F,q){return F=F-R,q=q-M,{x:F*ne-q*K+R,y:F*K+q*ne+M}},ue=ae(W,H),fe=ae(W,j),oe=ae(N,H),U=ae(N,j),Y=[ue.x+I,ue.y+z,oe.x+I,oe.y+z,U.x+I,U.y+z,fe.x+I,fe.y+z];if(gr(e,t,Y))return p(C),!0}else if(jn(A,e,t))return p(C),!0}}for(var w=o.length-1;w>=0;w--){var T=o[w];T.isNode()?m(T)||x(T):g(T)||x(T)||x(T,"source")||x(T,"target")}return s};Xi.getAllInBox=function(e,t,r,n){var i=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),o=2/a,s=[],l=Math.min(e,r),u=Math.max(e,r),c=Math.min(t,n),h=Math.max(t,n);e=l,r=u,t=c,n=h;var f=hr({x1:e,y1:t,x2:r,y2:n}),d=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],v=[[d[0],d[1]],[d[1],d[2]],[d[2],d[3]],[d[3],d[0]]];function y(F,q,J){return pr(F,q,J)}function p(F,q){var J=F._private,$=o,V="";F.boundingBox();var X=J.labelBounds.main;if(!X)return null;var re=y(J.rscratch,"labelX",q),ee=y(J.rscratch,"labelY",q),te=y(J.rscratch,"labelAngle",q),de=F.pstyle(V+"text-margin-x").pfValue,he=F.pstyle(V+"text-margin-y").pfValue,ve=X.x1-$-de,ge=X.x2+$-de,Ce=X.y1-$-he,Pe=X.y2+$-he;if(te){var ke=Math.cos(te),ze=Math.sin(te),_e=function(le,L){return le=le-re,L=L-ee,{x:le*ke-L*ze+re,y:le*ze+L*ke+ee}};return[_e(ve,Ce),_e(ge,Ce),_e(ge,Pe),_e(ve,Pe)]}else return[{x:ve,y:Ce},{x:ge,y:Ce},{x:ge,y:Pe},{x:ve,y:Pe}]}function m(F,q,J,$){function V(X,re,ee){return(ee.y-X.y)*(re.x-X.x)>(re.y-X.y)*(ee.x-X.x)}return V(F,J,$)!==V(q,J,$)&&V(F,q,J)!==V(F,q,$)}for(var g=0;g<i.length;g++){var b=i[g];if(b.isNode()){var x=b,w=x.pstyle("text-events").strValue==="yes",T=x.pstyle("box-selection").strValue,C=x.pstyle("box-select-labels").strValue==="yes";if(T==="none")continue;var S=(T==="overlap"||C)&&w,k=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:S});if(T==="contain"){var B=!1;if(C&&w){var E=p(x);E&&Zc(E,d)&&(s.push(x),B=!0)}!B&&K1(f,k)&&s.push(x)}else if(T==="overlap"&&yv(f,k)){var A=x.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),D=[{x:A.x1,y:A.y1},{x:A.x2,y:A.y1},{x:A.x2,y:A.y2},{x:A.x1,y:A.y2}];if(Zc(D,d))s.push(x);else{var O=p(x);O&&Zc(O,d)&&s.push(x)}}}else{var R=b,M=R._private,P=M.rscratch,I=R.pstyle("box-selection").strValue;if(I==="none")continue;if(I==="contain"){if(P.startX!=null&&P.startY!=null&&!jn(f,P.startX,P.startY)||P.endX!=null&&P.endY!=null&&!jn(f,P.endX,P.endY))continue;if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"||P.edgeType==="segments"||P.edgeType==="haystack"){for(var z=M.rstyle.bezierPts||M.rstyle.linePts||M.rstyle.haystackPts,W=!0,N=0;N<z.length;N++)if(!Qg(f,z[N])){W=!1;break}W&&s.push(R)}else P.edgeType==="straight"&&s.push(R)}else if(I==="overlap"){var H=!1;if(P.startX!=null&&P.startY!=null&&P.endX!=null&&P.endY!=null&&(jn(f,P.startX,P.startY)||jn(f,P.endX,P.endY)))s.push(R),H=!0;else if(!H&&P.edgeType==="haystack"){for(var j=M.rstyle.haystackPts,ne=0;ne<j.length;ne++)if(Qg(f,j[ne])){s.push(R),H=!0;break}}if(!H){var K=M.rstyle.bezierPts||M.rstyle.linePts||M.rstyle.haystackPts;if((!K||K.length<2)&&P.edgeType==="straight"&&P.startX!=null&&P.startY!=null&&P.endX!=null&&P.endY!=null&&(K=[{x:P.startX,y:P.startY},{x:P.endX,y:P.endY}]),!K||K.length<2)continue;for(var ae=0;ae<K.length-1;ae++){for(var ue=K[ae],fe=K[ae+1],oe=0;oe<v.length;oe++){var U=_t(v[oe],2),Y=U[0],_=U[1];if(m(ue,fe,Y,_)){s.push(R),H=!0;break}}if(H)break}}}}}return s};var uu={};uu.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",l,u,c,h,f,d,m,g;if(r?(c=t.haystackPts[0],h=t.haystackPts[1],f=t.haystackPts[2],d=t.haystackPts[3]):(c=t.arrowStartX,h=t.arrowStartY,f=t.arrowEndX,d=t.arrowEndY),m=t.midX,g=t.midY,a)l=c-t.segpts[0],u=h-t.segpts[1];else if(i||o||s||n){var v=t.allpts,y=Rt(v[0],v[2],v[4],.1),p=Rt(v[1],v[3],v[5],.1);l=c-y,u=h-p}else l=c-m,u=h-g;t.srcArrowAngle=Hs(l,u);var m=t.midX,g=t.midY;if(r&&(m=(c+f)/2,g=(h+d)/2),l=f-c,u=d-h,a){var v=t.allpts;if(v.length/2%2===0){var b=v.length/2,x=b-2;l=v[b]-v[x],u=v[b+1]-v[x+1]}else if(t.isRound)l=t.midVector[1],u=-t.midVector[0];else{var b=v.length/2-1,x=b-2;l=v[b]-v[x],u=v[b+1]-v[x+1]}}else if(i||o||s){var v=t.allpts,w=t.ctrlpts,T,C,S,k;if(w.length/2%2===0){var B=v.length/2-1,E=B+2,A=E+2;T=Rt(v[B],v[E],v[A],0),C=Rt(v[B+1],v[E+1],v[A+1],0),S=Rt(v[B],v[E],v[A],1e-4),k=Rt(v[B+1],v[E+1],v[A+1],1e-4)}else{var E=v.length/2-1,B=E-2,A=E+2;T=Rt(v[B],v[E],v[A],.4999),C=Rt(v[B+1],v[E+1],v[A+1],.4999),S=Rt(v[B],v[E],v[A],.5),k=Rt(v[B+1],v[E+1],v[A+1],.5)}l=S-T,u=k-C}if(t.midtgtArrowAngle=Hs(l,u),t.midDispX=l,t.midDispY=u,l*=-1,u*=-1,a){var v=t.allpts;if(v.length/2%2!==0){if(!t.isRound){var b=v.length/2-1,D=b+2;l=-(v[D]-v[b]),u=-(v[D+1]-v[b+1])}}}if(t.midsrcArrowAngle=Hs(l,u),a)l=f-t.segpts[t.segpts.length-2],u=d-t.segpts[t.segpts.length-1];else if(i||o||s||n){var v=t.allpts,O=v.length,y=Rt(v[O-6],v[O-4],v[O-2],.9),p=Rt(v[O-5],v[O-3],v[O-1],.9);l=f-y,u=d-p}else l=f-m,u=d-g;t.tgtArrowAngle=Hs(l,u)};uu.getArrowWidth=uu.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var ed,td,Qr={},Lr={},Fy,Oy,Ai,Cl,Cn,Ci,ki,Xr,aa,Zs,VC,HC,rd,nd,Ry,Iy=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},tz=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},rz=function(t,r,n,i,a){if(t!==Ry?Iy(r,t,Qr):tz(Lr,Qr),Iy(r,n,Lr),Fy=Qr.nx*Lr.ny-Qr.ny*Lr.nx,Oy=Qr.nx*Lr.nx-Qr.ny*-Lr.ny,Cn=Math.asin(Math.max(-1,Math.min(1,Fy))),Math.abs(Cn)<1e-6){ed=r.x,td=r.y,ki=aa=0;return}Ai=1,Cl=!1,Oy<0?Cn<0?Cn=Math.PI+Cn:(Cn=Math.PI-Cn,Ai=-1,Cl=!0):Cn>0&&(Ai=-1,Cl=!0),r.radius!==void 0?aa=r.radius:aa=i,Ci=Cn/2,Zs=Math.min(Qr.len/2,Lr.len/2),a?(Xr=Math.abs(Math.cos(Ci)*aa/Math.sin(Ci)),Xr>Zs?(Xr=Zs,ki=Math.abs(Xr*Math.sin(Ci)/Math.cos(Ci))):ki=aa):(Xr=Math.min(Zs,aa),ki=Math.abs(Xr*Math.sin(Ci)/Math.cos(Ci))),rd=r.x+Lr.nx*Xr,nd=r.y+Lr.ny*Xr,ed=rd-Lr.ny*ki*Ai,td=nd+Lr.nx*ki*Ai,VC=r.x+Qr.nx*Xr,HC=r.y+Qr.ny*Xr,Ry=r};function WC(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Lv(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(rz(e,t,r,n,i),{cx:ed,cy:td,radius:ki,startX:VC,startY:HC,stopX:rd,stopY:nd,startAngle:Qr.ang+Math.PI/2*Ai,endAngle:Lr.ang-Math.PI/2*Ai,counterClockwise:Cl})}var cs=.01,nz=Math.sqrt(2*cs),er={};er.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,i=t.vectorNormInverse,a,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(w,T,C,S){var k=S-T,B=C-w,E=Math.sqrt(B*B+k*k);return{x:-k/E,y:B/E}},c=e.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var h=this.manualEndptToPx(e.source()[0],o),f=_t(h,2),d=f[0],v=f[1],y=this.manualEndptToPx(e.target()[0],s),p=_t(y,2),m=p[0],g=p[1],b={x1:d,y1:v,x2:m,y2:g};i=u(d,v,m,g),a=b}else tt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};er.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),h=s.width(),f=o.height(),d=s.height(),v=r.pstyle("haystack-radius").value,y=v/2;i.haystackPts=i.allpts=[i.source.x*c*y+l.x,i.source.y*f*y+l.y,i.target.x*h*y+u.x,i.target.y*d*y+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};er.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<s;c++){var h=n.pfValue[c],f=i.pfValue[c],d=1-h,v=h,y=this.findMidptPtsEtc(e,t),p=y.midptPts,m=y.vectorNormInverse,g={x:p.x1*d+p.x2*v,y:p.y1*d+p.y2*v};r.segpts.push(g.x+m.x*f,g.y+m.y*f),r.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),r.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:u)==="arc-radius")}};er.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,d=h;n&&(f=0,d=l);var v=u-Math.PI/2,y=v-c/2,p=v+c/2,m=u+"_"+c;f=a[m]===void 0?a[m]=0:++a[m],i.ctrlpts=[o.x+Math.cos(y)*1.4*d*(f/3+1),o.y+Math.sin(y)*1.4*d*(f/3+1),o.x+Math.cos(p)*1.4*d*(f/3+1),o.y+Math.sin(p)*1.4*d*(f/3+1)]};er.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),d=f?f.pfValue[0]:void 0,v=r,y=h;n&&(v=0,y=d);var p=50,m={x:a.x-s/2,y:a.y-l/2},g={x:o.x-u/2,y:o.y-c/2},b={x:Math.min(m.x,g.x),y:Math.min(m.y,g.y)},x=.5,w=Math.max(x,Math.log(s*cs)),T=Math.max(x,Math.log(u*cs));i.ctrlpts=[b.x,b.y-(1+Math.pow(p,1.12)/100)*y*(v/3+1)*w,b.x-(1+Math.pow(p,1.12)/100)*y*(v/3+1)*T,b.y]};er.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};er.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,h=l.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var d=0;d<u;d++){var v=(.5-t.eles.length/2+r)*o*(i?-1:1),y=void 0,p=mv(v);f&&(c=s?s.pfValue[d]:o,h=l.value[d]),n?y=c:y=c!==void 0?p*c:void 0;var m=y!==void 0?y:v,g=1-h,b=h,x=this.findMidptPtsEtc(e,t),w=x.midptPts,T=x.vectorNormInverse,C={x:w.x1*g+w.x2*b,y:w.y1*g+w.y2*b};a.ctrlpts.push(C.x+T.x*m,C.y+T.y*m)}};er.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",l="upward",u="auto",c=t.posPts,h=t.srcW,f=t.srcH,d=t.tgtW,v=t.tgtH,y=e.pstyle("edge-distances").value,p=y!=="node-position",m=e.pstyle("taxi-direction").value,g=m,b=e.pstyle("taxi-turn"),x=b.units==="%",w=b.pfValue,T=w<0,C=e.pstyle("taxi-turn-min-distance").pfValue,S=p?(h+d)/2:0,k=p?(f+v)/2:0,B=c.x2-c.x1,E=c.y2-c.y1,A=function(L,Z){return L>0?Math.max(L-Z,0):Math.min(L+Z,0)},D=A(B,S),O=A(E,k),R=!1;g===u?m=Math.abs(D)>Math.abs(O)?i:n:g===l||g===s?(m=n,R=!0):(g===a||g===o)&&(m=i,R=!0);var M=m===n,P=M?O:D,I=M?E:B,z=mv(I),W=!1;!(R&&(x||T))&&(g===s&&I<0||g===l&&I>0||g===a&&I>0||g===o&&I<0)&&(z*=-1,P=z*Math.abs(P),W=!0);var N;if(x){var H=w<0?1+w:w;N=H*P}else{var j=w<0?P:0;N=j+w*z}var ne=function(L){return Math.abs(L)<C||Math.abs(L)>=Math.abs(P)},K=ne(N),ae=ne(Math.abs(P)-Math.abs(N)),ue=K||ae;if(ue&&!W)if(M){var fe=Math.abs(I)<=f/2,oe=Math.abs(B)<=d/2;if(fe){var U=(c.x1+c.x2)/2,Y=c.y1,_=c.y2;r.segpts=[U,Y,U,_]}else if(oe){var F=(c.y1+c.y2)/2,q=c.x1,J=c.x2;r.segpts=[q,F,J,F]}else r.segpts=[c.x1,c.y2]}else{var $=Math.abs(I)<=h/2,V=Math.abs(E)<=v/2;if($){var X=(c.y1+c.y2)/2,re=c.x1,ee=c.x2;r.segpts=[re,X,ee,X]}else if(V){var te=(c.x1+c.x2)/2,de=c.y1,he=c.y2;r.segpts=[te,de,te,he]}else r.segpts=[c.x2,c.y1]}else if(M){var ve=c.y1+N+(p?f/2*z:0),ge=c.x1,Ce=c.x2;r.segpts=[ge,ve,Ce,ve]}else{var Pe=c.x1+N+(p?h/2*z:0),ke=c.y1,ze=c.y2;r.segpts=[Pe,ke,Pe,ze]}if(r.isRound){var _e=e.pstyle("taxi-radius").value,be=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(_e),r.isArcRadius=new Array(r.segpts.length/2).fill(be)}};er.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,h=t.srcCornerRadius,f=t.tgtCornerRadius,d=t.srcRs,v=t.tgtRs,y=!ye(r.startX)||!ye(r.startY),p=!ye(r.arrowStartX)||!ye(r.arrowStartY),m=!ye(r.endX)||!ye(r.endY),g=!ye(r.arrowEndX)||!ye(r.arrowEndY),b=3,x=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,w=b*x,T=Vi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=T<w,S=Vi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),k=S<w,B=!1;if(y||p||C){B=!0;var E={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},A=Math.sqrt(E.x*E.x+E.y*E.y),D={x:E.x/A,y:E.y/A},O=Math.max(a,o),R={x:r.ctrlpts[0]+D.x*2*O,y:r.ctrlpts[1]+D.y*2*O},M=u.intersectLine(n.x,n.y,a,o,R.x,R.y,0,h,d);C?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(w-T),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(w-T)):(r.ctrlpts[0]=M[0]+D.x*w,r.ctrlpts[1]=M[1]+D.y*w)}if(m||g||k){B=!0;var P={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},I=Math.sqrt(P.x*P.x+P.y*P.y),z={x:P.x/I,y:P.y/I},W=Math.max(a,o),N={x:r.ctrlpts[0]+z.x*2*W,y:r.ctrlpts[1]+z.y*2*W},H=c.intersectLine(i.x,i.y,s,l,N.x,N.y,0,f,v);k?(r.ctrlpts[0]=r.ctrlpts[0]+z.x*(w-S),r.ctrlpts[1]=r.ctrlpts[1]+z.y*(w-S)):(r.ctrlpts[0]=H[0]+z.x*w,r.ctrlpts[1]=H[1]+z.y*w)}B&&this.findEndpoints(e)}};er.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,i;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,i=.5,t.midX=Rt(t.allpts[n],t.allpts[n+2],t.allpts[n+4],i),t.midY=Rt(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var o=t.radii[a/2-1],s=t.isArcRadius[a/2-1];t.roundCorners.push(Lv({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:o},{x:t.allpts[a+2],y:t.allpts[a+3]},o,s))}}if(t.segpts.length%4===0){var l=t.segpts.length/2,u=l-2;t.midX=(t.segpts[u]+t.segpts[l])/2,t.midY=(t.segpts[u+1]+t.segpts[l+1])/2}else{var c=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[c],t.midY=t.segpts[c+1];else{var h={x:t.segpts[c],y:t.segpts[c+1]},f=t.roundCorners[c/2];if(f.radius===0){var d={x:t.segpts[c+2],y:t.segpts[c+3]};t.midX=h.x,t.midY=h.y,t.midVector=[h.y-d.y,d.x-h.x]}else{var v=[h.x-f.cx,h.y-f.cy],y=f.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(p){return p*y}),t.midX=f.cx+v[0],t.midY=f.cy+v[1],t.midVector=v}}}}};er.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||ye(t.startX)&&ye(t.startY)&&ye(t.endX)&&ye(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,tt("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};er.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a=new kn,o=function(k,B){return[].concat(Jl(k),[B?1:0]).join("-")},s=[],l=[],u=0;u<e.length;u++){var c=e[u],h=c._private,f=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(f==="haystack"){l.push(c);continue}var d=f==="unbundled-bezier"||Kn(f,"segments")||f==="straight"||f==="straight-triangle"||Kn(f,"taxi"),v=f==="unbundled-bezier"||f==="bezier",y=h.source,p=h.target,m=y.poolIndex(),g=p.poolIndex(),b=[m,g].sort(),x=o(b,d),w=a.get(x);w==null&&(w={eles:[]},s.push({pairId:b,edgeIsUnbundled:d}),a.set(x,w)),w.eles.push(c),d&&(w.hasUnbundled=!0),v&&(w.hasBezier=!0)}}for(var T=function(){var k=s[C],B=k.pairId,E=k.edgeIsUnbundled,A=o(B,E),D=a.get(A),O;if(!D.hasUnbundled){var R=D.eles[0].parallelEdges().filter(function(be){return be.isBundledBezier()});pv(D.eles),R.forEach(function(be){return D.eles.push(be)}),D.eles.sort(function(be,le){return be.poolIndex()-le.poolIndex()})}var M=D.eles[0],P=M.source(),I=M.target();if(P.poolIndex()>I.poolIndex()){var z=P;P=I,I=z}var W=D.srcPos=P.position(),N=D.tgtPos=I.position(),H=D.srcW=P.outerWidth(),j=D.srcH=P.outerHeight(),ne=D.tgtW=I.outerWidth(),K=D.tgtH=I.outerHeight(),ae=D.srcShape=r.nodeShapes[t.getNodeShape(P)],ue=D.tgtShape=r.nodeShapes[t.getNodeShape(I)],fe=D.srcCornerRadius=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,oe=D.tgtCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,U=D.tgtRs=I._private.rscratch,Y=D.srcRs=P._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<D.eles.length;_++){var F=D.eles[_],q=F[0]._private.rscratch,J=F.pstyle("curve-style").value,$=J==="unbundled-bezier"||Kn(J,"segments")||Kn(J,"taxi"),V=!P.same(F.source());if(!D.calculatedIntersection&&P!==I&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var X=ae.intersectLine(W.x,W.y,H,j,N.x,N.y,0,fe,Y),re=D.srcIntn=X,ee=ue.intersectLine(N.x,N.y,ne,K,W.x,W.y,0,oe,U),te=D.tgtIntn=ee,de=D.intersectionPts={x1:X[0],x2:ee[0],y1:X[1],y2:ee[1]},he=D.posPts={x1:W.x,x2:N.x,y1:W.y,y2:N.y},ve=ee[1]-X[1],ge=ee[0]-X[0],Ce=Math.sqrt(ge*ge+ve*ve);ye(Ce)&&Ce>=nz||(Ce=Math.sqrt(Math.max(ge*ge,cs)+Math.max(ve*ve,cs)));var Pe=D.vector={x:ge,y:ve},ke=D.vectorNorm={x:Pe.x/Ce,y:Pe.y/Ce},ze={x:-ke.y,y:ke.x};D.nodesOverlap=!ye(Ce)||ue.checkPoint(X[0],X[1],0,ne,K,N.x,N.y,oe,U)||ae.checkPoint(ee[0],ee[1],0,H,j,W.x,W.y,fe,Y),D.vectorNormInverse=ze,O={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:N,srcRs:U,tgtPos:W,tgtRs:Y,srcW:ne,srcH:K,tgtW:H,tgtH:j,srcIntn:te,tgtIntn:re,srcShape:ue,tgtShape:ae,posPts:{x1:he.x2,y1:he.y2,x2:he.x1,y2:he.y1},intersectionPts:{x1:de.x2,y1:de.y2,x2:de.x1,y2:de.y1},vector:{x:-Pe.x,y:-Pe.y},vectorNorm:{x:-ke.x,y:-ke.y},vectorNormInverse:{x:-ze.x,y:-ze.y}}}var _e=V?O:D;q.nodesOverlap=_e.nodesOverlap,q.srcIntn=_e.srcIntn,q.tgtIntn=_e.tgtIntn,q.isRound=J.startsWith("round"),i&&(P.isParent()||P.isChild()||I.isParent()||I.isChild())&&(P.parents().anySame(I)||I.parents().anySame(P)||P.same(I)&&P.isParent())?t.findCompoundLoopPoints(F,_e,_,$):P===I?t.findLoopPoints(F,_e,_,$):J.endsWith("segments")?t.findSegmentsPoints(F,_e):J.endsWith("taxi")?t.findTaxiPoints(F,_e):J==="straight"||!$&&D.eles.length%2===1&&_===Math.floor(D.eles.length/2)?t.findStraightEdgePoints(F):t.findBezierPoints(F,_e,_,$,V),t.findEndpoints(F),t.tryToCorrectInvalidPoints(F,_e),t.checkForInvalidEdgeWarning(F),t.storeAllpts(F),t.storeEdgeProjections(F),t.calculateArrowAngles(F),t.recalculateEdgeLabelProjections(F),t.calculateLabelAngles(F)}},C=0;C<s.length;C++)T();this.findHaystackPoints(l)}};function UC(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}er.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return UC(t.segpts)};er.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return UC(t.ctrlpts)};er.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Bs={};Bs.manualEndptToPx=function(e,t){var r=this,n=e.position(),i=e.outerWidth(),a=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*i),t.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=n.x,s[1]+=n.y,s}else{var l=t.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};Bs.findEndpoints=function(e){var t,r,n,i,a=this,o,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),h=e.pstyle("target-arrow-shape").value,f=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,v=e.pstyle("source-distance-from-node").pfValue,y=s._private.rscratch,p=l._private.rscratch,m=e.pstyle("curve-style").value,g=e._private.rscratch,b=g.edgeType,x=Kn(m,"taxi"),w=b==="self"||b==="compound",T=b==="bezier"||b==="multibezier"||w,C=b!=="bezier",S=b==="straight"||b==="segments",k=b==="segments",B=T||C||S,E=w||x,A=e.pstyle("source-endpoint"),D=E?"outside-to-node":A.value,O=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,R=e.pstyle("target-endpoint"),M=E?"outside-to-node":R.value,P=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;g.srcManEndpt=A,g.tgtManEndpt=R;var I,z,W,N,H=(t=(R==null||(r=R.pfValue)===null||r===void 0?void 0:r.length)===2?R.pfValue:null)!==null&&t!==void 0?t:[0,0],j=(n=(A==null||(i=A.pfValue)===null||i===void 0?void 0:i.length)===2?A.pfValue:null)!==null&&n!==void 0?n:[0,0];if(T){var ne=[g.ctrlpts[0],g.ctrlpts[1]],K=C?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:ne;I=K,z=ne}else if(S){var ae=k?g.segpts.slice(0,2):[c.x+H[0],c.y+H[1]],ue=k?g.segpts.slice(g.segpts.length-2):[u.x+j[0],u.y+j[1]];I=ue,z=ae}if(M==="inside-to-node")o=[c.x,c.y];else if(R.units)o=this.manualEndptToPx(l,R);else if(M==="outside-to-line")o=g.tgtIntn;else if(M==="outside-to-node"||M==="outside-to-node-or-label"?W=I:(M==="outside-to-line"||M==="outside-to-line-or-label")&&(W=[u.x,u.y]),o=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),W[0],W[1],0,P,p),M==="outside-to-node-or-label"||M==="outside-to-line-or-label"){var fe=l._private.rscratch,oe=fe.labelWidth,U=fe.labelHeight,Y=fe.labelX,_=fe.labelY,F=oe/2,q=U/2,J=l.pstyle("text-valign").value;J==="top"?_-=q:J==="bottom"&&(_+=q);var $=l.pstyle("text-halign").value;$==="left"?Y-=F:$==="right"&&(Y+=F);var V=as(W[0],W[1],[Y-F,_-q,Y+F,_-q,Y+F,_+q,Y-F,_+q],c.x,c.y);if(V.length>0){var X=u,re=Ei(X,da(o)),ee=Ei(X,da(V)),te=re;if(ee<re&&(o=V,te=ee),V.length>2){var de=Ei(X,{x:V[2],y:V[3]});de<te&&(o=[V[2],V[3]])}}}var he=Ws(o,I,a.arrowShapes[h].spacing(e)+d),ve=Ws(o,I,a.arrowShapes[h].gap(e)+d);if(g.endX=ve[0],g.endY=ve[1],g.arrowEndX=he[0],g.arrowEndY=he[1],D==="inside-to-node")o=[u.x,u.y];else if(A.units)o=this.manualEndptToPx(s,A);else if(D==="outside-to-line")o=g.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?N=z:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(N=[c.x,c.y]),o=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),N[0],N[1],0,O,y),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var ge=s._private.rscratch,Ce=ge.labelWidth,Pe=ge.labelHeight,ke=ge.labelX,ze=ge.labelY,_e=Ce/2,be=Pe/2,le=s.pstyle("text-valign").value;le==="top"?ze-=be:le==="bottom"&&(ze+=be);var L=s.pstyle("text-halign").value;L==="left"?ke-=_e:L==="right"&&(ke+=_e);var Z=as(N[0],N[1],[ke-_e,ze-be,ke+_e,ze-be,ke+_e,ze+be,ke-_e,ze+be],u.x,u.y);if(Z.length>0){var ie=c,se=Ei(ie,da(o)),ce=Ei(ie,da(Z)),Te=se;if(ce<se&&(o=[Z[0],Z[1]],Te=ce),Z.length>2){var pe=Ei(ie,{x:Z[2],y:Z[3]});pe<Te&&(o=[Z[2],Z[3]])}}}var De=Ws(o,z,a.arrowShapes[f].spacing(e)+v),Ee=Ws(o,z,a.arrowShapes[f].gap(e)+v);g.startX=Ee[0],g.startY=Ee[1],g.arrowStartX=De[0],g.arrowStartY=De[1],B&&(!ye(g.startX)||!ye(g.startY)||!ye(g.endX)||!ye(g.endY)?g.badLine=!0:g.badLine=!1)};Bs.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};Bs.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var Dv={};function iz(e,t,r){for(var n=function(u,c,h,f){return Rt(u,c,h,f)},i=t._private,a=i.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];a.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Dv.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)iz(this,e,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};Dv.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var pn={};pn.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!ni(t)){var r,n,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,f=i.rstyle;switch(u){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}h.labelX=r,h.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var GC=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},YC=function(t,r){var n=r.x-t.x,i=r.y-t.y;return GC(n,i)},az=function(t,r,n,i){var a=is(0,i-.001,1),o=is(0,i+.001,1),s=wa(t,r,n,a),l=wa(t,r,n,o);return YC(s,l)};pn.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var o=function(h,f,d){_n(r.rscratch,h,f,d),_n(r.rstyle,h,f,d)};o("labelX",null,t.x),o("labelY",null,t.y);var s=GC(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var h=[],f=0;f+5<n.allpts.length;f+=4){var d={x:n.allpts[f],y:n.allpts[f+1]},v={x:n.allpts[f+2],y:n.allpts[f+3]},y={x:n.allpts[f+4],y:n.allpts[f+5]};h.push({p0:d,p1:v,p2:y,startDist:0,length:0,segments:[]})}var p=r.rstyle.bezierPts,m=i.bezierProjPcts.length;function g(C,S,k,B,E){var A=Vi(S,k),D=C.segments[C.segments.length-1],O={p0:S,p1:k,t0:B,t1:E,startDist:D?D.startDist+D.length:0,length:A};C.segments.push(O),C.length+=A}for(var b=0;b<h.length;b++){var x=h[b],w=h[b-1];w&&(x.startDist=w.startDist+w.length),g(x,x.p0,p[b*m],0,i.bezierProjPcts[0]);for(var T=0;T<m-1;T++)g(x,p[b*m+T],p[b*m+T+1],i.bezierProjPcts[T],i.bezierProjPcts[T+1]);g(x,p[b*m+m-1],x.p2,i.bezierProjPcts[m-1],1)}return l.cache=h},u=function(h){var f,d=h==="source";if(a[h]){var v=e.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),p,m=0,g=0,b=0;b<y.length;b++){for(var x=y[d?b:y.length-1-b],w=0;w<x.segments.length;w++){var T=x.segments[d?w:x.segments.length-1-w],C=b===y.length-1&&w===x.segments.length-1;if(m=g,g+=T.length,g>=v||C){p={cp:x,segment:T};break}}if(p)break}var S=p.cp,k=p.segment,B=(v-m)/k.length,E=k.t1-k.t0,A=d?k.t0+E*B:k.t1-E*B;A=is(0,A,1),t=wa(S.p0,S.p1,S.p2,A),f=az(S.p0,S.p1,S.p2,A);break}case"straight":case"segments":case"haystack":{for(var D=0,O,R,M,P,I=n.allpts.length,z=0;z+3<I&&(d?(M={x:n.allpts[z],y:n.allpts[z+1]},P={x:n.allpts[z+2],y:n.allpts[z+3]}):(M={x:n.allpts[I-2-z],y:n.allpts[I-1-z]},P={x:n.allpts[I-4-z],y:n.allpts[I-3-z]}),O=Vi(M,P),R=D,D+=O,!(D>=v));z+=2);var W=v-R,N=W/O;N=is(0,N,1),t=k5(M,P,N),f=YC(M,P);break}}o("labelX",h,t.x),o("labelY",h,t.y),o("labelAutoAngle",h,f)}};u("source"),u("target"),this.applyLabelDimensions(e)}};pn.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};pn.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=qi(n,e._private.labelDimsKey);if(pr(r.rscratch,"prefixedLabelDimsKey",t)!==i){_n(r.rscratch,"prefixedLabelDimsKey",t,i);var a=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=pr(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(l.length,1),c=a.height/u,h=c*o,f=a.width,d=a.height+(u-1)*(o-1)*c;_n(r.rstyle,"labelWidth",t,f),_n(r.rscratch,"labelWidth",t,f),_n(r.rstyle,"labelHeight",t,d),_n(r.rscratch,"labelHeight",t,d),_n(r.rscratch,"labelLineHeight",t,h)}};pn.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,o=function(j,ne){return ne?(_n(r.rscratch,j,t,ne),ne):pr(r.rscratch,j,t)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="",c=i.split(`
`),h=e.pstyle("text-max-width").pfValue,f=e.pstyle("text-overflow-wrap").value,d=f==="anywhere",v=[],y=/[\s\u200b]+|$/g,p=0;p<c.length;p++){var m=c[p],g=this.calculateLabelDimensions(e,m),b=g.width;if(d){var x=m.split("").join(u);m=x}if(b>h){var w=m.matchAll(y),T="",C=0,S=br(w),k;try{for(S.s();!(k=S.n()).done;){var B=k.value,E=B[0],A=m.substring(C,B.index);C=B.index+E.length;var D=T.length===0?A:T+A+E,O=this.calculateLabelDimensions(e,D),R=O.width;R<=h?T+=A+E:(T&&v.push(T),T=A+E)}}catch(H){S.e(H)}finally{S.f()}T.match(/^[\s\u200b]+$/)||v.push(T)}else v.push(m)}o("labelWrapCachedLines",v),i=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var M=e.pstyle("text-max-width").pfValue,P="",I="",z=!1;if(this.calculateLabelDimensions(e,i).width<M)return i;for(var W=0;W<i.length;W++){var N=this.calculateLabelDimensions(e,P+i[W]+I).width;if(N>M)break;P+=i[W],W===i.length-1&&(z=!0)}return z||(P+=I),P}return i};pn.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};pn.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),i=n.document,a=0,o=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue,l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var f=c.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}h.font="".concat(o," ").concat(u," ").concat(s,"px ").concat(l);for(var d=0,v=0,y=t.split(`
`),p=0;p<y.length;p++){var m=y[p],g=h.measureText(m),b=Math.ceil(g.width),x=s;d=Math.max(b,d),v+=x}return d+=a,v+=a,{width:d,height:v}};pn.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,i=e.isEdge(),a=t?t+"-":"",o=e.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};pn.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,i=n.rscratch;i.labelAngle=t.calculateLabelAngle(e),r&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var KC={},Ny=28,zy=!1;KC.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<Ny||e.height()<Ny))return zy||(tt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),zy=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var tc={};tc.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,h=c.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var i=function(o){if(o){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var f=s[h];f(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};tc.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};tc.recalculateRenderedStyle=function(e,t){var r=function(x){return x._private.rstyle.cleanConnected};if(e.length!==0){var n=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var o=e[a],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(b){return!b._private.rstyle.clean&&b.isBundledBezier()})&&(l.clean=!1),!(t&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):n.push(o),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],h=c._private,f=h.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=d.x,f.nodeY=d.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var y=n[v],p=y._private,m=p.rstyle,g=p.rscratch;m.srcX=g.arrowStartX,m.srcY=g.arrowStartY,m.tgtX=g.arrowEndX,m.tgtY=g.arrowEndY,m.midX=g.midX,m.midY=g.midY,m.labelAngle=g.labelAngle,m.sourceLabelAngle=g.sourceLabelAngle,m.targetLabelAngle=g.targetLabelAngle}}}};var rc={};rc.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};rc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};rc.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(AC),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var jC={};[Xi,uu,er,Bs,Dv,pn,KC,tc,rc].forEach(function(e){Ne(jC,e)});var XC={};XC.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[e]=i[e]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=e.substring(0,s.length).toLowerCase()===s;return l||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var Xa={};Xa.registerBinding=function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(s!==void 0){var l=this.binder(s);a.push(l.on.apply(l,i))}}return a}var l=this.binder(e);return l.on.apply(l,i)};Xa.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||mI(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var o=function(l,u,c){var h=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(h[2]={capture:c??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:h}),(e.addEventListener||e.on).apply(e,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Xa.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};Xa.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};Xa.load=function(){var e=this,t=e.cy.window(),r=function(L){return L.selected()},n=function(L){var Z=L.getRootNode();if(Z&&Z.nodeType===11&&Z.host!==void 0)return Z},i=function(L,Z,ie,se){L==null&&(L=e.cy);for(var ce=0;ce<Z.length;ce++){var Te=Z[ce];L.emit({originalEvent:ie,type:Te,position:se})}},a=function(L){return L.shiftKey||L.metaKey||L.ctrlKey},o=function(L,Z){var ie=!0;if(e.cy.hasCompoundNodes()&&L&&L.pannable())for(var se=0;Z&&se<Z.length;se++){var L=Z[se];if(L.isNode()&&L.isParent()&&!L.pannable()){ie=!1;break}}else ie=!0;return ie},s=function(L){L[0]._private.grabbed=!0},l=function(L){L[0]._private.grabbed=!1},u=function(L){L[0]._private.rscratch.inDragLayer=!0},c=function(L){L[0]._private.rscratch.inDragLayer=!1},h=function(L){L[0]._private.rscratch.isGrabTarget=!0},f=function(L){L[0]._private.rscratch.isGrabTarget=!1},d=function(L,Z){var ie=Z.addToList,se=ie.has(L);!se&&L.grabbable()&&!L.locked()&&(ie.merge(L),s(L))},v=function(L,Z){if(L.cy().hasCompoundNodes()&&!(Z.inDragLayer==null&&Z.addToList==null)){var ie=L.descendants();Z.inDragLayer&&(ie.forEach(u),ie.connectedEdges().forEach(u)),Z.addToList&&d(ie,Z)}},y=function(L,Z){Z=Z||{};var ie=L.cy().hasCompoundNodes();Z.inDragLayer&&(L.forEach(u),L.neighborhood().stdFilter(function(se){return!ie||se.isEdge()}).forEach(u)),Z.addToList&&L.forEach(function(se){d(se,Z)}),v(L,Z),g(L,{inDragLayer:Z.inDragLayer}),e.updateCachedGrabbedEles()},p=y,m=function(L){L&&(e.getCachedZSortedEles().forEach(function(Z){l(Z),c(Z),f(Z)}),e.updateCachedGrabbedEles())},g=function(L,Z){if(!(Z.inDragLayer==null&&Z.addToList==null)&&L.cy().hasCompoundNodes()){var ie=L.ancestors().orphans();if(!ie.same(L)){var se=ie.descendants().spawnSelf().merge(ie).unmerge(L).unmerge(L.descendants()),ce=se.connectedEdges();Z.inDragLayer&&(ce.forEach(u),se.forEach(u)),Z.addToList&&se.forEach(function(Te){d(Te,Z)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";x?(e.removeObserver=new MutationObserver(function(le){for(var L=0;L<le.length;L++){var Z=le[L],ie=Z.removedNodes;if(ie)for(var se=0;se<ie.length;se++){var ce=ie[se];if(ce===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(le){e.destroy()});var T=_s(function(){e.cy.resize()},100);x&&(e.styleObserver=new MutationObserver(T),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",T),w&&(e.resizeObserver=new ResizeObserver(T),e.resizeObserver.observe(e.container));var C=function(L,Z){for(;L!=null;)Z(L),L=L.parentNode},S=function(){e.invalidateContainerClientCoordsCache()};C(e.container,function(le){e.registerBinding(le,"transitionend",S),e.registerBinding(le,"animationend",S),e.registerBinding(le,"scroll",S)}),e.registerBinding(e.container,"contextmenu",function(le){le.preventDefault()});var k=function(){return e.selection[4]!==0},B=function(L){for(var Z=e.findContainerClientCoords(),ie=Z[0],se=Z[1],ce=Z[2],Te=Z[3],pe=L.touches?L.touches:[L],De=!1,Ee=0;Ee<pe.length;Ee++){var we=pe[Ee];if(ie<=we.clientX&&we.clientX<=ie+ce&&se<=we.clientY&&we.clientY<=se+Te){De=!0;break}}if(!De)return!1;for(var qe=e.container,Ve=L.target,Be=Ve.parentNode,He=!1;Be;){if(Be===qe){He=!0;break}Be=Be.parentNode}return!!He};e.registerBinding(e.container,"mousedown",function(L){if(B(L)&&!(e.hoverData.which===1&&L.which!==1)){L.preventDefault(),b(),e.hoverData.capture=!0,e.hoverData.which=L.which;var Z=e.cy,ie=[L.clientX,L.clientY],se=e.projectIntoViewport(ie[0],ie[1]),ce=e.selection,Te=e.findNearestElements(se[0],se[1],!0,!1),pe=Te[0],De=e.dragData.possibleDragElements;e.hoverData.mdownPos=se,e.hoverData.mdownGPos=ie;var Ee=function(We){return{originalEvent:L,type:We,position:{x:se[0],y:se[1]}}},we=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var We=e.hoverData.down;We?We.emit(Ee("taphold")):Z.emit(Ee("taphold"))}},e.tapholdDuration)};if(L.which==3){e.hoverData.cxtStarted=!0;var qe={originalEvent:L,type:"cxttapstart",position:{x:se[0],y:se[1]}};pe?(pe.activate(),pe.emit(qe),e.hoverData.down=pe):Z.emit(qe),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(L.which==1){pe&&pe.activate();{if(pe!=null&&e.nodeIsGrabbable(pe)){var Ve=function(We){We.emit(Ee("grab"))};if(h(pe),!pe.selected())De=e.dragData.possibleDragElements=Z.collection(),p(pe,{addToList:De}),pe.emit(Ee("grabon")).emit(Ee("grab"));else{De=e.dragData.possibleDragElements=Z.collection();var Be=Z.$(function(He){return He.isNode()&&He.selected()&&e.nodeIsGrabbable(He)});y(Be,{addToList:De}),pe.emit(Ee("grabon")),Be.forEach(Ve)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=pe,e.hoverData.downs=Te,e.hoverData.downTime=new Date().getTime()}i(pe,["mousedown","tapstart","vmousedown"],L,{x:se[0],y:se[1]}),pe==null?(ce[4]=1,e.data.bgActivePosistion={x:se[0],y:se[1]},e.redrawHint("select",!0),e.redraw()):pe.pannable()&&(ce[4]=1),we()}ce[0]=ce[2]=se[0],ce[1]=ce[3]=se[1]}},!1);var E=n(e.container);e.registerBinding([t,E],"mousemove",function(L){var Z=e.hoverData.capture;if(!(!Z&&!B(L))){var ie=!1,se=e.cy,ce=se.zoom(),Te=[L.clientX,L.clientY],pe=e.projectIntoViewport(Te[0],Te[1]),De=e.hoverData.mdownPos,Ee=e.hoverData.mdownGPos,we=e.selection,qe=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(qe=e.findNearestElement(pe[0],pe[1],!0,!1));var Ve=e.hoverData.last,Be=e.hoverData.down,He=[pe[0]-we[2],pe[1]-we[3]],We=e.dragData.possibleDragElements,yt;if(Ee){var ft=Te[0]-Ee[0],Ft=ft*ft,vt=Te[1]-Ee[1],wt=vt*vt,Qe=Ft+wt;e.hoverData.isOverThresholdDrag=yt=Qe>=e.desktopTapThreshold2}var bt=a(L);yt&&(e.hoverData.tapholdCancelled=!0);var Ir=function(){var G=e.hoverData.dragDelta=e.hoverData.dragDelta||[];G.length===0?(G.push(He[0]),G.push(He[1])):(G[0]+=He[0],G[1]+=He[1])};ie=!0,i(qe,["mousemove","vmousemove","tapdrag"],L,{x:pe[0],y:pe[1]});var pt=function(G){return{originalEvent:L,type:G,position:{x:pe[0],y:pe[1]}}},Er=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||se.emit(pt("boxstart")),we[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(yt){var kr=pt("cxtdrag");Be?Be.emit(kr):se.emit(kr),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||qe!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(pt("cxtdragout")),e.hoverData.cxtOver=qe,qe&&qe.emit(pt("cxtdragover")))}}else if(e.hoverData.dragging){if(ie=!0,se.panningEnabled()&&se.userPanningEnabled()){var Ut;if(e.hoverData.justStartedPan){var gi=e.hoverData.mdownPos;Ut={x:(pe[0]-gi[0])*ce,y:(pe[1]-gi[1])*ce},e.hoverData.justStartedPan=!1}else Ut={x:He[0]*ce,y:He[1]*ce};se.panBy(Ut),se.emit(pt("dragpan")),e.hoverData.dragged=!0}pe=e.projectIntoViewport(L.clientX,L.clientY)}else if(we[4]==1&&(Be==null||Be.pannable())){if(yt){if(!e.hoverData.dragging&&se.boxSelectionEnabled()&&(bt||!se.panningEnabled()||!se.userPanningEnabled()))Er();else if(!e.hoverData.selecting&&se.panningEnabled()&&se.userPanningEnabled()){var Kr=o(Be,e.hoverData.downs);Kr&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,we[4]=0,e.data.bgActivePosistion=da(De),e.redrawHint("select",!0),e.redraw())}Be&&Be.pannable()&&Be.active()&&Be.unactivate()}}else{if(Be&&Be.pannable()&&Be.active()&&Be.unactivate(),(!Be||!Be.grabbed())&&qe!=Ve&&(Ve&&i(Ve,["mouseout","tapdragout"],L,{x:pe[0],y:pe[1]}),qe&&i(qe,["mouseover","tapdragover"],L,{x:pe[0],y:pe[1]}),e.hoverData.last=qe),Be)if(yt){if(se.boxSelectionEnabled()&&bt)Be&&Be.grabbed()&&(m(We),Be.emit(pt("freeon")),We.emit(pt("free")),e.dragData.didDrag&&(Be.emit(pt("dragfreeon")),We.emit(pt("dragfree")))),Er();else if(Be&&Be.grabbed()&&e.nodeIsDraggable(Be)){var $t=!e.dragData.didDrag;$t&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||y(We,{inDragLayer:!0});var Bt={x:0,y:0};if(ye(He[0])&&ye(He[1])&&(Bt.x+=He[0],Bt.y+=He[1],$t)){var Gt=e.hoverData.dragDelta;Gt&&ye(Gt[0])&&ye(Gt[1])&&(Bt.x+=Gt[0],Bt.y+=Gt[1])}e.hoverData.draggingEles=!0,We.silentShift(Bt).emit(pt("position")).emit(pt("drag")),e.redrawHint("drag",!0),e.redraw()}}else Ir();ie=!0}if(we[2]=pe[0],we[3]=pe[1],ie)return L.stopPropagation&&L.stopPropagation(),L.preventDefault&&L.preventDefault(),!1}},!1);var A,D,O;e.registerBinding(t,"mouseup",function(L){if(!(e.hoverData.which===1&&L.which!==1&&e.hoverData.capture)){var Z=e.hoverData.capture;if(Z){e.hoverData.capture=!1;var ie=e.cy,se=e.projectIntoViewport(L.clientX,L.clientY),ce=e.selection,Te=e.findNearestElement(se[0],se[1],!0,!1),pe=e.dragData.possibleDragElements,De=e.hoverData.down,Ee=a(L);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,De&&De.unactivate();var we=function(ft){return{originalEvent:L,type:ft,position:{x:se[0],y:se[1]}}};if(e.hoverData.which===3){var qe=we("cxttapend");if(De?De.emit(qe):ie.emit(qe),!e.hoverData.cxtDragged){var Ve=we("cxttap");De?De.emit(Ve):ie.emit(Ve)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(i(Te,["mouseup","tapend","vmouseup"],L,{x:se[0],y:se[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(i(De,["click","tap","vclick"],L,{x:se[0],y:se[1]}),D=!1,L.timeStamp-O<=ie.multiClickDebounceTime()?(A&&clearTimeout(A),D=!0,O=null,i(De,["dblclick","dbltap","vdblclick"],L,{x:se[0],y:se[1]})):(A=setTimeout(function(){D||i(De,["oneclick","onetap","voneclick"],L,{x:se[0],y:se[1]})},ie.multiClickDebounceTime()),O=L.timeStamp)),De==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!a(L)&&(ie.$(r).unselect(["tapunselect"]),pe.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=pe=ie.collection()),Te==De&&!e.dragData.didDrag&&!e.hoverData.selecting&&Te!=null&&Te._private.selectable&&(e.hoverData.dragging||(ie.selectionType()==="additive"||Ee?Te.selected()?Te.unselect(["tapunselect"]):Te.select(["tapselect"]):Ee||(ie.$(r).unmerge(Te).unselect(["tapunselect"]),Te.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Be=ie.collection(e.getAllInBox(ce[0],ce[1],ce[2],ce[3]));e.redrawHint("select",!0),Be.length>0&&e.redrawHint("eles",!0),ie.emit(we("boxend"));var He=function(ft){return ft.selectable()&&!ft.selected()};ie.selectionType()==="additive"||Ee||ie.$(r).unmerge(Be).unselect(),Be.emit(we("box")).stdFilter(He).select().emit(we("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!ce[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var We=De&&De.grabbed();m(pe),We&&(De.emit(we("freeon")),pe.emit(we("free")),e.dragData.didDrag&&(De.emit(we("dragfreeon")),pe.emit(we("dragfree"))))}}ce[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var R=[],M=4,P,I=1e5,z=function(L,Z){for(var ie=0;ie<L.length;ie++)if(L[ie]%Z!==0)return!1;return!0},W=function(L){for(var Z=Math.abs(L[0]),ie=1;ie<L.length;ie++)if(Math.abs(L[ie])!==Z)return!1;return!0},N=function(L){var Z=!1,ie=L.deltaY;if(ie==null&&(L.wheelDeltaY!=null?ie=L.wheelDeltaY/4:L.wheelDelta!=null&&(ie=L.wheelDelta/4)),ie!==0){if(P==null)if(R.length>=M){var se=R;if(P=z(se,5),!P){var ce=Math.abs(se[0]);P=W(se)&&ce>5}if(P)for(var Te=0;Te<se.length;Te++)I=Math.min(Math.abs(se[Te]),I)}else R.push(ie),Z=!0;else P&&(I=Math.min(Math.abs(ie),I));if(!e.scrollingPage){var pe=e.cy,De=pe.zoom(),Ee=pe.pan(),we=e.projectIntoViewport(L.clientX,L.clientY),qe=[we[0]*De+Ee.x,we[1]*De+Ee.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||k()){L.preventDefault();return}if(pe.panningEnabled()&&pe.userPanningEnabled()&&pe.zoomingEnabled()&&pe.userZoomingEnabled()){L.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var Ve;Z&&Math.abs(ie)>5&&(ie=mv(ie)*5),Ve=ie/-250,P&&(Ve/=I,Ve*=3),Ve=Ve*e.wheelSensitivity;var Be=L.deltaMode===1;Be&&(Ve*=33);var He=pe.zoom()*Math.pow(10,Ve);L.type==="gesturechange"&&(He=e.gestureStartZoom*L.scale),pe.zoom({level:He,renderedPosition:{x:qe[0],y:qe[1]}}),pe.emit({type:L.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:L,position:{x:we[0],y:we[1]}})}}}};e.registerBinding(e.container,"wheel",N,!0),e.registerBinding(t,"scroll",function(L){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(L){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||L.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(le){e.hasTouchStarted||N(le)},!0),e.registerBinding(e.container,"mouseout",function(L){var Z=e.projectIntoViewport(L.clientX,L.clientY);e.cy.emit({originalEvent:L,type:"mouseout",position:{x:Z[0],y:Z[1]}})},!1),e.registerBinding(e.container,"mouseover",function(L){var Z=e.projectIntoViewport(L.clientX,L.clientY);e.cy.emit({originalEvent:L,type:"mouseover",position:{x:Z[0],y:Z[1]}})},!1);var H,j,ne,K,ae,ue,fe,oe,U,Y,_,F,q,J=function(L,Z,ie,se){return Math.sqrt((ie-L)*(ie-L)+(se-Z)*(se-Z))},$=function(L,Z,ie,se){return(ie-L)*(ie-L)+(se-Z)*(se-Z)},V;e.registerBinding(e.container,"touchstart",V=function(L){if(e.hasTouchStarted=!0,!!B(L)){b(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var Z=e.cy,ie=e.touchData.now,se=e.touchData.earlier;if(L.touches[0]){var ce=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ie[0]=ce[0],ie[1]=ce[1]}if(L.touches[1]){var ce=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ie[2]=ce[0],ie[3]=ce[1]}if(L.touches[2]){var ce=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ie[4]=ce[0],ie[5]=ce[1]}var Te=function(bt){return{originalEvent:L,type:bt,position:{x:ie[0],y:ie[1]}}};if(L.touches[1]){e.touchData.singleTouchMoved=!0,m(e.dragData.touchDragEles);var pe=e.findContainerClientCoords();U=pe[0],Y=pe[1],_=pe[2],F=pe[3],H=L.touches[0].clientX-U,j=L.touches[0].clientY-Y,ne=L.touches[1].clientX-U,K=L.touches[1].clientY-Y,q=0<=H&&H<=_&&0<=ne&&ne<=_&&0<=j&&j<=F&&0<=K&&K<=F;var De=Z.pan(),Ee=Z.zoom();ae=J(H,j,ne,K),ue=$(H,j,ne,K),fe=[(H+ne)/2,(j+K)/2],oe=[(fe[0]-De.x)/Ee,(fe[1]-De.y)/Ee];var we=200,qe=we*we;if(ue<qe&&!L.touches[2]){var Ve=e.findNearestElement(ie[0],ie[1],!0,!0),Be=e.findNearestElement(ie[2],ie[3],!0,!0);Ve&&Ve.isNode()?(Ve.activate().emit(Te("cxttapstart")),e.touchData.start=Ve):Be&&Be.isNode()?(Be.activate().emit(Te("cxttapstart")),e.touchData.start=Be):Z.emit(Te("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(L.touches[2])Z.boxSelectionEnabled()&&L.preventDefault();else if(!L.touches[1]){if(L.touches[0]){var He=e.findNearestElements(ie[0],ie[1],!0,!0),We=He[0];if(We!=null&&(We.activate(),e.touchData.start=We,e.touchData.starts=He,e.nodeIsGrabbable(We))){var yt=e.dragData.touchDragEles=Z.collection(),ft=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),We.selected()?(ft=Z.$(function(Qe){return Qe.selected()&&e.nodeIsGrabbable(Qe)}),y(ft,{addToList:yt})):p(We,{addToList:yt}),h(We),We.emit(Te("grabon")),ft?ft.forEach(function(Qe){Qe.emit(Te("grab"))}):We.emit(Te("grab"))}i(We,["touchstart","tapstart","vmousedown"],L,{x:ie[0],y:ie[1]}),We==null&&(e.data.bgActivePosistion={x:ce[0],y:ce[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&i(e.touchData.start,["taphold"],L,{x:ie[0],y:ie[1]})},e.tapholdDuration)}}if(L.touches.length>=1){for(var Ft=e.touchData.startPosition=[null,null,null,null,null,null],vt=0;vt<ie.length;vt++)Ft[vt]=se[vt]=ie[vt];var wt=L.touches[0];e.touchData.startGPosition=[wt.clientX,wt.clientY]}}},!1);var X;e.registerBinding(t,"touchmove",X=function(L){var Z=e.touchData.capture;if(!(!Z&&!B(L))){var ie=e.selection,se=e.cy,ce=e.touchData.now,Te=e.touchData.earlier,pe=se.zoom();if(L.touches[0]){var De=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ce[0]=De[0],ce[1]=De[1]}if(L.touches[1]){var De=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ce[2]=De[0],ce[3]=De[1]}if(L.touches[2]){var De=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ce[4]=De[0],ce[5]=De[1]}var Ee=function(Cw){return{originalEvent:L,type:Cw,position:{x:ce[0],y:ce[1]}}},we=e.touchData.startGPosition,qe;if(Z&&L.touches[0]&&we){for(var Ve=[],Be=0;Be<ce.length;Be++)Ve[Be]=ce[Be]-Te[Be];var He=L.touches[0].clientX-we[0],We=He*He,yt=L.touches[0].clientY-we[1],ft=yt*yt,Ft=We+ft;qe=Ft>=e.touchTapThreshold2}if(Z&&e.touchData.cxt){L.preventDefault();var vt=L.touches[0].clientX-U,wt=L.touches[0].clientY-Y,Qe=L.touches[1].clientX-U,bt=L.touches[1].clientY-Y,Ir=$(vt,wt,Qe,bt),pt=Ir/ue,Er=150,kr=Er*Er,Ut=1.5,gi=Ut*Ut;if(pt>=gi||Ir>=kr){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Kr=Ee("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(Kr),e.touchData.start=null):se.emit(Kr)}}if(Z&&e.touchData.cxt){var Kr=Ee("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Kr):se.emit(Kr),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var $t=e.findNearestElement(ce[0],ce[1],!0,!0);(!e.touchData.cxtOver||$t!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(Ee("cxtdragout")),e.touchData.cxtOver=$t,$t&&$t.emit(Ee("cxtdragover")))}else if(Z&&L.touches[2]&&se.boxSelectionEnabled())L.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||se.emit(Ee("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,ie[4]=1,!ie||ie.length===0||ie[0]===void 0?(ie[0]=(ce[0]+ce[2]+ce[4])/3,ie[1]=(ce[1]+ce[3]+ce[5])/3,ie[2]=(ce[0]+ce[2]+ce[4])/3+1,ie[3]=(ce[1]+ce[3]+ce[5])/3+1):(ie[2]=(ce[0]+ce[2]+ce[4])/3,ie[3]=(ce[1]+ce[3]+ce[5])/3),e.redrawHint("select",!0),e.redraw();else if(Z&&L.touches[1]&&!e.touchData.didSelect&&se.zoomingEnabled()&&se.panningEnabled()&&se.userZoomingEnabled()&&se.userPanningEnabled()){L.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Bt=e.dragData.touchDragEles;if(Bt){e.redrawHint("drag",!0);for(var Gt=0;Gt<Bt.length;Gt++){var Ae=Bt[Gt]._private;Ae.grabbed=!1,Ae.rscratch.inDragLayer=!1}}var G=e.touchData.start,vt=L.touches[0].clientX-U,wt=L.touches[0].clientY-Y,Qe=L.touches[1].clientX-U,bt=L.touches[1].clientY-Y,me=J(vt,wt,Qe,bt),Le=me/ae;if(q){var rt=vt-H,Ot=wt-j,At=Qe-ne,Yt=bt-K,Br=(rt+At)/2,mi=(Ot+Yt)/2,Ct=se.zoom(),Qi=Ct*Le,yi=se.pan(),Fv=oe[0]*Ct+yi.x,Ov=oe[1]*Ct+yi.y,bw={x:-Qi/Ct*(Fv-yi.x-Br)+Fv,y:-Qi/Ct*(Ov-yi.y-mi)+Ov};if(G&&G.active()){var Bt=e.dragData.touchDragEles;m(Bt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),G.unactivate().emit(Ee("freeon")),Bt.emit(Ee("free")),e.dragData.didDrag&&(G.emit(Ee("dragfreeon")),Bt.emit(Ee("dragfree")))}se.viewport({zoom:Qi,pan:bw,cancelOnFailedZoom:!0}),se.emit(Ee("pinchzoom")),ae=me,H=vt,j=wt,ne=Qe,K=bt,e.pinching=!0}if(L.touches[0]){var De=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ce[0]=De[0],ce[1]=De[1]}if(L.touches[1]){var De=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ce[2]=De[0],ce[3]=De[1]}if(L.touches[2]){var De=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ce[4]=De[0],ce[5]=De[1]}}else if(L.touches[0]&&!e.touchData.didSelect){var Nr=e.touchData.start,nc=e.touchData.last,$t;if(!e.hoverData.draggingEles&&!e.swipePanning&&($t=e.findNearestElement(ce[0],ce[1],!0,!0)),Z&&Nr!=null&&L.preventDefault(),Z&&Nr!=null&&e.nodeIsDraggable(Nr))if(qe){var Bt=e.dragData.touchDragEles,Rv=!e.dragData.didDrag;Rv&&y(Bt,{inDragLayer:!0}),e.dragData.didDrag=!0;var Qa={x:0,y:0};if(ye(Ve[0])&&ye(Ve[1])&&(Qa.x+=Ve[0],Qa.y+=Ve[1],Rv)){e.redrawHint("eles",!0);var zr=e.touchData.dragDelta;zr&&ye(zr[0])&&ye(zr[1])&&(Qa.x+=zr[0],Qa.y+=zr[1])}e.hoverData.draggingEles=!0,Bt.silentShift(Qa).emit(Ee("position")).emit(Ee("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Te[0]&&e.touchData.startPosition[1]==Te[1]&&e.redrawHint("eles",!0),e.redraw()}else{var zr=e.touchData.dragDelta=e.touchData.dragDelta||[];zr.length===0?(zr.push(Ve[0]),zr.push(Ve[1])):(zr[0]+=Ve[0],zr[1]+=Ve[1])}if(i(Nr||$t,["touchmove","tapdrag","vmousemove"],L,{x:ce[0],y:ce[1]}),(!Nr||!Nr.grabbed())&&$t!=nc&&(nc&&nc.emit(Ee("tapdragout")),$t&&$t.emit(Ee("tapdragover"))),e.touchData.last=$t,Z)for(var Gt=0;Gt<ce.length;Gt++)ce[Gt]&&e.touchData.startPosition[Gt]&&qe&&(e.touchData.singleTouchMoved=!0);if(Z&&(Nr==null||Nr.pannable())&&se.panningEnabled()&&se.userPanningEnabled()){var xw=o(Nr,e.touchData.starts);xw&&(L.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=da(e.touchData.startPosition)),e.swipePanning?(se.panBy({x:Ve[0]*pe,y:Ve[1]*pe}),se.emit(Ee("dragpan"))):qe&&(e.swipePanning=!0,se.panBy({x:He*pe,y:yt*pe}),se.emit(Ee("dragpan")),Nr&&(Nr.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var De=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ce[0]=De[0],ce[1]=De[1]}}for(var Be=0;Be<ce.length;Be++)Te[Be]=ce[Be];Z&&L.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var re;e.registerBinding(t,"touchcancel",re=function(L){var Z=e.touchData.start;e.touchData.capture=!1,Z&&Z.unactivate()});var ee,te,de,he;if(e.registerBinding(t,"touchend",ee=function(L){var Z=e.touchData.start,ie=e.touchData.capture;if(ie)L.touches.length===0&&(e.touchData.capture=!1),L.preventDefault();else return;var se=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var ce=e.cy,Te=ce.zoom(),pe=e.touchData.now,De=e.touchData.earlier;if(L.touches[0]){var Ee=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);pe[0]=Ee[0],pe[1]=Ee[1]}if(L.touches[1]){var Ee=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);pe[2]=Ee[0],pe[3]=Ee[1]}if(L.touches[2]){var Ee=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);pe[4]=Ee[0],pe[5]=Ee[1]}var we=function(kr){return{originalEvent:L,type:kr,position:{x:pe[0],y:pe[1]}}};Z&&Z.unactivate();var qe;if(e.touchData.cxt){if(qe=we("cxttapend"),Z?Z.emit(qe):ce.emit(qe),!e.touchData.cxtDragged){var Ve=we("cxttap");Z?Z.emit(Ve):ce.emit(Ve)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!L.touches[2]&&ce.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Be=ce.collection(e.getAllInBox(se[0],se[1],se[2],se[3]));se[0]=void 0,se[1]=void 0,se[2]=void 0,se[3]=void 0,se[4]=0,e.redrawHint("select",!0),ce.emit(we("boxend"));var He=function(kr){return kr.selectable()&&!kr.selected()};Be.emit(we("box")).stdFilter(He).select().emit(we("boxselect")),Be.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(Z!=null&&Z.unactivate(),L.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!L.touches[1]){if(!L.touches[0]){if(!L.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var We=e.dragData.touchDragEles;if(Z!=null){var yt=Z._private.grabbed;m(We),e.redrawHint("drag",!0),e.redrawHint("eles",!0),yt&&(Z.emit(we("freeon")),We.emit(we("free")),e.dragData.didDrag&&(Z.emit(we("dragfreeon")),We.emit(we("dragfree")))),i(Z,["touchend","tapend","vmouseup","tapdragout"],L,{x:pe[0],y:pe[1]}),Z.unactivate(),e.touchData.start=null}else{var ft=e.findNearestElement(pe[0],pe[1],!0,!0);i(ft,["touchend","tapend","vmouseup","tapdragout"],L,{x:pe[0],y:pe[1]})}var Ft=e.touchData.startPosition[0]-pe[0],vt=Ft*Ft,wt=e.touchData.startPosition[1]-pe[1],Qe=wt*wt,bt=vt+Qe,Ir=bt*Te*Te;e.touchData.singleTouchMoved||(Z||ce.$(":selected").unselect(["tapunselect"]),i(Z,["tap","vclick"],L,{x:pe[0],y:pe[1]}),te=!1,L.timeStamp-he<=ce.multiClickDebounceTime()?(de&&clearTimeout(de),te=!0,he=null,i(Z,["dbltap","vdblclick"],L,{x:pe[0],y:pe[1]})):(de=setTimeout(function(){te||i(Z,["onetap","voneclick"],L,{x:pe[0],y:pe[1]})},ce.multiClickDebounceTime()),he=L.timeStamp)),Z!=null&&!e.dragData.didDrag&&Z._private.selectable&&Ir<e.touchTapThreshold2&&!e.pinching&&(ce.selectionType()==="single"?(ce.$(r).unmerge(Z).unselect(["tapunselect"]),Z.select(["tapselect"])):Z.selected()?Z.unselect(["tapunselect"]):Z.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var pt=0;pt<pe.length;pt++)De[pt]=pe[pt];e.dragData.didDrag=!1,L.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),L.touches.length<2&&(L.touches.length===1&&(e.touchData.startGPosition=[L.touches[0].clientX,L.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var ve=[],ge=function(L){return{clientX:L.clientX,clientY:L.clientY,force:1,identifier:L.pointerId,pageX:L.pageX,pageY:L.pageY,radiusX:L.width/2,radiusY:L.height/2,screenX:L.screenX,screenY:L.screenY,target:L.target}},Ce=function(L){return{event:L,touch:ge(L)}},Pe=function(L){ve.push(Ce(L))},ke=function(L){for(var Z=0;Z<ve.length;Z++){var ie=ve[Z];if(ie.event.pointerId===L.pointerId){ve.splice(Z,1);return}}},ze=function(L){var Z=ve.filter(function(ie){return ie.event.pointerId===L.pointerId})[0];Z.event=L,Z.touch=ge(L)},_e=function(L){L.touches=ve.map(function(Z){return Z.touch})},be=function(L){return L.pointerType==="mouse"||L.pointerType===4};e.registerBinding(e.container,"pointerdown",function(le){be(le)||(le.preventDefault(),Pe(le),_e(le),V(le))}),e.registerBinding(e.container,"pointerup",function(le){be(le)||(ke(le),_e(le),ee(le))}),e.registerBinding(e.container,"pointercancel",function(le){be(le)||(ke(le),_e(le),re(le))}),e.registerBinding(e.container,"pointermove",function(le){be(le)||(le.preventDefault(),ze(le),_e(le),X(le))})}};var Rn={};Rn.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,i,a,o,s,l){this.renderer.nodeShapeImpl("polygon",n,i,a,o,s,this.points)},intersectLine:function(n,i,a,o,s,l,u,c){return as(s,l,this.points,n,i,a/2,o/2,u)},checkPoint:function(n,i,a,o,s,l,u,c){return Mn(n,i,this.points,l,u,o,s,[0,-1],a)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,i,a,o,s,l){return M5(this.points,n,i,a,o,s)}}};Rn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a)},intersectLine:function(t,r,n,i,a,o,s,l){return q5(a,o,t,r,n/2+s,i/2+s)},checkPoint:function(t,r,n,i,a,o,s,l){return Pi(t,r,i,a,o,s,n)}}};Rn.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,i,a,o,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var c=a/2,h=o/2;s=s==="auto"?Z1(a,o):s;for(var f=new Array(t.length/2),d=0;d<t.length/2;d++)f[d]={x:n+c*t[d*2],y:i+h*t[d*2+1]};var v,y,p,m,g=f.length;for(y=f[g-1],v=0;v<g;v++)p=f[v%g],m=f[(v+1)%g],l[u][v]=Lv(y,p,m,s),y=p,p=m;return l[u]},draw:function(n,i,a,o,s,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,o,s,this.points,this.getOrCreateCorners(i,a,o,s,l,u,"drawCorners"))},intersectLine:function(n,i,a,o,s,l,u,c,h){return H5(s,l,this.points,n,i,a,o,u,this.getOrCreateCorners(n,i,a,o,c,h,"corners"))},checkPoint:function(n,i,a,o,s,l,u,c,h){return $5(n,i,this.points,l,u,o,s,this.getOrCreateCorners(l,u,o,s,c,h,"corners"))}}};Rn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:nr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,this.points,o)},intersectLine:function(t,r,n,i,a,o,s,l){return j1(a,o,t,r,n,i,s,l)},checkPoint:function(t,r,n,i,a,o,s,l){var u=i/2,c=a/2;l=l==="auto"?ai(i,a):l,l=Math.min(u,c,l);var h=l*2;return!!(Mn(t,r,this.points,o,s,i,a-h,[0,-1],n)||Mn(t,r,this.points,o,s,i-h,a,[0,-1],n)||Pi(t,r,h,h,o-u+l,s-c+l,n)||Pi(t,r,h,h,o+u-l,s-c+l,n)||Pi(t,r,h,h,o+u-l,s+c-l,n)||Pi(t,r,h,h,o-u+l,s+c-l,n))}}};Rn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:bv(),points:nr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,null,o)},generateCutTrianglePts:function(t,r,n,i,a){var o=a==="auto"?this.cornerLength:a,s=r/2,l=t/2,u=n-l,c=n+l,h=i-s,f=i+s;return{topLeft:[u,h+o,u+o,h,u+o,h+o],topRight:[c-o,h,c,h+o,c-o,h+o],bottomRight:[c,f-o,c-o,f,c-o,f-o],bottomLeft:[u+o,f,u,f-o,u+o,f-o]}},intersectLine:function(t,r,n,i,a,o,s,l){var u=this.generateCutTrianglePts(n+2*s,i+2*s,t,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return as(a,o,c,t,r)},checkPoint:function(t,r,n,i,a,o,s,l){var u=l==="auto"?this.cornerLength:l;if(Mn(t,r,this.points,o,s,i,a-2*u,[0,-1],n)||Mn(t,r,this.points,o,s,i-2*u,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,o,s);return gr(t,r,c.topLeft)||gr(t,r,c.topRight)||gr(t,r,c.bottomRight)||gr(t,r,c.bottomLeft)}}};Rn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:nr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a)},intersectLine:function(t,r,n,i,a,o,s,l){var u=.15,c=.5,h=.85,f=this.generateBarrelBezierPts(n+2*s,i+2*s,t,r),d=function(p){var m=wa({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},u),g=wa({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},c),b=wa({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},h);return[p[0],p[1],m.x,m.y,g.x,g.y,b.x,b.y,p[4],p[5]]},v=[].concat(d(f.topLeft),d(f.topRight),d(f.bottomRight),d(f.bottomLeft));return as(a,o,v,t,r)},generateBarrelBezierPts:function(t,r,n,i){var a=r/2,o=t/2,s=n-o,l=n+o,u=i-a,c=i+a,h=Uf(t,r),f=h.heightOffset,d=h.widthOffset,v=h.ctrlPtOffsetPct*t,y={topLeft:[s,u+f,s+v,u,s+d,u],topRight:[l-d,u,l-v,u,l,u+f],bottomRight:[l,c-f,l-v,c,l-d,c],bottomLeft:[s+d,c,s+v,c,s,c-f]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(t,r,n,i,a,o,s,l){var u=Uf(i,a),c=u.heightOffset,h=u.widthOffset;if(Mn(t,r,this.points,o,s,i,a-2*c,[0,-1],n)||Mn(t,r,this.points,o,s,i-2*h,a,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(i,a,o,s),d=function(S,k,B){var E=B[4],A=B[2],D=B[0],O=B[5],R=B[1],M=Math.min(E,D),P=Math.max(E,D),I=Math.min(O,R),z=Math.max(O,R);if(M<=S&&S<=P&&I<=k&&k<=z){var W=W5(E,A,D),N=R5(W[0],W[1],W[2],S),H=N.filter(function(j){return 0<=j&&j<=1});if(H.length>0)return H[0]}return null},v=Object.keys(f),y=0;y<v.length;y++){var p=v[y],m=f[p],g=d(t,r,m);if(g!=null){var b=m[5],x=m[3],w=m[1],T=Rt(b,x,w,g);if(m.isTop&&T<=r||m.isBottom&&r<=T)return!0}}return!1}}};Rn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:nr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,this.points,o)},intersectLine:function(t,r,n,i,a,o,s,l){var u=t-(n/2+s),c=r-(i/2+s),h=c,f=t+(n/2+s),d=Xn(a,o,t,r,u,c,f,h,!1);return d.length>0?d:j1(a,o,t,r,n,i,s,l)},checkPoint:function(t,r,n,i,a,o,s,l){l=l==="auto"?ai(i,a):l;var u=2*l;if(Mn(t,r,this.points,o,s,i,a-u,[0,-1],n)||Mn(t,r,this.points,o,s,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,h=a/2+2*n,f=[o-c,s-h,o-c,s,o+c,s,o+c,s-h];return!!(gr(t,r,f)||Pi(t,r,u,u,o+i/2-l,s+a/2-l,n)||Pi(t,r,u,u,o-i/2+l,s+a/2-l,n))}}};Rn.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",nr(3,0)),this.generateRoundPolygon("round-triangle",nr(3,0)),this.generatePolygon("rectangle",nr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",nr(5,0)),this.generateRoundPolygon("round-pentagon",nr(5,0)),this.generatePolygon("hexagon",nr(6,0)),this.generateRoundPolygon("round-hexagon",nr(6,0)),this.generatePolygon("heptagon",nr(7,0)),this.generateRoundPolygon("round-heptagon",nr(7,0)),this.generatePolygon("octagon",nr(8,0)),this.generateRoundPolygon("round-octagon",nr(8,0));var n=new Array(20);{var i=Wf(5,0),a=Wf(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=a[s*2],n[s*4+3]=a[s*2+1]}n=X1(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}e.makePolygon=function(u){var c=u.join("$"),h="polygon-"+c,f;return(f=this[h])?f:t.generatePolygon(h,u)}};var As={};As.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};As.redraw=function(e){e=e||U1();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};As.beforeRender=function(e,t){if(!this.destroyed){t==null&&dt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,i){return i.priority-n.priority})}};var $y=function(t,r,n){for(var i=t.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};As.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){$y(e,!0,i);var a=Pn();e.render(e.renderOptions);var o=e.lastDrawTime=Pn();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=o-a;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else $y(e,!1,i);e.skipFrame=!1,tu(r)}};tu(r)}};var oz=function(t){this.init(t)},ZC=oz,Za=ZC.prototype;Za.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Za.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=i.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=i.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=n.getComputedStyle(r),h=c.getPropertyValue("position");h==="static"&&tt("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=ye(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Za.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Za.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};Za.isHeadless=function(){return!1};[Av,jC,XC,Xa,Rn,As].forEach(function(e){Ne(Za,e)});var ef=1e3/60,QC={setupDequeueing:function(t){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=_s(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold),o=function(u,c){var h=Pn(),f=i.averageRedrawTime,d=i.lastRedrawTime,v=[],y=i.cy.extent(),p=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var m=Pn(),g=m-h,b=m-c;if(d<ef){var x=ef-(u?f:0);if(b>=t.deqFastCost*x)break}else if(u){if(g>=t.deqCost*d||g>=t.deqAvgCost*f)break}else if(b>=t.deqNoDrawCost*ef)break;var w=t.deq(n,p,y);if(w.length>0)for(var T=0;T<w.length;T++)v.push(w[T]);else break}v.length>0&&(t.onDeqd(n,v),!u&&t.shouldRedraw(n,v,p,y)&&a())},s=t.priority||vv;i.beforeRender(o,s(n))}}}},sz=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ru;hi(this,e),this.idsByKey=new kn,this.keyForId=new kn,this.cachesByLvl=new kn,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return fi(e,[{key:"getIdsFor",value:function(r){r==null&&dt("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new Ga,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new kn,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])})(),qy=25,Qs=50,wl=-4,id=3,JC=7.99,lz=8,uz=1024,cz=1024,hz=1024,fz=.2,dz=.8,vz=10,pz=.15,gz=.1,mz=.9,yz=.9,bz=100,xz=1,pa={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Cz=Ht({getKey:null,doesEleInvalidateKey:ru,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:V1,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),To=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var i=Cz(r);Ne(n,i),n.lookup=new sz(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Mt=To.prototype;Mt.reasons=pa;Mt.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Mt.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Mt.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Ss(function(r,n){return n.reqs-r.reqs});return t};Mt.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Mt.getElement=function(e,t,r,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(gv(s*r))),n<wl)n=wl;else if(s>=JC||n>id)return null;var u=Math.pow(2,n),c=t.h*u,h=t.w*u,f=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,f))return null;var d=l.get(e,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=qy?v=qy:c<=Qs?v=Qs:v=Math.ceil(c/Qs)*Qs,c>hz||h>cz)return null;var y=a.getTextureQueue(v),p=y[y.length-2],m=function(){return a.recycleTexture(v,h)||a.addTexture(v,h)};p||(p=y[y.length-1]),p||(p=m()),p.width-p.usedWidth<h&&(p=m());for(var g=function(M){return M&&M.scaledLabelShown===f},b=i&&i===pa.dequeue,x=i&&i===pa.highQuality,w=i&&i===pa.downscale,T,C=n+1;C<=id;C++){var S=l.get(e,C);if(S){T=S;break}}var k=T&&T.level===n+1?T:null,B=function(){p.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,p.usedWidth,0,h,c)};if(p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(p.usedWidth,0,h,v),g(k))B();else if(g(T))if(x){for(var E=T.level;E>n;E--)k=a.getElement(e,t,r,E,pa.downscale);B()}else return a.queueElement(e,T.level-1),T;else{var A;if(!b&&!x&&!w)for(var D=n-1;D>=wl;D--){var O=l.get(e,D);if(O){A=O;break}}if(g(A))return a.queueElement(e,n),A;p.context.translate(p.usedWidth,0),p.context.scale(u,u),this.drawElement(p.context,e,t,f,!1),p.context.scale(1/u,1/u),p.context.translate(-p.usedWidth,0)}return d={x:p.usedWidth,texture:p,level:n,scale:u,width:h,height:c,scaledLabelShown:f},p.usedWidth+=Math.ceil(h+lz),p.eleCaches.push(d),l.set(e,n,d),a.checkTextureFullness(p),d};Mt.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Mt.invalidateElement=function(e){var t=this,r=t.lookup,n=[],i=r.isInvalid(e);if(i){for(var a=wl;a<=id;a++){var o=r.getForCachedKey(e,a);o&&n.push(o)}var s=r.invalidate(e);if(s)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}};Mt.checkTextureUtility=function(e){e.invalidatedWidth>=fz*e.width&&this.retireTexture(e)};Mt.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>dz&&e.fullnessChecks>=vz?ii(r,e):e.fullnessChecks++};Mt.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),i=this.lookup;ii(n,e),e.retired=!0;for(var a=e.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}pv(a);var l=t.getRetiredTextureQueue(r);l.push(e)};Mt.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};return n.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(uz,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Mt.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),i=r.getRetiredTextureQueue(e),a=0;a<i.length;a++){var o=i[a];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,pv(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),ii(i,o),n.push(o),o}};Mt.queueElement=function(e,t){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(e),o=i[a];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(s),i[a]=s}};Mt.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,o=0;o<xz&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=a.hasCache(u,s.level);if(n[l]=null,c)continue;i.push(s);var h=t.getBoundingBox(u);t.getElement(u,h,e,s.level,pa.dequeue)}return i};Mt.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=this.getKey(e),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=dv,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(e))};Mt.onDequeue=function(e){this.onDequeues.push(e)};Mt.offDequeue=function(e){ii(this.onDequeues,e)};Mt.setupDequeueing=QC.setupDequeueing({deqRedrawThreshold:bz,deqCost:pz,deqAvgCost:gz,deqNoDrawCost:mz,deqFastCost:yz,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var i=t.onDequeues[n];i(r)}},shouldRedraw:function(t,r,n,i){for(var a=0;a<r.length;a++)for(var o=r[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(yv(l,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var wz=1,$o=-4,cu=2,Tz=3.99,_z=50,Sz=50,Ez=.15,kz=.1,Bz=.9,Az=.9,Lz=1,Vy=250,Dz=4e3*4e3,Hy=32767,Pz=!0,ew=function(t){var r=this,n=r.renderer=t,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Pn()-2*Vy,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=_s(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Sz),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=Vy?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};r.layersQueue=new Ss(a),r.setupDequeueing()},Wt=ew.prototype,Wy=0,Mz=Math.pow(2,53)-1;Wt.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:Wy=++Wy%Mz,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};Wt.getLayers=function(e,t,r){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(gv(o*t)),r<$o)r=$o;else if(o>=Tz||r>cu)return null}n.validateLayersElesOrdering(r,e);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],h,f=n.levelIsComplete(r,e),d,v=function(){var B=function(R){if(n.validateLayersElesOrdering(R,e),n.levelIsComplete(R,e))return d=l[R],!0},E=function(R){if(!d)for(var M=r+R;$o<=M&&M<=cu&&!B(M);M+=R);};E(1),E(-1);for(var A=c.length-1;A>=0;A--){var D=c[A];D.invalid&&ii(c,D)}};if(!f)v();else return c;var y=function(){if(!h){h=hr();for(var B=0;B<e.length;B++)L5(h,e[B].boundingBox())}return h},p=function(B){B=B||{};var E=B.after;y();var A=Math.ceil(h.w*u),D=Math.ceil(h.h*u);if(A>Hy||D>Hy)return null;var O=A*D;if(O>Dz)return null;var R=n.makeLayer(h,r);if(E!=null){var M=c.indexOf(E)+1;c.splice(M,0,R)}else(B.insert===void 0||B.insert)&&c.unshift(R);return R};if(n.skipping&&!s)return null;for(var m=null,g=e.length/wz,b=!s,x=0;x<e.length;x++){var w=e[x],T=w._private.rscratch,C=T.imgLayerCaches=T.imgLayerCaches||{},S=C[r];if(S){m=S;continue}if((!m||m.eles.length>=g||!K1(m.bb,w.boundingBox()))&&(m=p({insert:!0,after:m}),!m))return null;d||b?n.queueLayer(m,w):n.drawEleInLayer(m,w,r,t),m.eles.push(w),C[r]=m}return d||(b?null:c)};Wt.getEleLevelForLayerLevel=function(e,t){return e};Wt.drawEleInLayer=function(e,t,r,n){var i=this,a=this.renderer,o=e.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,t,null,null,r,Pz),a.setImgSmoothing(o,!0))};Wt.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===t.length};Wt.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}};Wt.updateElementsInLayers=function(e,t){for(var r=this,n=xs(e[0]),i=0;i<e.length;i++)for(var a=n?null:e[i],o=n?e[i]:e[i].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=$o;u<=cu;u++){var c=l[u];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||t(c,o,a))}};Wt.haveLayers=function(){for(var e=this,t=!1,r=$o;r<=cu;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};Wt.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Pn(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,i,a){t.invalidateLayer(n)}))};Wt.invalidateLayer=function(e){if(this.lastInvalidationTime=Pn(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];ii(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}};Wt.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};Wt.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Wt.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};Wt.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<Lz&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return n};Wt.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var a=0;a<e.eles.length;a++){var o=e.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};Wt.requestRedraw=_s(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Wt.setupDequeueing=QC.setupDequeueing({deqRedrawThreshold:_z,deqCost:Ez,deqAvgCost:kz,deqNoDrawCost:Bz,deqFastCost:Az,deq:function(t,r){return t.dequeue(r)},onDeqd:vv,shouldRedraw:V1,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var tw={},Uy;function Fz(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function Oz(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];i===0&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Gy(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function Rz(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,Math.PI*2,!1);var a=t,o=a[0];e.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function Iz(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}tw.arrowShapeImpl=function(e){return(Uy||(Uy={polygon:Fz,"triangle-backcurve":Oz,"triangle-tee":Gy,"circle-triangle":Rz,"triangle-cross":Gy,circle:Iz}))[e]};var gn={};gn.drawElement=function(e,t,r,n,i,a){var o=this;t.isNode()?o.drawNode(e,t,r,n,i,a):o.drawEdge(e,t,r,n,i,a)};gn.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};gn.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};gn.drawCachedElementPortion=function(e,t,r,n,i,a,o,s){var l=this,u=r.getBoundingBox(t);if(!(u.w===0||u.h===0)){var c=r.getElement(t,u,n,i,a);if(c!=null){var h=s(l,t);if(h===0)return;var f=o(l,t),d=u.x1,v=u.y1,y=u.w,p=u.h,m,g,b,x,w;if(f!==0){var T=r.getRotationPoint(t);b=T.x,x=T.y,e.translate(b,x),e.rotate(f),w=l.getImgSmoothing(e),w||l.setImgSmoothing(e,!0);var C=r.getRotationOffset(t);m=C.x,g=C.y}else m=d,g=v;var S;h!==1&&(S=e.globalAlpha,e.globalAlpha=S*h),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,m,g,y,p),h!==1&&(e.globalAlpha=S),f!==0&&(e.rotate(-f),e.translate(-b,-x),w||l.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var Nz=function(){return 0},zz=function(t,r){return t.getTextAngle(r,null)},$z=function(t,r){return t.getTextAngle(r,"source")},qz=function(t,r){return t.getTextAngle(r,"target")},Vz=function(t,r){return r.effectiveOpacity()},tf=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};gn.drawCachedElement=function(e,t,r,n,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,f=t.boundingBox(),d=a===!0?l.reasons.highQuality:null;if(!(f.w===0||f.h===0||!t.visible())&&(!n||yv(f,n))){var v=t.isEdge(),y=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,r,i,d,Nz,Vz),(!v||!y)&&o.drawCachedElementPortion(e,t,u,r,i,d,zz,tf),v&&!y&&(o.drawCachedElementPortion(e,t,c,r,i,d,$z,tf),o.drawCachedElementPortion(e,t,h,r,i,d,qz,tf)),o.drawElementOverlay(e,t)}};gn.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];r.drawElement(e,i)}};gn.drawCachedElements=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];i.drawCachedElement(e,o,r,n)}};gn.drawCachedNodes=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];o.isNode()&&i.drawCachedElement(e,o,r,n)}};gn.drawLayeredElements=function(e,t,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(t,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,r,n)};var In={};In.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(a&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,e.translate(-l.x1,-l.y1));var u=a?t.pstyle("opacity").value:1,c=a?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,v=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,p=t.pstyle("line-outline-color").value,m=u*c,g=u*c,b=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;h==="straight-triangle"?(o.eleStrokeStyle(e,t,R),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=d,e.lineCap=v,o.eleStrokeStyle(e,t,R),o.drawEdgePath(t,e,s.allpts,f),e.lineCap="butt")},x=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(e.lineWidth=d+y,e.lineCap=v,y>0)o.colorStrokeStyle(e,p[0],p[1],p[2],R);else{e.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,f),e.lineCap="butt")},w=function(){i&&o.drawEdgeOverlay(e,t)},T=function(){i&&o.drawEdgeUnderlay(e,t)},C=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;o.drawArrowheads(e,t,R)},S=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var k=t.pstyle("ghost").value==="yes";if(k){var B=t.pstyle("ghost-offset-x").pfValue,E=t.pstyle("ghost-offset-y").pfValue,A=t.pstyle("ghost-opacity").value,D=m*A;e.translate(B,E),b(D),C(D),e.translate(-B,-E)}else x();T(),b(),C(),w(),S(),r&&e.translate(l.x1,l.y1)}};var rw=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(t,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(t,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(t,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,s.allpts,"solid")}}}};In.drawEdgeOverlay=rw("overlay");In.drawEdgeUnderlay=rw("underlay");In.drawEdgePath=function(e,t,r,n){var i=e._private.rscratch,a=t,o,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var h=r.join("$"),f=i.pathCacheKey&&i.pathCacheKey===h;f?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=h,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)t.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)t.lineTo(r[v],r[v+1]);break;case"segments":if(i.isRound){var y=br(i.roundCorners),p;try{for(y.s();!(p=y.n()).done;){var m=p.value;WC(t,m)}}catch(b){y.e(b)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var g=2;g+1<r.length;g+=2)t.lineTo(r[g],r[g+1]);break}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};In.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[i]-l[0],r[i+1]-l[1]),t.lineTo(r[i]+l[0],r[i+1]+l[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}};In.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};In.drawArrowhead=function(e,t,r,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,l=t.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,f=t.pstyle(r+"-arrow-width"),d=f.value==="match-line"?h:f.pfValue;f.units==="%"&&(d*=h);var v=t.pstyle("opacity").value;o===void 0&&(o=v);var y=e.globalCompositeOperation;(o!==1||c==="hollow")&&(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,u,h,l,d,n,i,a),e.globalCompositeOperation=y);var p=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,p[0],p[1],p[2],o),s.colorStrokeStyle(e,p[0],p[1],p[2],o),s.drawArrowShape(t,e,c,h,l,d,n,i,a)}}};In.drawArrowShape=function(e,t,r,n,i,a,o,s,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",h=!1,f,d=t,v={x:o,y:s},y=e.pstyle("arrow-scale").value,p=this.getArrowWidth(n,y),m=u.arrowShapes[i];if(c){var g=u.arrowPathCache=u.arrowPathCache||[],b=qi(i),x=g[b];x!=null?(f=t=x,h=!0):(f=t=new Path2D,g[b]=f)}h||(t.beginPath&&t.beginPath(),c?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,p,l,v,n),t.closePath&&t.closePath()),t=d,c&&(t.translate(o,s),t.rotate(l),t.scale(p,p)),(r==="filled"||r==="both")&&(c?t.fill(f):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(c?p:1),t.lineJoin="miter",c?t.stroke(f):t.stroke()),c&&(t.scale(1/p,1/p),t.rotate(-l),t.translate(-o,-s))};var Pv={};Pv.safeDrawImage=function(e,t,r,n,i,a,o,s,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{e.drawImage(t,r,n,i,a,o,s,l,u)}catch(c){tt(c)}};Pv.drawInscribedImage=function(e,t,r,n,i){var a=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),h=c(r,"background-fit","value",n),f=c(r,"background-repeat","value",n),d=r.width(),v=r.height(),y=r.padding()*2,p=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),m=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),g=r._private.rscratch,b=c(r,"background-clip","value",n),x=b==="node",w=c(r,"background-image-opacity","value",n)*i,T=c(r,"background-image-smoothing","value",n),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var S=t.width||t.cachedW,k=t.height||t.cachedH;(S==null||k==null)&&(document.body.appendChild(t),S=t.cachedW=t.width||t.offsetWidth,k=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var B=S,E=k;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?B=c(r,"background-width","pfValue",n)*p:B=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?E=c(r,"background-height","pfValue",n)*m:E=c(r,"background-height","pfValue",n)),!(B===0||E===0)){if(h==="contain"){var A=Math.min(p/B,m/E);B*=A,E*=A}else if(h==="cover"){var A=Math.max(p/B,m/E);B*=A,E*=A}var D=s-p/2,O=c(r,"background-position-x","units",n),R=c(r,"background-position-x","pfValue",n);O==="%"?D+=(p-B)*R:D+=R;var M=c(r,"background-offset-x","units",n),P=c(r,"background-offset-x","pfValue",n);M==="%"?D+=(p-B)*P:D+=P;var I=l-m/2,z=c(r,"background-position-y","units",n),W=c(r,"background-position-y","pfValue",n);z==="%"?I+=(m-E)*W:I+=W;var N=c(r,"background-offset-y","units",n),H=c(r,"background-offset-y","pfValue",n);N==="%"?I+=(m-E)*H:I+=H,g.pathCache&&(D-=s,I-=l,s=0,l=0);var j=e.globalAlpha;e.globalAlpha=w;var ne=a.getImgSmoothing(e),K=!1;if(T==="no"&&ne?(a.setImgSmoothing(e,!1),K=!0):T==="yes"&&!ne&&(a.setImgSmoothing(e,!0),K=!0),f==="no-repeat")x&&(e.save(),g.pathCache?e.clip(g.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,p,m,C,g),e.clip())),a.safeDrawImage(e,t,0,0,S,k,D,I,B,E),x&&e.restore();else{var ae=e.createPattern(t,f);e.fillStyle=ae,a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,p,m,C,g),e.translate(D,I),e.fill(),e.translate(-D,-I)}e.globalAlpha=j,K&&a.setImgSmoothing(e,ne)}};var Zi={};Zi.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(gv(r*n));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};Zi.drawElementText=function(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),h=t.pstyle("source-label"),f=t.pstyle("target-label");if(u||(!c||!c.value)&&(!h||!h.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var d=!r,v;r&&(v=r,e.translate(-v.x1,-v.y1)),i==null?(o.drawText(e,t,null,d,a),t.isEdge()&&(o.drawText(e,t,"source",d,a),o.drawText(e,t,"target",d,a))):o.drawText(e,t,i,d,a),r&&e.translate(v.x1,v.y1)};Zi.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};Zi.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)};function Hz(e,t,r,n,i){var a=Math.min(n,i),o=a/2,s=t+n/2,l=r+i/2;e.beginPath(),e.arc(s,l,o,0,Math.PI*2),e.closePath()}function Yy(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(a,n/2,i/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}Zi.getTextAngle=function(e,t){var r,n=e._private,i=n.rscratch,a=t?t+"-":"",o=e.pstyle(a+"text-rotation");if(o.strValue==="autorotate"){var s=pr(i,"labelAngle",t);r=e.isEdge()?s:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};Zi.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,o=a.rscratch,s=i?t.effectiveOpacity():1;if(!(i&&(s===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=pr(o,"labelX",r),u=pr(o,"labelY",r),c,h,f=this.getLabelText(t,r);if(f!=null&&f!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t,i);var d=r?r+"-":"",v=pr(o,"labelWidth",r),y=pr(o,"labelHeight",r),p=t.pstyle(d+"text-margin-x").pfValue,m=t.pstyle(d+"text-margin-y").pfValue,g=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;g&&(b="center",x="center"),l+=p,u+=m;var w;switch(n?w=this.getTextAngle(t,r):w=0,w!==0&&(c=l,h=u,e.translate(c,h),e.rotate(w),l=0,u=0),x){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var T=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,S=t.pstyle("text-border-width").pfValue,k=t.pstyle("text-background-padding").pfValue,B=t.pstyle("text-background-shape").strValue,E=B==="round-rectangle"||B==="roundrectangle",A=B==="circle",D=2;if(T>0||S>0&&C>0){var O=e.fillStyle,R=e.strokeStyle,M=e.lineWidth,P=t.pstyle("text-background-color").value,I=t.pstyle("text-border-color").value,z=t.pstyle("text-border-style").value,W=T>0,N=S>0&&C>0,H=l-k;switch(b){case"left":H-=v;break;case"center":H-=v/2;break}var j=u-y-k,ne=v+2*k,K=y+2*k;if(W&&(e.fillStyle="rgba(".concat(P[0],",").concat(P[1],",").concat(P[2],",").concat(T*s,")")),N&&(e.strokeStyle="rgba(".concat(I[0],",").concat(I[1],",").concat(I[2],",").concat(C*s,")"),e.lineWidth=S,e.setLineDash))switch(z){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=S/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(E?(e.beginPath(),Yy(e,H,j,ne,K,D)):A?(e.beginPath(),Hz(e,H,j,ne,K)):(e.beginPath(),e.rect(H,j,ne,K)),W&&e.fill(),N&&e.stroke(),N&&z==="double"){var ae=S/2;e.beginPath(),E?Yy(e,H+ae,j+ae,ne-2*ae,K-2*ae,D):e.rect(H+ae,j+ae,ne-2*ae,K-2*ae),e.stroke()}e.fillStyle=O,e.strokeStyle=R,e.lineWidth=M,e.setLineDash&&e.setLineDash([])}var ue=2*t.pstyle("text-outline-width").pfValue;if(ue>0&&(e.lineWidth=ue),t.pstyle("text-wrap").value==="wrap"){var fe=pr(o,"labelWrapCachedLines",r),oe=pr(o,"labelLineHeight",r),U=v/2,Y=this.getLabelJustification(t);switch(Y==="auto"||(b==="left"?Y==="left"?l+=-v:Y==="center"&&(l+=-U):b==="center"?Y==="left"?l+=-U:Y==="right"&&(l+=U):b==="right"&&(Y==="center"?l+=U:Y==="right"&&(l+=v))),x){case"top":u-=(fe.length-1)*oe;break;case"center":case"bottom":u-=(fe.length-1)*oe;break}for(var _=0;_<fe.length;_++)ue>0&&e.strokeText(fe[_],l,u),e.fillText(fe[_],l,u),u+=oe}else ue>0&&e.strokeText(f,l,u),e.fillText(f,l,u);w!==0&&(e.rotate(-w),e.translate(-c,-h))}}};var vi={};vi.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=t._private,c=u.rscratch,h=t.position();if(!(!ye(h.x)||!ye(h.y))&&!(a&&!t.visible())){var f=a?t.effectiveOpacity():1,d=o.usePaths(),v,y=!1,p=t.padding();s=t.width()+2*p,l=t.height()+2*p;var m;r&&(m=r,e.translate(-m.x1,-m.y1));for(var g=t.pstyle("background-image"),b=g.value,x=new Array(b.length),w=new Array(b.length),T=0,C=0;C<b.length;C++){var S=b[C],k=x[C]=S!=null&&S!=="none";if(k){var B=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);T++,w[C]=o.getCachedImage(S,B,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var E=t.pstyle("background-blacken").value,A=t.pstyle("border-width").pfValue,D=t.pstyle("background-opacity").value*f,O=t.pstyle("border-color").value,R=t.pstyle("border-style").value,M=t.pstyle("border-join").value,P=t.pstyle("border-cap").value,I=t.pstyle("border-position").value,z=t.pstyle("border-dash-pattern").pfValue,W=t.pstyle("border-dash-offset").pfValue,N=t.pstyle("border-opacity").value*f,H=t.pstyle("outline-width").pfValue,j=t.pstyle("outline-color").value,ne=t.pstyle("outline-style").value,K=t.pstyle("outline-opacity").value*f,ae=t.pstyle("outline-offset").value,ue=t.pstyle("corner-radius").value;ue!=="auto"&&(ue=t.pstyle("corner-radius").pfValue);var fe=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;o.eleFillStyle(e,t,be)},oe=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;o.colorStrokeStyle(e,O[0],O[1],O[2],be)},U=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K;o.colorStrokeStyle(e,j[0],j[1],j[2],be)},Y=function(be,le,L,Z){var ie=o.nodePathCache=o.nodePathCache||[],se=q1(L==="polygon"?L+","+Z.join(","):L,""+le,""+be,""+ue),ce=ie[se],Te,pe=!1;return ce!=null?(Te=ce,pe=!0,c.pathCache=Te):(Te=new Path2D,ie[se]=c.pathCache=Te),{path:Te,cacheHit:pe}},_=t.pstyle("shape").strValue,F=t.pstyle("shape-polygon-points").pfValue;if(d){e.translate(h.x,h.y);var q=Y(s,l,_,F);v=q.path,y=q.cacheHit}var J=function(){if(!y){var be=h;d&&(be={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(v||e,be.x,be.y,s,l,ue,c)}d?e.fill(v):e.fill()},$=function(){for(var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=u.backgrounding,Z=0,ie=0;ie<w.length;ie++){var se=t.cy().style().getIndexedStyle(t,"background-image-containment","value",ie);if(le&&se==="over"||!le&&se==="inside"){Z++;continue}x[ie]&&w[ie].complete&&!w[ie].error&&(Z++,o.drawInscribedImage(e,w[ie],t,ie,be))}u.backgrounding=Z!==T,L!==u.backgrounding&&t.updateStyle(!1)},V=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasPie(t)&&(o.drawPie(e,t,le),be&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ue,c)))},X=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasStripe(t)&&(e.save(),d?e.clip(c.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ue,c),e.clip()),o.drawStripe(e,t,le),e.restore(),be&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ue,c)))},re=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,le=(E>0?E:-E)*be,L=E>0?0:255;E!==0&&(o.colorFillStyle(e,L,L,L,le),d?e.fill(v):e.fill())},ee=function(){if(A>0){if(e.lineWidth=A,e.lineCap=P,e.lineJoin=M,e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(z),e.lineDashOffset=W;break;case"solid":case"double":e.setLineDash([]);break}if(I!=="center"){if(e.save(),e.lineWidth*=2,I==="inside")d?e.clip(v):e.clip();else{var be=new Path2D;be.rect(-s/2-A,-l/2-A,s+2*A,l+2*A),be.addPath(v),e.clip(be,"evenodd")}d?e.stroke(v):e.stroke(),e.restore()}else d?e.stroke(v):e.stroke();if(R==="double"){e.lineWidth=A/3;var le=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(v):e.stroke(),e.globalCompositeOperation=le}e.setLineDash&&e.setLineDash([])}},te=function(){if(H>0){if(e.lineWidth=H,e.lineCap="butt",e.setLineDash)switch(ne){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var be=h;d&&(be={x:0,y:0});var le=o.getNodeShape(t),L=A;I==="inside"&&(L=0),I==="outside"&&(L*=2);var Z=(s+L+(H+ae))/s,ie=(l+L+(H+ae))/l,se=s*Z,ce=l*ie,Te=o.nodeShapes[le].points,pe;if(d){var De=Y(se,ce,le,Te);pe=De.path}if(le==="ellipse")o.drawEllipsePath(pe||e,be.x,be.y,se,ce);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(le)){var Ee=0,we=0,qe=0;le==="round-diamond"?Ee=(L+ae+H)*1.4:le==="round-heptagon"?(Ee=(L+ae+H)*1.075,qe=-(L/2+ae+H)/35):le==="round-hexagon"?Ee=(L+ae+H)*1.12:le==="round-pentagon"?(Ee=(L+ae+H)*1.13,qe=-(L/2+ae+H)/15):le==="round-tag"?(Ee=(L+ae+H)*1.12,we=(L/2+H+ae)*.07):le==="round-triangle"&&(Ee=(L+ae+H)*(Math.PI/2),qe=-(L+ae/2+H)/Math.PI),Ee!==0&&(Z=(s+Ee)/s,se=s*Z,["round-hexagon","round-tag"].includes(le)||(ie=(l+Ee)/l,ce=l*ie)),ue=ue==="auto"?Z1(se,ce):ue;for(var Ve=se/2,Be=ce/2,He=ue+(L+H+ae)/2,We=new Array(Te.length/2),yt=new Array(Te.length/2),ft=0;ft<Te.length/2;ft++)We[ft]={x:be.x+we+Ve*Te[ft*2],y:be.y+qe+Be*Te[ft*2+1]};var Ft,vt,wt,Qe,bt=We.length;for(vt=We[bt-1],Ft=0;Ft<bt;Ft++)wt=We[Ft%bt],Qe=We[(Ft+1)%bt],yt[Ft]=Lv(vt,wt,Qe,He),vt=wt,wt=Qe;o.drawRoundPolygonPath(pe||e,be.x+we,be.y+qe,s*Z,l*ie,Te,yt)}else if(["roundrectangle","round-rectangle"].includes(le))ue=ue==="auto"?ai(se,ce):ue,o.drawRoundRectanglePath(pe||e,be.x,be.y,se,ce,ue+(L+H+ae)/2);else if(["cutrectangle","cut-rectangle"].includes(le))ue=ue==="auto"?bv():ue,o.drawCutRectanglePath(pe||e,be.x,be.y,se,ce,null,ue+(L+H+ae)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(le))ue=ue==="auto"?ai(se,ce):ue,o.drawBottomRoundRectanglePath(pe||e,be.x,be.y,se,ce,ue+(L+H+ae)/2);else if(le==="barrel")o.drawBarrelPath(pe||e,be.x,be.y,se,ce);else if(le.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(le)){var Ir=(L+H+ae)/s;Te=nu(iu(Te,Ir)),o.drawPolygonPath(pe||e,be.x,be.y,s,l,Te)}else{var pt=(L+H+ae)/s;Te=nu(iu(Te,-pt)),o.drawPolygonPath(pe||e,be.x,be.y,s,l,Te)}if(d?e.stroke(pe):e.stroke(),ne==="double"){e.lineWidth=L/3;var Er=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(pe):e.stroke(),e.globalCompositeOperation=Er}e.setLineDash&&e.setLineDash([])}},de=function(){i&&o.drawNodeOverlay(e,t,h,s,l)},he=function(){i&&o.drawNodeUnderlay(e,t,h,s,l)},ve=function(){o.drawElementText(e,t,null,n)},ge=t.pstyle("ghost").value==="yes";if(ge){var Ce=t.pstyle("ghost-offset-x").pfValue,Pe=t.pstyle("ghost-offset-y").pfValue,ke=t.pstyle("ghost-opacity").value,ze=ke*f;e.translate(Ce,Pe),U(),te(),fe(ke*D),J(),$(ze,!0),oe(ke*N),ee(),V(E!==0||A!==0),X(E!==0||A!==0),$(ze,!1),re(ze),e.translate(-Ce,-Pe)}d&&e.translate(-h.x,-h.y),he(),d&&e.translate(h.x,h.y),U(),te(),fe(),J(),$(f,!0),oe(),ee(),V(E!==0||A!==0),X(E!==0||A!==0),$(f,!1),re(),d&&e.translate(-h.x,-h.y),ve(),de(),r&&e.translate(m.x1,m.y1)}};var nw=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,i,a,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(t,"-padding")).pfValue,u=n.pstyle("".concat(t,"-opacity")).value,c=n.pstyle("".concat(t,"-color")).value,h=n.pstyle("".concat(t,"-shape")).value,f=n.pstyle("".concat(t,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||o==null){var d=n.padding();a=n.width()+2*d,o=n.height()+2*d}s.colorFillStyle(r,c[0],c[1],c[2],u),s.nodeShapes[h].draw(r,i.x,i.y,a+l*2,o+l*2,f),r.fill()}}}};vi.drawNodeOverlay=nw("overlay");vi.drawNodeUnderlay=nw("underlay");vi.hasPie=function(e){return e=e[0],e._private.hasPie};vi.hasStripe=function(e){return e=e[0],e._private.hasStripe};vi.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=t.pstyle("pie-hole"),s=t.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,c=t.width(),h=t.height(),f=Math.min(c,h)/2,d,v=0,y=this.usePaths();if(y&&(l=0,u=0),a.units==="%"?f=f*a.pfValue:a.pfValue!==void 0&&(f=a.pfValue/2),o.units==="%"?d=f*o.pfValue:o.pfValue!==void 0&&(d=o.pfValue/2),!(d>=f))for(var p=1;p<=i.pieBackgroundN;p++){var m=t.pstyle("pie-"+p+"-background-size").value,g=t.pstyle("pie-"+p+"-background-color").value,b=t.pstyle("pie-"+p+"-background-opacity").value*r,x=m/100;x+v>1&&(x=1-v);var w=1.5*Math.PI+2*Math.PI*v;w+=s;var T=2*Math.PI*x,C=w+T;m===0||v>=1||v+x>1||(d===0?(e.beginPath(),e.moveTo(l,u),e.arc(l,u,f,w,C),e.closePath()):(e.beginPath(),e.arc(l,u,f,w,C),e.arc(l,u,d,C,w,!0),e.closePath()),this.colorFillStyle(e,g[0],g[1],g[2],b),e.fill(),v+=x)}};vi.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=n.x,o=n.y,s=t.width(),l=t.height(),u=0,c=this.usePaths();e.save();var h=t.pstyle("stripe-direction").value,f=t.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var d=s,v=l;f.units==="%"?(d=d*f.pfValue,v=v*f.pfValue):f.pfValue!==void 0&&(d=f.pfValue,v=f.pfValue),c&&(a=0,o=0),o-=d/2,a-=v/2;for(var y=1;y<=i.stripeBackgroundN;y++){var p=t.pstyle("stripe-"+y+"-background-size").value,m=t.pstyle("stripe-"+y+"-background-color").value,g=t.pstyle("stripe-"+y+"-background-opacity").value*r,b=p/100;b+u>1&&(b=1-u),!(p===0||u>=1||u+b>1)&&(e.beginPath(),e.rect(a,o+v*u,d,v*b),e.closePath(),this.colorFillStyle(e,m[0],m[1],m[2],g),e.fill(),u+=b)}e.restore()};var fr={},Wz=100;fr.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};fr.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<t.length;i++)if(n=t[i],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};fr.createGradientStyleFor=function(e,t,r,n,i){var a,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,l=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),h=r.midpoint(),f=Vi(u,h),d=Vi(c,h);a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(f,d))}else{var v=o?{x:0,y:0}:r.position(),y=r.paddedWidth(),p=r.paddedHeight();a=e.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(y,p))}else if(r.isEdge()){var m=r.sourceEndpoint(),g=r.targetEndpoint();a=e.createLinearGradient(m.x,m.y,g.x,g.y)}else{var b=o?{x:0,y:0}:r.position(),x=r.paddedWidth(),w=r.paddedHeight(),T=x/2,C=w/2,S=r.pstyle("background-gradient-direction").value;switch(S){case"to-bottom":a=e.createLinearGradient(b.x,b.y-C,b.x,b.y+C);break;case"to-top":a=e.createLinearGradient(b.x,b.y+C,b.x,b.y-C);break;case"to-left":a=e.createLinearGradient(b.x+T,b.y,b.x-T,b.y);break;case"to-right":a=e.createLinearGradient(b.x-T,b.y,b.x+T,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-T,b.y-C,b.x+T,b.y+C);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-T,b.y+C,b.x+T,b.y-C);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+T,b.y-C,b.x-T,b.y+C);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+T,b.y+C,b.x-T,b.y-C);break}}if(!a)return null;for(var k=l.length===s.length,B=s.length,E=0;E<B;E++)a.addColorStop(k?l[E]:E/(B-1),"rgba("+s[E][0]+","+s[E][1]+","+s[E][2]+","+i+")");return a};fr.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i};fr.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"};fr.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}};fr.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i};fr.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"};fr.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}};fr.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=i*o,u=a*o,c;if(!(l===t.canvasWidth&&u===t.canvasHeight)){t.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)c=r.canvases[f],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var f=0;f<t.BUFFER_COUNT;f++)c=r.bufferCanvases[f],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,o<=1&&(c=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=l*t.textureMult,c.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u,t.pixelRatio=o}};fr.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};fr.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};fr.render=function(e){var t=this;e=e||U1();var r=t.cy,n=e.forcedContext,i=e.drawAllLayers,a=e.drawOnlyNodeLayer,o=e.forcedZoom,s=e.forcedPan,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=t.data,c=u.canvasNeedsRedraw,h=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),f=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,d=t.motionBlurPxRatio,v=r.hasCompoundNodes(),y=t.hoverData.draggingEles,p=!!(t.hoverData.selecting||t.touchData.selecting);f=f&&!n&&t.motionBlurEnabled&&!p;var m=f;n||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),f&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(m=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!h&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var g=r.style(),b=r.zoom(),x=o!==void 0?o:b,w=r.pan(),T={x:w.x,y:w.y},C={zoom:b,pan:{x:w.x,y:w.y}},S=t.prevViewport,k=S===void 0||C.zoom!==S.zoom||C.pan.x!==S.pan.x||C.pan.y!==S.pan.y;!k&&!(y&&!v)&&(t.motionBlurPxRatio=1),s&&(T=s),x*=l,T.x*=l,T.y*=l;var B=t.getCachedZSortedEles();function E(oe,U,Y,_,F){var q=oe.globalCompositeOperation;oe.globalCompositeOperation="destination-out",t.colorFillStyle(oe,255,255,255,t.motionBlurTransparency),oe.fillRect(U,Y,_,F),oe.globalCompositeOperation=q}function A(oe,U){var Y,_,F,q;!t.clearingMotionBlur&&(oe===u.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||oe===u.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(Y={x:w.x*d,y:w.y*d},_=b*d,F=t.canvasWidth*d,q=t.canvasHeight*d):(Y=T,_=x,F=t.canvasWidth,q=t.canvasHeight),oe.setTransform(1,0,0,1,0,0),U==="motionBlur"?E(oe,0,0,F,q):!n&&(U===void 0||U)&&oe.clearRect(0,0,F,q),i||(oe.translate(Y.x,Y.y),oe.scale(_,_)),s&&oe.translate(s.x,s.y),o&&oe.scale(o,o)}if(h||(t.textureDrawLastFrame=!1),h){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var D=t.data.bufferContexts[t.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult});var C=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var O=u.contexts[t.NODE],R=t.textureCache.texture,C=t.textureCache.viewport;O.setTransform(1,0,0,1,0,0),f?E(O,0,0,C.width,C.height):O.clearRect(0,0,C.width,C.height);var M=g.core("outside-texture-bg-color").value,P=g.core("outside-texture-bg-opacity").value;t.colorFillStyle(O,M[0],M[1],M[2],P),O.fillRect(0,0,C.width,C.height);var b=r.zoom();A(O,!1),O.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l),O.drawImage(R,C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l)}else t.textureOnViewport&&!n&&(t.textureCache=null);var I=r.extent(),z=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),W=t.hideEdgesOnViewport&&z,N=[];if(N[t.NODE]=!c[t.NODE]&&f&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,N[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),N[t.DRAG]=!c[t.DRAG]&&f&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,N[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||i||a||N[t.NODE]){var H=f&&!N[t.NODE]&&d!==1,O=n||(H?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:u.contexts[t.NODE]),j=f&&!H?"motionBlur":void 0;A(O,j),W?t.drawCachedNodes(O,B.nondrag,l,I):t.drawLayeredElements(O,B.nondrag,l,I),t.debug&&t.drawDebugPoints(O,B.nondrag),!i&&!f&&(c[t.NODE]=!1)}if(!a&&(c[t.DRAG]||i||N[t.DRAG])){var H=f&&!N[t.DRAG]&&d!==1,O=n||(H?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:u.contexts[t.DRAG]);A(O,f&&!H?"motionBlur":void 0),W?t.drawCachedNodes(O,B.drag,l,I):t.drawCachedElements(O,B.drag,l,I),t.debug&&t.drawDebugPoints(O,B.drag),!i&&!f&&(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,A),f&&d!==1){var ne=u.contexts[t.NODE],K=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],ae=u.contexts[t.DRAG],ue=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],fe=function(U,Y,_){U.setTransform(1,0,0,1,0,0),_||!m?U.clearRect(0,0,t.canvasWidth,t.canvasHeight):E(U,0,0,t.canvasWidth,t.canvasHeight);var F=d;U.drawImage(Y,0,0,t.canvasWidth*F,t.canvasHeight*F,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||N[t.NODE])&&(fe(ne,K,N[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||N[t.DRAG])&&(fe(ae,ue,N[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=C,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),f&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!h,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},Wz)),n||r.emit("render")};var fo;fr.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,i=r.data,a=n.style(),o=e.drawOnlyNodeLayer,s=e.drawAllLayers,l=i.canvasNeedsRedraw,u=e.forcedContext;if(r.showFps||!o&&l[r.SELECT_BOX]&&!s){var c=u||i.contexts[r.SELECT_BOX];if(t(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),f=a.core("selection-box-border-width").value/h;c.lineWidth=f,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),f>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),d=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,a.core("active-bg-size").pfValue/h,0,2*Math.PI),c.fill()}var v=r.lastRedrawTime;if(r.showFps&&v){v=Math.round(v);var y=Math.round(1e3/v),p="1 frame = "+v+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!fo){var m=c.measureText(p);fo=m.actualBoundingBoxAscent}c.fillText(p,0,fo);var g=60;c.strokeRect(0,fo+10,250,20),c.fillRect(0,fo+10,250*Math.min(y/g,1),20)}s||(l[r.SELECT_BOX]=!1)}};function Ky(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function Uz(e,t,r){var n=Ky(e,e.VERTEX_SHADER,t),i=Ky(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function Gz(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function Mv(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function Yz(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function Kz(e,t,r,n,i){var a=n*r+t.x,o=i*r+t.y;return o=Math.round(e.canvasHeight-o),[a,o]}function jz(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function Xz(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function wi(e,t,r){var n=e[0]/255,i=e[1]/255,a=e[2]/255,o=t,s=r||new Array(4);return s[0]=n*o,s[1]=i*o,s[2]=a*o,s[3]=o,s}function oa(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function Zz(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function Qz(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function iw(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function aw(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function Jz(e,t,r,n,i,a){switch(t){case e.FLOAT:return new Float32Array(r.buffer,a*n,i);case e.INT:return new Int32Array(r.buffer,a*n,i)}}function e$(e,t,r,n){var i=iw(e,t),a=_t(i,2),o=a[0],s=a[1],l=aw(e,s,n),u=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),s===e.FLOAT?e.vertexAttribPointer(r,o,s,!1,0,0):s===e.INT&&e.vertexAttribIPointer(r,o,s,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),u}function Zr(e,t,r,n){var i=iw(e,r),a=_t(i,3),o=a[0],s=a[1],l=a[2],u=aw(e,s,t*o),c=o*l,h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t*c,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),s===e.FLOAT?e.vertexAttribPointer(n,o,s,!1,c,0):s===e.INT&&e.vertexAttribIPointer(n,o,s,c,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var f=new Array(t),d=0;d<t;d++)f[d]=Jz(e,s,u,c,o,d);return h.dataArray=u,h.stride=c,h.size=o,h.getView=function(v){return f[v]},h.setPoint=function(v,y,p){var m=f[v];m[0]=y,m[1]=p},h.bufferSubData=function(v){e.bindBuffer(e.ARRAY_BUFFER,h),v?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,v*o):e.bufferSubData(e.ARRAY_BUFFER,0,u)},h}function t$(e,t,r){for(var n=9,i=new Float32Array(t*n),a=new Array(t),o=0;o<t;o++){var s=o*n*4;a[o]=new Float32Array(i.buffer,s,n)}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,i.byteLength,e.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,3,e.FLOAT,!1,36,u*12),e.vertexAttribDivisor(c,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),l.getMatrixView=function(h){return a[h]},l.setData=function(h,f){a[f].set(h,0)},l.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferSubData(e.ARRAY_BUFFER,0,i)},l}function r$(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,i){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,i,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var jy=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function rf(){var e=new jy(9);return jy!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Xy(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function n$(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1],v=r[2],y=r[3],p=r[4],m=r[5],g=r[6],b=r[7],x=r[8];return e[0]=f*n+d*o+v*u,e[1]=f*i+d*s+v*c,e[2]=f*a+d*l+v*h,e[3]=y*n+p*o+m*u,e[4]=y*i+p*s+m*c,e[5]=y*a+p*l+m*h,e[6]=g*n+b*o+x*u,e[7]=g*i+b*s+x*c,e[8]=g*a+b*l+x*h,e}function Tl(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=f*n+d*o+u,e[7]=f*i+d*s+c,e[8]=f*a+d*l+h,e}function Zy(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=Math.sin(r),d=Math.cos(r);return e[0]=d*n+f*o,e[1]=d*i+f*s,e[2]=d*a+f*l,e[3]=d*o-f*n,e[4]=d*s-f*i,e[5]=d*l-f*a,e[6]=u,e[7]=c,e[8]=h,e}function ad(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function i$(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var a$=(function(){function e(t,r,n,i){hi(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(t,r,r),this.scratch=i(t,r,this.texHeight,"scratch")}return fi(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,a=this.texHeight,o=this.texSize,s=a/i,l=n*s,u=i*s;return l>o&&(s=o/n,l=n*s,u=i*s),{scale:s,texW:l,texH:u}}},{key:"draw",value:function(r,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,h=u.texW,f=u.texH,d=function(b,x){if(i&&x){var w=x.context,T=b.x,C=b.row,S=T,k=l*C;w.save(),w.translate(S,k),w.scale(c,c),i(w,n),w.restore()}},v=[null,null],y=function(){d(a.freePointer,a.canvas),v[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:h,h:f},v[1]={x:a.freePointer.x+h,y:a.freePointer.row*l,w:0,h:f},a.freePointer.x+=h,a.freePointer.x==o&&(a.freePointer.x=0,a.freePointer.row++)},p=function(){var b=a.scratch,x=a.canvas;b.clear(),d({x:0,row:0},b);var w=o-a.freePointer.x,T=h-w,C=l;{var S=a.freePointer.x,k=a.freePointer.row*l,B=w;x.context.drawImage(b,0,0,B,C,S,k,B,C),v[0]={x:S,y:k,w:B,h:f}}{var E=w,A=(a.freePointer.row+1)*l,D=T;x&&x.context.drawImage(b,E,0,D,C,0,A,D,C),v[1]={x:0,y:A,w:D,h:f}}a.freePointer.x=T,a.freePointer.row++},m=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+h<=o)y();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(m(),y()):this.enableWrapping?p():(m(),y())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(r),o=a.texW;return this.freePointer.x+o>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=Qz(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),o$=(function(){function e(t,r,n,i){hi(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return fi(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new a$(r,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,o=Math.floor(n/i);this.scratch=a(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var a=this.styleKeyToAtlas.get(r);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(r,n,i),this.styleKeyToAtlas.set(r,a)),a}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,o=null,s=br(this.atlases),l;try{var u=function(){var h=l.value,f=h.getKeys(),d=s$(n,f);if(d.size===0)return i.push(h),f.forEach(function(w){return a.set(w,h)}),1;o||(o=r._createAtlas(),i.push(o));var v=br(f),y;try{for(v.s();!(y=v.n()).done;){var p=y.value;if(!d.has(p)){var m=h.getOffsets(p),g=_t(m,2),b=g[0],x=g[1];o.canFit({w:b.w+x.w,h:b.h})||(o.lock(),o=r._createAtlas(),i.push(o)),h.canvas&&(r._copyTextureToNewAtlas(p,h,o),a.set(p,o))}}}catch(w){v.e(w)}finally{v.f()}h.dispose()};for(s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var a=n.getOffsets(r),o=_t(a,2),s=o[0],l=o[1];if(l.w===0)i.draw(r,s,function(f){f.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,s.w,0,l.w,l.h);var c=s.w+l.w,h=s.h;i.draw(r,{w:c,h},function(f){f.drawImage(u,0,0,c,h,0,0,c,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function s$(e,t){return e.intersection?e.intersection(t):new Set(Jl(e).filter(function(r){return t.has(r)}))}var l$=(function(){function e(t,r){hi(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return fi(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,a=i.webglTexSize,o=i.createTextureCanvas,s=n.texRows,l=this._cacheScratchCanvas(o),u=new o$(this.r,a,s,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),o=Ne({type:r,atlasCollection:a},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,a=null;return function(o,s,l,u){return u?((!a||s!=n||l!=i)&&(n=s,i=l,a=r(o,s,l)),a):r(o,s,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.forceRedraw,o=a===void 0?!1:a,s=i.filterEle,l=s===void 0?function(){return!0}:s,u=i.filterType,c=u===void 0?function(){return!0}:u,h=!1,f=!1,d=br(r),v;try{for(d.s();!(v=d.n()).done;){var y=v.value;if(l(y)){var p=br(this.renderTypes.values()),m;try{var g=function(){var x=m.value,w=x.type;if(c(w)){var T=n.collections.get(x.collection),C=x.getKey(y),S=Array.isArray(C)?C:[C];if(o)S.forEach(function(A){return T.markKeyForGC(A)}),f=!0;else{var k=x.getID?x.getID(y):y.id(),B=n._key(w,k),E=n.typeAndIdToKey.get(B);E!==void 0&&!Xz(S,E)&&(h=!0,n.typeAndIdToKey.delete(B),E.forEach(function(A){return T.markKeyForGC(A)}))}}};for(p.s();!(m=p.n()).done;)g()}catch(b){p.e(b)}finally{p.f()}}}}catch(b){d.e(b)}finally{d.f()}return f&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var r=br(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(a){r.e(a)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,a){var o=this.renderTypes.get(n),s=this.collections.get(o.collection),l=!1,u=s.draw(a,i,function(f){o.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,i.w,i.h),f.clip(),o.drawElement(f,r,i,!0,!0),f.restore()):o.drawElement(f,r,i,!0,!0),l=!0});if(l){var c=o.getID?o.getID(r):r.id(),h=this._key(n,c);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(a):this.typeAndIdToKey.set(h,[a])}return u}},{key:"getAtlasInfo",value:function(r,n){var i=this,a=this.renderTypes.get(n),o=a.getKey(r),s=Array.isArray(o)?o:[o];return s.map(function(l){var u=a.getBoundingBox(r,l),c=i.getOrCreateAtlas(r,n,u,l),h=c.getOffsets(l),f=_t(h,2),d=f[0],v=f[1];return{atlas:c,tex:d,tex1:d,tex2:v,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=br(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=_t(i.value,2),o=a[0],s=a[1],l=s.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:o,keyCount:u,atlasCount:c})}}catch(h){n.e(h)}finally{n.f()}return r}}])})(),u$=(function(){function e(t){hi(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return fi(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),c$=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,h$=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,f$=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,d$=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,qo={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},hu={IGNORE:1,USE_BB:2},nf=0,Qy=1,Jy=2,af=3,sa=4,Js=5,vo=6,po=7,v$=(function(){function e(t,r,n){hi(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=Gz,this.atlasManager=new l$(t,n),this.batchManager=new u$(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(qo.SCREEN),this.pickingProgram=this._createShaderProgram(qo.PICKING),this.vao=this._createVAO()}return fi(e,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(r,{filterType:function(s){return s===i},forceRedraw:!0}):a.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(nf,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(sa," || aVertType == ").concat(po,` 
             || aVertType == `).concat(Js," || aVertType == ").concat(vo,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Qy,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(Jy,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(af,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),a=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(a.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(c$,`
      `).concat(h$,`
      `).concat(f$,`
      `).concat(d$,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(nf,`) {
          // look up the texel from the texture unit
          `).concat(a.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(af,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(sa,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(sa," || vVertType == ").concat(po,` 
          || vVertType == `).concat(Js," || vVertType == ").concat(vo,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(sa,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(po,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(po,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=Uz(n,i,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aTransform=n.getAttribLocation(s,"aTransform"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex=n.getAttribLocation(s,"aTex"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aColor=n.getAttribLocation(s,"aColor"),s.aCornerRadius=n.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=n.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uZoom=n.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(l)));return s}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,a=this.program,o=i.createVertexArray();return i.bindVertexArray(o),e$(i,"vec2",a.aPosition,r),this.transformBuffer=t$(i,n,a.aTransform),this.indexBuffer=Zr(i,n,"vec4",a.aIndex),this.vertTypeBuffer=Zr(i,n,"int",a.aVertType),this.atlasIdBuffer=Zr(i,n,"int",a.aAtlasId),this.texBuffer=Zr(i,n,"vec4",a.aTex),this.pointAPointBBuffer=Zr(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=Zr(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=Zr(i,n,"vec2",a.aLineWidth),this.colorBuffer=Zr(i,n,"vec4",a.aColor),this.cornerRadiusBuffer=Zr(i,n,"vec4",a.aCornerRadius),this.borderColorBuffer=Zr(i,n,"vec4",a.aBorderColor),i.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Kn(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qo.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var a=this.atlasManager,o=this.batchManager,s=a.getRenderTypeOpts(i);if(this._isVisible(r,s)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&s.getTexPickingMode){var l=s.getTexPickingMode(r);if(l===hu.IGNORE)return;if(l==hu.USE_BB){this.drawPickingRectangle(r,n,i);return}}var u=a.getAtlasInfo(r,i),c=br(u),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,d=f.atlas,v=f.tex1,y=f.tex2;o.canAddToCurrentBatch(d)||this.endBatch();for(var p=o.getAtlasIndexForBatch(d),m=0,g=[[v,!0],[y,!1]];m<g.length;m++){var b=_t(g[m],2),x=b[0],w=b[1];if(x.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=nf;var C=this.indexBuffer.getView(T);oa(n,C);var S=this.atlasIdBuffer.getView(T);S[0]=p;var k=this.texBuffer.getView(T);k[0]=x.x,k[1]=x.y,k[2]=x.w,k[3]=x.h;var B=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(r,B,s,f,w),this.instanceCount++,w||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(E){c.e(E)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=r.pstyle(i.shapeProps.padding).pfValue),a){var l=a.bb,u=a.tex1,c=a.tex2,h=u.w/(u.w+c.w);o||(h=1-h);var f=this._getAdjustedBB(l,s,o,h);this._applyTransformMatrix(n,f,i,r)}else{var d=i.getBoundingBox(r),v=this._getAdjustedBB(d,s,!0,1);this._applyTransformMatrix(n,v,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,a){var o,s;Xy(r);var l=i.getRotation?i.getRotation(a):0;if(l!==0){var u=i.getRotationPoint(a),c=u.x,h=u.y;Tl(r,r,[c,h]),Zy(r,r,l);var f=i.getRotationOffset(a);o=f.x+(n.xOffset||0),s=f.y+(n.yOffset||0)}else o=n.x1,s=n.y1;Tl(r,r,[o,s]),ad(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,a){var o=r.x1,s=r.y1,l=r.w,u=r.h,c=r.yOffset;n&&(o-=n,s-=n,l+=2*n,u+=2*n);var h=0,f=l*a;return i&&a<1?l=f:!i&&a<1&&(h=l-f,o+=h,l=f),{x1:o,y1:s,w:l,h:u,xOffset:h,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,i){var a=this.atlasManager.getRenderTypeOpts(i),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=sa;var s=this.indexBuffer.getView(o);oa(n,s);var l=this.colorBuffer.getView(o);wi([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,u,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var a=this.simpleShapeOptions.get(i);if(this._isVisible(r,a)){var o=a.shapeProps,s=this._getVertTypeForShape(r,o.shape);if(s===void 0||a.isSimple&&!a.isSimple(r)){this.drawTexture(r,n,i);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=s,s===Js||s===vo){var u=a.getBoundingBox(r),c=this._getCornerRadius(r,o.radius,u),h=this.cornerRadiusBuffer.getView(l);h[0]=c,h[1]=c,h[2]=c,h[3]=c,s===vo&&(h[0]=0,h[2]=0)}var f=this.indexBuffer.getView(l);oa(n,f);var d=r.pstyle(o.color).value,v=r.pstyle(o.opacity).value,y=this.colorBuffer.getView(l);wi(d,v,y);var p=this.lineWidthBuffer.getView(l);if(p[0]=0,p[1]=0,o.border){var m=r.pstyle("border-width").value;if(m>0){var g=r.pstyle("border-color").value,b=r.pstyle("border-opacity").value,x=this.borderColorBuffer.getView(l);wi(g,b,x);var w=r.pstyle("border-position").value;if(w==="inside")p[0]=0,p[1]=-m;else if(w==="outside")p[0]=m,p[1]=0;else{var T=m/2;p[0]=T,p[1]=-T}}}var C=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,C,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return sa;case"ellipse":return po;case"roundrectangle":case"round-rectangle":return Js;case"bottom-round-rectangle":return vo;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var a=i.w,o=i.h;if(r.pstyle(n).value==="auto")return ai(a,o);var s=r.pstyle(n).pfValue,l=a/2,u=o/2;return Math.min(s,u,l)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var a=r._private.rscratch,o,s,l;if(i==="source"?(o=a.arrowStartX,s=a.arrowStartY,l=a.srcArrowAngle):(o=a.arrowEndX,s=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(l)||l==null)){var u=r.pstyle(i+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(i+"-arrow-color").value,h=r.pstyle("opacity").value,f=r.pstyle("line-opacity").value,d=h*f,v=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,p=this.r.getArrowWidth(v,y),m=this.instanceCount,g=this.transformBuffer.getMatrixView(m);Xy(g),Tl(g,g,[o,s]),ad(g,g,[p,p]),Zy(g,g,l),this.vertTypeBuffer.getView(m)[0]=af;var b=this.indexBuffer.getView(m);oa(n,b);var x=this.colorBuffer.getView(m);wi(c,d,x),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var a=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,s=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=a*o;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=Qy;var h=this.indexBuffer.getView(c);oa(n,h);var f=this.colorBuffer.getView(c);wi(l,u,f);var d=this.lineWidthBuffer.getView(c);d[0]=s;var v=this.pointAPointBBuffer.getView(c);v[0]=i[0],v[1]=i[1],v[2]=i[2],v[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<i.length-2;y+=2){var p=this.instanceCount;this.vertTypeBuffer.getView(p)[0]=Jy;var m=this.indexBuffer.getView(p);oa(n,m);var g=this.colorBuffer.getView(p);wi(l,u,g);var b=this.lineWidthBuffer.getView(p);b[0]=s;var x=i[y-2],w=i[y-1],T=i[y],C=i[y+1],S=i[y+2],k=i[y+3],B=i[y+4],E=i[y+5];y==0&&(x=2*T-S+.001,w=2*C-k+.001),y==i.length-4&&(B=2*S-T+.001,E=2*k-C+.001);var A=this.pointAPointBBuffer.getView(p);A[0]=x,A[1]=w,A[2]=T,A[3]=C;var D=this.pointCPointDBuffer.getView(p);D[0]=S,D[1]=k,D[2]=B,D[3]=E,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var i=n.allpts;if(i.length==4)return i;var a=this._getNumSegments(r);return this._getCurveSegmentPoints(i,a)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=r[0],i[1]=r[1];else if(a==n)i[a*2]=r[r.length-2],i[a*2+1]=r[r.length-1];else{var o=a/n;this._setCurvePoint(r,o,i,a*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,a){if(r.length<=2)i[a]=r[0],i[a+1]=r[1];else{for(var o=Array(r.length-2),s=0;s<o.length;s+=2){var l=(1-n)*r[s]+n*r[s+2],u=(1-n)*r[s+1]+n*r[s+3];o[s]=l,o[s+1]=u}return this._setCurvePoint(o,n,i,a)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var s=br(this.buffers),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.bufferSubData(a)}}catch(v){s.e(v)}finally{s.f()}for(var c=this.batchManager.getAtlases(),h=0;h<c.length;h++)c[h].bufferIfNeeded(r);for(var f=0;f<c.length;f++)r.activeTexture(r.TEXTURE0+f),r.bindTexture(r.TEXTURE_2D,c[f].texture),r.uniform1i(o.uTextures[f],f);r.uniform1f(o.uZoom,Yz(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var d=wi(this.bgColor,1);r.uniform4fv(o.uBGColor,d),r.drawArraysInstanced(r.TRIANGLES,0,i,a),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,s){return o+s.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(o,s){return o+s.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])})(),ow={};ow.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=p$(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=r$(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new v$(r,n,e);var i=function(h){return function(f){return r.getTextAngle(f,h)}},a=function(h){return function(f){var d=f.pstyle(h);return d&&d.value}},o=function(h){return function(f){return f.pstyle("".concat(h,"-opacity")).value>0}},s=function(h){var f=h.pstyle("text-events").strValue==="yes";return f?hu.USE_BB:hu.IGNORE},l=function(h){var f=h.position(),d=f.x,v=f.y,y=h.outerWidth(),p=h.outerHeight();return{w:y,h:p,x1:d-y/2,y1:v-p/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:jz,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:of(t.getLabelKey,null),getBoundingBox:sf(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:of(t.getSourceLabelKey,"source"),getBoundingBox:sf(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:of(t.getTargetLabelKey,"target"),getBoundingBox:sf(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var u=_s(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,h){var f=!1;h&&h.length>0&&(f|=r.drawing.invalidate(h)),f&&u()}),g$(r)};function p$(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return F1(r)}function sw(e,t){var r=e._private.rscratch;return pr(r,"labelWrapCachedLines",t)||[]}var of=function(t,r){return function(n){var i=t(n),a=sw(n,r);return a.length>1?a.map(function(o,s){return"".concat(i,"_").concat(s)}):i}},sf=function(t,r){return function(n,i){var a=t(n);if(typeof i=="string"){var o=i.indexOf("_");if(o>0){var s=Number(i.substring(o+1)),l=sw(n,r),u=a.h/l.length,c=u*s,h=a.y1+c;return{x1:a.x1,w:a.w,y1:h,h:u,yOffset:c}}}return a}};function g$(e){{var t=e.render;e.render=function(a){a=a||{};var o=e.cy;e.webgl&&(o.zoom()>JC?(m$(e),t.call(e,a)):(y$(e),uw(e,a,qo.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(a){r.call(e,a),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(a,o,s,l){return _$(e,a,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var i=e.notify;e.notify=function(a,o){i.call(e,a,o),a==="viewport"||a==="bounds"?e.pickingFrameBuffer.needsDraw=!0:a==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function m$(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function y$(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function b$(e){var t=e.canvasWidth,r=e.canvasHeight,n=Mv(e),i=n.pan,a=n.zoom,o=rf();Tl(o,o,[i.x,i.y]),ad(o,o,[a,a]);var s=rf();i$(s,t,r);var l=rf();return n$(l,s,o),l}function lw(e,t){var r=e.canvasWidth,n=e.canvasHeight,i=Mv(e),a=i.pan,o=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(a.x,a.y),t.scale(o,o)}function x$(e,t){e.drawSelectionRectangle(t,function(r){return lw(e,r)})}function C$(e){var t=e.data.contexts[e.NODE];t.save(),lw(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function w$(e){var t=function(i,a,o){for(var s=i.atlasManager.getAtlasCollection(a),l=e.data.contexts[e.NODE],u=s.atlases,c=0;c<u.length;c++){var h=u[c],f=h.canvas;if(f){var d=f.width,v=f.height,y=d*c,p=f.height*o,m=.4;l.save(),l.scale(m,m),l.drawImage(f,y,p),l.strokeStyle="black",l.rect(y,p,d,v),l.stroke(),l.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function T$(e,t,r,n,i){var a,o,s,l,u=Mv(e),c=u.pan,h=u.zoom;{var f=Kz(e,c,h,t,r),d=_t(f,2),v=d[0],y=d[1],p=6;a=v-p/2,o=y-p/2,s=p,l=p}if(s===0||l===0)return[];var m=e.data.contexts[e.WEBGL];m.bindFramebuffer(m.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(m.viewport(0,0,m.canvas.width,m.canvas.height),uw(e,null,qo.PICKING),e.pickingFrameBuffer.needsDraw=!1);var g=s*l,b=new Uint8Array(g*4);m.readPixels(a,o,s,l,m.RGBA,m.UNSIGNED_BYTE,b),m.bindFramebuffer(m.FRAMEBUFFER,null);for(var x=new Set,w=0;w<g;w++){var T=b.slice(w*4,w*4+4),C=Zz(T)-1;C>=0&&x.add(C)}return x}function _$(e,t,r){var n=T$(e,t,r),i=e.getCachedZSortedEles(),a,o,s=br(n),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=i[u];if(!a&&c.isNode()&&(a=c),!o&&c.isEdge()&&(o=c),a&&o)break}}catch(h){s.e(h)}finally{s.f()}return[a,o].filter(Boolean)}function lf(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function uw(e,t,r){var n;e.webglDebug&&(n=performance.now());var i=e.drawing,a=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&x$(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=b$(e),l=e.getCachedZSortedEles();if(a=l.length,i.startFrame(s,r),r.screen){for(var u=0;u<l.nondrag.length;u++)lf(e,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)lf(e,c,l.drag[c])}else if(r.picking)for(var h=0;h<l.length;h++)lf(e,h,l[h]);i.endFrame(),r.screen&&e.webglDebugShowAtlases&&(C$(e),w$(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var f=performance.now(),d=!1,v=Math.ceil(f-n),y=i.getDebugInfo(),p=["".concat(a," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(r.name,") - time ").concat(v,"ms, ").concat(p));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(v,"ms")),console.log("Totals:"),console.log("  ".concat(p)),console.log("Texture Atlases Used:");var m=y.atlasInfo,g=br(m),b;try{for(g.s();!(b=g.n()).done;){var x=b.value;console.log("  ".concat(x.type,": ").concat(x.keyCount," keys, ").concat(x.atlasCount," atlases"))}}catch(w){g.e(w)}finally{g.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,i.gc())}var pi={};pi.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[l*2],r+s*a[l*2+1]);e.closePath()};pi.drawRoundPolygonPath=function(e,t,r,n,i,a,o){o.forEach(function(s){return WC(e,s)}),e.closePath()};pi.drawRoundRectanglePath=function(e,t,r,n,i,a){var o=n/2,s=i/2,l=a==="auto"?ai(n,i):Math.min(a,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,l),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.arcTo(t-o,r-s,t,r-s,l),e.lineTo(t,r-s),e.closePath()};pi.drawBottomRoundRectanglePath=function(e,t,r,n,i,a){var o=n/2,s=i/2,l=a==="auto"?ai(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()};pi.drawCutRectanglePath=function(e,t,r,n,i,a,o){var s=n/2,l=i/2,u=o==="auto"?bv():o;e.beginPath&&e.beginPath(),e.moveTo(t-s+u,r-l),e.lineTo(t+s-u,r-l),e.lineTo(t+s,r-l+u),e.lineTo(t+s,r+l-u),e.lineTo(t+s-u,r+l),e.lineTo(t-s+u,r+l),e.lineTo(t-s,r+l-u),e.lineTo(t-s,r-l+u),e.closePath()};pi.drawBarrelPath=function(e,t,r,n,i){var a=n/2,o=i/2,s=t-a,l=t+a,u=r-o,c=r+o,h=Uf(n,i),f=h.widthOffset,d=h.heightOffset,v=h.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(s,u+d),e.lineTo(s,c-d),e.quadraticCurveTo(s+v,c,s+f,c),e.lineTo(l-f,c),e.quadraticCurveTo(l-v,c,l,c-d),e.lineTo(l,u+d),e.quadraticCurveTo(l-v,u,l-f,u),e.lineTo(s+f,u),e.quadraticCurveTo(s+v,u,s,u+d),e.closePath()};var e0=Math.sin(0),t0=Math.cos(0),od={},sd={},cw=Math.PI/40;for(var la=0*Math.PI;la<2*Math.PI;la+=cw)od[la]=Math.sin(la),sd[la]=Math.cos(la);pi.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=cw)a=t-s*od[u]*e0+s*sd[u]*t0,o=r+l*sd[u]*e0+l*od[u]*t0,u===0?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var Ls={};Ls.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};Ls.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):i[2],o=e.full?Math.ceil(n.h):i[3],s=ye(e.maxWidth)||ye(e.maxHeight),l=this.getPixelRatio(),u=1;if(e.scale!==void 0)a*=e.scale,o*=e.scale,u=e.scale;else if(s){var c=1/0,h=1/0;ye(e.maxWidth)&&(c=u*e.maxWidth/a),ye(e.maxHeight)&&(h=u*e.maxHeight/o),u=Math.min(c,h),a*=u,o*=u}s||(a*=l,o*=l,u*=l);var f=document.createElement("canvas");f.width=a,f.height=o,f.style.width=a+"px",f.style.height=o+"px";var d=f.getContext("2d");if(a>0&&o>0){d.clearRect(0,0,a,o),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*u,-n.y1*u),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(n.x1*u,n.y1*u);else{var y=t.pan(),p={x:y.x*u,y:y.y*u};u*=t.zoom(),d.translate(p.x,p.y),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(-p.x,-p.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,a,o),d.fill())}return f};function S$(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}function r0(e){var t=e.indexOf(",");return e.substr(t+1)}function hw(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new Ya(function(i,a){try{t.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){a(o)}});case"blob":return S$(r0(n()),r);case"base64":return r0(n());case"base64uri":default:return n()}}Ls.png=function(e){return hw(e,this.bufferCanvasImage(e),"image/png")};Ls.jpg=function(e){return hw(e,this.bufferCanvasImage(e),"image/jpeg")};var fw={};fw.nodeShapeImpl=function(e,t,r,n,i,a,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,s);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}};var E$=dw,Ge=dw.prototype;Ge.CANVAS_LAYERS=3;Ge.SELECT_BOX=0;Ge.DRAG=1;Ge.NODE=2;Ge.WEBGL=3;Ge.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ge.BUFFER_COUNT=3;Ge.TEXTURE_BUFFER=0;Ge.MOTIONBLUR_BUFFER_NODE=1;Ge.MOTIONBLUR_BUFFER_DRAG=2;function dw(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(Ge.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Ge.CANVAS_LAYERS),contexts:new Array(Ge.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ge.CANVAS_LAYERS),bufferCanvases:new Array(Ge.BUFFER_COUNT),bufferContexts:new Array(Ge.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};xI()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Ge.CANVAS_LAYERS;u++){var c=t.data.canvases[u]=n.createElement("canvas"),h=Ge.CANVAS_TYPES[u];t.data.contexts[u]=c.getContext(h),t.data.contexts[u]||dt("Could not create canvas of type "+h),Object.keys(l).forEach(function(oe){c.style[oe]=l[oe]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(Ge.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ge.NODE].setAttribute("data-id","layer"+Ge.NODE+"-node"),t.data.canvases[Ge.SELECT_BOX].setAttribute("data-id","layer"+Ge.SELECT_BOX+"-selectbox"),t.data.canvases[Ge.DRAG].setAttribute("data-id","layer"+Ge.DRAG+"-drag"),t.data.canvases[Ge.WEBGL]&&t.data.canvases[Ge.WEBGL].setAttribute("data-id","layer"+Ge.WEBGL+"-webgl");for(var u=0;u<Ge.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=n.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var f=hr(),d=function(U){return{x:(U.x1+U.x2)/2,y:(U.y1+U.y2)/2}},v=function(U){return{x:-U.w/2,y:-U.h/2}},y=function(U){var Y=U[0]._private,_=Y.oldBackgroundTimestamp===Y.backgroundTimestamp;return!_},p=function(U){return U[0]._private.nodeKey},m=function(U){return U[0]._private.labelStyleKey},g=function(U){return U[0]._private.sourceLabelStyleKey},b=function(U){return U[0]._private.targetLabelStyleKey},x=function(U,Y,_,F,q){return t.drawElement(U,Y,_,!1,!1,q)},w=function(U,Y,_,F,q){return t.drawElementText(U,Y,_,F,"main",q)},T=function(U,Y,_,F,q){return t.drawElementText(U,Y,_,F,"source",q)},C=function(U,Y,_,F,q){return t.drawElementText(U,Y,_,F,"target",q)},S=function(U){return U.boundingBox(),U[0]._private.bodyBounds},k=function(U){return U.boundingBox(),U[0]._private.labelBounds.main||f},B=function(U){return U.boundingBox(),U[0]._private.labelBounds.source||f},E=function(U){return U.boundingBox(),U[0]._private.labelBounds.target||f},A=function(U,Y){return Y},D=function(U){return d(S(U))},O=function(U,Y,_){var F=U?U+"-":"";return{x:Y.x+_.pstyle(F+"text-margin-x").pfValue,y:Y.y+_.pstyle(F+"text-margin-y").pfValue}},R=function(U,Y,_){var F=U[0]._private.rscratch;return{x:F[Y],y:F[_]}},M=function(U){return O("",R(U,"labelX","labelY"),U)},P=function(U){return O("source",R(U,"sourceLabelX","sourceLabelY"),U)},I=function(U){return O("target",R(U,"targetLabelX","targetLabelY"),U)},z=function(U){return v(S(U))},W=function(U){return v(B(U))},N=function(U){return v(E(U))},H=function(U){var Y=k(U),_=v(k(U));if(U.isNode()){switch(U.pstyle("text-halign").value){case"left":_.x=-Y.w-(Y.leftPad||0);break;case"right":_.x=-(Y.rightPad||0);break}switch(U.pstyle("text-valign").value){case"top":_.y=-Y.h-(Y.topPad||0);break;case"bottom":_.y=-(Y.botPad||0);break}}return _},j=t.data.eleTxrCache=new To(t,{getKey:p,doesEleInvalidateKey:y,drawElement:x,getBoundingBox:S,getRotationPoint:D,getRotationOffset:z,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ne=t.data.lblTxrCache=new To(t,{getKey:m,drawElement:w,getBoundingBox:k,getRotationPoint:M,getRotationOffset:H,isVisible:A}),K=t.data.slbTxrCache=new To(t,{getKey:g,drawElement:T,getBoundingBox:B,getRotationPoint:P,getRotationOffset:W,isVisible:A}),ae=t.data.tlbTxrCache=new To(t,{getKey:b,drawElement:C,getBoundingBox:E,getRotationPoint:I,getRotationOffset:N,isVisible:A}),ue=t.data.lyrTxrCache=new ew(t);t.onUpdateEleCalcs(function(U,Y){j.invalidateElements(Y),ne.invalidateElements(Y),K.invalidateElements(Y),ae.invalidateElements(Y),ue.invalidateElements(Y);for(var _=0;_<Y.length;_++){var F=Y[_]._private;F.oldBackgroundTimestamp=F.backgroundTimestamp}});var fe=function(U){for(var Y=0;Y<U.length;Y++)ue.enqueueElementRefinement(U[Y].ele)};j.onDequeue(fe),ne.onDequeue(fe),K.onDequeue(fe),ae.onDequeue(fe),e.webgl&&t.initWebgl(e,{getStyleKey:p,getLabelKey:m,getSourceLabelKey:g,getTargetLabelKey:b,drawElement:x,drawLabel:w,drawSourceLabel:T,drawTargetLabel:C,getElementBox:S,getLabelBox:k,getSourceLabelBox:B,getTargetLabelBox:E,getElementRotationPoint:D,getElementRotationOffset:z,getLabelRotationPoint:M,getSourceLabelRotationPoint:P,getTargetLabelRotationPoint:I,getLabelRotationOffset:H,getSourceLabelRotationOffset:W,getTargetLabelRotationOffset:N})}Ge.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Ge.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Ge.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Ge.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var k$=typeof Path2D<"u";Ge.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Ge.usePaths=function(){return k$&&this.pathsEnabled};Ge.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Ge.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Ge.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":Pt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=e,r.height=t}return r};[tw,gn,In,Pv,Zi,vi,fr,ow,pi,Ls,fw].forEach(function(e){Ne(Ge,e)});var B$=[{name:"null",impl:qC},{name:"base",impl:ZC},{name:"canvas",impl:E$}],A$=[{type:"layout",extensions:ez},{type:"renderer",extensions:B$}],vw={},pw={};function gw(e,t,r){var n=r,i=function(S){tt("Can not register `"+t+"` for `"+e+"` since `"+S+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(us.prototype[t])return i(t);us.prototype[t]=r}else if(e==="collection"){if(Vt.prototype[t])return i(t);Vt.prototype[t]=r}else if(e==="layout"){for(var a=function(S){this.options=S,r.call(this,S),Xe(this._private)||(this._private={}),this._private.cy=S.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var C=this.options;if(C&&C.animate){var S=this.animations;if(S)for(var k=0;k<S.length;k++)S[k].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(S){return S._private.cy},f={addEventFields:function(S,k){k.layout=S,k.cy=h(S),k.target=S},bubble:function(){return!0},parent:function(S){return h(S)}};Ne(o,{createEmitter:function(){return this._private.emitter=new ju(f,this),this},emitter:function(){return this._private.emitter},on:function(S,k){return this.emitter().on(S,k),this},one:function(S,k){return this.emitter().one(S,k),this},once:function(S,k){return this.emitter().one(S,k),this},removeListener:function(S,k){return this.emitter().removeListener(S,k),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(S,k){return this.emitter().emit(S,k),this}}),et.eventAliasesOn(o),n=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var d=mw("renderer","base"),v=d.prototype,y=r,p=r.prototype,m=function(){d.apply(this,arguments),y.apply(this,arguments)},g=m.prototype;for(var b in v){var x=v[b],w=p[b]!=null;if(w)return i(b);g[b]=x}for(var T in p)g[T]=p[T];v.clientFunctions.forEach(function(C){g[C]=g[C]||function(){dt("Renderer does not implement `renderer."+C+"()` on its prototype")}}),n=m}else if(e==="__proto__"||e==="constructor"||e==="prototype")return dt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return O1({map:vw,keys:[e,t],value:n})}function mw(e,t){return R1({map:vw,keys:[e,t]})}function L$(e,t,r,n,i){return O1({map:pw,keys:[e,t,r,n],value:i})}function D$(e,t,r,n){return R1({map:pw,keys:[e,t,r,n]})}var ld=function(){if(arguments.length===2)return mw.apply(null,arguments);if(arguments.length===3)return gw.apply(null,arguments);if(arguments.length===4)return D$.apply(null,arguments);if(arguments.length===5)return L$.apply(null,arguments);dt("Invalid extension access syntax")};us.prototype.extension=ld;A$.forEach(function(e){e.extensions.forEach(function(t){gw(e.type,t.name,t.impl)})});var fu=function(){if(!(this instanceof fu))return new fu;this.length=0},Ui=fu.prototype;Ui.instanceString=function(){return"stylesheet"};Ui.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Ui.css=function(e,t){var r=this.length-1;if(Oe(e))this[r].properties.push({name:e,value:t});else if(Xe(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(s!=null){var l=It.properties[o]||It.properties[zu(o)];if(l!=null){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this};Ui.style=Ui.css;Ui.generateStyle=function(e){var t=new It(e);return this.appendToStyle(t)};Ui.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var P$="3.33.1",ui=function(t){if(t===void 0&&(t={}),Xe(t))return new us(t);if(Oe(t))return ld.apply(ld,arguments)};ui.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(ui),e.apply(null,t),this};ui.warnings=function(e){return H1(e)};ui.version=P$;ui.stylesheet=ui.Stylesheet=fu;var _l={exports:{}},uf,n0;function M$(){if(n0)return uf;n0=1;var e="Expected a function",t="__lodash_hash_undefined__",r="[object Function]",n="[object GeneratorFunction]",i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,s=typeof self=="object"&&self&&self.Object===Object&&self,l=o||s||Function("return this")();function u($,V){return $==null?void 0:$[V]}function c($){var V=!1;if($!=null&&typeof $.toString!="function")try{V=!!($+"")}catch{}return V}var h=Array.prototype,f=Function.prototype,d=Object.prototype,v=l["__core-js_shared__"],y=(function(){var $=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""})(),p=f.toString,m=d.hasOwnProperty,g=d.toString,b=RegExp("^"+p.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=h.splice,w=fe(l,"Map"),T=fe(Object,"create");function C($){var V=-1,X=$?$.length:0;for(this.clear();++V<X;){var re=$[V];this.set(re[0],re[1])}}function S(){this.__data__=T?T(null):{}}function k($){return this.has($)&&delete this.__data__[$]}function B($){var V=this.__data__;if(T){var X=V[$];return X===t?void 0:X}return m.call(V,$)?V[$]:void 0}function E($){var V=this.__data__;return T?V[$]!==void 0:m.call(V,$)}function A($,V){var X=this.__data__;return X[$]=T&&V===void 0?t:V,this}C.prototype.clear=S,C.prototype.delete=k,C.prototype.get=B,C.prototype.has=E,C.prototype.set=A;function D($){var V=-1,X=$?$.length:0;for(this.clear();++V<X;){var re=$[V];this.set(re[0],re[1])}}function O(){this.__data__=[]}function R($){var V=this.__data__,X=K(V,$);if(X<0)return!1;var re=V.length-1;return X==re?V.pop():x.call(V,X,1),!0}function M($){var V=this.__data__,X=K(V,$);return X<0?void 0:V[X][1]}function P($){return K(this.__data__,$)>-1}function I($,V){var X=this.__data__,re=K(X,$);return re<0?X.push([$,V]):X[re][1]=V,this}D.prototype.clear=O,D.prototype.delete=R,D.prototype.get=M,D.prototype.has=P,D.prototype.set=I;function z($){var V=-1,X=$?$.length:0;for(this.clear();++V<X;){var re=$[V];this.set(re[0],re[1])}}function W(){this.__data__={hash:new C,map:new(w||D),string:new C}}function N($){return ue(this,$).delete($)}function H($){return ue(this,$).get($)}function j($){return ue(this,$).has($)}function ne($,V){return ue(this,$).set($,V),this}z.prototype.clear=W,z.prototype.delete=N,z.prototype.get=H,z.prototype.has=j,z.prototype.set=ne;function K($,V){for(var X=$.length;X--;)if(F($[X][0],V))return X;return-1}function ae($){if(!J($)||U($))return!1;var V=q($)||c($)?b:a;return V.test(Y($))}function ue($,V){var X=$.__data__;return oe(V)?X[typeof V=="string"?"string":"hash"]:X.map}function fe($,V){var X=u($,V);return ae(X)?X:void 0}function oe($){var V=typeof $;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?$!=="__proto__":$===null}function U($){return!!y&&y in $}function Y($){if($!=null){try{return p.call($)}catch{}try{return $+""}catch{}}return""}function _($,V){if(typeof $!="function"||V&&typeof V!="function")throw new TypeError(e);var X=function(){var re=arguments,ee=V?V.apply(this,re):re[0],te=X.cache;if(te.has(ee))return te.get(ee);var de=$.apply(this,re);return X.cache=te.set(ee,de),de};return X.cache=new(_.Cache||z),X}_.Cache=z;function F($,V){return $===V||$!==$&&V!==V}function q($){var V=J($)?g.call($):"";return V==r||V==n}function J($){var V=typeof $;return!!$&&(V=="object"||V=="function")}return uf=_,uf}var cf,i0;function F$(){if(i0)return cf;i0=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,l=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),h=Object.prototype,f=h.toString,d=Math.max,v=Math.min,y=function(){return c.Date.now()};function p(T,C,S){var k,B,E,A,D,O,R=0,M=!1,P=!1,I=!0;if(typeof T!="function")throw new TypeError(e);C=w(C)||0,g(S)&&(M=!!S.leading,P="maxWait"in S,E=P?d(w(S.maxWait)||0,C):E,I="trailing"in S?!!S.trailing:I);function z(fe){var oe=k,U=B;return k=B=void 0,R=fe,A=T.apply(U,oe),A}function W(fe){return R=fe,D=setTimeout(j,C),M?z(fe):A}function N(fe){var oe=fe-O,U=fe-R,Y=C-oe;return P?v(Y,E-U):Y}function H(fe){var oe=fe-O,U=fe-R;return O===void 0||oe>=C||oe<0||P&&U>=E}function j(){var fe=y();if(H(fe))return ne(fe);D=setTimeout(j,N(fe))}function ne(fe){return D=void 0,I&&k?z(fe):(k=B=void 0,A)}function K(){D!==void 0&&clearTimeout(D),R=0,k=O=B=D=void 0}function ae(){return D===void 0?A:ne(y())}function ue(){var fe=y(),oe=H(fe);if(k=arguments,B=this,O=fe,oe){if(D===void 0)return W(O);if(P)return D=setTimeout(j,C),z(O)}return D===void 0&&(D=setTimeout(j,C)),A}return ue.cancel=K,ue.flush=ae,ue}function m(T,C,S){var k=!0,B=!0;if(typeof T!="function")throw new TypeError(e);return g(S)&&(k="leading"in S?!!S.leading:k,B="trailing"in S?!!S.trailing:B),p(T,C,{leading:k,maxWait:C,trailing:B})}function g(T){var C=typeof T;return!!T&&(C=="object"||C=="function")}function b(T){return!!T&&typeof T=="object"}function x(T){return typeof T=="symbol"||b(T)&&f.call(T)==r}function w(T){if(typeof T=="number")return T;if(x(T))return t;if(g(T)){var C=typeof T.valueOf=="function"?T.valueOf():T;T=g(C)?C+"":C}if(typeof T!="string")return T===0?T:+T;T=T.replace(n,"");var S=a.test(T);return S||o.test(T)?s(T.slice(2),S?2:8):i.test(T)?t:+T}return cf=m,cf}var O$=_l.exports,a0;function R$(){return a0||(a0=1,(function(e,t){(function(n,i){e.exports=i(M$(),F$())})(O$,function(r,n){return(function(i){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return i[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=a,o.i=function(s){return s},o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=12)})([(function(i,a,o){i.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return u.filter(function(h){return h!=null}).forEach(function(h){Object.keys(h).forEach(function(f){return s[f]=h[f]})}),s}}),(function(i,a,o){var s=o(10),l=o(0);i.exports=function(u){var c=this;return new s(l({cy:c},u))}}),(function(i,a,o){function s(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var c=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,c),window.addEventListener("touchmove",this.preventDefault,c),window.addEventListener("wheel",this.preventDefault,c)}return this}function l(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var c=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,c),window.removeEventListener("touchmove",this.preventDefault,c),window.removeEventListener("wheel",this.preventDefault,c)}return this}function u(){var c=this.cy;return this.lastPanningEnabled=c.panningEnabled(),this.lastZoomingEnabled=c.zoomingEnabled(),this.lastBoxSelectionEnabled=c.boxSelectionEnabled(),this}i.exports={disableGestures:s,resetGestures:l,saveGestureState:u}}),(function(i,a,o){function s(){var l=this,u=this.cy,c=this.options;return this.addListener(u,"drag",function(){return l.grabbingNode=!0}),this.addListener(u,"free",function(){return l.grabbingNode=!1}),this.addListener(u,"tapstart","node",function(h){var f=h.target;l.drawMode&&l.start(f)}),this.addListener(u,"tapdrag",function(h){l.update(h.position)}),this.addListener(u,"tapdragover","node",function(h){c.snap||l.preview(h.target)}),this.addListener(u,"tapdragout","node",function(h){c.snap||l.unpreview(h.target)}),this.addListener(u,"tapend",function(){l.stop()}),this}i.exports={addCytoscapeListeners:s}}),(function(i,a,o){var s={canConnect:function(u,c){return!u.same(c)},edgeParams:function(u,c){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0};i.exports=s}),(function(i,a,o){function s(c){var h=this.cy;return this.drawMode=c??!this.drawMode,this.drawMode?(this.prevUngrabifyState=h.autoungrabify(),h.autoungrabify(!0),this.emit("drawon")):(h.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this}function l(){return this.toggleDrawMode(!0)}function u(){return this.toggleDrawMode(!1)}i.exports={toggleDrawMode:s,enableDrawMode:l,disableDrawMode:u}}),(function(i,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l=o(0),u=function(g){return(typeof g>"u"?"undefined":s(g))===s("")},c=function(g){return(typeof g>"u"?"undefined":s(g))===s([])&&g.length!=null};function h(m,g,b){var x={};return l(x,g,m),l(x.data,g.data,m.data),u(g.classes)?x.classes=g.classes+" "+b:c(g.classes)?x.classes=g.classes.join(" ")+" "+b:x.classes=b,x}function f(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g=this.cy;this.options;var b=this.presumptiveTargets,x=this.previewEles,w=this.active,T=this.sourceNode,C=this.targetNode,S=m?"eh-preview":"",k=g.collection(),B=this.canConnect(C);if(w&&B){if(!C||C.size()===0){x.remove(),this.emit("cancel",this.mp(),T,b);return}if(!m){x.removeClass("eh-preview").style("events",""),this.emit("complete",this.mp(),T,C,x);return}var E=g.add(h({group:"edges",data:{source:T.id(),target:C.id()}},this.edgeParams(C),S));return k=k.merge(E),m?(this.previewEles=k,k.style("events","no")):(k.style("events",""),this.emit("complete",this.mp(),T,C,k)),this}}function d(){return this.makeEdges(!0),this}function v(){return this.previewEles.nonempty()&&this.previewEles.inside()}function y(){return this.previewShown()&&this.previewEles.remove(),this}function p(){var m=this,g=this.sourceNode,b=this.ghostNode,x=this.cy,w=this.mx,T=this.my,C=w,S=T,k=void 0,B=void 0;if(g)return(!b||b.length===0||b.removed())&&(B=this.ghostEles=x.collection(),x.batch(function(){b=m.ghostNode=x.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}}),b.style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var E={};k=x.add(l({},E,{group:"edges",data:l({},E.data,{source:g.id(),target:b.id()}),classes:"eh-ghost eh-ghost-edge"})),k.style({events:"no"})}),B.merge(b).merge(k)),b.position({x:C,y:S}),this}i.exports={makeEdges:f,makePreview:d,removePreview:y,previewShown:v,updateEdge:p}}),(function(i,a,o){function s(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this}function l(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}i.exports={disableEdgeEvents:s,enableEdgeEvents:l}}),(function(i,a,o){function s(){return this.enabled=!0,this.emit("enable"),this}function l(){return this.enabled=!1,this.emit("disable"),this}i.exports={enable:s,disable:l}}),(function(i,a,o){var s=o(13),l=Math.sqrt(2);function u(g){var b=this.previewEles,x=this.ghostEles,w=function(A){return b.anySame(A)},T=function(A){return x.anySame(A)},C=function(A){return w(A)||T(A)},S=this.enabled,k=this.active,B=this.grabbingNode;return S&&!k&&!B&&g!=null&&g.nonempty()&&!C(g)}function c(g){return this.canStartOn(g)&&this.drawMode}function h(g){return this.canStartOn(g)&&!this.drawMode}function f(g){var b=this;if(this.canStartOn(g)){this.active=!0,this.sourceNode=g,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var x=function(T){return T.id()};this.canConnect=s(function(w){return b.options.canConnect(b.sourceNode,w)},x),this.edgeParams=s(function(w){return b.options.edgeParams(b.sourceNode,w)},x),this.emit("start",this.hp(),g)}}function d(g){if(this.active){var b=g;return this.mx=b.x,this.my=b.y,this.updateEdge(),this.throttledSnap(),this}}function v(){if(!this.active||!this.options.snap)return!1;var g=this.cy,b=this.targetNode,x=this.options.snapThreshold,w=this.mp(),T=this.previewEles,C=this.ghostNode,S=function(K){return l*Math.max(K.outerWidth(),K.outerHeight())/2},k=function(K,ae,ue,fe){var oe=ue-K,U=fe-ae;return oe*oe+U*U},B=function(K,ae){return k(K.x,K.y,ae.x,ae.y)},E=function(K){return B(K.position(),w)},A=function(K){var ae=S(K),ue=ae+x;return ue*ue},D=function(K){return E(K)<=A(K)},O=function(K){var ae=K.position(),ue=K.outerWidth()/2,fe=K.outerHeight()/2,oe=ae.x,U=ae.y,Y=w.x,_=w.y,F=oe-ue,q=oe+ue,J=U-fe,$=U+fe,V=F<=Y&&Y<=q,X=J<=_&&_<=$;if(V&&X)return 0;if(V){var re=_-J,ee=_-$;return Math.min(re*re,ee*ee)}else if(X){var te=Y-F,de=Y-q;return Math.min(te*te,de*de)}else return Y<F&&_<J?k(Y,_,F,J):Y>q&&_<J?k(Y,_,q,J):Y<F&&_>$?k(Y,_,F,$):k(Y,_,q,$)},R=function(K,ae){return O(K)-O(ae)},M=R,P=!1,I=function(K){var ae=w,ue=K.outerWidth(),fe=ue/2,oe=K.outerHeight(),U=oe/2,Y=K.position(),_=Y.x-fe,F=Y.x+fe,q=Y.y-U,J=Y.y+U;return _<=ae.x&&ae.x<=F&&q<=ae.y&&ae.y<=J},z=function(K){return K.same(T)||K.same(C)},W=g.nodes(function(ne){return!z(ne)&&D(ne)}).sort(M),N=!1;b.nonempty()&&!D(b)&&this.unpreview(b);for(var H=0;H<W.length;H++){var j=W[H];if(!(j.isParent()&&I(j))&&!(j.isChild()&&!I(j.parent()))&&(j.same(b)||this.preview(j,P))){N=!0;break}}return N}function y(g){var b=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=this.options,T=this.sourceNode,C=this.ghostNode,S=this.ghostEles,k=this.presumptiveTargets,B=this.previewEles,E=this.active,A=T,D=g.same(C),O=!this.canConnect(g),R=g.same(this.targetNode);if(!E||D||O||R)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var M=function(){b.targetNode=g,k.merge(g),g.addClass("eh-presumptive-target"),g.addClass("eh-target"),b.emit("hoverover",b.mp(),A,g),g.addClass("eh-preview"),S.addClass("eh-preview-active"),T.addClass("eh-preview-active"),g.addClass("eh-preview-active"),b.makePreview(),b.emit("previewon",b.mp(),A,g,B)};return x&&w.hoverDelay>0?this.previewTimeout=setTimeout(M,w.hoverDelay):M(),!0}function p(g){if(this.active){var b=this.previewTimeout,x=this.sourceNode,w=this.previewEles,T=this.ghostEles,C=this.cy;clearTimeout(b),this.previewTimeout=null;var S=x;return g.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),T.removeClass("eh-preview-active"),x.removeClass("eh-preview-active"),this.targetNode=C.collection(),this.removePreview(S,g),this.emit("hoverout",this.mp(),S,g),this.emit("previewoff",this.mp(),S,g,w),this}}function m(){if(this.active){var g=this.sourceNode,b=this.targetNode,x=this.ghostEles,w=this.presumptiveTargets;return clearTimeout(this.previewTimeout),g.removeClass("eh-source eh-preview-active"),b.removeClass("eh-target eh-preview eh-hover eh-preview-active"),w.removeClass("eh-presumptive-target"),this.makeEdges(),x.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),g),this}}i.exports={start:f,update:d,preview:y,unpreview:p,stop:m,snap:v,canStartOn:u,canStartDrawModeOn:c,canStartNonDrawModeOn:h}}),(function(i,a,o){var s=o(4),l=o(0),u=o(14),c=o(2),h=o(3),f=o(5),d=o(6),v=o(8),y=o(9),p=o(11),m=o(7);function g(w){var T=w.cy;this.cy=T,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=l({},s,w),this.saveGestureState(),this.addListeners(),this.throttledSnap=u(this.snap.bind(this),1e3/w.snapFrequency),this.preventDefault=function(k){return k.preventDefault()},this.canConnect=function(){return!1};var C=!1;try{var S=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("test",null,S)}catch{}C?this.windowListenerOptions={capture:!0,passive:!1}:this.windowListenerOptions=!0}var b=g.prototype={},x=function(T){return l(b,T)};b.destroy=function(){this.removeListeners()},b.setOptions=function(w){l(this.options,w)},b.mp=function(){return{x:this.mx,y:this.my}},b.hp=function(){return{x:this.hx,y:this.hy}},b.clearCollections=function(){var w=this.cy;this.previewEles=w.collection(),this.ghostEles=w.collection(),this.ghostNode=w.collection(),this.sourceNode=w.collection(),this.targetNode=w.collection(),this.presumptiveTargets=w.collection()},[c,h,f,d,v,y,p,m].forEach(x),i.exports=g}),(function(i,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};function l(){var y=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",function(){return y.destroy()}),this}function u(){for(var y=this.listeners.length-1;y>=0;y--){var p=this.listeners[y];this.removeListener(p.target,p.event,p.selector,p.callback,p.options)}return this}function c(y,p,m,g,b){return(typeof m>"u"?"undefined":s(m))!==s("")&&(g=m,b=g,m=null),b==null&&(b=!1),{target:y,event:p,selector:m,callback:g,options:b}}function h(y){return y instanceof Element}function f(y,p,m,g,b){var x=c(y,p,m,g,b);return this.listeners.push(x),h(x.target)?x.target.addEventListener(x.event,x.callback,x.options):x.selector?x.target.addListener(x.event,x.selector,x.callback,x.options):x.target.addListener(x.event,x.callback,x.options),this}function d(y,p,m,g,b){for(var x=c(y,p,m,g,b),w=this.listeners.length-1;w>=0;w--){var T=this.listeners[w];if(x.target===T.target&&x.event===T.event&&(x.selector==null||x.selector===T.selector)&&(x.callback==null||x.callback===T.callback)){this.listeners.splice(w,1),h(x.target)?x.target.removeEventListener(x.event,x.callback,x.options):x.selector?x.target.removeListener(x.event,x.selector,x.callback,x.options):x.target.removeListener(x.event,x.callback,x.options);break}}return this}function v(y,p){for(var m=this.cy,g=arguments.length,b=Array(g>2?g-2:0),x=2;x<g;x++)b[x-2]=arguments[x];return m.emit({type:"eh"+y,position:p},b),this}i.exports={addListener:f,addListeners:l,removeListener:d,removeListeners:u,emit:v}}),(function(i,a,o){var s=o(1),l=function(c){c&&c("core","edgehandles",s)};typeof cytoscape<"u"&&l(cytoscape),i.exports=l}),(function(i,a){i.exports=r}),(function(i,a){i.exports=n})])})})(_l)),_l.exports}var I$=R$();const N$=sb(I$);ui.use(N$);function yw(e){const t=e==="canyon"?{primaryColor:"#FF8C3B",primaryTextColor:"#FFDEAD",primaryBorderColor:"#DAA520",lineColor:"#CD5C5C",secondaryColor:"#5F9EA0",tertiaryColor:"#8A2BE2"}:{primaryColor:"#1FB6FF",primaryTextColor:"#FAEBD7",primaryBorderColor:"#06B6D4",lineColor:"#06B6D4",secondaryColor:"#E94560",tertiaryColor:"#8B5CF6"};Rr.initialize({startOnLoad:!1,theme:"dark",themeVariables:t})}yw("mole");const o0={development:"","data-ai":"",infrastructure:"",security:"","quality-testing":"",specialization:"",general:""},z$="/data/interview-sections.json";function $$(e){return e?e.split(/[\n,]/).map(t=>t.trim()).filter(Boolean).map(t=>t.replace(/\s+/g,"_").toUpperCase()):[]}const q$={data(){return{currentTheme:"mole",activeTab:"canvas",claudeCommand:"",claudeLastResponse:"",cy:null,edgeHandles:null,moduleEdges:[],moduleSummary:{moduleCount:0,dependencyCount:0,externalDependencyCount:0,totalLines:0},stats:null,agents:[],taskQueue:[],tickets:[],features:[],modules:[],exportsList:[],latestAudit:null,loading:{tickets:!1,features:!1,modules:!1,agents:!1,exports:!1,stats:!1},bugFilter:{priority:"",status:""},featureFilter:{module:"",status:""},selectedModules:[],ticketStatusOptions:[{value:"reported",label:"Reported"},{value:"in_progress",label:"In Progress"},{value:"finished",label:"Finished"}],showTicketCompletionModal:!1,ticketBeingUpdated:null,ticketStatusElement:null,ticketCompletionSummary:"",ticketCompletionError:"",showBugModal:!1,showFeatureModal:!1,showAddModuleModal:!1,newBug:{title:"",description:"",priority:"medium",modules:[],tagsText:""},newFeature:{title:"",description:"",moduleId:"",priority:"medium",criteriaText:""},newModule:{name:"",id:"",path:"",depsString:"",type:"custom"},interviewBlueprint:null,baseSectionOrder:[],typeSectionMap:{},frameworkSectionMap:{},languageFrameworks:{},currentSectionOrder:[],activeSectionIndex:0,completedSections:[],currentQuestions:[],currentPhase:"initial",questionAnswers:{},generatedSpec:"",latestSpecMeta:null,latestSpecPayload:null,specExportFormat:"json",apiFormat:"openapi",apiSpecContent:"",apiSpecPayload:null,docType:"overview",docTitle:"Project Overview",generatedDocs:'<p class="loading">Select documentation type and click generate...</p>',mermaidCode:""}},computed:{filteredBugs(){return this.tickets.filter(e=>!(this.bugFilter.priority&&e.priority!==this.bugFilter.priority||this.bugFilter.status&&e.status!==this.bugFilter.status)).sort((e,t)=>new Date(e.created)-new Date(t.created))},filteredFeatures(){return this.features.filter(e=>!(this.featureFilter.module&&e.moduleId!==this.featureFilter.module||this.featureFilter.status&&e.status!==this.featureFilter.status||this.selectedModules.length>0&&!this.selectedModules.includes(e.moduleId)))},availableTags(){const e=new Set;return this.tickets.forEach(t=>{(t.tags||[]).forEach(r=>e.add(r))}),Array.from(e).sort()},moduleLookup(){return this.modules.reduce((e,t)=>(e[t.id]=t,e),{})},ticketProgress(){var l,u,c,h,f;const e=((l=this.stats)==null?void 0:l.reported)||0,t=((u=this.stats)==null?void 0:u.in_progress)||0,r=((c=this.stats)==null?void 0:c.finished)||0,n=((h=this.stats)==null?void 0:h.open)!==void 0?this.stats.open:e+t,i=((f=this.stats)==null?void 0:f.closed)!==void 0?this.stats.closed:r,a=n+i,o=a?Math.round(n/a*100):0,s=a?100-o:0;return{reported:e,inProgress:t,finished:r,open:n,closed:i,total:a,openPct:o,closedPct:s}}},methods:{async bootstrap(){await this.loadInterviewBlueprint(),this.initializeInterview(),await Promise.all([this.fetchAgents(),this.fetchTickets(),this.fetchFeatures(),this.fetchModulesGraph(),this.fetchExports(),this.fetchStats()]),this.activeTab==="canvas"&&this.$nextTick(()=>this.ensureCanvas())},async loadInterviewBlueprint(){if(!this.interviewBlueprint)try{const t=await(await fetch(z$,{cache:"no-cache"})).json();this.interviewBlueprint=t.sections||{},this.baseSectionOrder=t.baseOrder||Object.keys(this.interviewBlueprint),this.typeSectionMap=t.typeOrder||{},this.frameworkSectionMap=t.frameworkSectionMap||{},this.languageFrameworks=t.languageFrameworks||{}}catch(e){console.error("Interview blueprint load error",e),this.interviewBlueprint={},this.baseSectionOrder=[],this.typeSectionMap={},this.frameworkSectionMap={},this.languageFrameworks={}}},initializeInterview(){if(!this.interviewBlueprint||this.baseSectionOrder.length===0){this.currentQuestions=[],this.currentSectionOrder=[],this.currentPhase="initial";return}this.questionAnswers={},this.completedSections=[],this.currentSectionOrder=[...this.baseSectionOrder],this.activeSectionIndex=0,this.currentQuestions=[];const e=this.currentSectionOrder[0];e&&(this.enqueueSection(e),this.currentPhase=this.getSectionTitle(e))},getSection(e){return!e||!this.interviewBlueprint?null:this.interviewBlueprint[e]||null},getSectionTitle(e){const t=this.getSection(e);return t?t.title:"Interview"},cloneSectionQuestions(e){const t=this.getSection(e);return!t||!Array.isArray(t.questions)?[]:t.questions.map((r,n)=>({...r,answer:this.questionAnswers[r.id]||"",sectionId:e,sectionTitle:t.title,sectionDescription:t.description||"",isSectionFirst:n===0}))},enqueueSection(e){if(!e||this.currentQuestions.some(r=>r.sectionId===e))return;const t=this.cloneSectionQuestions(e);t.length&&this.currentQuestions.push(...t)},extendSectionsForProjectType(e){if(!e)return;(this.typeSectionMap[e]||[]).forEach(r=>{this.currentSectionOrder.includes(r)||this.currentSectionOrder.push(r)})},extendSectionsForFramework(e){if(!e)return;const t=Object.keys(this.frameworkSectionMap).find(n=>n.toLowerCase()===String(e).toLowerCase());if(!t)return;(this.frameworkSectionMap[t]||[]).forEach(n=>{this.currentSectionOrder.includes(n)||this.currentSectionOrder.push(n)})},updateFrameworkOptions(e){if(!e)return;const t=Object.keys(this.languageFrameworks).find(i=>i.toLowerCase()===String(e).toLowerCase()),r=t?this.languageFrameworks[t]:["None/Custom"],n=this.currentQuestions.find(i=>i.id==="preferred-framework");n&&(n.options=r,r.includes(n.answer)||(n.answer="",this.questionAnswers["preferred-framework"]=""))},advanceSectionIfComplete(e){if(!e||this.completedSections.includes(e))return;const t=this.getSection(e);if(!(!t||!t.questions.every(n=>{if(n.required===!1)return!0;const i=this.questionAnswers[n.id];return i==null?!1:String(i).trim().length>0})))if(this.completedSections.push(e),this.activeSectionIndex<this.currentSectionOrder.length-1){this.activeSectionIndex+=1;const n=this.currentSectionOrder[this.activeSectionIndex];this.enqueueSection(n),this.currentPhase=this.getSectionTitle(n)}else this.currentPhase="Complete"},async fetchAgents(){try{this.loading.agents=!0;const r=((await(await fetch("/api/agents")).json()).agents||[]).map(n=>({id:n.id,name:n.name,category:n.category,path:n.path,icon:o0[n.category]||o0.general,status:"idle",taskCount:0}));this.agents=r}catch(e){console.error("Agent load error",e)}finally{this.loading.agents=!1}},async fetchTickets(){try{this.loading.tickets=!0;const t=await(await fetch("/api/tickets")).json();this.tickets=Array.isArray(t)?t:[]}catch(e){console.error("Ticket load error",e)}finally{this.loading.tickets=!1}},async fetchFeatures(){try{this.loading.features=!0;const t=await(await fetch("/api/features")).json();this.features=Array.isArray(t)?t:[]}catch(e){console.error("Feature load error",e)}finally{this.loading.features=!1}},async fetchModulesGraph(){try{this.loading.modules=!0;const t=await(await fetch("/api/modules/graph")).json();this.modules=t.modules||[],this.moduleEdges=(t.edges||[]).filter(r=>this.modules.some(n=>n.id===r.source)&&this.modules.some(n=>n.id===r.target)),this.moduleSummary=t.summary||this.moduleSummary,this.ensureCanvas()}catch(e){console.error("Module graph error",e)}finally{this.loading.modules=!1}},async fetchExports(){try{this.loading.exports=!0;const t=await(await fetch("/api/exports")).json();this.exportsList=t.files||[]}catch(e){console.error("Exports load error",e)}finally{this.loading.exports=!1}},async fetchStats(){try{this.loading.stats=!0;const t=await(await fetch("/api/stats")).json();this.stats=t}catch(e){console.error("Stats load error",e)}finally{this.loading.stats=!1}},setTheme(e){this.currentTheme=e;const t=document.documentElement,r=document.body;t&&t.setAttribute("data-theme",e),r&&r.setAttribute("data-theme",e),localStorage.setItem("opnix_theme",e),yw(e),this.cy&&this.cy.resize()},setTab(e){this.activeTab=e,e==="canvas"&&this.$nextTick(()=>this.ensureCanvas())},async executeClaudeCommand(){const e=this.claudeCommand.trim();if(!e)return;const t=/--ultrathink/i.test(e)?e:`${e} --ultrathink`;this.addTask("Claude CLI",t,"processing");try{const n=await(await fetch("/api/claude/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:t})})).json();this.claudeLastResponse=n.result||"Command executed",this.addTask("Claude CLI",this.claudeLastResponse,"complete"),n.audit&&(this.latestAudit=n.audit,console.group("Opnix Audit"),console.table(n.audit.project||{}),console.table(n.audit.ticketStats||{}),console.groupEnd(),this.addTask("Audit","Initial audit artefacts generated","complete"),await Promise.all([this.fetchModulesGraph(),this.fetchExports(),this.fetchStats()]))}catch(r){console.error("Claude command failed",r),this.addTask("Claude CLI","Execution failed","complete")}this.claudeCommand=""},activateAgent(e){this.agents=this.agents.map(t=>({...t,status:t.id===e.id?"active":"idle",taskCount:t.id===e.id?t.taskCount+1:t.taskCount})),fetch("/api/agents/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:e.id})}).catch(t=>console.error("Agent activation error",t)),this.addTask(e.name,"Agent activated","complete")},addTask(e,t,r="pending"){const n={id:Date.now()+Math.random(),agent:e,description:t,status:r};this.taskQueue.unshift(n),this.taskQueue.length>5&&this.taskQueue.pop(),r!=="complete"&&setTimeout(()=>{n.status="complete"},2e3)},ensureCanvas(){const e=document.getElementById("canvas-container");e&&(this.cy||(this.cy=ui({container:e,elements:[],boxSelectionEnabled:!0,style:[{selector:"node",style:{"background-color":t=>this.getHealthColor(t.data("health")||60),label:"data(label)",color:"#FAEBD7","text-valign":"center","text-halign":"center","text-wrap":"wrap","font-family":"JetBrains Mono","font-size":"12px",width:"140px",height:"90px","border-width":2,"border-color":"#06B6D4",padding:"10px"}},{selector:"edge",style:{"curve-style":"bezier","target-arrow-shape":"triangle","line-color":"#E94560","target-arrow-color":"#E94560",width:2}},{selector:"node:selected",style:{"background-color":"#FF8C3B","border-color":"#E94560","border-width":4}}],layout:{name:"cose",animate:!0,animationDuration:800,nodeRepulsion:4e3,idealEdgeLength:120},wheelSensitivity:.2}),this.cy.edgehandles&&(this.edgeHandles=this.cy.edgehandles({hoverDelay:150,handleSize:10,handleColor:"#FF8C3B",edgeType:(t,r)=>t.id()===r.id()?null:"flat",noEdgeEventsInDraw:!0}),this.cy.on("ehcomplete",async(t,r,n,i)=>{if(r.id()===n.id()){i.remove();return}await this.persistModuleLink(r.id(),n.id(),i)})),this.cy.on("tap","node",t=>{const r=t.target,n=this.modules.find(i=>i.id===r.id());n&&this.analyzeModule(n)})),this.refreshCanvas())},refreshCanvas(){if(!this.cy)return;const e=[];this.modules.forEach(t=>{const r=[t.name];typeof t.health=="number"&&r.push(` ${t.health}% health`),t.pathHints&&t.pathHints.length>0&&r.push(t.pathHints[0]),e.push({data:{id:t.id,label:r.join(`
`),health:t.health||60,coverage:t.coverage||0}})}),this.moduleEdges.forEach(t=>{const r=t.id||`${t.source}->${t.target}`;e.push({data:{id:r,source:t.source,target:t.target}})}),this.cy.elements().remove(),this.cy.add(e),this.cy.layout({name:"cose",animate:!0,animationDuration:700,nodeRepulsion:4500,idealEdgeLength:140}).run()},layoutCanvas(e){if(!this.cy)return;const r={breadthfirst:{name:"breadthfirst",directed:!0,padding:10,spacingFactor:1.3},circle:{name:"circle",radius:280},cose:{name:"cose",nodeRepulsion:4e3,idealEdgeLength:140}}[e];r&&this.cy.layout(r).run()},async detectModules(){this.addTask("Backend Architect","Scanning project structure","processing");try{const t=await(await fetch("/api/modules/detect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();this.modules=t.modules||[],this.moduleEdges=(t.edges||[]).filter(r=>this.modules.some(n=>n.id===r.source)&&this.modules.some(n=>n.id===r.target)),this.moduleSummary=t.summary||this.moduleSummary,this.refreshCanvas()}catch(e){console.error("Detect modules failed",e)}},async persistModuleLink(e,t,r){try{const n=await fetch("/api/modules/links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,target:t})});n.status===201?(this.addTask("Canvas",`Linked ${e}  ${t}`,"complete"),await this.detectModules()):n.status===200?this.addTask("Canvas",`Link ${e}  ${t} already exists`,"complete"):console.error("Failed to persist link",await n.text())}catch(n){console.error("Persist link error",n)}finally{r&&!r.destroyed()&&r.remove()}},analyzeCanvas(){const e={modules:this.modules.length,dependencies:this.moduleEdges.length,externalDependencies:this.modules.reduce((t,r)=>t+(r.externalDependencies?r.externalDependencies.length:0),0)};console.table(e),this.addTask("Backend Architect","Canvas metrics computed","complete")},async exportCanvas(){if(this.cy)try{const e=this.cy.png({full:!0}),r=await(await fetch("/api/canvas/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:"png",data:e})})).json();r.success&&(this.addTask("Canvas Export",`Saved ${r.filename}`,"complete"),await this.fetchExports())}catch(e){console.error("Canvas export failed",e)}},async addBug(){if(this.newBug.title.trim())try{const e=$$(this.newBug.tagsText),r=await(await fetch("/api/tickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.newBug.title,description:this.newBug.description,priority:this.newBug.priority,status:"reported",modules:this.newBug.modules,tags:e})})).json();this.tickets.push(r),this.showBugModal=!1,this.newBug={title:"",description:"",priority:"medium",modules:[],tagsText:""},this.addTask("Bug Tracker",`Ticket #${r.id} recorded`,"complete")}catch(e){console.error("Create bug failed",e)}},async addFeature(){if(this.newFeature.title.trim())try{const e=this.newFeature.criteriaText.split(`
`).map(n=>n.trim().replace(/^[-*]\s*/,"")).filter(Boolean),r=await(await fetch("/api/features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.newFeature.title,description:this.newFeature.description,moduleId:this.newFeature.moduleId,priority:this.newFeature.priority,acceptanceCriteria:e})})).json();this.features.push(r),this.showFeatureModal=!1,this.newFeature={title:"",description:"",moduleId:"",priority:"medium",criteriaText:""},this.addTask("Feature Manager",`Feature ${r.title} created`,"complete")}catch(e){console.error("Create feature failed",e)}},async addModule(){if(this.newModule.name.trim())try{const e=this.newModule.depsString.split(",").map(r=>r.trim()).filter(Boolean);await(await fetch("/api/modules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.newModule.id||void 0,name:this.newModule.name,path:this.newModule.path||void 0,dependencies:e,type:this.newModule.type})})).json(),this.showAddModuleModal=!1,this.newModule={name:"",id:"",path:"",depsString:"",type:"custom"},await this.fetchModulesGraph(),this.addTask("Module Manager","Module catalog updated","complete")}catch(e){console.error("Add module failed",e)}},analyzeModule(e){const t=this.features.filter(n=>n.moduleId===e.id),r=this.tickets.filter(n=>(n.modules||[]).includes(e.id));console.table({module:e.name,features:t.length,tickets:r.length,coverage:e.coverage}),this.addTask("AI Engineer",`Analyzed ${e.name}`,"complete")},analyzeModuleDependencies(){const e=this.moduleEdges.reduce((t,r)=>(t[r.source]=t[r.source]||[],t[r.source].push(r.target),t),{});console.table(e),this.addTask("Backend Architect","Dependency map calculated","complete")},getModuleBugCount(e){return this.tickets.filter(t=>(t.modules||[]).includes(e)).length},getModuleFeatureCount(e){return this.features.filter(t=>t.moduleId===e).length},getModuleName(e){const t=this.moduleLookup[e];return t?t.name:"Unknown"},getHealthColor(e){return e>=80?"#10B981":e>=60?"#F59E0B":"#EF4444"},getFeatureStatusColor(e){return{proposed:"#8B5CF6",approved:"#06B6D4","in-development":"#F59E0B",testing:"#EC4899",deployed:"#10B981"}[e]||"#7B8AA8"},toggleModule(e){const t=this.selectedModules.indexOf(e);t>-1?this.selectedModules.splice(t,1):this.selectedModules.push(e)},formatDate(e){try{return new Date(e).toLocaleDateString()}catch{return e}},statusLabel(e){const t={reported:"Reported",in_progress:"In Progress",finished:"Finished"};return t[e]?t[e]:e.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase())},async onTicketStatusChange(e,t){const r=t.target.value;if(!r||r===e.status){t.target.value=e.status;return}if(r==="finished"){this.ticketBeingUpdated=e,this.ticketStatusElement=t.target,this.ticketCompletionSummary=e.completionSummary||"",this.ticketCompletionError="",this.showTicketCompletionModal=!0;return}try{await this.persistTicketUpdate(e,{status:r},t.target)}catch{}},async persistTicketUpdate(e,t,r){try{const n=await fetch(`/api/tickets/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Ticket update failed with status ${n.status}`);const i=await n.json(),a=this.tickets.findIndex(o=>o.id===i.id);return a!==-1&&this.tickets.splice(a,1,i),await this.fetchStats(),this.addTask("Bug Tracker",`Ticket #${i.id} updated`,"complete"),i}catch(n){throw console.error("Persist ticket update failed",n),r&&(r.value=e.status),n}},cancelTicketCompletion(){this.ticketStatusElement&&this.ticketBeingUpdated&&(this.ticketStatusElement.value=this.ticketBeingUpdated.status),this.showTicketCompletionModal=!1,this.ticketBeingUpdated=null,this.ticketStatusElement=null,this.ticketCompletionSummary="",this.ticketCompletionError=""},async confirmTicketCompletion(){if(!this.ticketBeingUpdated){this.showTicketCompletionModal=!1;return}if(!this.ticketCompletionSummary||!this.ticketCompletionSummary.trim()){this.ticketCompletionError="Completion summary is required.";return}try{await this.persistTicketUpdate(this.ticketBeingUpdated,{status:"finished",completionSummary:this.ticketCompletionSummary.trim()},this.ticketStatusElement),this.showTicketCompletionModal=!1,this.ticketCompletionSummary="",this.ticketCompletionError="",this.ticketBeingUpdated=null,this.ticketStatusElement=null}catch{this.ticketCompletionError="Unable to update ticket. Check console for details."}},async exportBugs(){try{const t=await(await fetch("/api/export/markdown")).text(),r=new Blob([t],{type:"text/markdown"}),n=document.createElement("a");n.href=URL.createObjectURL(r),n.download="opnix-tickets.md",n.click(),URL.revokeObjectURL(n.href)}catch(e){console.error("Export bugs failed",e)}},generateAPISpec(){const e=[{path:"/api/health",method:"GET"},{path:"/api/tickets",method:"GET"},{path:"/api/tickets",method:"POST"},{path:"/api/tickets/:id",method:"PUT"},{path:"/api/tickets/:id",method:"DELETE"},{path:"/api/features",method:"GET"},{path:"/api/features",method:"POST"},{path:"/api/modules",method:"GET"},{path:"/api/modules/detect",method:"POST"},{path:"/api/modules/graph",method:"GET"},{path:"/api/modules/links",method:"POST"},{path:"/api/modules/links",method:"DELETE"},{path:"/api/canvas/export",method:"POST"},{path:"/api/specs/generate",method:"POST"},{path:"/api/exports",method:"GET"},{path:"/api/exports/:filename",method:"GET"}],t={openapi:()=>({openapi:"3.0.0",info:{title:"Opnix API",version:"1.0.0"},paths:e.reduce((n,i)=>{const a=i.path;return n[a]=n[a]||{},n[a][i.method.toLowerCase()]={summary:`${i.method} ${i.path}`,responses:{200:{description:"Success"}}},n},{})}),custom:()=>({api:"Opnix/v1.0",baseUrl:"/api",endpoints:e}),json:()=>({$schema:"http://json-schema.org/draft-07/schema#",endpoints:e})},r=t[this.apiFormat]||t.openapi;this.apiSpecPayload=r(),this.apiSpecContent=JSON.stringify(this.apiSpecPayload,null,2),this.addTask("API Generator","API spec generated","complete")},async exportAPISpec(){this.apiSpecPayload||this.generateAPISpec();try{const t=await(await fetch("/api/specs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:this.apiSpecPayload,format:"json"})})).json();t.success&&(this.addTask("API Generator",`Spec saved as ${t.filename}`,"complete"),await this.fetchExports())}catch(e){console.error("Export API spec failed",e)}},async testAPI(){const e=await fetch("/api/health").then(r=>r.ok).catch(()=>!1),t=await fetch("/api/tickets").then(r=>r.ok).catch(()=>!1);console.table({healthResponse:e,ticketsResponse:t}),this.addTask("API Tester","Smoke tests executed","complete")},generateDocs(){const e=this.modules.map(r=>{const n=r.dependencies&&r.dependencies.length?r.dependencies.join(", "):"None",i=r.externalDependencies&&r.externalDependencies.length?r.externalDependencies.join(", "):"None";return`
                    <h4>${r.name}</h4>
                    <p>Health: ${r.health||"n/a"}%</p>
                    <p>Coverage: ${r.coverage||0}%</p>
                    <p>Dependencies: ${n}</p>
                    <p>External: ${i}</p>
                `}).join(""),t={overview:`<h3>Opnix Statistics</h3>
                    <ul>
                        <li>Total Tickets: ${this.tickets.length}</li>
                        <li>Total Features: ${this.features.length}</li>
                        <li>Modules Discovered: ${this.modules.length}</li>
                        <li>Dependencies: ${this.moduleEdges.length}</li>
                    </ul>`,modules:`<h3>Module Documentation</h3>${e}`,api:`<h3>API Documentation</h3>
                    <pre>${this.apiSpecContent||"Generate API spec first"}</pre>`,features:`<h3>Feature Specifications</h3>
                    ${this.features.map(r=>`
                        <h4>${r.title}</h4>
                        <p>${r.description}</p>
                        <p><strong>Status:</strong> ${r.status||"proposed"}</p>
                        <p><strong>Module:</strong> ${this.getModuleName(r.moduleId)}</p>
                    `).join("")}`};this.generatedDocs=t[this.docType],this.docTitle=this.docType.charAt(0).toUpperCase()+this.docType.slice(1)+" Documentation",this.addTask("Documentation Expert","Documentation generated","complete")},exportDocs(){const e=this.generatedDocs.replace(/<[^>]+>/g,""),t=new Blob([e],{type:"text/markdown"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download="opnix-docs.md",r.click(),URL.revokeObjectURL(r.href)},generateFromModules(){let e=`graph TD
`;this.modules.forEach(t=>{e+=`    ${t.id.replace(/[^a-zA-Z0-9_]/g,"_")}[${t.name}]
`}),e+=`
`,this.moduleEdges.forEach(t=>{e+=`    ${t.source.replace(/[^a-zA-Z0-9_]/g,"_")} --> ${t.target.replace(/[^a-zA-Z0-9_]/g,"_")}
`}),this.mermaidCode=e,this.renderMermaid()},renderMermaid(){const e=document.getElementById("mermaid-output");e&&(e.innerHTML="",e.removeAttribute("data-processed"),Rr.render(`mermaid-${Date.now()}`,this.mermaidCode).then(t=>{e.innerHTML=t.svg}).catch(t=>{e.innerHTML=`<p style="color: var(--danger);">${t.message}</p>`}))},processAnswer(e){!e||!e.id||(this.questionAnswers[e.id]=e.answer,e.id==="project-type"&&e.answer&&this.extendSectionsForProjectType(e.answer),e.id==="primary-language"&&e.answer&&this.updateFrameworkOptions(e.answer),e.id==="preferred-framework"&&e.answer&&this.extendSectionsForFramework(e.answer),this.advanceSectionIfComplete(e.sectionId))},collectAnswers(){const e={};return Object.entries(this.questionAnswers).forEach(([t,r])=>{r!=null&&String(r).trim().length>0&&(e[t]=r)}),e},buildSpecPayload(){const e=this.collectAnswers();return{generatedAt:new Date().toISOString(),questionAnswers:e,project:{name:e["project-name"]||"Untitled Project",type:e["project-type"]||"Unknown",goal:e["project-purpose"]||e["value-proposition"]||""},technical:{language:e["primary-language"]||null,framework:e["preferred-framework"]||null,stack:e["supporting-libraries"]||null,architecture:{current:e["current-architecture"]||null,target:e["target-architecture-vision"]||null,dataStores:e["data-sources"]||null,integrations:e["integration-providers"]||e["integration-consumers"]||null,testingStrategy:e["testing-strategy"]||null,observability:e["observability-tooling"]||null}},modules:this.modules,canvas:{edges:this.moduleEdges,summary:this.moduleSummary},features:this.features,tickets:this.tickets}},async generateSpec(){const e=this.buildSpecPayload();this.latestSpecPayload=e,this.generatedSpec=JSON.stringify(e,null,2);try{const t=this.specExportFormat==="github"?"github-spec-kit":this.specExportFormat,n=await(await fetch("/api/specs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:e,format:t})})).json();n.success&&(this.latestSpecMeta=n,this.addTask("Spec Builder",`Spec saved as ${n.filename}`,"complete"),await this.fetchExports())}catch(t){console.error("Generate spec failed",t)}}},mounted(){const e=localStorage.getItem("opnix_theme")||"mole";this.setTheme(e),this.bootstrap()}},V$=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},H$=q$,W$={class:"app-container"};function U$(e,t,r,n,i,a){return s_(),c_("div",W$)}const G$=V$(H$,[["render",U$]]);K_(G$).mount("#app");export{Hn as $,Fo as A,Io as B,jM as C,KM as D,HM as E,TB as F,oq as G,eF as H,lP as I,XE as J,Dd as K,Cb as L,vs as M,_b as N,K$ as O,sb as P,nS as Q,mr as R,_r as S,nF as T,rq as U,Dx as V,Zd as W,VD as X,RD as Y,hn as Z,Pd as _,YM as a,Wa as a$,_p as a0,nk as a1,jo as a2,fg as a3,sq as a4,GD as a5,oP as a6,Yi as a7,OL as a8,BL as a9,tq as aA,J$ as aB,j$ as aC,X$ as aD,iq as aE,Q$ as aF,nq as aG,ui as aH,$e as aI,cn as aJ,ms as aK,Ha as aL,$l as aM,xL as aN,oD as aO,gs as aP,Vl as aQ,vL as aR,nx as aS,y2 as aT,b2 as aU,Si as aV,eg as aW,x2 as aX,Hd as aY,m2 as aZ,T2 as a_,RL as aa,IL as ab,cx as ac,ku as ad,Du as ae,Hl as af,p2 as ag,Vd as ah,fx as ai,ux as aj,dL as ak,uL as al,AL as am,zL as an,ys as ao,Gn as ap,dq as aq,ps as ar,Me as as,Ie as at,XM as au,Rd as av,Z$ as aw,eq as ax,Dp as ay,Lp as az,UM as b,ci as b0,jp as b1,Wd as b2,ax as b3,If as b4,B2 as b5,kc as b6,yP as b7,Z_ as b8,WM as c,Dr as d,e1 as e,Xt as f,rv as g,Ul as h,Fa as i,aS as j,Kd as k,Re as l,dP as m,xB as n,zM as o,aP as p,QD as q,Cx as r,GM as s,LD as t,fq as u,xb as v,hP as w,dS as x,I2 as y,qd as z};
