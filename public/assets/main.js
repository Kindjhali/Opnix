/* eslint-disable */
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/c4Diagram-15b5d702-BtZobvnC.js","chunks/svgDrawCommon-3ba9043b-CdWgl4OJ.js","chunks/flowDiagram-cbd28bf7-BBGv6jIm.js","chunks/flowDb-7c981674-Cs1P2e6z.js","chunks/graph-BOs-OnYd.js","chunks/layout-DNdojMHx.js","chunks/styles-2ab5d517-BUsbNVXW.js","chunks/index-6079d271-DLy-BH91.js","chunks/clone-mG0sv98h.js","chunks/edges-332bd1c7-tGtFQZh9.js","chunks/createText-d213de94-Odh7ubiJ.js","chunks/line-D3neg19C.js","chunks/array-BKyUJesY.js","chunks/path-CbwjOpE9.js","chunks/channel-U8UvE9Nt.js","chunks/flowDiagram-v2-ffc7f31a-9uzUqGLS.js","chunks/erDiagram-880f2ed8-DGu80oZn.js","chunks/ganttDiagram-04f9e578-BHgJNci-.js","chunks/linear-Y3Id5j6t.js","chunks/init-Gi6I4Gst.js","chunks/pieDiagram-421022e6-Dv7vMdKC.js","chunks/arc-cNGY3eV4.js","chunks/ordinal-Cboi1Yqb.js","chunks/quadrantDiagram-0957ecba-CADpULQT.js","chunks/xychartDiagram-b6496bcd-C15EwDeW.js","chunks/requirementDiagram-23d650b8-fnGkM_1S.js","chunks/sequenceDiagram-17ac3bff-FpNbcy82.js","chunks/classDiagram-d40c83e7-Cj-mRfxo.js","chunks/styles-5f03d8d2-C8F4gO-F.js","chunks/classDiagram-v2-d5a6b087-CR3m-0v5.js","chunks/stateDiagram-9c5f0230-CBqKgsIg.js","chunks/styles-edf9a4b0-BZzAVlQz.js","chunks/stateDiagram-v2-51a3dcff-Bug3r4RQ.js","chunks/journeyDiagram-29694f62-BFvE3EY9.js","chunks/flowchart-elk-definition-36e2d292-DrgB5VCD.js","chunks/timeline-definition-7e6b55e7-CJ1Wwb16.js","chunks/mindmap-definition-ac74a2e8-CQsjJXmd.js","chunks/sankeyDiagram-23345273-C3k3szqQ.js","chunks/Tableau10-B-NsZVaP.js","chunks/blockDiagram-68f4deed-Cg9y_k4L.js"])))=>i.map(i=>d[i]);
var dk=Object.defineProperty;var jv=e=>{throw TypeError(e)};var pk=(e,t,r)=>t in e?dk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wt=(e,t,r)=>pk(e,typeof t!="symbol"?t+"":t,r),vk=(e,t,r)=>t.has(e)||jv("Cannot "+r);var Kv=(e,t,r)=>t.has(e)?jv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var cl=(e,t,r)=>(vk(e,t,"access private method"),r);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cp(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const pt={},Wa=[],Sn=()=>{},Db=()=>!1,ic=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),hp=e=>e.startsWith("onUpdate:"),_r=Object.assign,fp=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},gk=Object.prototype.hasOwnProperty,ot=(e,t)=>gk.call(e,t),Ue=Array.isArray,Ua=e=>qs(e)==="[object Map]",ac=e=>qs(e)==="[object Set]",Yv=e=>qs(e)==="[object Date]",Ke=e=>typeof e=="function",Vt=e=>typeof e=="string",Bn=e=>typeof e=="symbol",bt=e=>e!==null&&typeof e=="object",Mb=e=>(bt(e)||Ke(e))&&Ke(e.then)&&Ke(e.catch),Fb=Object.prototype.toString,qs=e=>Fb.call(e),mk=e=>qs(e).slice(8,-1),Pb=e=>qs(e)==="[object Object]",dp=e=>Vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Jo=cp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oc=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},yk=/-\w/g,Zr=oc(e=>e.replace(yk,t=>t.slice(1).toUpperCase())),bk=/\B([A-Z])/g,Di=oc(e=>e.replace(bk,"-$1").toLowerCase()),sc=oc(e=>e.charAt(0).toUpperCase()+e.slice(1)),rh=oc(e=>e?`on${sc(e)}`:""),na=(e,t)=>!Object.is(e,t),Il=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Rb=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},uu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Xv;const lc=()=>Xv||(Xv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sa(e){if(Ue(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Vt(n)?Tk(n):sa(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(Vt(e)||bt(e))return e}const xk=/;(?![^(]*\))/g,wk=/:([^]+)/,Ck=/\/\*[^]*?\*\//g;function Tk(e){const t={};return e.replace(Ck,"").split(xk).forEach(r=>{if(r){const n=r.split(wk);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function vt(e){let t="";if(Vt(e))t=e;else if(Ue(e))for(let r=0;r<e.length;r++){const n=vt(e[r]);n&&(t+=n+" ")}else if(bt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const kk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_k=cp(kk);function Ib(e){return!!e||e===""}function Sk(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=uc(e[n],t[n]);return r}function uc(e,t){if(e===t)return!0;let r=Yv(e),n=Yv(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Bn(e),n=Bn(t),r||n)return e===t;if(r=Ue(e),n=Ue(t),r||n)return r&&n?Sk(e,t):!1;if(r=bt(e),n=bt(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!uc(e[o],t[o]))return!1}}return String(e)===String(t)}function Ek(e,t){return e.findIndex(r=>uc(r,t))}const Ob=e=>!!(e&&e.__v_isRef===!0),be=e=>Vt(e)?e:e==null?"":Ue(e)||bt(e)&&(e.toString===Fb||!Ke(e.toString))?Ob(e)?be(e.value):JSON.stringify(e,Nb,2):String(e),Nb=(e,t)=>Ob(t)?Nb(e,t.value):Ua(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[nh(n,a)+" =>"]=i,r),{})}:ac(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>nh(r))}:Bn(t)?nh(t):bt(t)&&!Ue(t)&&!Pb(t)?String(t):t,nh=(e,t="")=>{var r;return Bn(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Br;class Ak{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Br,!t&&Br&&(this.index=(Br.scopes||(Br.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Br;try{return Br=this,t()}finally{Br=r}}}on(){++this._on===1&&(this.prevScope=Br,Br=this)}off(){this._on>0&&--this._on===0&&(Br=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Bk(){return Br}let yt;const ih=new WeakSet;class $b{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Br&&Br.active&&Br.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ih.has(this)&&(ih.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qb(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zv(this),Vb(this);const t=yt,r=ln;yt=this,ln=!0;try{return this.fn()}finally{Hb(this),yt=t,ln=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gp(t);this.deps=this.depsTail=void 0,Zv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ih.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ld(this)&&this.run()}get dirty(){return ld(this)}}let zb=0,es,ts;function qb(e,t=!1){if(e.flags|=8,t){e.next=ts,ts=e;return}e.next=es,es=e}function pp(){zb++}function vp(){if(--zb>0)return;if(ts){let t=ts;for(ts=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;es;){let t=es;for(es=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function Vb(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Hb(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),gp(n),Lk(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function ld(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Wb(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Wb(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ms)||(e.globalVersion=ms,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ld(e))))return;e.flags|=2;const t=e.dep,r=yt,n=ln;yt=e,ln=!0;try{Vb(e);const i=e.fn(e._value);(t.version===0||na(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{yt=r,ln=n,Hb(e),e.flags&=-3}}function gp(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)gp(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Lk(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let ln=!0;const Ub=[];function Xn(){Ub.push(ln),ln=!1}function Zn(){const e=Ub.pop();ln=e===void 0?!0:e}function Zv(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=yt;yt=void 0;try{t()}finally{yt=r}}}let ms=0;class Dk{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gb{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!yt||!ln||yt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==yt)r=this.activeLink=new Dk(yt,this),yt.deps?(r.prevDep=yt.depsTail,yt.depsTail.nextDep=r,yt.depsTail=r):yt.deps=yt.depsTail=r,jb(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=yt.depsTail,r.nextDep=void 0,yt.depsTail.nextDep=r,yt.depsTail=r,yt.deps===r&&(yt.deps=n)}return r}trigger(t){this.version++,ms++,this.notify(t)}notify(t){pp();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{vp()}}}function jb(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)jb(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ud=new WeakMap,ia=Symbol(""),cd=Symbol(""),ys=Symbol("");function ur(e,t,r){if(ln&&yt){let n=ud.get(e);n||ud.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new Gb),i.map=n,i.key=r),i.track()}}function Un(e,t,r,n,i,a){const o=ud.get(e);if(!o){ms++;return}const s=l=>{l&&l.trigger()};if(pp(),t==="clear")o.forEach(s);else{const l=Ue(e),u=l&&dp(r);if(l&&r==="length"){const c=Number(n);o.forEach((h,f)=>{(f==="length"||f===ys||!Bn(f)&&f>=c)&&s(h)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(ys)),t){case"add":l?u&&s(o.get("length")):(s(o.get(ia)),Ua(e)&&s(o.get(cd)));break;case"delete":l||(s(o.get(ia)),Ua(e)&&s(o.get(cd)));break;case"set":Ua(e)&&s(o.get(ia));break}}vp()}function Ea(e){const t=ft(e);return t===e?t:(ur(t,"iterate",ys),un(e)?t:t.map(xr))}function cc(e){return ur(e=ft(e),"iterate",ys),e}const Mk={__proto__:null,[Symbol.iterator](){return ah(this,Symbol.iterator,xr)},concat(...e){return Ea(this).concat(...e.map(t=>Ue(t)?Ea(t):t))},entries(){return ah(this,"entries",e=>(e[1]=xr(e[1]),e))},every(e,t){return Nn(this,"every",e,t,void 0,arguments)},filter(e,t){return Nn(this,"filter",e,t,r=>r.map(xr),arguments)},find(e,t){return Nn(this,"find",e,t,xr,arguments)},findIndex(e,t){return Nn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Nn(this,"findLast",e,t,xr,arguments)},findLastIndex(e,t){return Nn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Nn(this,"forEach",e,t,void 0,arguments)},includes(...e){return oh(this,"includes",e)},indexOf(...e){return oh(this,"indexOf",e)},join(e){return Ea(this).join(e)},lastIndexOf(...e){return oh(this,"lastIndexOf",e)},map(e,t){return Nn(this,"map",e,t,void 0,arguments)},pop(){return Ao(this,"pop")},push(...e){return Ao(this,"push",e)},reduce(e,...t){return Qv(this,"reduce",e,t)},reduceRight(e,...t){return Qv(this,"reduceRight",e,t)},shift(){return Ao(this,"shift")},some(e,t){return Nn(this,"some",e,t,void 0,arguments)},splice(...e){return Ao(this,"splice",e)},toReversed(){return Ea(this).toReversed()},toSorted(e){return Ea(this).toSorted(e)},toSpliced(...e){return Ea(this).toSpliced(...e)},unshift(...e){return Ao(this,"unshift",e)},values(){return ah(this,"values",xr)}};function ah(e,t,r){const n=cc(e),i=n[t]();return n!==e&&!un(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=r(a.value)),a}),i}const Fk=Array.prototype;function Nn(e,t,r,n,i,a){const o=cc(e),s=o!==e&&!un(e),l=o[t];if(l!==Fk[t]){const h=l.apply(e,a);return s?xr(h):h}let u=r;o!==e&&(s?u=function(h,f){return r.call(this,xr(h),f,e)}:r.length>2&&(u=function(h,f){return r.call(this,h,f,e)}));const c=l.call(o,u,n);return s&&i?i(c):c}function Qv(e,t,r,n){const i=cc(e);let a=r;return i!==e&&(un(e)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,e)}):a=function(o,s,l){return r.call(this,o,xr(s),l,e)}),i[t](a,...n)}function oh(e,t,r){const n=ft(e);ur(n,"iterate",ys);const i=n[t](...r);return(i===-1||i===!1)&&xp(r[0])?(r[0]=ft(r[0]),n[t](...r)):i}function Ao(e,t,r=[]){Xn(),pp();const n=ft(e)[t].apply(e,r);return vp(),Zn(),n}const Pk=cp("__proto__,__v_isRef,__isVue"),Kb=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Bn));function Rk(e){Bn(e)||(e=String(e));const t=ft(this);return ur(t,"has",e),t.hasOwnProperty(e)}class Yb{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?Uk:Jb:a?Qb:Zb).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Ue(t);if(!i){let l;if(o&&(l=Mk[r]))return l;if(r==="hasOwnProperty")return Rk}const s=Reflect.get(t,r,kr(t)?t:n);if((Bn(r)?Kb.has(r):Pk(r))||(i||ur(t,"get",r),a))return s;if(kr(s)){const l=o&&dp(r)?s:s.value;return i&&bt(l)?fd(l):l}return bt(s)?i?fd(s):yp(s):s}}class Xb extends Yb{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=la(a);if(!un(n)&&!la(n)&&(a=ft(a),n=ft(n)),!Ue(t)&&kr(a)&&!kr(n))return l||(a.value=n),!0}const o=Ue(t)&&dp(r)?Number(r)<t.length:ot(t,r),s=Reflect.set(t,r,n,kr(t)?t:i);return t===ft(i)&&(o?na(n,a)&&Un(t,"set",r,n):Un(t,"add",r,n)),s}deleteProperty(t,r){const n=ot(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Un(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Bn(r)||!Kb.has(r))&&ur(t,"has",r),n}ownKeys(t){return ur(t,"iterate",Ue(t)?"length":ia),Reflect.ownKeys(t)}}class Ik extends Yb{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Ok=new Xb,Nk=new Ik,$k=new Xb(!0);const hd=e=>e,hl=e=>Reflect.getPrototypeOf(e);function zk(e,t,r){return function(...n){const i=this.__v_raw,a=ft(i),o=Ua(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=r?hd:t?cu:xr;return!t&&ur(a,"iterate",l?cd:ia),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:s?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function fl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qk(e,t){const r={get(i){const a=this.__v_raw,o=ft(a),s=ft(i);e||(na(i,s)&&ur(o,"get",i),ur(o,"get",s));const{has:l}=hl(o),u=t?hd:e?cu:xr;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&ur(ft(i),"iterate",ia),i.size},has(i){const a=this.__v_raw,o=ft(a),s=ft(i);return e||(na(i,s)&&ur(o,"has",i),ur(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=ft(s),u=t?hd:e?cu:xr;return!e&&ur(l,"iterate",ia),s.forEach((c,h)=>i.call(a,u(c),u(h),o))}};return _r(r,e?{add:fl("add"),set:fl("set"),delete:fl("delete"),clear:fl("clear")}:{add(i){!t&&!un(i)&&!la(i)&&(i=ft(i));const a=ft(this);return hl(a).has.call(a,i)||(a.add(i),Un(a,"add",i,i)),this},set(i,a){!t&&!un(a)&&!la(a)&&(a=ft(a));const o=ft(this),{has:s,get:l}=hl(o);let u=s.call(o,i);u||(i=ft(i),u=s.call(o,i));const c=l.call(o,i);return o.set(i,a),u?na(a,c)&&Un(o,"set",i,a):Un(o,"add",i,a),this},delete(i){const a=ft(this),{has:o,get:s}=hl(a);let l=o.call(a,i);l||(i=ft(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&Un(a,"delete",i,void 0),u},clear(){const i=ft(this),a=i.size!==0,o=i.clear();return a&&Un(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=zk(i,e,t)}),r}function mp(e,t){const r=qk(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(ot(r,i)&&i in n?r:n,i,a)}const Vk={get:mp(!1,!1)},Hk={get:mp(!1,!0)},Wk={get:mp(!0,!1)};const Zb=new WeakMap,Qb=new WeakMap,Jb=new WeakMap,Uk=new WeakMap;function Gk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jk(e){return e.__v_skip||!Object.isExtensible(e)?0:Gk(mk(e))}function yp(e){return la(e)?e:bp(e,!1,Ok,Vk,Zb)}function Kk(e){return bp(e,!1,$k,Hk,Qb)}function fd(e){return bp(e,!0,Nk,Wk,Jb)}function bp(e,t,r,n,i){if(!bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=jk(e);if(a===0)return e;const o=i.get(e);if(o)return o;const s=new Proxy(e,a===2?n:r);return i.set(e,s),s}function Ga(e){return la(e)?Ga(e.__v_raw):!!(e&&e.__v_isReactive)}function la(e){return!!(e&&e.__v_isReadonly)}function un(e){return!!(e&&e.__v_isShallow)}function xp(e){return e?!!e.__v_raw:!1}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}function Yk(e){return!ot(e,"__v_skip")&&Object.isExtensible(e)&&Rb(e,"__v_skip",!0),e}const xr=e=>bt(e)?yp(e):e,cu=e=>bt(e)?fd(e):e;function kr(e){return e?e.__v_isRef===!0:!1}function Xk(e){return kr(e)?e.value:e}const Zk={get:(e,t,r)=>t==="__v_raw"?e:Xk(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return kr(i)&&!kr(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function e1(e){return Ga(e)?e:new Proxy(e,Zk)}class Qk{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Gb(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&yt!==this)return qb(this,!0),!0}get value(){const t=this.dep.track();return Wb(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Jk(e,t,r=!1){let n,i;return Ke(e)?n=e:(n=e.get,i=e.set),new Qk(n,i,r)}const dl={},hu=new WeakMap;let Ui;function e_(e,t=!1,r=Ui){if(r){let n=hu.get(r);n||hu.set(r,n=[]),n.push(e)}}function t_(e,t,r=pt){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=x=>i?x:un(x)||i===!1||i===0?Gn(x,1):Gn(x);let c,h,f,d,p=!1,m=!1;if(kr(e)?(h=()=>e.value,p=un(e)):Ga(e)?(h=()=>u(e),p=!0):Ue(e)?(m=!0,p=e.some(x=>Ga(x)||un(x)),h=()=>e.map(x=>{if(kr(x))return x.value;if(Ga(x))return u(x);if(Ke(x))return l?l(x,2):x()})):Ke(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Xn();try{f()}finally{Zn()}}const x=Ui;Ui=c;try{return l?l(e,3,[d]):e(d)}finally{Ui=x}}:h=Sn,t&&i){const x=h,C=i===!0?1/0:i;h=()=>Gn(x(),C)}const v=Bk(),y=()=>{c.stop(),v&&v.active&&fp(v.effects,c)};if(a&&t){const x=t;t=(...C)=>{x(...C),y()}}let g=m?new Array(e.length).fill(dl):dl;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const C=c.run();if(i||p||(m?C.some((T,w)=>na(T,g[w])):na(C,g))){f&&f();const T=Ui;Ui=c;try{const w=[C,g===dl?void 0:m&&g[0]===dl?[]:g,d];g=C,l?l(t,3,w):t(...w)}finally{Ui=T}}}else c.run()};return s&&s(b),c=new $b(h),c.scheduler=o?()=>o(b,!1):b,d=x=>e_(x,!1,c),f=c.onStop=()=>{const x=hu.get(c);if(x){if(l)l(x,4);else for(const C of x)C();hu.delete(c)}},t?n?b(!0):g=c.run():o?o(b.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Gn(e,t=1/0,r){if(t<=0||!bt(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,kr(e))Gn(e.value,t,r);else if(Ue(e))for(let n=0;n<e.length;n++)Gn(e[n],t,r);else if(ac(e)||Ua(e))e.forEach(n=>{Gn(n,t,r)});else if(Pb(e)){for(const n in e)Gn(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Gn(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vs(e,t,r,n){try{return n?e(...n):e()}catch(i){hc(i,t,r)}}function Ln(e,t,r,n){if(Ke(e)){const i=Vs(e,t,r,n);return i&&Mb(i)&&i.catch(a=>{hc(a,t,r)}),i}if(Ue(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Ln(e[a],t,r,n));return i}}function hc(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||pt;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}s=s.parent}if(a){Xn(),Vs(a,null,10,[e,l,u]),Zn();return}}r_(e,r,i,n,o)}function r_(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const wr=[];let xn=-1;const ja=[];let li=null,Oa=0;const t1=Promise.resolve();let fu=null;function r1(e){const t=fu||t1;return e?t.then(this?e.bind(this):e):t}function n_(e){let t=xn+1,r=wr.length;for(;t<r;){const n=t+r>>>1,i=wr[n],a=bs(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function wp(e){if(!(e.flags&1)){const t=bs(e),r=wr[wr.length-1];!r||!(e.flags&2)&&t>=bs(r)?wr.push(e):wr.splice(n_(t),0,e),e.flags|=1,n1()}}function n1(){fu||(fu=t1.then(a1))}function i_(e){Ue(e)?ja.push(...e):li&&e.id===-1?li.splice(Oa+1,0,e):e.flags&1||(ja.push(e),e.flags|=1),n1()}function Jv(e,t,r=xn+1){for(;r<wr.length;r++){const n=wr[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;wr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function i1(e){if(ja.length){const t=[...new Set(ja)].sort((r,n)=>bs(r)-bs(n));if(ja.length=0,li){li.push(...t);return}for(li=t,Oa=0;Oa<li.length;Oa++){const r=li[Oa];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}li=null,Oa=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function a1(e){try{for(xn=0;xn<wr.length;xn++){const t=wr[xn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Vs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xn<wr.length;xn++){const t=wr[xn];t&&(t.flags&=-2)}xn=-1,wr.length=0,i1(),fu=null,(wr.length||ja.length)&&a1()}}let Nr=null,o1=null;function du(e){const t=Nr;return Nr=e,o1=e&&e.type.__scopeId||null,t}function a_(e,t=Nr,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&cg(-1);const a=du(t);let o;try{o=e(...i)}finally{du(a),n._d&&cg(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function mi(e,t){if(Nr===null)return e;const r=vc(Nr),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=pt]=t[i];a&&(Ke(a)&&(a={mounted:a,updated:a}),a.deep&&Gn(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function qi(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(Xn(),Ln(l,r,8,[e.el,s,e,t]),Zn())}}const o_=Symbol("_vte"),s_=e=>e.__isTeleport,l_=Symbol("_leaveCb");function Cp(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cp(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function s1(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pu=new WeakMap;function rs(e,t,r,n,i=!1){if(Ue(e)){e.forEach((p,m)=>rs(p,t&&(Ue(t)?t[m]:t),r,n,i));return}if(ns(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&rs(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?vc(n.component):n.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,c=s.refs===pt?s.refs={}:s.refs,h=s.setupState,f=ft(h),d=h===pt?Db:p=>ot(f,p);if(u!=null&&u!==l){if(eg(t),Vt(u))c[u]=null,d(u)&&(h[u]=null);else if(kr(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(Ke(l))Vs(l,s,12,[o,c]);else{const p=Vt(l),m=kr(l);if(p||m){const v=()=>{if(e.f){const y=p?d(l)?h[l]:c[l]:l.value;if(i)Ue(y)&&fp(y,a);else if(Ue(y))y.includes(a)||y.push(a);else if(p)c[l]=[a],d(l)&&(h[l]=c[l]);else{const g=[a];l.value=g,e.k&&(c[e.k]=g)}}else p?(c[l]=o,d(l)&&(h[l]=o)):m&&(l.value=o,e.k&&(c[e.k]=o))};if(o){const y=()=>{v(),pu.delete(e)};y.id=-1,pu.set(e,y),Ir(y,r)}else eg(e),v()}}}function eg(e){const t=pu.get(e);t&&(t.flags|=8,pu.delete(e))}lc().requestIdleCallback;lc().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,l1=e=>e.type.__isKeepAlive;function u_(e,t){u1(e,"a",t)}function c_(e,t){u1(e,"da",t)}function u1(e,t,r=cr){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(fc(t,n,r),r){let i=r.parent;for(;i&&i.parent;)l1(i.parent.vnode)&&h_(n,t,r,i),i=i.parent}}function h_(e,t,r,n){const i=fc(t,e,n,!0);c1(()=>{fp(n[t],i)},r)}function fc(e,t,r=cr,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Xn();const s=Hs(r),l=Ln(t,r,e,o);return s(),Zn(),l});return n?i.unshift(a):i.push(a),a}}const ti=e=>(t,r=cr)=>{(!ws||e==="sp")&&fc(e,(...n)=>t(...n),r)},f_=ti("bm"),d_=ti("m"),p_=ti("bu"),v_=ti("u"),g_=ti("bum"),c1=ti("um"),m_=ti("sp"),y_=ti("rtg"),b_=ti("rtc");function x_(e,t=cr){fc("ec",e,t)}const w_="components";function Ft(e,t){return T_(w_,e,!0,t)||e}const C_=Symbol.for("v-ndc");function T_(e,t,r=!0,n=!1){const i=Nr||cr;if(i){const a=i.type;{const s=fS(a,!1);if(s&&(s===t||s===Zr(t)||s===sc(Zr(t))))return a}const o=tg(i[e]||a[e],t)||tg(i.appContext[e],t);return!o&&n?a:o}}function tg(e,t){return e&&(e[t]||e[Zr(t)]||e[sc(Zr(t))])}function Tt(e,t,r,n){let i;const a=r,o=Ue(e);if(o||Vt(e)){const s=o&&Ga(e);let l=!1,u=!1;s&&(l=!un(e),u=la(e),e=cc(e)),i=new Array(e.length);for(let c=0,h=e.length;c<h;c++)i[c]=t(l?u?cu(xr(e[c])):xr(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(bt(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}const dd=e=>e?M1(e)?vc(e):dd(e.parent):null,is=_r(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>dd(e.parent),$root:e=>dd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>f1(e),$forceUpdate:e=>e.f||(e.f=()=>{wp(e.update)}),$nextTick:e=>e.n||(e.n=r1.bind(e.proxy)),$watch:e=>U_.bind(e)}),sh=(e,t)=>e!==pt&&!e.__isScriptSetup&&ot(e,t),k_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(sh(n,t))return o[t]=1,n[t];if(i!==pt&&ot(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&ot(u,t))return o[t]=3,a[t];if(r!==pt&&ot(r,t))return o[t]=4,r[t];pd&&(o[t]=0)}}const c=is[t];let h,f;if(c)return t==="$attrs"&&ur(e.attrs,"get",""),c(e);if((h=s.__cssModules)&&(h=h[t]))return h;if(r!==pt&&ot(r,t))return o[t]=4,r[t];if(f=l.config.globalProperties,ot(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return sh(i,t)?(i[t]=r,!0):n!==pt&&ot(n,t)?(n[t]=r,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a,type:o}},s){let l,u;return!!(r[s]||e!==pt&&s[0]!=="$"&&ot(e,s)||sh(t,s)||(l=a[0])&&ot(l,s)||ot(n,s)||ot(is,s)||ot(i.config.globalProperties,s)||(u=o.__cssModules)&&u[s])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ot(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function rg(e){return Ue(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let pd=!0;function __(e){const t=f1(e),r=e.proxy,n=e.ctx;pd=!1,t.beforeCreate&&ng(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:g,destroyed:b,unmounted:x,render:C,renderTracked:T,renderTriggered:w,errorCaptured:k,serverPrefetch:E,expose:A,inheritAttrs:S,components:B,directives:D,filters:I}=t;if(u&&S_(u,n,null),o)for(const M in o){const N=o[M];Ke(N)&&(n[M]=N.bind(r))}if(i){const M=i.call(r,r);bt(M)&&(e.data=yp(M))}if(pd=!0,a)for(const M in a){const N=a[M],z=Ke(N)?N.bind(r,r):Ke(N.get)?N.get.bind(r,r):Sn,U=!Ke(N)&&Ke(N.set)?N.set.bind(r):Sn,$=pS({get:z,set:U});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>$.value,set:W=>$.value=W})}if(s)for(const M in s)h1(s[M],n,r,M);if(l){const M=Ke(l)?l.call(r):l;Reflect.ownKeys(M).forEach(N=>{M_(N,M[N])})}c&&ng(c,e,"c");function F(M,N){Ue(N)?N.forEach(z=>M(z.bind(r))):N&&M(N.bind(r))}if(F(f_,h),F(d_,f),F(p_,d),F(v_,p),F(u_,m),F(c_,v),F(x_,k),F(b_,T),F(y_,w),F(g_,g),F(c1,x),F(m_,E),Ue(A))if(A.length){const M=e.exposed||(e.exposed={});A.forEach(N=>{Object.defineProperty(M,N,{get:()=>r[N],set:z=>r[N]=z,enumerable:!0})})}else e.exposed||(e.exposed={});C&&e.render===Sn&&(e.render=C),S!=null&&(e.inheritAttrs=S),B&&(e.components=B),D&&(e.directives=D),E&&s1(e)}function S_(e,t,r=Sn){Ue(e)&&(e=vd(e));for(const n in e){const i=e[n];let a;bt(i)?"default"in i?a=Ol(i.from||n,i.default,!0):a=Ol(i.from||n):a=Ol(i),kr(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function ng(e,t,r){Ln(Ue(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function h1(e,t,r,n){let i=n.includes(".")?_1(r,n):()=>r[n];if(Vt(e)){const a=t[e];Ke(a)&&uh(i,a)}else if(Ke(e))uh(i,e.bind(r));else if(bt(e))if(Ue(e))e.forEach(a=>h1(a,t,r,n));else{const a=Ke(e.handler)?e.handler.bind(r):t[e.handler];Ke(a)&&uh(i,a,e)}}function f1(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>vu(l,u,o,!0)),vu(l,t,o)),bt(t)&&a.set(t,l),l}function vu(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&vu(e,a,r,!0),i&&i.forEach(o=>vu(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=E_[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const E_={data:ig,props:ag,emits:ag,methods:Uo,computed:Uo,beforeCreate:yr,created:yr,beforeMount:yr,mounted:yr,beforeUpdate:yr,updated:yr,beforeDestroy:yr,beforeUnmount:yr,destroyed:yr,unmounted:yr,activated:yr,deactivated:yr,errorCaptured:yr,serverPrefetch:yr,components:Uo,directives:Uo,watch:B_,provide:ig,inject:A_};function ig(e,t){return t?e?function(){return _r(Ke(e)?e.call(this,this):e,Ke(t)?t.call(this,this):t)}:t:e}function A_(e,t){return Uo(vd(e),vd(t))}function vd(e){if(Ue(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function yr(e,t){return e?[...new Set([].concat(e,t))]:t}function Uo(e,t){return e?_r(Object.create(null),e,t):t}function ag(e,t){return e?Ue(e)&&Ue(t)?[...new Set([...e,...t])]:_r(Object.create(null),rg(e),rg(t??{})):t}function B_(e,t){if(!e)return t;if(!t)return e;const r=_r(Object.create(null),e);for(const n in t)r[n]=yr(e[n],t[n]);return r}function d1(){return{app:null,config:{isNativeTag:Db,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L_=0;function D_(e,t){return function(n,i=null){Ke(n)||(n=_r({},n)),i!=null&&!bt(i)&&(i=null);const a=d1(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:L_++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:vS,get config(){return a.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ke(c.install)?(o.add(c),c.install(u,...h)):Ke(c)&&(o.add(c),c(u,...h))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,h){return h?(a.components[c]=h,u):a.components[c]},directive(c,h){return h?(a.directives[c]=h,u):a.directives[c]},mount(c,h,f){if(!l){const d=u._ceVNode||Qe(n,i);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(d,c,f),l=!0,u._container=c,c.__vue_app__=u,vc(d.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Ln(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return a.provides[c]=h,u},runWithContext(c){const h=Ka;Ka=u;try{return c()}finally{Ka=h}}};return u}}let Ka=null;function M_(e,t){if(cr){let r=cr.provides;const n=cr.parent&&cr.parent.provides;n===r&&(r=cr.provides=Object.create(n)),r[e]=t}}function Ol(e,t,r=!1){const n=sS();if(n||Ka){let i=Ka?Ka._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Ke(t)?t.call(n&&n.proxy):t}}const p1={},v1=()=>Object.create(p1),g1=e=>Object.getPrototypeOf(e)===p1;function F_(e,t,r,n=!1){const i={},a=v1();e.propsDefaults=Object.create(null),m1(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:Kk(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function P_(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=ft(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(dc(e.emitsOptions,f))continue;const d=t[f];if(l)if(ot(a,f))d!==a[f]&&(a[f]=d,u=!0);else{const p=Zr(f);i[p]=gd(l,s,p,d,e,!1)}else d!==a[f]&&(a[f]=d,u=!0)}}}else{m1(e,t,i,a)&&(u=!0);let c;for(const h in s)(!t||!ot(t,h)&&((c=Di(h))===h||!ot(t,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(i[h]=gd(l,s,h,void 0,e,!0)):delete i[h]);if(a!==s)for(const h in a)(!t||!ot(t,h))&&(delete a[h],u=!0)}u&&Un(e.attrs,"set","")}function m1(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Jo(l))continue;const u=t[l];let c;i&&ot(i,c=Zr(l))?!a||!a.includes(c)?r[c]=u:(s||(s={}))[c]=u:dc(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=ft(r),u=s||pt;for(let c=0;c<a.length;c++){const h=a[c];r[h]=gd(i,l,h,u[h],e,!ot(u,h))}}return o}function gd(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=ot(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ke(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=Hs(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Di(r))&&(n=!0))}return n}const R_=new WeakMap;function y1(e,t,r=!1){const n=r?R_:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!Ke(e)){const c=h=>{l=!0;const[f,d]=y1(h,t,!0);_r(o,f),d&&s.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return bt(e)&&n.set(e,Wa),Wa;if(Ue(a))for(let c=0;c<a.length;c++){const h=Zr(a[c]);og(h)&&(o[h]=pt)}else if(a)for(const c in a){const h=Zr(c);if(og(h)){const f=a[c],d=o[h]=Ue(f)||Ke(f)?{type:f}:_r({},f),p=d.type;let m=!1,v=!0;if(Ue(p))for(let y=0;y<p.length;++y){const g=p[y],b=Ke(g)&&g.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(v=!1)}else m=Ke(p)&&p.name==="Boolean";d[0]=m,d[1]=v,(m||ot(d,"default"))&&s.push(h)}}const u=[o,s];return bt(e)&&n.set(e,u),u}function og(e){return e[0]!=="$"&&!Jo(e)}const Tp=e=>e==="_"||e==="_ctx"||e==="$stable",kp=e=>Ue(e)?e.map(Cn):[Cn(e)],I_=(e,t,r)=>{if(t._n)return t;const n=a_((...i)=>kp(t(...i)),r);return n._c=!1,n},b1=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Tp(i))continue;const a=e[i];if(Ke(a))t[i]=I_(i,a,n);else if(a!=null){const o=kp(a);t[i]=()=>o}}},x1=(e,t)=>{const r=kp(t);e.slots.default=()=>r},w1=(e,t,r)=>{for(const n in t)(r||!Tp(n))&&(e[n]=t[n])},O_=(e,t,r)=>{const n=e.slots=v1();if(e.vnode.shapeFlag&32){const i=t._;i?(w1(n,t,r),r&&Rb(n,"_",i,!0)):b1(t,n)}else t&&x1(e,t)},N_=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=pt;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:w1(i,t,r):(a=!t.$stable,b1(t,i)),o=t}else t&&(x1(e,t),o={default:1});if(a)for(const s in i)!Tp(s)&&o[s]==null&&delete i[s]},Ir=J_;function $_(e){return z_(e)}function z_(e,t){const r=lc();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=Sn,insertStaticContent:p}=e,m=(_,P,V,ee=null,q=null,H=null,Z=void 0,ne=null,te=!!P.dynamicChildren)=>{if(_===P)return;_&&!Bo(_,P)&&(ee=ce(_),W(_,q,H,!0),_=null),P.patchFlag===-2&&(te=!1,P.dynamicChildren=null);const{type:re,ref:ge,shapeFlag:pe}=P;switch(re){case pc:v(_,P,V,ee);break;case wi:y(_,P,V,ee);break;case Nl:_==null&&g(P,V,ee,Z);break;case tt:B(_,P,V,ee,q,H,Z,ne,te);break;default:pe&1?C(_,P,V,ee,q,H,Z,ne,te):pe&6?D(_,P,V,ee,q,H,Z,ne,te):(pe&64||pe&128)&&re.process(_,P,V,ee,q,H,Z,ne,te,G)}ge!=null&&q?rs(ge,_&&_.ref,H,P||_,!P):ge==null&&_&&_.ref!=null&&rs(_.ref,null,H,_,!0)},v=(_,P,V,ee)=>{if(_==null)n(P.el=s(P.children),V,ee);else{const q=P.el=_.el;P.children!==_.children&&u(q,P.children)}},y=(_,P,V,ee)=>{_==null?n(P.el=l(P.children||""),V,ee):P.el=_.el},g=(_,P,V,ee)=>{[_.el,_.anchor]=p(_.children,P,V,ee,_.el,_.anchor)},b=({el:_,anchor:P},V,ee)=>{let q;for(;_&&_!==P;)q=f(_),n(_,V,ee),_=q;n(P,V,ee)},x=({el:_,anchor:P})=>{let V;for(;_&&_!==P;)V=f(_),i(_),_=V;i(P)},C=(_,P,V,ee,q,H,Z,ne,te)=>{P.type==="svg"?Z="svg":P.type==="math"&&(Z="mathml"),_==null?T(P,V,ee,q,H,Z,ne,te):E(_,P,q,H,Z,ne,te)},T=(_,P,V,ee,q,H,Z,ne)=>{let te,re;const{props:ge,shapeFlag:pe,transition:me,dirs:xe}=_;if(te=_.el=o(_.type,H,ge&&ge.is,ge),pe&8?c(te,_.children):pe&16&&k(_.children,te,null,ee,q,lh(_,H),Z,ne),xe&&qi(_,null,ee,"created"),w(te,_,_.scopeId,Z,ee),ge){for(const Ie in ge)Ie!=="value"&&!Jo(Ie)&&a(te,Ie,null,ge[Ie],H,ee);"value"in ge&&a(te,"value",null,ge.value,H),(re=ge.onVnodeBeforeMount)&&gn(re,ee,_)}xe&&qi(_,null,ee,"beforeMount");const _e=q_(q,me);_e&&me.beforeEnter(te),n(te,P,V),((re=ge&&ge.onVnodeMounted)||_e||xe)&&Ir(()=>{re&&gn(re,ee,_),_e&&me.enter(te),xe&&qi(_,null,ee,"mounted")},q)},w=(_,P,V,ee,q)=>{if(V&&d(_,V),ee)for(let H=0;H<ee.length;H++)d(_,ee[H]);if(q){let H=q.subTree;if(P===H||E1(H.type)&&(H.ssContent===P||H.ssFallback===P)){const Z=q.vnode;w(_,Z,Z.scopeId,Z.slotScopeIds,q.parent)}}},k=(_,P,V,ee,q,H,Z,ne,te=0)=>{for(let re=te;re<_.length;re++){const ge=_[re]=ne?ui(_[re]):Cn(_[re]);m(null,ge,P,V,ee,q,H,Z,ne)}},E=(_,P,V,ee,q,H,Z)=>{const ne=P.el=_.el;let{patchFlag:te,dynamicChildren:re,dirs:ge}=P;te|=_.patchFlag&16;const pe=_.props||pt,me=P.props||pt;let xe;if(V&&Vi(V,!1),(xe=me.onVnodeBeforeUpdate)&&gn(xe,V,P,_),ge&&qi(P,_,V,"beforeUpdate"),V&&Vi(V,!0),(pe.innerHTML&&me.innerHTML==null||pe.textContent&&me.textContent==null)&&c(ne,""),re?A(_.dynamicChildren,re,ne,V,ee,lh(P,q),H):Z||N(_,P,ne,null,V,ee,lh(P,q),H,!1),te>0){if(te&16)S(ne,pe,me,V,q);else if(te&2&&pe.class!==me.class&&a(ne,"class",null,me.class,q),te&4&&a(ne,"style",pe.style,me.style,q),te&8){const _e=P.dynamicProps;for(let Ie=0;Ie<_e.length;Ie++){const De=_e[Ie],He=pe[De],Ae=me[De];(Ae!==He||De==="value")&&a(ne,De,He,Ae,q,V)}}te&1&&_.children!==P.children&&c(ne,P.children)}else!Z&&re==null&&S(ne,pe,me,V,q);((xe=me.onVnodeUpdated)||ge)&&Ir(()=>{xe&&gn(xe,V,P,_),ge&&qi(P,_,V,"updated")},ee)},A=(_,P,V,ee,q,H,Z)=>{for(let ne=0;ne<P.length;ne++){const te=_[ne],re=P[ne],ge=te.el&&(te.type===tt||!Bo(te,re)||te.shapeFlag&198)?h(te.el):V;m(te,re,ge,null,ee,q,H,Z,!0)}},S=(_,P,V,ee,q)=>{if(P!==V){if(P!==pt)for(const H in P)!Jo(H)&&!(H in V)&&a(_,H,P[H],null,q,ee);for(const H in V){if(Jo(H))continue;const Z=V[H],ne=P[H];Z!==ne&&H!=="value"&&a(_,H,ne,Z,q,ee)}"value"in V&&a(_,"value",P.value,V.value,q)}},B=(_,P,V,ee,q,H,Z,ne,te)=>{const re=P.el=_?_.el:s(""),ge=P.anchor=_?_.anchor:s("");let{patchFlag:pe,dynamicChildren:me,slotScopeIds:xe}=P;xe&&(ne=ne?ne.concat(xe):xe),_==null?(n(re,V,ee),n(ge,V,ee),k(P.children||[],V,ge,q,H,Z,ne,te)):pe>0&&pe&64&&me&&_.dynamicChildren?(A(_.dynamicChildren,me,V,q,H,Z,ne),(P.key!=null||q&&P===q.subTree)&&C1(_,P,!0)):N(_,P,V,ge,q,H,Z,ne,te)},D=(_,P,V,ee,q,H,Z,ne,te)=>{P.slotScopeIds=ne,_==null?P.shapeFlag&512?q.ctx.activate(P,V,ee,Z,te):I(P,V,ee,q,H,Z,te):O(_,P,te)},I=(_,P,V,ee,q,H,Z)=>{const ne=_.component=oS(_,ee,q);if(l1(_)&&(ne.ctx.renderer=G),lS(ne,!1,Z),ne.asyncDep){if(q&&q.registerDep(ne,F,Z),!_.el){const te=ne.subTree=Qe(wi);y(null,te,P,V),_.placeholder=te.el}}else F(ne,_,P,V,q,H,Z)},O=(_,P,V)=>{const ee=P.component=_.component;if(Z_(_,P,V))if(ee.asyncDep&&!ee.asyncResolved){M(ee,P,V);return}else ee.next=P,ee.update();else P.el=_.el,ee.vnode=P},F=(_,P,V,ee,q,H,Z)=>{const ne=()=>{if(_.isMounted){let{next:pe,bu:me,u:xe,parent:_e,vnode:Ie}=_;{const ue=T1(_);if(ue){pe&&(pe.el=Ie.el,M(_,pe,Z)),ue.asyncDep.then(()=>{_.isUnmounted||ne()});return}}let De=pe,He;Vi(_,!1),pe?(pe.el=Ie.el,M(_,pe,Z)):pe=Ie,me&&Il(me),(He=pe.props&&pe.props.onVnodeBeforeUpdate)&&gn(He,_e,pe,Ie),Vi(_,!0);const Ae=lg(_),Te=_.subTree;_.subTree=Ae,m(Te,Ae,h(Te.el),ce(Te),_,q,H),pe.el=Ae.el,De===null&&Q_(_,Ae.el),xe&&Ir(xe,q),(He=pe.props&&pe.props.onVnodeUpdated)&&Ir(()=>gn(He,_e,pe,Ie),q)}else{let pe;const{el:me,props:xe}=P,{bm:_e,m:Ie,parent:De,root:He,type:Ae}=_,Te=ns(P);Vi(_,!1),_e&&Il(_e),!Te&&(pe=xe&&xe.onVnodeBeforeMount)&&gn(pe,De,P),Vi(_,!0);{He.ce&&He.ce._def.shadowRoot!==!1&&He.ce._injectChildStyle(Ae);const ue=_.subTree=lg(_);m(null,ue,V,ee,_,q,H),P.el=ue.el}if(Ie&&Ir(Ie,q),!Te&&(pe=xe&&xe.onVnodeMounted)){const ue=P;Ir(()=>gn(pe,De,ue),q)}(P.shapeFlag&256||De&&ns(De.vnode)&&De.vnode.shapeFlag&256)&&_.a&&Ir(_.a,q),_.isMounted=!0,P=V=ee=null}};_.scope.on();const te=_.effect=new $b(ne);_.scope.off();const re=_.update=te.run.bind(te),ge=_.job=te.runIfDirty.bind(te);ge.i=_,ge.id=_.uid,te.scheduler=()=>wp(ge),Vi(_,!0),re()},M=(_,P,V)=>{P.component=_;const ee=_.vnode.props;_.vnode=P,_.next=null,P_(_,P.props,ee,V),N_(_,P.children,V),Xn(),Jv(_),Zn()},N=(_,P,V,ee,q,H,Z,ne,te=!1)=>{const re=_&&_.children,ge=_?_.shapeFlag:0,pe=P.children,{patchFlag:me,shapeFlag:xe}=P;if(me>0){if(me&128){U(re,pe,V,ee,q,H,Z,ne,te);return}else if(me&256){z(re,pe,V,ee,q,H,Z,ne,te);return}}xe&8?(ge&16&&oe(re,q,H),pe!==re&&c(V,pe)):ge&16?xe&16?U(re,pe,V,ee,q,H,Z,ne,te):oe(re,q,H,!0):(ge&8&&c(V,""),xe&16&&k(pe,V,ee,q,H,Z,ne,te))},z=(_,P,V,ee,q,H,Z,ne,te)=>{_=_||Wa,P=P||Wa;const re=_.length,ge=P.length,pe=Math.min(re,ge);let me;for(me=0;me<pe;me++){const xe=P[me]=te?ui(P[me]):Cn(P[me]);m(_[me],xe,V,null,q,H,Z,ne,te)}re>ge?oe(_,q,H,!0,!1,pe):k(P,V,ee,q,H,Z,ne,te,pe)},U=(_,P,V,ee,q,H,Z,ne,te)=>{let re=0;const ge=P.length;let pe=_.length-1,me=ge-1;for(;re<=pe&&re<=me;){const xe=_[re],_e=P[re]=te?ui(P[re]):Cn(P[re]);if(Bo(xe,_e))m(xe,_e,V,null,q,H,Z,ne,te);else break;re++}for(;re<=pe&&re<=me;){const xe=_[pe],_e=P[me]=te?ui(P[me]):Cn(P[me]);if(Bo(xe,_e))m(xe,_e,V,null,q,H,Z,ne,te);else break;pe--,me--}if(re>pe){if(re<=me){const xe=me+1,_e=xe<ge?P[xe].el:ee;for(;re<=me;)m(null,P[re]=te?ui(P[re]):Cn(P[re]),V,_e,q,H,Z,ne,te),re++}}else if(re>me)for(;re<=pe;)W(_[re],q,H,!0),re++;else{const xe=re,_e=re,Ie=new Map;for(re=_e;re<=me;re++){const ae=P[re]=te?ui(P[re]):Cn(P[re]);ae.key!=null&&Ie.set(ae.key,re)}let De,He=0;const Ae=me-_e+1;let Te=!1,ue=0;const L=new Array(Ae);for(re=0;re<Ae;re++)L[re]=0;for(re=xe;re<=pe;re++){const ae=_[re];if(He>=Ae){W(ae,q,H,!0);continue}let le;if(ae.key!=null)le=Ie.get(ae.key);else for(De=_e;De<=me;De++)if(L[De-_e]===0&&Bo(ae,P[De])){le=De;break}le===void 0?W(ae,q,H,!0):(L[le-_e]=re+1,le>=ue?ue=le:Te=!0,m(ae,P[le],V,null,q,H,Z,ne,te),He++)}const Q=Te?V_(L):Wa;for(De=Q.length-1,re=Ae-1;re>=0;re--){const ae=_e+re,le=P[ae],fe=P[ae+1],Ee=ae+1<ge?fe.el||fe.placeholder:ee;L[re]===0?m(null,le,V,Ee,q,H,Z,ne,te):Te&&(De<0||re!==Q[De]?$(le,V,Ee,2):De--)}}},$=(_,P,V,ee,q=null)=>{const{el:H,type:Z,transition:ne,children:te,shapeFlag:re}=_;if(re&6){$(_.component.subTree,P,V,ee);return}if(re&128){_.suspense.move(P,V,ee);return}if(re&64){Z.move(_,P,V,G);return}if(Z===tt){n(H,P,V);for(let pe=0;pe<te.length;pe++)$(te[pe],P,V,ee);n(_.anchor,P,V);return}if(Z===Nl){b(_,P,V);return}if(ee!==2&&re&1&&ne)if(ee===0)ne.beforeEnter(H),n(H,P,V),Ir(()=>ne.enter(H),q);else{const{leave:pe,delayLeave:me,afterLeave:xe}=ne,_e=()=>{_.ctx.isUnmounted?i(H):n(H,P,V)},Ie=()=>{H._isLeaving&&H[l_](!0),pe(H,()=>{_e(),xe&&xe()})};me?me(H,_e,Ie):Ie()}else n(H,P,V)},W=(_,P,V,ee=!1,q=!1)=>{const{type:H,props:Z,ref:ne,children:te,dynamicChildren:re,shapeFlag:ge,patchFlag:pe,dirs:me,cacheIndex:xe}=_;if(pe===-2&&(q=!1),ne!=null&&(Xn(),rs(ne,null,V,_,!0),Zn()),xe!=null&&(P.renderCache[xe]=void 0),ge&256){P.ctx.deactivate(_);return}const _e=ge&1&&me,Ie=!ns(_);let De;if(Ie&&(De=Z&&Z.onVnodeBeforeUnmount)&&gn(De,P,_),ge&6)Y(_.component,V,ee);else{if(ge&128){_.suspense.unmount(V,ee);return}_e&&qi(_,null,P,"beforeUnmount"),ge&64?_.type.remove(_,P,V,G,ee):re&&!re.hasOnce&&(H!==tt||pe>0&&pe&64)?oe(re,P,V,!1,!0):(H===tt&&pe&384||!q&&ge&16)&&oe(te,P,V),ee&&X(_)}(Ie&&(De=Z&&Z.onVnodeUnmounted)||_e)&&Ir(()=>{De&&gn(De,P,_),_e&&qi(_,null,P,"unmounted")},V)},X=_=>{const{type:P,el:V,anchor:ee,transition:q}=_;if(P===tt){ie(V,ee);return}if(P===Nl){x(_);return}const H=()=>{i(V),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(_.shapeFlag&1&&q&&!q.persisted){const{leave:Z,delayLeave:ne}=q,te=()=>Z(V,H);ne?ne(_.el,H,te):te()}else H()},ie=(_,P)=>{let V;for(;_!==P;)V=f(_),i(_),_=V;i(P)},Y=(_,P,V)=>{const{bum:ee,scope:q,job:H,subTree:Z,um:ne,m:te,a:re}=_;sg(te),sg(re),ee&&Il(ee),q.stop(),H&&(H.flags|=8,W(Z,_,P,V)),ne&&Ir(ne,P),Ir(()=>{_.isUnmounted=!0},P)},oe=(_,P,V,ee=!1,q=!1,H=0)=>{for(let Z=H;Z<_.length;Z++)W(_[Z],P,V,ee,q)},ce=_=>{if(_.shapeFlag&6)return ce(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const P=f(_.anchor||_.el),V=P&&P[o_];return V?f(V):P};let ve=!1;const se=(_,P,V)=>{_==null?P._vnode&&W(P._vnode,null,null,!0):m(P._vnode||null,_,P,null,null,null,V),P._vnode=_,ve||(ve=!0,Jv(),i1(),ve=!1)},G={p:m,um:W,m:$,r:X,mt:I,mc:k,pc:N,pbc:A,n:ce,o:e};return{render:se,hydrate:void 0,createApp:D_(se)}}function lh({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Vi({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function q_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function C1(e,t,r=!1){const n=e.children,i=t.children;if(Ue(n)&&Ue(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=ui(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&C1(o,s)),s.type===pc&&s.patchFlag!==-1&&(s.el=o.el),s.type===wi&&!s.el&&(s.el=o.el)}}function V_(e){const t=e.slice(),r=[0];let n,i,a,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<u?a=s+1:o=s;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function T1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:T1(t)}function sg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const H_=Symbol.for("v-scx"),W_=()=>Ol(H_);function uh(e,t,r){return k1(e,t,r)}function k1(e,t,r=pt){const{immediate:n,deep:i,flush:a,once:o}=r,s=_r({},r),l=t&&n||!t&&a!=="post";let u;if(ws){if(a==="sync"){const d=W_();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=Sn,d.resume=Sn,d.pause=Sn,d}}const c=cr;s.call=(d,p,m)=>Ln(d,c,p,m);let h=!1;a==="post"?s.scheduler=d=>{Ir(d,c&&c.suspense)}:a!=="sync"&&(h=!0,s.scheduler=(d,p)=>{p?d():wp(d)}),s.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const f=t_(e,t,s);return ws&&(u?u.push(f):l&&f()),f}function U_(e,t,r){const n=this.proxy,i=Vt(e)?e.includes(".")?_1(n,e):()=>n[e]:e.bind(n,n);let a;Ke(t)?a=t:(a=t.handler,r=t);const o=Hs(this),s=k1(i,a.bind(n),r);return o(),s}function _1(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const G_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Zr(t)}Modifiers`]||e[`${Di(t)}Modifiers`];function j_(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||pt;let i=r;const a=t.startsWith("update:"),o=a&&G_(n,t.slice(7));o&&(o.trim&&(i=r.map(c=>Vt(c)?c.trim():c)),o.number&&(i=r.map(uu)));let s,l=n[s=rh(t)]||n[s=rh(Zr(t))];!l&&a&&(l=n[s=rh(Di(t))]),l&&Ln(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Ln(u,e,6,i)}}const K_=new WeakMap;function S1(e,t,r=!1){const n=r?K_:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!Ke(e)){const l=u=>{const c=S1(u,t,!0);c&&(s=!0,_r(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(bt(e)&&n.set(e,null),null):(Ue(a)?a.forEach(l=>o[l]=null):_r(o,a),bt(e)&&n.set(e,o),o)}function dc(e,t){return!e||!ic(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,Di(t))||ot(e,t))}function lg(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:p,inheritAttrs:m}=e,v=du(e);let y,g;try{if(r.shapeFlag&4){const x=i||n,C=x;y=Cn(u.call(C,x,c,h,d,f,p)),g=s}else{const x=t;y=Cn(x.length>1?x(h,{attrs:s,slots:o,emit:l}):x(h,null)),g=t.props?s:Y_(s)}}catch(x){as.length=0,hc(x,e,1),y=Qe(wi)}let b=y;if(g&&m!==!1){const x=Object.keys(g),{shapeFlag:C}=b;x.length&&C&7&&(a&&x.some(hp)&&(g=X_(g,a)),b=no(b,g,!1,!0))}return r.dirs&&(b=no(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Cp(b,r.transition),y=b,du(v),y}const Y_=e=>{let t;for(const r in e)(r==="class"||r==="style"||ic(r))&&((t||(t={}))[r]=e[r]);return t},X_=(e,t)=>{const r={};for(const n in e)(!hp(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Z_(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ug(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==n[f]&&!dc(u,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?ug(n,o,u):!0:!!o;return!1}function ug(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!dc(r,a))return!0}return!1}function Q_({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const E1=e=>e.__isSuspense;function J_(e,t){t&&t.pendingBranch?Ue(e)?t.effects.push(...e):t.effects.push(e):i_(e)}const tt=Symbol.for("v-fgt"),pc=Symbol.for("v-txt"),wi=Symbol.for("v-cmt"),Nl=Symbol.for("v-stc"),as=[];let $r=null;function he(e=!1){as.push($r=e?null:[])}function eS(){as.pop(),$r=as[as.length-1]||null}let xs=1;function cg(e,t=!1){xs+=e,e<0&&$r&&t&&($r.hasOnce=!0)}function A1(e){return e.dynamicChildren=xs>0?$r||Wa:null,eS(),xs>0&&$r&&$r.push(e),e}function de(e,t,r,n,i,a){return A1(R(e,t,r,n,i,a,!0))}function md(e,t,r,n,i){return A1(Qe(e,t,r,n,i,!0))}function B1(e){return e?e.__v_isVNode===!0:!1}function Bo(e,t){return e.type===t.type&&e.key===t.key}const L1=({key:e})=>e??null,$l=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Vt(e)||kr(e)||Ke(e)?{i:Nr,r:e,k:t,f:!!r}:e:null);function R(e,t=null,r=null,n=0,i=null,a=e===tt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&L1(t),ref:t&&$l(t),scopeId:o1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Nr};return s?(_p(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=Vt(r)?8:16),xs>0&&!o&&$r&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&$r.push(l),l}const Qe=tS;function tS(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===C_)&&(e=wi),B1(e)){const s=no(e,t,!0);return r&&_p(s,r),xs>0&&!a&&$r&&(s.shapeFlag&6?$r[$r.indexOf(e)]=s:$r.push(s)),s.patchFlag=-2,s}if(dS(e)&&(e=e.__vccOpts),t){t=rS(t);let{class:s,style:l}=t;s&&!Vt(s)&&(t.class=vt(s)),bt(l)&&(xp(l)&&!Ue(l)&&(l=_r({},l)),t.style=sa(l))}const o=Vt(e)?1:E1(e)?128:s_(e)?64:bt(e)?4:Ke(e)?2:0;return R(e,t,r,n,i,o,a,!0)}function rS(e){return e?xp(e)||g1(e)?_r({},e):e:null}function no(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?nS(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&L1(u),ref:t&&t.ref?r&&a?Ue(a)?a.concat($l(t)):[a,$l(t)]:$l(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&no(e.ssContent),ssFallback:e.ssFallback&&no(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Cp(c,l.clone(c)),c}function ua(e=" ",t=0){return Qe(pc,null,e,t)}function D1(e,t){const r=Qe(Nl,null,e);return r.staticCount=t,r}function Je(e="",t=!1){return t?(he(),md(wi,null,e)):Qe(wi,null,e)}function Cn(e){return e==null||typeof e=="boolean"?Qe(wi):Ue(e)?Qe(tt,null,e.slice()):B1(e)?ui(e):Qe(pc,null,String(e))}function ui(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:no(e)}function _p(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ue(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),_p(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!g1(t)?t._ctx=Nr:i===3&&Nr&&(Nr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ke(t)?(t={default:t,_ctx:Nr},r=32):(t=String(t),n&64?(r=16,t=[ua(t)]):r=8);e.children=t,e.shapeFlag|=r}function nS(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=vt([t.class,n.class]));else if(i==="style")t.style=sa([t.style,n.style]);else if(ic(i)){const a=t[i],o=n[i];o&&a!==o&&!(Ue(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function gn(e,t,r,n=null){Ln(e,t,7,[r,n])}const iS=d1();let aS=0;function oS(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||iS,a={uid:aS++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ak(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:y1(n,i),emitsOptions:S1(n,i),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:n.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=j_.bind(null,a),e.ce&&e.ce(a),a}let cr=null;const sS=()=>cr||Nr;let gu,yd;{const e=lc(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};gu=t("__VUE_INSTANCE_SETTERS__",r=>cr=r),yd=t("__VUE_SSR_SETTERS__",r=>ws=r)}const Hs=e=>{const t=cr;return gu(e),e.scope.on(),()=>{e.scope.off(),gu(t)}},hg=()=>{cr&&cr.scope.off(),gu(null)};function M1(e){return e.vnode.shapeFlag&4}let ws=!1;function lS(e,t=!1,r=!1){t&&yd(t);const{props:n,children:i}=e.vnode,a=M1(e);F_(e,n,a,t),O_(e,i,r||t);const o=a?uS(e,t):void 0;return t&&yd(!1),o}function uS(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,k_);const{setup:n}=r;if(n){Xn();const i=e.setupContext=n.length>1?hS(e):null,a=Hs(e),o=Vs(n,e,0,[e.props,i]),s=Mb(o);if(Zn(),a(),(s||e.sp)&&!ns(e)&&s1(e),s){if(o.then(hg,hg),t)return o.then(l=>{fg(e,l)}).catch(l=>{hc(l,e,0)});e.asyncDep=o}else fg(e,o)}else F1(e)}function fg(e,t,r){Ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:bt(t)&&(e.setupState=e1(t)),F1(e)}function F1(e,t,r){const n=e.type;e.render||(e.render=n.render||Sn);{const i=Hs(e);Xn();try{__(e)}finally{Zn(),i()}}}const cS={get(e,t){return ur(e,"get",""),e[t]}};function hS(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,cS),slots:e.slots,emit:e.emit,expose:t}}function vc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(e1(Yk(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in is)return is[r](e)},has(t,r){return r in t||r in is}})):e.proxy}function fS(e,t=!0){return Ke(e)?e.displayName||e.name:e.name||t&&e.__name}function dS(e){return Ke(e)&&"__vccOpts"in e}const pS=(e,t)=>Jk(e,t,ws),vS="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bd;const dg=typeof window<"u"&&window.trustedTypes;if(dg)try{bd=dg.createPolicy("vue",{createHTML:e=>e})}catch{}const P1=bd?e=>bd.createHTML(e):e=>e,gS="http://www.w3.org/2000/svg",mS="http://www.w3.org/1998/Math/MathML",Hn=typeof document<"u"?document:null,pg=Hn&&Hn.createElement("template"),yS={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?Hn.createElementNS(gS,e):t==="mathml"?Hn.createElementNS(mS,e):r?Hn.createElement(e,{is:r}):Hn.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Hn.createTextNode(e),createComment:e=>Hn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Hn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{pg.innerHTML=P1(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=pg.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},bS=Symbol("_vtc");function xS(e,t,r){const n=e[bS];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const vg=Symbol("_vod"),wS=Symbol("_vsh"),CS=Symbol(""),TS=/(?:^|;)\s*display\s*:/;function kS(e,t,r){const n=e.style,i=Vt(r);let a=!1;if(r&&!i){if(t)if(Vt(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&zl(n,s,"")}else for(const o in t)r[o]==null&&zl(n,o,"");for(const o in r)o==="display"&&(a=!0),zl(n,o,r[o])}else if(i){if(t!==r){const o=n[CS];o&&(r+=";"+o),n.cssText=r,a=TS.test(r)}}else t&&e.removeAttribute("style");vg in e&&(e[vg]=a?n.display:"",e[wS]&&(n.display="none"))}const gg=/\s*!important$/;function zl(e,t,r){if(Ue(r))r.forEach(n=>zl(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=_S(e,t);gg.test(r)?e.setProperty(Di(n),r.replace(gg,""),"important"):e[n]=r}}const mg=["Webkit","Moz","ms"],ch={};function _S(e,t){const r=ch[t];if(r)return r;let n=Zr(t);if(n!=="filter"&&n in e)return ch[t]=n;n=sc(n);for(let i=0;i<mg.length;i++){const a=mg[i]+n;if(a in e)return ch[t]=a}return t}const yg="http://www.w3.org/1999/xlink";function bg(e,t,r,n,i,a=_k(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(yg,t.slice(6,t.length)):e.setAttributeNS(yg,t,r):r==null||a&&!Ib(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Bn(r)?String(r):r)}function xg(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?P1(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=Ib(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function Xi(e,t,r,n){e.addEventListener(t,r,n)}function SS(e,t,r,n){e.removeEventListener(t,r,n)}const wg=Symbol("_vei");function ES(e,t,r,n,i=null){const a=e[wg]||(e[wg]={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=AS(t);if(n){const u=a[t]=DS(n,i);Xi(e,s,u,l)}else o&&(SS(e,s,o,l),a[t]=void 0)}}const Cg=/(?:Once|Passive|Capture)$/;function AS(e){let t;if(Cg.test(e)){t={};let n;for(;n=e.match(Cg);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Di(e.slice(2)),t]}let hh=0;const BS=Promise.resolve(),LS=()=>hh||(BS.then(()=>hh=0),hh=Date.now());function DS(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ln(MS(n,r.value),t,5,[n])};return r.value=e,r.attached=LS(),r}function MS(e,t){if(Ue(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Tg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,FS=(e,t,r,n,i,a)=>{const o=i==="svg";t==="class"?xS(e,n,o):t==="style"?kS(e,r,n):ic(t)?hp(t)||ES(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):PS(e,t,n,o))?(xg(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bg(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Vt(n))?xg(e,Zr(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),bg(e,t,n,o))};function PS(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tg(t)&&Ke(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Tg(t)&&Vt(r)?!1:t in e}const mu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ue(t)?r=>Il(t,r):t};function RS(e){e.target.composing=!0}function kg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ya=Symbol("_assign"),xd={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[Ya]=mu(i);const a=n||i.props&&i.props.type==="number";Xi(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;r&&(s=s.trim()),a&&(s=uu(s)),e[Ya](s)}),r&&Xi(e,"change",()=>{e.value=e.value.trim()}),t||(Xi(e,"compositionstart",RS),Xi(e,"compositionend",kg),Xi(e,"change",kg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},o){if(e[Ya]=mu(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?uu(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},Cs={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const i=ac(t);Xi(e,"change",()=>{const a=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?uu(yu(o)):yu(o));e[Ya](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,r1(()=>{e._assigning=!1})}),e[Ya]=mu(n)},mounted(e,{value:t}){_g(e,t)},beforeUpdate(e,t,r){e[Ya]=mu(r)},updated(e,{value:t}){e._assigning||_g(e,t)}};function _g(e,t){const r=e.multiple,n=Ue(t);if(!(r&&!n&&!ac(t))){for(let i=0,a=e.options.length;i<a;i++){const o=e.options[i],s=yu(o);if(r)if(n){const l=typeof s;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(s)):o.selected=Ek(t,s)>-1}else o.selected=t.has(s);else if(uc(yu(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function yu(e){return"_value"in e?e._value:e.value}const IS=["ctrl","shift","alt","meta"],OS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>IS.some(r=>e[`${r}Key`]&&!t.includes(r))},NS=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=((i,...a)=>{for(let o=0;o<t.length;o++){const s=OS[t[o]];if(s&&s(i,t))return}return e(i,...a)}))},$S={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},R1=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=(i=>{if(!("key"in i))return;const a=Di(i.key);if(t.some(o=>o===a||$S[o]===a))return e(i)}))},zS=_r({patchProp:FS},yS);let Sg;function qS(){return Sg||(Sg=$_(zS))}const VS=((...e)=>{const t=qS().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=WS(n);if(!i)return;const a=t._component;!Ke(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,HS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function HS(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function WS(e){return Vt(e)?document.querySelector(e):e}function wd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function US(e){if(Array.isArray(e))return e}function GS(e){if(Array.isArray(e))return wd(e)}function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O1(n.key),n)}}function Fi(e,t,r){return t&&jS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fr(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Sp(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||r.return==null||r.return()}finally{if(s)throw a}}}}function I1(e,t,r){return(t=O1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YS(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function XS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,t){return US(e)||YS(e,t)||Sp(e,t)||XS()}function bu(e){return GS(e)||KS(e)||Sp(e)||ZS()}function QS(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function O1(e){var t=QS(e,"string");return typeof t=="symbol"?t:t+""}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function Sp(e,t){if(e){if(typeof e=="string")return wd(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wd(e,t):void 0}}var Ut=typeof window>"u"?null:window,Eg=Ut?Ut.navigator:null;Ut&&Ut.document;var JS=jt(""),N1=jt({}),eE=jt(function(){}),tE=typeof HTMLElement>"u"?"undefined":jt(HTMLElement),Ws=function(t){return t&&t.instanceString&&Bt(t.instanceString)?t.instanceString():null},$e=function(t){return t!=null&&jt(t)==JS},Bt=function(t){return t!=null&&jt(t)===eE},gt=function(t){return!zr(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},nt=function(t){return t!=null&&jt(t)===N1&&!gt(t)&&t.constructor===Object},rE=function(t){return t!=null&&jt(t)===N1},Ce=function(t){return t!=null&&jt(t)===jt(1)&&!isNaN(t)},nE=function(t){return Ce(t)&&Math.floor(t)===t},xu=function(t){if(tE!=="undefined")return t!=null&&t instanceof HTMLElement},zr=function(t){return Us(t)||$1(t)},Us=function(t){return Ws(t)==="collection"&&t._private.single},$1=function(t){return Ws(t)==="collection"&&!t._private.single},Ep=function(t){return Ws(t)==="core"},z1=function(t){return Ws(t)==="stylesheet"},iE=function(t){return Ws(t)==="event"},Ci=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},aE=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},oE=function(t){return nt(t)&&Ce(t.x1)&&Ce(t.x2)&&Ce(t.y1)&&Ce(t.y2)},sE=function(t){return rE(t)&&Bt(t.then)},lE=function(){return Eg&&Eg.userAgent.match(/msie|trident|edge/i)},io=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function(){var a=this,o=arguments,s,l=r.apply(a,o),u=n.cache;return(s=u[l])||(s=u[l]=t.apply(a,o)),s};return n.cache={},n},Ap=io(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),gc=io(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),q1=io(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Ag=function(t){return Ci(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},fi=function(t,r){return t.slice(-1*r.length)===r},Gt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",uE="rgb[a]?\\(("+Gt+"[%]?)\\s*,\\s*("+Gt+"[%]?)\\s*,\\s*("+Gt+"[%]?)(?:\\s*,\\s*("+Gt+"))?\\)",cE="rgb[a]?\\((?:"+Gt+"[%]?)\\s*,\\s*(?:"+Gt+"[%]?)\\s*,\\s*(?:"+Gt+"[%]?)(?:\\s*,\\s*(?:"+Gt+"))?\\)",hE="hsl[a]?\\(("+Gt+")\\s*,\\s*("+Gt+"[%])\\s*,\\s*("+Gt+"[%])(?:\\s*,\\s*("+Gt+"))?\\)",fE="hsl[a]?\\((?:"+Gt+")\\s*,\\s*(?:"+Gt+"[%])\\s*,\\s*(?:"+Gt+"[%])(?:\\s*,\\s*(?:"+Gt+"))?\\)",dE="\\#[0-9a-fA-F]{3}",pE="\\#[0-9a-fA-F]{6}",V1=function(t,r){return t<r?-1:t>r?1:0},vE=function(t,r){return-1*V1(t,r)},Ve=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];e[o]=n[o]}}return e},gE=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,i,a,o=16;return r?(n=parseInt(t[1]+t[1],o),i=parseInt(t[2]+t[2],o),a=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),i=parseInt(t[3]+t[4],o),a=parseInt(t[5]+t[6],o)),[n,i,a]}},mE=function(t){var r,n,i,a,o,s,l,u;function c(p,m,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(m-p)*6*v:v<1/2?m:v<2/3?p+(m-p)*(2/3-v)*6:p}var h=new RegExp("^"+hE+"$").exec(t);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,a=parseFloat(h[3]),a<0||a>100)||(a=a/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=l=u=Math.round(a*255);else{var f=a<.5?a*(1+i):a+i-a*i,d=2*a-f;s=Math.round(255*c(d,f,n+1/3)),l=Math.round(255*c(d,f,n)),u=Math.round(255*c(d,f,n-1/3))}r=[s,l,u,o]}return r},yE=function(t){var r,n=new RegExp("^"+uE+"$").exec(t);if(n){r=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},bE=function(t){return xE[t.toLowerCase()]},H1=function(t){return(gt(t)?t:null)||bE(t)||gE(t)||yE(t)||mE(t)},xE={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},W1=function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(nt(o))throw Error("Tried to set map with object key");a<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},U1=function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(nt(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fh,Bg;function js(){if(Bg)return fh;Bg=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return fh=e,fh}var dh,Lg;function wE(){if(Lg)return dh;Lg=1;var e=typeof pl=="object"&&pl&&pl.Object===Object&&pl;return dh=e,dh}var ph,Dg;function mc(){if(Dg)return ph;Dg=1;var e=wE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return ph=r,ph}var vh,Mg;function CE(){if(Mg)return vh;Mg=1;var e=mc(),t=function(){return e.Date.now()};return vh=t,vh}var gh,Fg;function TE(){if(Fg)return gh;Fg=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return gh=t,gh}var mh,Pg;function kE(){if(Pg)return mh;Pg=1;var e=TE(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return mh=r,mh}var yh,Rg;function Bp(){if(Rg)return yh;Rg=1;var e=mc(),t=e.Symbol;return yh=t,yh}var bh,Ig;function _E(){if(Ig)return bh;Ig=1;var e=Bp(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=n.call(o);return u&&(s?o[i]=l:delete o[i]),c}return bh=a,bh}var xh,Og;function SE(){if(Og)return xh;Og=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return xh=r,xh}var wh,Ng;function G1(){if(Ng)return wh;Ng=1;var e=Bp(),t=_E(),r=SE(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return wh=o,wh}var Ch,$g;function EE(){if($g)return Ch;$g=1;function e(t){return t!=null&&typeof t=="object"}return Ch=e,Ch}var Th,zg;function Ks(){if(zg)return Th;zg=1;var e=G1(),t=EE(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Th=n,Th}var kh,qg;function AE(){if(qg)return kh;qg=1;var e=kE(),t=js(),r=Ks(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=a.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?n:+u}return kh=l,kh}var _h,Vg;function BE(){if(Vg)return _h;Vg=1;var e=js(),t=CE(),r=AE(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var c,h,f,d,p,m,v=0,y=!1,g=!1,b=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(y=!!u.leading,g="maxWait"in u,f=g?i(r(u.maxWait)||0,l):f,b="trailing"in u?!!u.trailing:b);function x(D){var I=c,O=h;return c=h=void 0,v=D,d=s.apply(O,I),d}function C(D){return v=D,p=setTimeout(k,l),y?x(D):d}function T(D){var I=D-m,O=D-v,F=l-I;return g?a(F,f-O):F}function w(D){var I=D-m,O=D-v;return m===void 0||I>=l||I<0||g&&O>=f}function k(){var D=t();if(w(D))return E(D);p=setTimeout(k,T(D))}function E(D){return p=void 0,b&&c?x(D):(c=h=void 0,d)}function A(){p!==void 0&&clearTimeout(p),v=0,c=m=h=p=void 0}function S(){return p===void 0?d:E(t())}function B(){var D=t(),I=w(D);if(c=arguments,h=this,m=D,I){if(p===void 0)return C(m);if(g)return clearTimeout(p),p=setTimeout(k,l),x(m)}return p===void 0&&(p=setTimeout(k,l)),d}return B.cancel=A,B.flush=S,B}return _h=o,_h}var LE=BE(),Ys=Gs(LE),Sh=Ut?Ut.performance:null,j1=Sh&&Sh.now?function(){return Sh.now()}:function(){return Date.now()},DE=(function(){if(Ut){if(Ut.requestAnimationFrame)return function(e){Ut.requestAnimationFrame(e)};if(Ut.mozRequestAnimationFrame)return function(e){Ut.mozRequestAnimationFrame(e)};if(Ut.webkitRequestAnimationFrame)return function(e){Ut.webkitRequestAnimationFrame(e)};if(Ut.msRequestAnimationFrame)return function(e){Ut.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(j1())},1e3/60)}})(),wu=function(t){return DE(t)},Qn=j1,Zi=9261,K1=65599,Na=5381,Y1=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zi,n=r,i;i=t.next(),!i.done;)n=n*K1+i.value|0;return n},Ts=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zi;return r*K1+t|0},ks=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Na;return(r<<5)+r+t|0},ME=function(t,r){return t*2097152+r},ai=function(t){return t[0]*2097152+t[1]},vl=function(t,r){return[Ts(t[0],r[0]),ks(t[1],r[1])]},Hg=function(t,r){var n={value:0,done:!1},i=0,a=t.length,o={next:function(){return i<a?n.value=t[i++]:n.done=!0,n}};return Y1(o,r)},ca=function(t,r){var n={value:0,done:!1},i=0,a=t.length,o={next:function(){return i<a?n.value=t.charCodeAt(i++):n.done=!0,n}};return Y1(o,r)},X1=function(){return FE(arguments)},FE=function(t){for(var r,n=0;n<t.length;n++){var i=t[n];n===0?r=ca(i):r=ca(i,r)}return r};function PE(e,t,r,n,i){var a=i*Math.PI/180,o=Math.cos(a)*(e-r)-Math.sin(a)*(t-n)+r,s=Math.sin(a)*(e-r)+Math.cos(a)*(t-n)+n;return{x:o,y:s}}var RE=function(t,r,n,i,a,o){return{x:(t-n)*a+n,y:(r-i)*o+i}};function IE(e,t,r){if(r===0)return e;var n=(t.x1+t.x2)/2,i=(t.y1+t.y2)/2,a=t.w/t.h,o=1/a,s=PE(e.x,e.y,n,i,r),l=RE(s.x,s.y,n,i,a,o);return{x:l.x,y:l.y}}var Wg=!0,OE=console.warn!=null,NE=console.trace!=null,Lp=Number.MAX_SAFE_INTEGER||9007199254740991,Z1=function(){return!0},Cu=function(){return!1},Ug=function(){return 0},Dp=function(){},St=function(t){throw new Error(t)},Q1=function(t){if(t!==void 0)Wg=!!t;else return Wg},lt=function(t){Q1()&&(OE?console.warn(t):(console.log(t),NE&&console.trace()))},$E=function(t){return Ve({},t)},Tn=function(t){return t==null?t:gt(t)?t.slice():nt(t)?$E(t):t},zE=function(t){return t.slice()},J1=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},qE={},ex=function(){return qE},nr=function(t){var r=Object.keys(t);return function(n){for(var i={},a=0;a<r.length;a++){var o=r[a],s=n==null?void 0:n[o];i[o]=s===void 0?t[o]:s}return i}},Ti=function(t,r,n){for(var i=t.length-1;i>=0;i--)t[i]===r&&t.splice(i,1)},Mp=function(t){t.splice(0,t.length)},VE=function(t,r){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}},Lr=function(t,r,n){return n&&(r=q1(n,r)),t[r]},Wn=function(t,r,n,i){n&&(r=q1(n,r)),t[r]=i},HE=(function(){function e(){Mi(this,e),this._obj={}}return Fi(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),Kn=typeof Map<"u"?Map:HE,WE="undefined",UE=(function(){function e(t){if(Mi(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return Fi(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),yo=(typeof Set>"u"?"undefined":jt(Set))!==WE?Set:UE,yc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!Ep(t)){St("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){St("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new yo,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=t.pan(),l=t.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];gt(r.classes)?u=r.classes:$e(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,h=u.length;c<h;c++){var f=u[c];!f||f===""||a.classes.add(f)}this.createEmitter(),(n===void 0||n)&&this.restore();var d=r.style||r.css;d&&(lt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},Gg=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,i,a){var o;nt(n)&&!zr(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!Bt(i)?i:a,i=Bt(i)?i:function(){};for(var s=this._private.cy,l=n=$e(n)?this.filter(n):n,u=[],c=[],h={},f={},d={},p=0,m,v=this.byGroup(),y=v.nodes,g=v.edges,b=0;b<l.length;b++){var x=l[b],C=x.id();x.isNode()&&(u.unshift(x),t.bfs&&(d[C]=!0,c.push(x)),f[C]=0)}for(var T=function(){var D=t.bfs?u.shift():u.pop(),I=D.id();if(t.dfs){if(d[I])return 0;d[I]=!0,c.push(D)}var O=f[I],F=h[I],M=F!=null?F.source():null,N=F!=null?F.target():null,z=F==null?void 0:D.same(M)?N[0]:M[0],U;if(U=i(D,F,z,p++,O),U===!0)return m=D,1;if(U===!1)return 1;for(var $=D.connectedEdges().filter(function(oe){return(!a||oe.source().same(D))&&g.has(oe)}),W=0;W<$.length;W++){var X=$[W],ie=X.connectedNodes().filter(function(oe){return!oe.same(D)&&y.has(oe)}),Y=ie.id();ie.length!==0&&!d[Y]&&(ie=ie[0],u.push(ie),t.bfs&&(d[Y]=!0,c.push(ie)),h[Y]=X,f[Y]=f[I]+1)}},w;u.length!==0&&(w=T(),!(w!==0&&w===1)););for(var k=s.collection(),E=0;E<c.length;E++){var A=c[E],S=h[A.id()];S!=null&&k.push(S),k.push(A)}return{path:s.collection(k),found:s.collection(m)}}},_s={breadthFirstSearch:Gg({bfs:!0}),depthFirstSearch:Gg({dfs:!0})};_s.bfs=_s.breadthFirstSearch;_s.dfs=_s.depthFirstSearch;var ql={exports:{}},GE=ql.exports,jg;function jE(){return jg||(jg=1,(function(e,t){(function(){var r,n,i,a,o,s,l,u,c,h,f,d,p,m,v;i=Math.floor,h=Math.min,n=function(y,g){return y<g?-1:y>g?1:0},c=function(y,g,b,x,C){var T;if(b==null&&(b=0),C==null&&(C=n),b<0)throw new Error("lo must be non-negative");for(x==null&&(x=y.length);b<x;)T=i((b+x)/2),C(g,y[T])<0?x=T:b=T+1;return[].splice.apply(y,[b,b-b].concat(g)),g},s=function(y,g,b){return b==null&&(b=n),y.push(g),m(y,0,y.length-1,b)},o=function(y,g){var b,x;return g==null&&(g=n),b=y.pop(),y.length?(x=y[0],y[0]=b,v(y,0,g)):x=b,x},u=function(y,g,b){var x;return b==null&&(b=n),x=y[0],y[0]=g,v(y,0,b),x},l=function(y,g,b){var x;return b==null&&(b=n),y.length&&b(y[0],g)<0&&(x=[y[0],g],g=x[0],y[0]=x[1],v(y,0,b)),g},a=function(y,g){var b,x,C,T,w,k;for(g==null&&(g=n),T=(function(){k=[];for(var E=0,A=i(y.length/2);0<=A?E<A:E>A;0<=A?E++:E--)k.push(E);return k}).apply(this).reverse(),w=[],x=0,C=T.length;x<C;x++)b=T[x],w.push(v(y,b,g));return w},p=function(y,g,b){var x;if(b==null&&(b=n),x=y.indexOf(g),x!==-1)return m(y,0,x,b),v(y,x,b)},f=function(y,g,b){var x,C,T,w,k;if(b==null&&(b=n),C=y.slice(0,g),!C.length)return C;for(a(C,b),k=y.slice(g),T=0,w=k.length;T<w;T++)x=k[T],l(C,x,b);return C.sort(b).reverse()},d=function(y,g,b){var x,C,T,w,k,E,A,S,B;if(b==null&&(b=n),g*10<=y.length){if(T=y.slice(0,g).sort(b),!T.length)return T;for(C=T[T.length-1],A=y.slice(g),w=0,E=A.length;w<E;w++)x=A[w],b(x,C)<0&&(c(T,x,0,null,b),T.pop(),C=T[T.length-1]);return T}for(a(y,b),B=[],k=0,S=h(g,y.length);0<=S?k<S:k>S;0<=S?++k:--k)B.push(o(y,b));return B},m=function(y,g,b,x){var C,T,w;for(x==null&&(x=n),C=y[b];b>g;){if(w=b-1>>1,T=y[w],x(C,T)<0){y[b]=T,b=w;continue}break}return y[b]=C},v=function(y,g,b){var x,C,T,w,k;for(b==null&&(b=n),C=y.length,k=g,T=y[g],x=2*g+1;x<C;)w=x+1,w<C&&!(b(y[x],y[w])<0)&&(x=w),y[g]=y[x],g=x,x=2*g+1;return y[g]=T,m(y,k,g,b)},r=(function(){y.push=s,y.pop=o,y.replace=u,y.pushpop=l,y.heapify=a,y.updateItem=p,y.nlargest=f,y.nsmallest=d;function y(g){this.cmp=g??n,this.nodes=[]}return y.prototype.push=function(g){return s(this.nodes,g,this.cmp)},y.prototype.pop=function(){return o(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(g){return this.nodes.indexOf(g)!==-1},y.prototype.replace=function(g){return u(this.nodes,g,this.cmp)},y.prototype.pushpop=function(g){return l(this.nodes,g,this.cmp)},y.prototype.heapify=function(){return a(this.nodes,this.cmp)},y.prototype.updateItem=function(g){return p(this.nodes,g,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var g;return g=new y,g.nodes=this.nodes.slice(0),g},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y})(),(function(y,g){return e.exports=g()})(this,function(){return r})}).call(GE)})(ql)),ql.exports}var Eh,Kg;function KE(){return Kg||(Kg=1,Eh=jE()),Eh}var YE=KE(),Xs=Gs(YE),XE=nr({root:null,weight:function(t){return 1},directed:!1}),ZE={dijkstra:function(t){if(!nt(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=XE(t),i=n.root,a=n.weight,o=n.directed,s=this,l=a,u=$e(i)?this.filter(i)[0]:i[0],c={},h={},f={},d=this.byGroup(),p=d.nodes,m=d.edges;m.unmergeBy(function(O){return O.isLoop()});for(var v=function(F){return c[F.id()]},y=function(F,M){c[F.id()]=M,g.updateItem(F)},g=new Xs(function(O,F){return v(O)-v(F)}),b=0;b<p.length;b++){var x=p[b];c[x.id()]=x.same(u)?0:1/0,g.push(x)}for(var C=function(F,M){for(var N=(o?F.edgesTo(M):F.edgesWith(M)).intersect(m),z=1/0,U,$=0;$<N.length;$++){var W=N[$],X=l(W);(X<z||!U)&&(z=X,U=W)}return{edge:U,dist:z}};g.size()>0;){var T=g.pop(),w=v(T),k=T.id();if(f[k]=w,w!==1/0)for(var E=T.neighborhood().intersect(p),A=0;A<E.length;A++){var S=E[A],B=S.id(),D=C(T,S),I=w+D.dist;I<v(S)&&(y(S,I),h[B]={node:T,edge:D.edge})}}return{distanceTo:function(F){var M=$e(F)?p.filter(F)[0]:F[0];return f[M.id()]},pathTo:function(F){var M=$e(F)?p.filter(F)[0]:F[0],N=[],z=M,U=z.id();if(M.length>0)for(N.unshift(M);h[U];){var $=h[U];N.unshift($.edge),N.unshift($.node),z=$.node,U=z.id()}return s.spawn(N)}}}},QE={kruskal:function(t){t=t||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,o=new Array(a),s=n,l=function(x){for(var C=0;C<o.length;C++){var T=o[C];if(T.has(x))return C}},u=0;u<a;u++)o[u]=this.spawn(n[u]);for(var c=i.sort(function(b,x){return t(b)-t(x)}),h=0;h<c.length;h++){var f=c[h],d=f.source()[0],p=f.target()[0],m=l(d),v=l(p),y=o[m],g=o[v];m!==v&&(s.merge(f),y.merge(g),o.splice(v,1))}return s}},JE=nr({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),eA={aStar:function(t){var r=this.cy(),n=JE(t),i=n.root,a=n.goal,o=n.heuristic,s=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),c=a.id(),h={},f={},d={},p=new Xs(function(U,$){return f[U.id()]-f[$.id()]}),m=new yo,v={},y={},g=function($,W){p.push($),m.add(W)},b,x,C=function(){b=p.pop(),x=b.id(),m.delete(x)},T=function($){return m.has($)};g(i,u),h[u]=0,f[u]=o(i);for(var w=0;p.size()>0;){if(C(),w++,x===c){for(var k=[],E=a,A=c,S=y[A];k.unshift(E),S!=null&&k.unshift(S),E=v[A],E!=null;)A=E.id(),S=y[A];return{found:!0,distance:h[x],path:this.spawn(k),steps:w}}d[x]=!0;for(var B=b._private.edges,D=0;D<B.length;D++){var I=B[D];if(this.hasElementWithId(I.id())&&!(s&&I.data("source")!==x)){var O=I.source(),F=I.target(),M=O.id()!==x?O:F,N=M.id();if(this.hasElementWithId(N)&&!d[N]){var z=h[x]+l(I);if(!T(N)){h[N]=z,f[N]=z+o(M),g(M,N),v[N]=b,y[N]=I;continue}z<h[N]&&(h[N]=z,f[N]=z+o(M),v[N]=b,y[N]=I)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},tA=nr({weight:function(t){return 1},directed:!1}),rA={floydWarshall:function(t){for(var r=this.cy(),n=tA(t),i=n.weight,a=n.directed,o=i,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=c*c,f=function(X){return l.indexOf(X)},d=function(X){return l[X]},p=new Array(h),m=0;m<h;m++){var v=m%c,y=(m-v)/c;y===v?p[m]=0:p[m]=1/0}for(var g=new Array(h),b=new Array(h),x=0;x<u.length;x++){var C=u[x],T=C.source()[0],w=C.target()[0];if(T!==w){var k=f(T),E=f(w),A=k*c+E,S=o(C);if(p[A]>S&&(p[A]=S,g[A]=E,b[A]=C),!a){var B=E*c+k;!a&&p[B]>S&&(p[B]=S,g[B]=k,b[B]=C)}}}for(var D=0;D<c;D++)for(var I=0;I<c;I++)for(var O=I*c+D,F=0;F<c;F++){var M=I*c+F,N=D*c+F;p[O]+p[N]<p[M]&&(p[M]=p[O]+p[N],g[M]=g[O])}var z=function(X){return($e(X)?r.filter(X):X)[0]},U=function(X){return f(z(X))},$={distance:function(X,ie){var Y=U(X),oe=U(ie);return p[Y*c+oe]},path:function(X,ie){var Y=U(X),oe=U(ie),ce=d(Y);if(Y===oe)return ce.collection();if(g[Y*c+oe]==null)return r.collection();var ve=r.collection(),se=Y,G;for(ve.merge(ce);Y!==oe;)se=Y,Y=g[Y*c+oe],G=b[se*c+Y],ve.merge(G),ve.merge(d(Y));return ve}};return $}},nA=nr({weight:function(t){return 1},directed:!1,root:null}),iA={bellmanFord:function(t){var r=this,n=nA(t),i=n.weight,a=n.directed,o=n.root,s=i,l=this,u=this.cy(),c=this.byGroup(),h=c.edges,f=c.nodes,d=f.length,p=new Kn,m=!1,v=[];o=u.collection(o)[0],h.unmergeBy(function(H){return H.isLoop()});for(var y=h.length,g=function(Z){var ne=p.get(Z.id());return ne||(ne={},p.set(Z.id(),ne)),ne},b=function(Z){return($e(Z)?u.$(Z):Z)[0]},x=function(Z){return g(b(Z)).dist},C=function(Z){for(var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,te=b(Z),re=[],ge=te;;){if(ge==null)return r.spawn();var pe=g(ge),me=pe.edge,xe=pe.pred;if(re.unshift(ge[0]),ge.same(ne)&&re.length>0)break;me!=null&&re.unshift(me),ge=xe}return l.spawn(re)},T=0;T<d;T++){var w=f[T],k=g(w);w.same(o)?k.dist=0:k.dist=1/0,k.pred=null,k.edge=null}for(var E=!1,A=function(Z,ne,te,re,ge,pe){var me=re.dist+pe;me<ge.dist&&!te.same(re.edge)&&(ge.dist=me,ge.pred=Z,ge.edge=te,E=!0)},S=1;S<d;S++){E=!1;for(var B=0;B<y;B++){var D=h[B],I=D.source(),O=D.target(),F=s(D),M=g(I),N=g(O);A(I,O,D,M,N,F),a||A(O,I,D,N,M,F)}if(!E)break}if(E)for(var z=[],U=0;U<y;U++){var $=h[U],W=$.source(),X=$.target(),ie=s($),Y=g(W).dist,oe=g(X).dist;if(Y+ie<oe||!a&&oe+ie<Y)if(m||(lt("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),t.findNegativeWeightCycles!==!1){var ce=[];Y+ie<oe&&ce.push(W),!a&&oe+ie<Y&&ce.push(X);for(var ve=ce.length,se=0;se<ve;se++){var G=ce[se],K=[G];K.push(g(G).edge);for(var _=g(G).pred;K.indexOf(_)===-1;)K.push(_),K.push(g(_).edge),_=g(_).pred;K=K.slice(K.indexOf(_));for(var P=K[0].id(),V=0,ee=2;ee<K.length;ee+=2)K[ee].id()<P&&(P=K[ee].id(),V=ee);K=K.slice(V).concat(K.slice(0,V)),K.push(K[0]);var q=K.map(function(H){return H.id()}).join(",");z.indexOf(q)===-1&&(v.push(l.spawn(K)),z.push(q))}}else break}return{distanceTo:x,pathTo:C,hasNegativeWeightCycle:m,negativeWeightCycles:v}}},aA=Math.sqrt(2),oA=function(t,r,n){n.length===0&&St("Karger-Stein must be run on a connected (sub)graph");for(var i=n[t],a=i[1],o=i[2],s=r[a],l=r[o],u=n,c=u.length-1;c>=0;c--){var h=u[c],f=h[1],d=h[2];(r[f]===s&&r[d]===l||r[f]===l&&r[d]===s)&&u.splice(c,1)}for(var p=0;p<u.length;p++){var m=u[p];m[1]===l?(u[p]=m.slice(),u[p][1]=s):m[2]===l&&(u[p]=m.slice(),u[p][2]=s)}for(var v=0;v<r.length;v++)r[v]===l&&(r[v]=s);return u},Ah=function(t,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=oA(a,t,r),n--}return r},sA={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(N){return N.isLoop()});var a=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/aA);if(a<2){St("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var h=i[c];u.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var f=1/0,d=[],p=new Array(a),m=new Array(a),v=new Array(a),y=function(z,U){for(var $=0;$<a;$++)U[$]=z[$]},g=0;g<=s;g++){for(var b=0;b<a;b++)m[b]=b;var x=Ah(m,u.slice(),a,l),C=x.slice();y(m,v);var T=Ah(m,x,l,2),w=Ah(v,C,l,2);T.length<=w.length&&T.length<f?(f=T.length,d=T,y(m,p)):w.length<=T.length&&w.length<f&&(f=w.length,d=w,y(v,p))}for(var k=this.spawn(d.map(function(N){return i[N[0]]})),E=this.spawn(),A=this.spawn(),S=p[0],B=0;B<p.length;B++){var D=p[B],I=n[B];D===S?E.merge(I):A.merge(I)}var O=function(z){var U=t.spawn();return z.forEach(function($){U.merge($),$.connectedEdges().forEach(function(W){t.contains(W)&&!k.contains(W)&&U.merge(W)})}),U},F=[O(E),O(A)],M={cut:k,components:F,partition1:E,partition2:A};return M}},Bh,lA=function(t){return{x:t.x,y:t.y}},bc=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},tx=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},$a=function(t){return{x:t[0],y:t[1]}},uA=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=1/0,a=r;a<n;a++){var o=t[a];isFinite(o)&&(i=Math.min(o,i))}return i},cA=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=-1/0,a=r;a<n;a++){var o=t[a];isFinite(o)&&(i=Math.max(o,i))}return i},hA=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=0,a=0,o=r;o<n;o++){var s=t[o];isFinite(s)&&(i+=s,a++)}return i/a},fA=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var s=0,l=t.length-1;l>=0;l--){var u=t[l];o?isFinite(u)||(t[l]=-1/0,s++):t.splice(l,1)}a&&t.sort(function(f,d){return f-d});var c=t.length,h=Math.floor(c/2);return c%2!==0?t[h+1+s]:(t[h-1+s]+t[h+s])/2},dA=function(t){return Math.PI*t/180},gl=function(t,r){return Math.atan2(r,t)-Math.PI/2},Fp=Math.log2||function(e){return Math.log(e)/Math.log(2)},Pp=function(t){return t>0?1:t<0?-1:0},ha=function(t,r){return Math.sqrt(Gi(t,r))},Gi=function(t,r){var n=r.x-t.x,i=r.y-t.y;return n*n+i*i},pA=function(t){for(var r=t.length,n=0,i=0;i<r;i++)n+=t[i];for(var a=0;a<r;a++)t[a]=t[a]/n;return t},Zt=function(t,r,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*r+i*i*n},Xa=function(t,r,n,i){return{x:Zt(t.x,r.x,n.x,i),y:Zt(t.y,r.y,n.y,i)}},vA=function(t,r,n,i){var a={x:r.x-t.x,y:r.y-t.y},o=ha(t,r),s={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:t.x+s.x*i,y:t.y+s.y*i}},Ss=function(t,r,n){return Math.max(t,Math.min(n,r))},Sr=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},gA=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},mA=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},yA=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},rx=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},Vl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Hl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(r.length===1)n=i=a=o=r[0];else if(r.length===2)n=a=r[0],o=i=r[1];else if(r.length===4){var s=$t(r,4);n=s[0],i=s[1],a=s[2],o=s[3]}return t.x1-=o,t.x2+=i,t.y1-=n,t.y2+=a,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Yg=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Rp=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},di=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},Xg=function(t,r){return di(t,r.x,r.y)},nx=function(t,r){return di(t,r.x1,r.y1)&&di(t,r.x2,r.y2)},bA=(Bh=Math.hypot)!==null&&Bh!==void 0?Bh:function(e,t){return Math.sqrt(e*e+t*t)};function xA(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(k,E){return{x:k.x+E.x,y:k.y+E.y}},n=function(k,E){return{x:k.x-E.x,y:k.y-E.y}},i=function(k,E){return{x:k.x*E,y:k.y*E}},a=function(k,E){return k.x*E.y-k.y*E.x},o=function(k){var E=bA(k.x,k.y);return E===0?{x:0,y:0}:{x:k.x/E,y:k.y/E}},s=function(k){for(var E=0,A=0;A<k.length;A++){var S=k[A],B=k[(A+1)%k.length];E+=S.x*B.y-B.x*S.y}return E/2},l=function(k,E,A,S){var B=n(E,k),D=n(S,A),I=a(B,D);if(Math.abs(I)<1e-9)return r(k,i(B,.5));var O=a(n(A,k),D)/I;return r(k,i(B,O))},u=e.map(function(w){return{x:w.x,y:w.y}});s(u)<0&&u.reverse();for(var c=u.length,h=[],f=0;f<c;f++){var d=u[f],p=u[(f+1)%c],m=n(p,d),v=o({x:m.y,y:-m.x});h.push(v)}for(var y=h.map(function(w,k){var E=r(u[k],i(w,t)),A=r(u[(k+1)%c],i(w,t));return{p1:E,p2:A}}),g=[],b=0;b<c;b++){var x=y[(b-1+c)%c],C=y[b],T=l(x.p1,x.p2,C.p1,C.p2);g.push(T)}return g}function wA(e,t,r,n,i,a){var o=LA(e,t,r,n,i),s=xA(o,a),l=Sr();return s.forEach(function(u){return rx(l,u.x,u.y)}),l}var ix=function(t,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?ki(a,o):l,c=a/2,h=o/2;u=Math.min(u,c,h);var f=u!==c,d=u!==h,p;if(f){var m=n-c+u-s,v=i-h-s,y=n+c-u+s,g=v;if(p=pi(t,r,n,i,m,v,y,g,!1),p.length>0)return p}if(d){var b=n+c+s,x=i-h+u-s,C=b,T=i+h-u+s;if(p=pi(t,r,n,i,b,x,C,T,!1),p.length>0)return p}if(f){var w=n-c+u-s,k=i+h+s,E=n+c-u+s,A=k;if(p=pi(t,r,n,i,w,k,E,A,!1),p.length>0)return p}if(d){var S=n-c-s,B=i-h+u-s,D=S,I=i+h-u+s;if(p=pi(t,r,n,i,S,B,D,I,!1),p.length>0)return p}var O;{var F=n-c+u,M=i-h+u;if(O=Go(t,r,n,i,F,M,u+s),O.length>0&&O[0]<=F&&O[1]<=M)return[O[0],O[1]]}{var N=n+c-u,z=i-h+u;if(O=Go(t,r,n,i,N,z,u+s),O.length>0&&O[0]>=N&&O[1]<=z)return[O[0],O[1]]}{var U=n+c-u,$=i+h-u;if(O=Go(t,r,n,i,U,$,u+s),O.length>0&&O[0]>=U&&O[1]>=$)return[O[0],O[1]]}{var W=n-c+u,X=i+h-u;if(O=Go(t,r,n,i,W,X,u+s),O.length>0&&O[0]<=W&&O[1]>=X)return[O[0],O[1]]}return[]},CA=function(t,r,n,i,a,o,s){var l=s,u=Math.min(n,a),c=Math.max(n,a),h=Math.min(i,o),f=Math.max(i,o);return u-l<=t&&t<=c+l&&h-l<=r&&r<=f+l},TA=function(t,r,n,i,a,o,s,l,u){var c={x1:Math.min(n,s,a)-u,x2:Math.max(n,s,a)+u,y1:Math.min(i,l,o)-u,y2:Math.max(i,l,o)+u};return!(t<c.x1||t>c.x2||r<c.y1||r>c.y2)},kA=function(t,r,n,i){n-=i;var a=r*r-4*t*n;if(a<0)return[];var o=Math.sqrt(a),s=2*t,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},_A=function(t,r,n,i,a){var o=1e-5;t===0&&(t=o),r/=t,n/=t,i/=t;var s,l,u,c,h,f,d,p;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,a[1]=0,d=r/3,s>0){h=u+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),f=u-Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),a[0]=-d+h+f,d+=(h+f)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-f+h)/2,a[3]=d,a[5]=-d;return}if(a[5]=a[3]=0,s===0){p=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-d+2*p,a[4]=a[2]=-(p+d);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),p=2*Math.sqrt(l),a[0]=-d+p*Math.cos(c/3),a[2]=-d+p*Math.cos((c+2*Math.PI)/3),a[4]=-d+p*Math.cos((c+4*Math.PI)/3)},SA=function(t,r,n,i,a,o,s,l){var u=1*n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*l+4*o*o-4*o*l+l*l,c=9*n*a-3*n*n-3*n*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*l-6*o*o+3*o*l,h=3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t+3*i*i-6*i*o+i*l-i*r+2*o*o+2*o*r-l*r,f=1*n*a-n*n+n*t-a*t+i*o-i*i+i*r-o*r,d=[];_A(u,c,h,f,d);for(var p=1e-7,m=[],v=0;v<6;v+=2)Math.abs(d[v+1])<p&&d[v]>=0&&d[v]<=1&&m.push(d[v]);m.push(1),m.push(0);for(var y=-1,g,b,x,C=0;C<m.length;C++)g=Math.pow(1-m[C],2)*n+2*(1-m[C])*m[C]*a+m[C]*m[C]*s,b=Math.pow(1-m[C],2)*i+2*(1-m[C])*m[C]*o+m[C]*m[C]*l,x=Math.pow(g-t,2)+Math.pow(b-r,2),y>=0?x<y&&(y=x):y=x;return y},EA=function(t,r,n,i,a,o){var s=[t-n,r-i],l=[a-n,o-i],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],h=s[0]*l[0]+s[1]*l[1],f=h*h/u;return h<0?c:f>u?(t-a)*(t-a)+(r-o)*(r-o):c-f},Dr=function(t,r,n){for(var i,a,o,s,l,u=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(i==t&&o==t))if(i>=t&&t>=o||i<=t&&t<=o)l=(t-i)/(o-i)*(s-a)+a,l>r&&u++;else continue;return u%2!==0},Jn=function(t,r,n,i,a,o,s,l,u){var c=new Array(n.length),h;l[0]!=null?(h=Math.atan(l[1]/l[0]),l[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=l;for(var f=Math.cos(-h),d=Math.sin(-h),p=0;p<c.length/2;p++)c[p*2]=o/2*(n[p*2]*f-n[p*2+1]*d),c[p*2+1]=s/2*(n[p*2+1]*f+n[p*2]*d),c[p*2]+=i,c[p*2+1]+=a;var m;if(u>0){var v=ku(c,-u);m=Tu(v)}else m=c;return Dr(t,r,m)},AA=function(t,r,n,i,a,o,s,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var h=l[c];u[c*4+0]=h.startX,u[c*4+1]=h.startY,u[c*4+2]=h.stopX,u[c*4+3]=h.stopY;var f=Math.pow(h.cx-t,2)+Math.pow(h.cy-r,2);if(f<=Math.pow(h.radius,2))return!0}return Dr(t,r,u)},Tu=function(t){for(var r=new Array(t.length/2),n,i,a,o,s,l,u,c,h=0;h<t.length/4;h++){n=t[h*4],i=t[h*4+1],a=t[h*4+2],o=t[h*4+3],h<t.length/4-1?(s=t[(h+1)*4],l=t[(h+1)*4+1],u=t[(h+1)*4+2],c=t[(h+1)*4+3]):(s=t[0],l=t[1],u=t[2],c=t[3]);var f=pi(n,i,a,o,s,l,u,c,!0);r[h*2]=f[0],r[h*2+1]=f[1]}return r},ku=function(t,r){for(var n=new Array(t.length*2),i,a,o,s,l=0;l<t.length/2;l++){i=t[l*2],a=t[l*2+1],l<t.length/2-1?(o=t[(l+1)*2],s=t[(l+1)*2+1]):(o=t[0],s=t[1]);var u=s-a,c=-(o-i),h=Math.sqrt(u*u+c*c),f=u/h,d=c/h;n[l*4]=i+f*r,n[l*4+1]=a+d*r,n[l*4+2]=o+f*r,n[l*4+3]=s+d*r}return n},BA=function(t,r,n,i,a,o){var s=n-t,l=i-r;s/=a,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var h=c/u;return[(n-t)*h+t,(i-r)*h+r]},Ji=function(t,r,n,i,a,o,s){return t-=a,r-=o,t/=n/2+s,r/=i/2+s,t*t+r*r<=1},Go=function(t,r,n,i,a,o,s){var l=[n-t,i-r],u=[t-a,r-o],c=l[0]*l[0]+l[1]*l[1],h=2*(u[0]*l[0]+u[1]*l[1]),f=u[0]*u[0]+u[1]*u[1]-s*s,d=h*h-4*c*f;if(d<0)return[];var p=(-h+Math.sqrt(d))/(2*c),m=(-h-Math.sqrt(d))/(2*c),v=Math.min(p,m),y=Math.max(p,m),g=[];if(v>=0&&v<=1&&g.push(v),y>=0&&y<=1&&g.push(y),g.length===0)return[];var b=g[0]*l[0]+t,x=g[0]*l[1]+r;if(g.length>1){if(g[0]==g[1])return[b,x];var C=g[1]*l[0]+t,T=g[1]*l[1]+r;return[b,x,C,T]}else return[b,x]},Lh=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},pi=function(t,r,n,i,a,o,s,l,u){var c=t-a,h=n-t,f=s-a,d=r-o,p=i-r,m=l-o,v=f*d-m*c,y=h*d-p*c,g=m*h-f*p;if(g!==0){var b=v/g,x=y/g,C=.001,T=0-C,w=1+C;return T<=b&&b<=w&&T<=x&&x<=w?[t+b*h,r+b*p]:u?[t+b*h,r+b*p]:[]}else return v===0||y===0?Lh(t,n,s)===s?[s,l]:Lh(t,n,a)===a?[a,o]:Lh(a,s,n)===n?[n,i]:[]:[]},LA=function(t,r,n,i,a){var o=[],s=i/2,l=a/2,u=r,c=n;o.push({x:u+s*t[0],y:c+l*t[1]});for(var h=1;h<t.length/2;h++)o.push({x:u+s*t[h*2],y:c+l*t[h*2+1]});return o},Es=function(t,r,n,i,a,o,s,l){var u=[],c,h=new Array(n.length),f=!0;o==null&&(f=!1);var d;if(f){for(var p=0;p<h.length/2;p++)h[p*2]=n[p*2]*o+i,h[p*2+1]=n[p*2+1]*s+a;if(l>0){var m=ku(h,-l);d=Tu(m)}else d=h}else d=n;for(var v,y,g,b,x=0;x<d.length/2;x++)v=d[x*2],y=d[x*2+1],x<d.length/2-1?(g=d[(x+1)*2],b=d[(x+1)*2+1]):(g=d[0],b=d[1]),c=pi(t,r,i,a,v,y,g,b),c.length!==0&&u.push(c[0],c[1]);return u},DA=function(t,r,n,i,a,o,s,l,u){var c=[],h,f=new Array(n.length*2);u.forEach(function(g,b){b===0?(f[f.length-2]=g.startX,f[f.length-1]=g.startY):(f[b*4-2]=g.startX,f[b*4-1]=g.startY),f[b*4]=g.stopX,f[b*4+1]=g.stopY,h=Go(t,r,i,a,g.cx,g.cy,g.radius),h.length!==0&&c.push(h[0],h[1])});for(var d=0;d<f.length/4;d++)h=pi(t,r,i,a,f[d*4],f[d*4+1],f[d*4+2],f[d*4+3],!1),h.length!==0&&c.push(h[0],h[1]);if(c.length>2){for(var p=[c[0],c[1]],m=Math.pow(p[0]-t,2)+Math.pow(p[1]-r,2),v=1;v<c.length/2;v++){var y=Math.pow(c[v*2]-t,2)+Math.pow(c[v*2+1]-r,2);y<=m&&(p[0]=c[v*2],p[1]=c[v*2+1],m=y)}return p}return c},ml=function(t,r,n){var i=[t[0]-r[0],t[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[r[0]+o*i[0],r[1]+o*i[1]]},br=function(t,r){var n=Cd(t,r);return n=ax(n),n},ax=function(t){for(var r,n,i=t.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i;u++)r=t[2*u],n=t[2*u+1],a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var c=2/(s-a),h=2/(l-o),f=0;f<i;f++)r=t[2*f]=t[2*f]*c,n=t[2*f+1]=t[2*f+1]*h,a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var d=0;d<i;d++)n=t[2*d+1]=t[2*d+1]+(-1-o);return t},Cd=function(t,r){var n=1/t*2*Math.PI,i=t%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(t*2),o,s=0;s<t;s++)o=s*n+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},ki=function(t,r){return Math.min(t/4,r/4,8)},ox=function(t,r){return Math.min(t/10,r/10,8)},Ip=function(){return 8},MA=function(t,r,n){return[t-2*r+n,2*(r-t),t]},Td=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};function Dh(e,t){function r(h){for(var f=[],d=0;d<h.length;d++){var p=h[d],m=h[(d+1)%h.length],v={x:m.x-p.x,y:m.y-p.y},y={x:-v.y,y:v.x},g=Math.sqrt(y.x*y.x+y.y*y.y);f.push({x:y.x/g,y:y.y/g})}return f}function n(h,f){var d=1/0,p=-1/0,m=Fr(h),v;try{for(m.s();!(v=m.n()).done;){var y=v.value,g=y.x*f.x+y.y*f.y;d=Math.min(d,g),p=Math.max(p,g)}}catch(b){m.e(b)}finally{m.f()}return{min:d,max:p}}function i(h,f){return!(h.max<f.min||f.max<h.min)}var a=[].concat(bu(r(e)),bu(r(t))),o=Fr(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n(e,l),c=n(t,l);if(!i(u,c))return!1}}catch(h){o.e(h)}finally{o.f()}return!0}var FA=nr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),PA={pageRank:function(t){for(var r=FA(t),n=r.dampingFactor,i=r.precision,a=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,h=u.length,f=h*h,d=c.length,p=new Array(f),m=new Array(h),v=(1-n)/h,y=0;y<h;y++){for(var g=0;g<h;g++){var b=y*h+g;p[b]=0}m[y]=0}for(var x=0;x<d;x++){var C=c[x],T=C.data("source"),w=C.data("target");if(T!==w){var k=u.indexOfId(T),E=u.indexOfId(w),A=o(C),S=E*h+k;p[S]+=A,m[k]+=A}}for(var B=1/h+v,D=0;D<h;D++)if(m[D]===0)for(var I=0;I<h;I++){var O=I*h+D;p[O]=B}else for(var F=0;F<h;F++){var M=F*h+D;p[M]=p[M]/m[D]+v}for(var N=new Array(h),z=new Array(h),U,$=0;$<h;$++)N[$]=1;for(var W=0;W<a;W++){for(var X=0;X<h;X++)z[X]=0;for(var ie=0;ie<h;ie++)for(var Y=0;Y<h;Y++){var oe=ie*h+Y;z[ie]+=p[oe]*N[Y]}pA(z),U=N,N=z,z=U;for(var ce=0,ve=0;ve<h;ve++){var se=U[ve]-N[ve];ce+=se*se}if(ce<i)break}var G={rank:function(_){return _=s.collection(_)[0],N[u.indexOf(_)]}};return G}},Zg=nr({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Za={degreeCentralityNormalized:function(t){t=Zg(t);var r=this.cy(),n=this.nodes(),i=n.length;if(t.directed){for(var c={},h={},f=0,d=0,p=0;p<i;p++){var m=n[p],v=m.id();t.root=m;var y=this.degreeCentrality(t);f<y.indegree&&(f=y.indegree),d<y.outdegree&&(d=y.outdegree),c[v]=y.indegree,h[v]=y.outdegree}return{indegree:function(b){return f==0?0:($e(b)&&(b=r.filter(b)),c[b.id()]/f)},outdegree:function(b){return d===0?0:($e(b)&&(b=r.filter(b)),h[b.id()]/d)}}}else{for(var a={},o=0,s=0;s<i;s++){var l=n[s];t.root=l;var u=this.degreeCentrality(t);o<u.degree&&(o=u.degree),a[l.id()]=u.degree}return{degree:function(b){return o===0?0:($e(b)&&(b=r.filter(b)),a[b.id()]/o)}}}},degreeCentrality:function(t){t=Zg(t);var r=this.cy(),n=this,i=t,a=i.root,o=i.weight,s=i.directed,l=i.alpha;if(a=r.collection(a)[0],s){for(var d=a.connectedEdges(),p=d.filter(function(T){return T.target().same(a)&&n.has(T)}),m=d.filter(function(T){return T.source().same(a)&&n.has(T)}),v=p.length,y=m.length,g=0,b=0,x=0;x<p.length;x++)g+=o(p[x]);for(var C=0;C<m.length;C++)b+=o(m[C]);return{indegree:Math.pow(v,1-l)*Math.pow(g,l),outdegree:Math.pow(y,1-l)*Math.pow(b,l)}}else{for(var u=a.connectedEdges().intersection(n),c=u.length,h=0,f=0;f<u.length;f++)h+=o(u[f]);return{degree:Math.pow(c,1-l)*Math.pow(h,l)}}}};Za.dc=Za.degreeCentrality;Za.dcn=Za.degreeCentralityNormalised=Za.degreeCentralityNormalized;var Qg=nr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Qa={closenessCentralityNormalized:function(t){for(var r=Qg(t),n=r.harmonic,i=r.weight,a=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),h=0;h<u.length;h++){for(var f=0,d=u[h],p=0;p<u.length;p++)if(h!==p){var m=c.distance(d,u[p]);n?f+=1/m:f+=m}n||(f=1/f),l<f&&(l=f),s[d.id()]=f}return{closeness:function(y){return l==0?0:($e(y)?y=o.filter(y)[0].id():y=y.id(),s[y]/l)}}},closenessCentrality:function(t){var r=Qg(t),n=r.root,i=r.weight,a=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var h=u[c];if(!h.same(n)){var f=s.distanceTo(h);o?l+=1/f:l+=f}}return o?l:1/l}};Qa.cc=Qa.closenessCentrality;Qa.ccn=Qa.closenessCentralityNormalised=Qa.closenessCentralityNormalized;var RA=nr({weight:null,directed:!1}),kd={betweennessCentrality:function(t){for(var r=RA(t),n=r.directed,i=r.weight,a=i!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,h={set:function(b,x){u[b]=x,x>c&&(c=x)},get:function(b){return u[b]}},f=0;f<s.length;f++){var d=s[f],p=d.id();n?l[p]=d.outgoers().nodes():l[p]=d.openNeighborhood().nodes(),h.set(p,0)}for(var m=function(){for(var b=s[v].id(),x=[],C={},T={},w={},k=new Xs(function(ie,Y){return w[ie]-w[Y]}),E=0;E<s.length;E++){var A=s[E].id();C[A]=[],T[A]=0,w[A]=1/0}for(T[b]=1,w[b]=0,k.push(b);!k.empty();){var S=k.pop();if(x.push(S),a)for(var B=0;B<l[S].length;B++){var D=l[S][B],I=o.getElementById(S),O=void 0;I.edgesTo(D).length>0?O=I.edgesTo(D)[0]:O=D.edgesTo(I)[0];var F=i(O);D=D.id(),w[D]>w[S]+F&&(w[D]=w[S]+F,k.nodes.indexOf(D)<0?k.push(D):k.updateItem(D),T[D]=0,C[D]=[]),w[D]==w[S]+F&&(T[D]=T[D]+T[S],C[D].push(S))}else for(var M=0;M<l[S].length;M++){var N=l[S][M].id();w[N]==1/0&&(k.push(N),w[N]=w[S]+1),w[N]==w[S]+1&&(T[N]=T[N]+T[S],C[N].push(S))}}for(var z={},U=0;U<s.length;U++)z[s[U].id()]=0;for(;x.length>0;){for(var $=x.pop(),W=0;W<C[$].length;W++){var X=C[$][W];z[X]=z[X]+T[X]/T[$]*(1+z[$])}$!=s[v].id()&&h.set($,h.get($)+z[$])}},v=0;v<s.length;v++)m();var y={betweenness:function(b){var x=o.collection(b).id();return h.get(x)},betweennessNormalized:function(b){if(c==0)return 0;var x=o.collection(b).id();return h.get(x)/c}};return y.betweennessNormalised=y.betweennessNormalized,y}};kd.bc=kd.betweennessCentrality;var IA=nr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),OA=function(t){return IA(t)},NA=function(t,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](t);return n},$A=function(t,r,n){for(var i=0;i<r;i++)t[i*r+i]=n},sx=function(t,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=t[a*r+i];for(var o=0;o<r;o++)t[o*r+i]=t[o*r+i]/n}},zA=function(t,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)i[a*n+l]+=t[a*n+s]*r[s*n+l]}return i},qA=function(t,r,n){for(var i=t.slice(0),a=1;a<n;a++)t=zA(t,i,r);return t},VA=function(t,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(t[a],n);return sx(i,r),i},HA=function(t,r,n,i){for(var a=0;a<n;a++){var o=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},WA=function(t,r,n,i){for(var a=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(t[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&a.push(i.collection(s))}return a},UA=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},GA=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&UA(t[r],t[n])&&t.splice(n,1);return t},Jg=function(t){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=OA(t),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,c=new Array(u),h,f=0;f<u;f++)c[f]=0;for(var d=0;d<n.length;d++){var p=n[d],m=o[p.source().id()],v=o[p.target().id()],y=NA(p,a.attributes);c[m*l+v]+=y,c[v*l+m]+=y}$A(c,l,a.multFactor),sx(c,l);for(var g=!0,b=0;g&&b<a.maxIterations;)g=!1,h=qA(c,l,a.expandFactor),c=VA(h,l,a.inflateFactor),HA(c,h,u,4)||(g=!0),b++;var x=WA(c,l,r,i);return x=GA(x),x},jA={markovClustering:Jg,mcl:Jg},KA=function(t){return t},lx=function(t,r){return Math.abs(r-t)},em=function(t,r,n){return t+lx(r,n)},tm=function(t,r,n){return t+Math.pow(n-r,2)},YA=function(t){return Math.sqrt(t)},XA=function(t,r,n){return Math.max(t,lx(r,n))},Lo=function(t,r,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:KA,s=i,l,u,c=0;c<t;c++)l=r(c),u=n(c),s=a(s,l,u);return o(s)},ao={euclidean:function(t,r,n){return t>=2?Lo(t,r,n,0,tm,YA):Lo(t,r,n,0,em)},squaredEuclidean:function(t,r,n){return Lo(t,r,n,0,tm)},manhattan:function(t,r,n){return Lo(t,r,n,0,em)},max:function(t,r,n){return Lo(t,r,n,-1/0,XA)}};ao["squared-euclidean"]=ao.squaredEuclidean;ao.squaredeuclidean=ao.squaredEuclidean;function xc(e,t,r,n,i,a){var o;return Bt(e)?o=e:o=ao[e]||ao.euclidean,t===0&&Bt(e)?o(i,a):o(t,r,n,i,a)}var ZA=nr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Op=function(t){return ZA(t)},_u=function(t,r,n,i,a){var o=a!=="kMedoids",s=o?function(h){return n[h]}:function(h){return i[h](n)},l=function(f){return i[f](r)},u=n,c=r;return xc(t,i.length,s,l,u,c)},Mh=function(t,r,n){for(var i=n.length,a=new Array(i),o=new Array(i),s=new Array(r),l=null,u=0;u<i;u++)a[u]=t.min(n[u]).value,o[u]=t.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var h=0;h<i;h++)l[h]=Math.random()*(o[h]-a[h])+a[h];s[c]=l}return s},ux=function(t,r,n,i,a){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=_u(n,t,r[l],i,a);u<o&&(o=u,s=l)}return s},cx=function(t,r,n){for(var i=[],a=null,o=0;o<r.length;o++)a=r[o],n[a.id()]===t&&i.push(a);return i},QA=function(t,r,n){return Math.abs(r-t)<=n},JA=function(t,r,n){for(var i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){var o=Math.abs(t[i][a]-r[i][a]);if(o>n)return!1}return!0},e2=function(t,r,n){for(var i=0;i<n;i++)if(t===r[i])return!0;return!1},rm=function(t,r){var n=new Array(r);if(t.length<50)for(var i=0;i<r;i++){for(var a=t[Math.floor(Math.random()*t.length)];e2(a,n,i);)a=t[Math.floor(Math.random()*t.length)];n[i]=a}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},nm=function(t,r,n){for(var i=0,a=0;a<r.length;a++)i+=_u("manhattan",r[a],t,n,"kMedoids");return i},t2=function(t){var r=this.cy(),n=this.nodes(),i=null,a=Op(t),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=Mh(n,a.k,a.attributes)):jt(a.testCentroids)==="object"?l=a.testCentroids:l=Mh(n,a.k,a.attributes):l=Mh(n,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],s[i.id()]=ux(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var f=0;f<a.k;f++){var d=cx(f,n,s);if(d.length!==0){for(var p=a.attributes.length,m=l[f],v=new Array(p),y=new Array(p),g=0;g<p;g++){y[g]=0;for(var b=0;b<d.length;b++)i=d[b],y[g]+=a.attributes[g](i);v[g]=y[g]/d.length,QA(v[g],m[g],a.sensitivityThreshold)||(u=!0)}l[f]=v,o[f]=r.collection(d)}}c++}return o},r2=function(t){var r=this.cy(),n=this.nodes(),i=null,a=Op(t),o=new Array(a.k),s,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(jt(a.testCentroids)==="object"?s=a.testCentroids:s=rm(n,a.k)):s=rm(n,a.k);for(var h=!0,f=0;h&&f<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],l[i.id()]=ux(i,s,a.distance,a.attributes,"kMedoids");h=!1;for(var p=0;p<s.length;p++){var m=cx(p,n,l);if(m.length!==0){c[p]=nm(s[p],m,a.attributes);for(var v=0;v<m.length;v++)u=nm(m[v],m,a.attributes),u<c[p]&&(c[p]=u,s[p]=m[v],h=!0);o[p]=r.collection(m)}}f++}return o},n2=function(t,r,n,i,a){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<t.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var c=0;c<t.length;c++)for(var h=0;h<a.attributes.length;h++){o=0,s=0;for(var f=0;f<r.length;f++)o+=i[f][c]*a.attributes[h](r[f]),s+=i[f][c];t[c][h]=o/s}},i2=function(t,r,n,i,a){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var s,l,u,c=2/(a.m-1),h=0;h<n.length;h++)for(var f=0;f<i.length;f++){s=0;for(var d=0;d<n.length;d++)l=_u(a.distance,i[f],n[h],a.attributes,"cmeans"),u=_u(a.distance,i[f],n[d],a.attributes,"cmeans"),s+=Math.pow(l/u,c);t[f][h]=1/s}},a2=function(t,r,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>s&&(s=r[u][c],l=c);a[l].push(t[u])}for(var h=0;h<a.length;h++)a[h]=i.collection(a[h]);return a},im=function(t){var r=this.cy(),n=this.nodes(),i=Op(t),a,o,s,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(i.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(i.k);for(var f=0;f<n.length;f++){for(var d=0,p=0;p<i.k;p++)s[f][p]=Math.random(),d+=s[f][p];for(var m=0;m<i.k;m++)s[f][m]=s[f][m]/d}o=new Array(i.k);for(var v=0;v<i.k;v++)o[v]=new Array(i.attributes.length);u=new Array(n.length);for(var y=0;y<n.length;y++)u[y]=new Array(i.k);for(var g=!0,b=0;g&&b<i.maxIterations;)g=!1,n2(o,n,s,u,i),i2(s,l,o,n,i),JA(s,l,i.sensitivityThreshold)||(g=!0),b++;return a=a2(n,s,i,r),{clusters:a,degreeOfMembership:s}},o2={kMeans:t2,kMedoids:r2,fuzzyCMeans:im,fcm:im},s2=nr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),l2={single:"min",complete:"max"},u2=function(t){var r=s2(t),n=l2[r.linkage];return n!=null&&(r.linkage=n),r},am=function(t,r,n,i,a){for(var o=0,s=1/0,l,u=a.attributes,c=function(E,A){return xc(a.distance,u.length,function(S){return u[S](E)},function(S){return u[S](A)},E,A)},h=0;h<t.length;h++){var f=t[h].key,d=n[f][i[f]];d<s&&(o=f,s=d)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&t.length===1)return!1;var p=r[o],m=r[i[o]],v;a.mode==="dendrogram"?v={left:p,right:m,key:p.key}:v={value:p.value.concat(m.value),key:p.key},t[p.index]=v,t.splice(m.index,1),r[p.key]=v;for(var y=0;y<t.length;y++){var g=t[y];p.key===g.key?l=1/0:a.linkage==="min"?(l=n[p.key][g.key],n[p.key][g.key]>n[m.key][g.key]&&(l=n[m.key][g.key])):a.linkage==="max"?(l=n[p.key][g.key],n[p.key][g.key]<n[m.key][g.key]&&(l=n[m.key][g.key])):a.linkage==="mean"?l=(n[p.key][g.key]*p.size+n[m.key][g.key]*m.size)/(p.size+m.size):a.mode==="dendrogram"?l=c(g.value,p.value):l=c(g.value[0],p.value[0]),n[p.key][g.key]=n[g.key][p.key]=l}for(var b=0;b<t.length;b++){var x=t[b].key;if(i[x]===p.key||i[x]===m.key){for(var C=x,T=0;T<t.length;T++){var w=t[T].key;n[x][w]<n[x][C]&&(C=w)}i[x]=C}t[b].index=b}return p.key=m.key=p.index=m.index=null,!0},za=function(t,r,n){t&&(t.value?r.push(t.value):(t.left&&za(t.left,r),t.right&&za(t.right,r)))},_d=function(t,r){if(!t)return"";if(t.left&&t.right){var n=_d(t.left,r),i=_d(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},Sd=function(t,r,n){if(!t)return[];var i=[],a=[],o=[];return r===0?(t.left&&za(t.left,i),t.right&&za(t.right,a),o=i.concat(a),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&za(t.left,i),t.right&&za(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=Sd(t.left,r-1,n)),t.right&&(a=Sd(t.right,r-1,n)),i.concat(a))},om=function(t){for(var r=this.cy(),n=this.nodes(),i=u2(t),a=i.attributes,o=function(b,x){return xc(i.distance,a.length,function(C){return a[C](b)},function(C){return a[C](x)},b,x)},s=[],l=[],u=[],c=[],h=0;h<n.length;h++){var f={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=f,c[h]=f,l[h]=[],u[h]=0}for(var d=0;d<s.length;d++)for(var p=0;p<=d;p++){var m=void 0;i.mode==="dendrogram"?m=d===p?1/0:o(s[d].value,s[p].value):m=d===p?1/0:o(s[d].value[0],s[p].value[0]),l[d][p]=m,l[p][d]=m,m<l[d][u[d]]&&(u[d]=p)}for(var v=am(s,c,l,u,i);v;)v=am(s,c,l,u,i);var y;return i.mode==="dendrogram"?(y=Sd(s[0],i.dendrogramDepth,r),i.addDendrogram&&_d(s[0],r)):(y=new Array(s.length),s.forEach(function(g,b){g.key=g.index=null,y[b]=r.collection(g.value)})),y},c2={hierarchicalClustering:om,hca:om},h2=nr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),f2=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||St("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||Ce(n)||St("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),h2(t)},d2=function(t,r,n,i){var a=function(s,l){return i[l](s)};return-xc(t,i.length,function(o){return a(r,o)},function(o){return a(n,o)},r,n)},p2=function(t,r){var n=null;return r==="median"?n=fA(t):r==="mean"?n=hA(t):r==="min"?n=uA(t):r==="max"?n=cA(t):n=r,n},v2=function(t,r,n){for(var i=[],a=0;a<t;a++)r[a*t+a]+n[a*t+a]>0&&i.push(a);return i},sm=function(t,r,n){for(var i=[],a=0;a<t;a++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*t+u]>s&&(o=u,s=r[a*t+u])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},g2=function(t,r,n){for(var i=sm(t,r,n),a=0;a<n.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===n[a]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var h=0,f=0;f<o.length;f++)h+=r[o[f]*t+o[c]];h>u&&(l=c,u=h)}n[a]=o[l]}return i=sm(t,r,n),i},lm=function(t){for(var r=this.cy(),n=this.nodes(),i=f2(t),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var s,l,u,c,h,f;s=n.length,l=s*s,u=new Array(l);for(var d=0;d<l;d++)u[d]=-1/0;for(var p=0;p<s;p++)for(var m=0;m<s;m++)p!==m&&(u[p*s+m]=d2(i.distance,n[p],n[m],i.attributes));c=p2(u,i.preference);for(var v=0;v<s;v++)u[v*s+v]=c;h=new Array(l);for(var y=0;y<l;y++)h[y]=0;f=new Array(l);for(var g=0;g<l;g++)f[g]=0;for(var b=new Array(s),x=new Array(s),C=new Array(s),T=0;T<s;T++)b[T]=0,x[T]=0,C[T]=0;for(var w=new Array(s*i.minIterations),k=0;k<w.length;k++)w[k]=0;var E;for(E=0;E<i.maxIterations;E++){for(var A=0;A<s;A++){for(var S=-1/0,B=-1/0,D=-1,I=0,O=0;O<s;O++)b[O]=h[A*s+O],I=f[A*s+O]+u[A*s+O],I>=S?(B=S,S=I,D=O):I>B&&(B=I);for(var F=0;F<s;F++)h[A*s+F]=(1-i.damping)*(u[A*s+F]-S)+i.damping*b[F];h[A*s+D]=(1-i.damping)*(u[A*s+D]-B)+i.damping*b[D]}for(var M=0;M<s;M++){for(var N=0,z=0;z<s;z++)b[z]=f[z*s+M],x[z]=Math.max(0,h[z*s+M]),N+=x[z];N-=x[M],x[M]=h[M*s+M],N+=x[M];for(var U=0;U<s;U++)f[U*s+M]=(1-i.damping)*Math.min(0,N-x[U])+i.damping*b[U];f[M*s+M]=(1-i.damping)*(N-x[M])+i.damping*b[M]}for(var $=0,W=0;W<s;W++){var X=f[W*s+W]+h[W*s+W]>0?1:0;w[E%i.minIterations*s+W]=X,$+=X}if($>0&&(E>=i.minIterations-1||E==i.maxIterations-1)){for(var ie=0,Y=0;Y<s;Y++){C[Y]=0;for(var oe=0;oe<i.minIterations;oe++)C[Y]+=w[oe*s+Y];(C[Y]===0||C[Y]===i.minIterations)&&ie++}if(ie===s)break}}for(var ce=v2(s,h,f),ve=g2(s,u,ce),se={},G=0;G<ce.length;G++)se[ce[G]]=[];for(var K=0;K<n.length;K++){var _=a[n[K].id()],P=ve[_];P!=null&&se[P].push(n[K])}for(var V=new Array(ce.length),ee=0;ee<ce.length;ee++)V[ee]=r.collection(se[ce[ee]]);return V},m2={affinityPropagation:lm,ap:lm},y2=nr({root:void 0,directed:!1}),b2={hierholzer:function(t){if(!nt(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=y2(t),i=n.root,a=n.directed,o=this,s=!1,l,u,c;i&&(c=$e(i)?this.filter(i)[0].id():i[0].id());var h={},f={};a?o.forEach(function(g){var b=g.id();if(g.isNode()){var x=g.indegree(!0),C=g.outdegree(!0),T=x-C,w=C-x;T==1?l?s=!0:l=b:w==1?u?s=!0:u=b:(w>1||T>1)&&(s=!0),h[b]=[],g.outgoers().forEach(function(k){k.isEdge()&&h[b].push(k.id())})}else f[b]=[void 0,g.target().id()]}):o.forEach(function(g){var b=g.id();if(g.isNode()){var x=g.degree(!0);x%2&&(l?u?s=!0:u=b:l=b),h[b]=[],g.connectedEdges().forEach(function(C){return h[b].push(C.id())})}else f[b]=[g.source().id(),g.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(u&&l)if(a){if(c&&u!=c)return d;c=u}else{if(c&&u!=c&&l!=c)return d;c||(c=u)}else c||(c=o[0].id());var p=function(b){for(var x=b,C=[b],T,w,k;h[x].length;)T=h[x].shift(),w=f[T][0],k=f[T][1],x!=k?(h[k]=h[k].filter(function(E){return E!=T}),x=k):!a&&x!=w&&(h[w]=h[w].filter(function(E){return E!=T}),x=w),C.unshift(T),C.unshift(x);return C},m=[],v=[];for(v=p(c);v.length!=1;)h[v[0]].length==0?(m.unshift(o.getElementById(v.shift())),m.unshift(o.getElementById(v.shift()))):v=p(v.shift()).concat(v);m.unshift(o.getElementById(v.shift()));for(var y in h)if(h[y].length)return d;return d.found=!0,d.trail=this.spawn(m,!0),d}},yl=function(){var t=this,r={},n=0,i=0,a=[],o=[],s={},l=function(f,d){for(var p=o.length-1,m=[],v=t.spawn();o[p].x!=f||o[p].y!=d;)m.push(o.pop().edge),p--;m.push(o.pop().edge),m.forEach(function(y){var g=y.connectedNodes().intersection(t);v.merge(y),g.forEach(function(b){var x=b.id(),C=b.connectedEdges().intersection(t);v.merge(b),r[x].cutVertex?v.merge(C.filter(function(T){return T.isLoop()})):v.merge(C)})}),a.push(v)},u=function(f,d,p){f===p&&(i+=1),r[d]={id:n,low:n++,cutVertex:!1};var m=t.getElementById(d).connectedEdges().intersection(t);if(m.size()===0)a.push(t.spawn(t.getElementById(d)));else{var v,y,g,b;m.forEach(function(x){v=x.source().id(),y=x.target().id(),g=v===d?y:v,g!==p&&(b=x.id(),s[b]||(s[b]=!0,o.push({x:d,y:g,edge:x})),g in r?r[d].low=Math.min(r[d].low,r[g].id):(u(f,g,d),r[d].low=Math.min(r[d].low,r[g].low),r[d].id<=r[g].low&&(r[d].cutVertex=!0,l(d,g))))})}};t.forEach(function(h){if(h.isNode()){var f=h.id();f in r||(i=0,u(f,f),r[f].cutVertex=i>1)}});var c=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return t.getElementById(h)});return{cut:t.spawn(c),components:a}},x2={hopcroftTarjanBiconnected:yl,htbc:yl,htb:yl,hopcroftTarjanBiconnectedComponents:yl},bl=function(){var t=this,r={},n=0,i=[],a=[],o=t.spawn(t),s=function(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var c=t.getElementById(u).connectedEdges().intersection(t);if(c.forEach(function(m){var v=m.target().id();v!==u&&(v in r||s(v),r[v].explored||(r[u].low=Math.min(r[u].low,r[v].low)))}),r[u].index===r[u].low){for(var h=t.spawn();;){var f=a.pop();if(h.merge(t.getElementById(f)),r[f].low=r[u].index,r[f].explored=!0,f===u)break}var d=h.edgesWith(h),p=h.merge(d);i.push(p),o=o.difference(p)}};return t.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:i}},w2={tarjanStronglyConnected:bl,tsc:bl,tscc:bl,tarjanStronglyConnectedComponents:bl},hx={};[_s,ZE,QE,eA,rA,iA,sA,PA,Za,Qa,kd,jA,o2,c2,m2,b2,x2,w2].forEach(function(e){Ve(hx,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var fx=0,dx=1,px=2,fn=function(t){if(!(this instanceof fn))return new fn(t);this.id="Thenable/1.0.7",this.state=fx,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};fn.prototype={fulfill:function(t){return um(this,dx,"fulfillValue",t)},reject:function(t){return um(this,px,"rejectReason",t)},then:function(t,r){var n=this,i=new fn;return n.onFulfilled.push(hm(t,i,"fulfill")),n.onRejected.push(hm(r,i,"reject")),vx(n),i.proxy}};var um=function(t,r,n,i){return t.state===fx&&(t.state=r,t[n]=i,vx(t)),t},vx=function(t){t.state===dx?cm(t,"onFulfilled",t.fulfillValue):t.state===px&&cm(t,"onRejected",t.rejectReason)},cm=function(t,r,n){if(t[r].length!==0){var i=t[r];t[r]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},hm=function(t,r,n){return function(i){if(typeof t!="function")r[n].call(r,i);else{var a;try{a=t(i)}catch(o){r.reject(o);return}gx(r,a)}}},gx=function(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(jt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){t.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?t.reject(new TypeError("circular thenable chain")):gx(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(r)};fn.all=function(e){return new fn(function(t,r){for(var n=new Array(e.length),i=0,a=function(l,u){n[l]=u,i++,i===e.length&&t(n)},o=0;o<e.length;o++)(function(s){var l=e[s],u=l!=null&&l.then!=null;if(u)l.then(function(h){a(s,h)},function(h){r(h)});else{var c=l;a(s,c)}})(o)})};fn.resolve=function(e){return new fn(function(t,r){t(e)})};fn.reject=function(e){return new fn(function(t,r){r(e)})};var bo=typeof Promise<"u"?Promise:fn,Ed=function(t,r,n){var i=Ep(t),a=!i,o=this._private=Ve({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Bt(o.complete)&&o.completes.push(o.complete),a){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(i){var l=t.pan();o.startPan={x:l.x,y:l.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},fa=Ed.prototype;Ve(fa,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),zr(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(u,c){var h=t[u];h!=null&&(t[u]=t[c],t[c]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var a=t.style[i],o=a.name,s=t.startStyle[o];t.startStyle[o]=a,t.style[i]=s}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new bo(function(i,a){n.push(function(){i()})})}});fa.complete=fa.completed;fa.run=fa.play;fa.running=fa.playing;var C2={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,l=!a,u=!l;if(!s.styleEnabled())return this;var c=s.style();r=Ve({},r,n);var h=Object.keys(r).length===0;if(h)return new Ed(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var f=r.renderedPosition,d=s.pan(),p=s.zoom();r.position=tx(f,p,d)}if(l&&r.panBy!=null){var m=r.panBy,v=s.pan();r.pan={x:v.x+m.x,y:v.y+m.y}}var y=r.center||r.centre;if(l&&y!=null){var g=s.getCenterPan(y.eles,r.zoom);g!=null&&(r.pan=g)}if(l&&r.fit!=null){var b=r.fit,x=s.getFitViewport(b.eles||b.boundingBox,b.padding);x!=null&&(r.pan=x.pan,r.zoom=x.zoom)}if(l&&nt(r.zoom)){var C=s.getZoomedViewport(r.zoom);C!=null?(C.zoomed&&(r.zoom=C.zoom),C.panned&&(r.pan=C.pan)):r.zoom=null}return new Ed(o[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Ve({},r,n));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(r.queue===void 0||r.queue),h=u.animation(r,c?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,h=c.animation.current,f=0;f<h.length;f++){var d=h[f],p=d._private;n&&(p.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},Fh,fm;function wc(){if(fm)return Fh;fm=1;var e=Array.isArray;return Fh=e,Fh}var Ph,dm;function T2(){if(dm)return Ph;dm=1;var e=wc(),t=Ks(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Ph=i,Ph}var Rh,pm;function k2(){if(pm)return Rh;pm=1;var e=G1(),t=js(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return Rh=o,Rh}var Ih,vm;function _2(){if(vm)return Ih;vm=1;var e=mc(),t=e["__core-js_shared__"];return Ih=t,Ih}var Oh,gm;function S2(){if(gm)return Oh;gm=1;var e=_2(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Oh=r,Oh}var Nh,mm;function E2(){if(mm)return Nh;mm=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Nh=r,Nh}var $h,ym;function A2(){if(ym)return $h;ym=1;var e=k2(),t=S2(),r=js(),n=E2(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!r(f)||t(f))return!1;var d=e(f)?c:a;return d.test(n(f))}return $h=h,$h}var zh,bm;function B2(){if(bm)return zh;bm=1;function e(t,r){return t==null?void 0:t[r]}return zh=e,zh}var qh,xm;function Np(){if(xm)return qh;xm=1;var e=A2(),t=B2();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return qh=r,qh}var Vh,wm;function Cc(){if(wm)return Vh;wm=1;var e=Np(),t=e(Object,"create");return Vh=t,Vh}var Hh,Cm;function L2(){if(Cm)return Hh;Cm=1;var e=Cc();function t(){this.__data__=e?e(null):{},this.size=0}return Hh=t,Hh}var Wh,Tm;function D2(){if(Tm)return Wh;Tm=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Wh=e,Wh}var Uh,km;function M2(){if(km)return Uh;km=1;var e=Cc(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Uh=i,Uh}var Gh,_m;function F2(){if(_m)return Gh;_m=1;var e=Cc(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Gh=n,Gh}var jh,Sm;function P2(){if(Sm)return jh;Sm=1;var e=Cc(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return jh=r,jh}var Kh,Em;function R2(){if(Em)return Kh;Em=1;var e=L2(),t=D2(),r=M2(),n=F2(),i=P2();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Kh=a,Kh}var Yh,Am;function I2(){if(Am)return Yh;Am=1;function e(){this.__data__=[],this.size=0}return Yh=e,Yh}var Xh,Bm;function mx(){if(Bm)return Xh;Bm=1;function e(t,r){return t===r||t!==t&&r!==r}return Xh=e,Xh}var Zh,Lm;function Tc(){if(Lm)return Zh;Lm=1;var e=mx();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Zh=t,Zh}var Qh,Dm;function O2(){if(Dm)return Qh;Dm=1;var e=Tc(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return Qh=n,Qh}var Jh,Mm;function N2(){if(Mm)return Jh;Mm=1;var e=Tc();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Jh=t,Jh}var ef,Fm;function $2(){if(Fm)return ef;Fm=1;var e=Tc();function t(r){return e(this.__data__,r)>-1}return ef=t,ef}var tf,Pm;function z2(){if(Pm)return tf;Pm=1;var e=Tc();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return tf=t,tf}var rf,Rm;function q2(){if(Rm)return rf;Rm=1;var e=I2(),t=O2(),r=N2(),n=$2(),i=z2();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,rf=a,rf}var nf,Im;function V2(){if(Im)return nf;Im=1;var e=Np(),t=mc(),r=e(t,"Map");return nf=r,nf}var af,Om;function H2(){if(Om)return af;Om=1;var e=R2(),t=q2(),r=V2();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return af=n,af}var of,Nm;function W2(){if(Nm)return of;Nm=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return of=e,of}var sf,$m;function kc(){if($m)return sf;$m=1;var e=W2();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return sf=t,sf}var lf,zm;function U2(){if(zm)return lf;zm=1;var e=kc();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return lf=t,lf}var uf,qm;function G2(){if(qm)return uf;qm=1;var e=kc();function t(r){return e(this,r).get(r)}return uf=t,uf}var cf,Vm;function j2(){if(Vm)return cf;Vm=1;var e=kc();function t(r){return e(this,r).has(r)}return cf=t,cf}var hf,Hm;function K2(){if(Hm)return hf;Hm=1;var e=kc();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return hf=t,hf}var ff,Wm;function Y2(){if(Wm)return ff;Wm=1;var e=H2(),t=U2(),r=G2(),n=j2(),i=K2();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ff=a,ff}var df,Um;function X2(){if(Um)return df;Um=1;var e=Y2(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||e),a}return r.Cache=e,df=r,df}var pf,Gm;function Z2(){if(Gm)return pf;Gm=1;var e=X2(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return pf=r,pf}var vf,jm;function yx(){if(jm)return vf;jm=1;var e=Z2(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return vf=n,vf}var gf,Km;function bx(){if(Km)return gf;Km=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return gf=e,gf}var mf,Ym;function Q2(){if(Ym)return mf;Ym=1;var e=Bp(),t=bx(),r=wc(),n=Ks(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return mf=o,mf}var yf,Xm;function xx(){if(Xm)return yf;Xm=1;var e=Q2();function t(r){return r==null?"":e(r)}return yf=t,yf}var bf,Zm;function wx(){if(Zm)return bf;Zm=1;var e=wc(),t=T2(),r=yx(),n=xx();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return bf=i,bf}var xf,Qm;function $p(){if(Qm)return xf;Qm=1;var e=Ks();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return xf=t,xf}var wf,Jm;function J2(){if(Jm)return wf;Jm=1;var e=wx(),t=$p();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return wf=r,wf}var Cf,ey;function eB(){if(ey)return Cf;ey=1;var e=J2();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return Cf=t,Cf}var tB=eB(),rB=Gs(tB),Tf,ty;function nB(){if(ty)return Tf;ty=1;var e=Np(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Tf=t,Tf}var kf,ry;function iB(){if(ry)return kf;ry=1;var e=nB();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return kf=t,kf}var _f,ny;function aB(){if(ny)return _f;ny=1;var e=iB(),t=mx(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s){var l=a[o];(!(n.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return _f=i,_f}var Sf,iy;function oB(){if(iy)return Sf;iy=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Sf=r,Sf}var Ef,ay;function sB(){if(ay)return Ef;ay=1;var e=aB(),t=wx(),r=oB(),n=js(),i=$p();function a(o,s,l,u){if(!n(o))return o;s=t(s,o);for(var c=-1,h=s.length,f=h-1,d=o;d!=null&&++c<h;){var p=i(s[c]),m=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(c!=f){var v=d[p];m=u?u(v,p,d):void 0,m===void 0&&(m=n(v)?v:r(s[c+1])?[]:{})}e(d,p,m),d=d[p]}return o}return Ef=a,Ef}var Af,oy;function lB(){if(oy)return Af;oy=1;var e=sB();function t(r,n,i){return r==null?r:e(r,n,i)}return Af=t,Af}var uB=lB(),cB=Gs(uB),Bf,sy;function hB(){if(sy)return Bf;sy=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Bf=e,Bf}var Lf,ly;function fB(){if(ly)return Lf;ly=1;var e=bx(),t=hB(),r=wc(),n=Ks(),i=yx(),a=$p(),o=xx();function s(l){return r(l)?e(l,a):n(l)?[l]:t(i(o(l)))}return Lf=s,Lf}var dB=fB(),pB=Gs(dB),vB={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return t=Ve({},r,t),function(i,a){var o=t,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if($e(i)){var h=i.indexOf(".")!==-1,f=h&&pB(i);if(o.allowGetting&&a===void 0){var d;return c&&(o.beforeGet(c),f&&c._private[o.field][i]===void 0?d=rB(c._private[o.field],f):d=c._private[o.field][i]),d}else if(o.allowSetting&&a!==void 0){var p=!o.immutableKeys[i];if(p){var m=I1({},i,a);o.beforeSet(s,m);for(var v=0,y=u.length;v<y;v++){var g=u[v];o.canSet(g)&&(f&&c._private[o.field][i]===void 0?cB(g._private[o.field],f,a):g._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&nt(i)){var b=i,x,C,T=Object.keys(b);o.beforeSet(s,b);for(var w=0;w<T.length;w++){x=T[w],C=b[x];var k=!o.immutableKeys[x];if(k)for(var E=0;E<u.length;E++){var A=u[E];o.canSet(A)&&(A._private[o.field][x]=C)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Bt(i)){var S=i;s.on(o.bindingEvent,S)}else if(o.allowGetting&&i===void 0){var B;return c&&(o.beforeGet(c),B=c._private[o.field]),B}return s}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Ve({},r,t),function(i){var a=t,o=this,s=o.length!==void 0,l=s?o:[o];if($e(i)){for(var u=i.split(/\s+/),c=u.length,h=0;h<c;h++){var f=u[h];if(!Ci(f)){var d=!a.immutableKeys[f];if(d)for(var p=0,m=l.length;p<m;p++)l[p]._private[a.field][f]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var v=0,y=l.length;v<y;v++)for(var g=l[v]._private[a.field],b=Object.keys(g),x=0;x<b.length;x++){var C=b[x],T=!a.immutableKeys[C];T&&(g[C]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},gB={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new bo(function(s,l){var u=function(d){a.off.apply(a,h),s(d)},c=o.concat([u]),h=c.concat([]);a.on.apply(a,c)})}}},st={};[C2,vB,gB].forEach(function(e){Ve(st,e)});var mB={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop()},Wl={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(p){return n.push(p)}),n}else gt(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],a=new yo(t),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,c=!1,h=0;h<t.length;h++){var f=t[h],d=u.has(f);if(!d){c=!0;break}}c||(c=u.size!==t.length),c&&(l.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){gt(t)||(t=t.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,c=!1,h=0;h<t.length;h++){var f=t[h],d=u.has(f),p=!1;r||i&&!d?(u.add(f),p=!0):(!r||i&&d)&&(u.delete(f),p=!0),!c&&p&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};Wl.className=Wl.classNames=Wl.classes;var rt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Gt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};rt.variable="(?:[\\w-.]|(?:\\\\"+rt.metaChar+"))+";rt.className="(?:[\\w-]|(?:\\\\"+rt.metaChar+"))+";rt.value=rt.string+"|"+rt.number;rt.id=rt.variable;(function(){var e,t,r;for(e=rt.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],rt.comparatorOp+="|@"+t;for(e=rt.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(rt.comparatorOp+="|\\!"+t)})();var ht=function(){return{checks:[]}},Be={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Ad=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return vE(e.selector,t.selector)}),yB=(function(){for(var e={},t,r=0;r<Ad.length;r++)t=Ad[r],e[t.selector]=t.matches;return e})(),bB=function(t,r){return yB[t](r)},xB="("+Ad.map(function(e){return e.selector}).join("|")+")",Aa=function(t){return t.replace(new RegExp("\\\\("+rt.metaChar+")","g"),function(r,n){return n})},oi=function(t,r,n){t[t.length-1]=n},Bd=[{name:"group",query:!0,regex:"("+rt.group+")",populate:function(t,r,n){var i=$t(n,1),a=i[0];r.checks.push({type:Be.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:xB,populate:function(t,r,n){var i=$t(n,1),a=i[0];r.checks.push({type:Be.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+rt.id+")",populate:function(t,r,n){var i=$t(n,1),a=i[0];r.checks.push({type:Be.ID,value:Aa(a)})}},{name:"className",query:!0,regex:"\\.("+rt.className+")",populate:function(t,r,n){var i=$t(n,1),a=i[0];r.checks.push({type:Be.CLASS,value:Aa(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*\\]",populate:function(t,r,n){var i=$t(n,1),a=i[0];r.checks.push({type:Be.DATA_EXIST,field:Aa(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*("+rt.comparatorOp+")\\s*("+rt.value+")\\s*\\]",populate:function(t,r,n){var i=$t(n,3),a=i[0],o=i[1],s=i[2],l=new RegExp("^"+rt.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Be.DATA_COMPARE,field:Aa(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+rt.boolOp+")\\s*("+rt.variable+")\\s*\\]",populate:function(t,r,n){var i=$t(n,2),a=i[0],o=i[1];r.checks.push({type:Be.DATA_BOOL,field:Aa(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+rt.meta+")\\s*("+rt.comparatorOp+")\\s*("+rt.number+")\\s*\\]\\]",populate:function(t,r,n){var i=$t(n,3),a=i[0],o=i[1],s=i[2];r.checks.push({type:Be.META_COMPARE,field:Aa(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:rt.separator,populate:function(t,r){var n=t.currentSubject,i=t.edgeCount,a=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=i,o.compoundCount=a,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=ht();return s}},{name:"directedEdge",separator:!0,regex:rt.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=ht(),i=r,a=ht();return n.checks.push({type:Be.DIRECTED_EDGE,source:i,target:a}),oi(t,r,n),t.edgeCount++,a}else{var o=ht(),s=r,l=ht();return o.checks.push({type:Be.NODE_SOURCE,source:s,target:l}),oi(t,r,o),t.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:rt.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=ht(),i=r,a=ht();return n.checks.push({type:Be.UNDIRECTED_EDGE,nodes:[i,a]}),oi(t,r,n),t.edgeCount++,a}else{var o=ht(),s=r,l=ht();return o.checks.push({type:Be.NODE_NEIGHBOR,node:s,neighbor:l}),oi(t,r,o),l}}},{name:"child",separator:!0,regex:rt.child,populate:function(t,r){if(t.currentSubject==null){var n=ht(),i=ht(),a=t[t.length-1];return n.checks.push({type:Be.CHILD,parent:a,child:i}),oi(t,r,n),t.compoundCount++,i}else if(t.currentSubject===r){var o=ht(),s=t[t.length-1],l=ht(),u=ht(),c=ht(),h=ht();return o.checks.push({type:Be.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Be.TRUE}],h.checks.push({type:Be.TRUE}),l.checks.push({type:Be.PARENT,parent:h,child:c}),oi(t,s,o),t.currentSubject=u,t.compoundCount++,c}else{var f=ht(),d=ht(),p=[{type:Be.PARENT,parent:f,child:d}];return f.checks=r.checks,r.checks=p,t.compoundCount++,d}}},{name:"descendant",separator:!0,regex:rt.descendant,populate:function(t,r){if(t.currentSubject==null){var n=ht(),i=ht(),a=t[t.length-1];return n.checks.push({type:Be.DESCENDANT,ancestor:a,descendant:i}),oi(t,r,n),t.compoundCount++,i}else if(t.currentSubject===r){var o=ht(),s=t[t.length-1],l=ht(),u=ht(),c=ht(),h=ht();return o.checks.push({type:Be.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Be.TRUE}],h.checks.push({type:Be.TRUE}),l.checks.push({type:Be.ANCESTOR,ancestor:h,descendant:c}),oi(t,s,o),t.currentSubject=u,t.compoundCount++,c}else{var f=ht(),d=ht(),p=[{type:Be.ANCESTOR,ancestor:f,descendant:d}];return f.checks=r.checks,r.checks=p,t.compoundCount++,d}}},{name:"subject",modifier:!0,regex:rt.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return lt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],i=n.checks[0],a=i==null?null:i.type;a===Be.DIRECTED_EDGE?i.type=Be.NODE_TARGET:a===Be.UNDIRECTED_EDGE&&(i.type=Be.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Bd.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var wB=function(t){for(var r,n,i,a=0;a<Bd.length;a++){var o=Bd[a],s=o.name,l=t.match(o.regexObj);if(l!=null){n=l,r=o,i=s;var u=l[0];t=t.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:t}},CB=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},TB=function(t){var r=this,n=r.inputText=t,i=r[0]=ht();for(r.length=1,n=CB(n);;){var a=wB(n);if(a.expr==null)return lt("The selector `"+t+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(r,i,o);if(s===!1)return!1;if(s!=null&&(i=s),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return lt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return lt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&lt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},kB=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(c){return c??""},r=function(c){return $e(c)?'"'+c+'"':t(c)},n=function(c){return" "+c+" "},i=function(c,h){var f=c.type,d=c.value;switch(f){case Be.GROUP:{var p=t(d);return p.substring(0,p.length-1)}case Be.DATA_COMPARE:{var m=c.field,v=c.operator;return"["+m+n(t(v))+r(d)+"]"}case Be.DATA_BOOL:{var y=c.operator,g=c.field;return"["+t(y)+g+"]"}case Be.DATA_EXIST:{var b=c.field;return"["+b+"]"}case Be.META_COMPARE:{var x=c.operator,C=c.field;return"[["+C+n(t(x))+r(d)+"]]"}case Be.STATE:return d;case Be.ID:return"#"+d;case Be.CLASS:return"."+d;case Be.PARENT:case Be.CHILD:return a(c.parent,h)+n(">")+a(c.child,h);case Be.ANCESTOR:case Be.DESCENDANT:return a(c.ancestor,h)+" "+a(c.descendant,h);case Be.COMPOUND_SPLIT:{var T=a(c.left,h),w=a(c.subject,h),k=a(c.right,h);return T+(T.length>0?" ":"")+w+k}case Be.TRUE:return""}},a=function(c,h){return c.checks.reduce(function(f,d,p){return f+(h===c&&p===0?"$":"")+i(d,h)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},_B={parse:TB,toString:kB},Cx=function(t,r,n){var i,a=$e(t),o=Ce(t),s=$e(n),l,u,c=!1,h=!1,f=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||s||c)&&(l=!a&&!o?"":""+t,u=""+n),c&&(t=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=t===n;break;case">":f=!0,i=t>n;break;case">=":f=!0,i=t>=n;break;case"<":f=!0,i=t<n;break;case"<=":f=!0,i=t<=n;break;default:i=!1;break}return h&&(t!=null||!f)&&(i=!i),i},SB=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},EB=function(t){return t!==void 0},zp=function(t,r){return t.data(r)},AB=function(t,r){return t[r]()},Pt=[],kt=function(t,r){return t.checks.every(function(n){return Pt[n.type](n,r)})};Pt[Be.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};Pt[Be.STATE]=function(e,t){var r=e.value;return bB(r,t)};Pt[Be.ID]=function(e,t){var r=e.value;return t.id()===r};Pt[Be.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};Pt[Be.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return Cx(AB(t,r),n,i)};Pt[Be.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return Cx(zp(t,r),n,i)};Pt[Be.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return SB(zp(t,r),n)};Pt[Be.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,EB(zp(t,r))};Pt[Be.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return kt(r,i)&&kt(n,a)||kt(n,i)&&kt(r,a)};Pt[Be.NODE_NEIGHBOR]=function(e,t){return kt(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&kt(e.neighbor,r)})};Pt[Be.DIRECTED_EDGE]=function(e,t){return kt(e.source,t.source())&&kt(e.target,t.target())};Pt[Be.NODE_SOURCE]=function(e,t){return kt(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&kt(e.target,r)})};Pt[Be.NODE_TARGET]=function(e,t){return kt(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&kt(e.source,r)})};Pt[Be.CHILD]=function(e,t){return kt(e.child,t)&&kt(e.parent,t.parent())};Pt[Be.PARENT]=function(e,t){return kt(e.parent,t)&&t.children().some(function(r){return kt(e.child,r)})};Pt[Be.DESCENDANT]=function(e,t){return kt(e.descendant,t)&&t.ancestors().some(function(r){return kt(e.ancestor,r)})};Pt[Be.ANCESTOR]=function(e,t){return kt(e.ancestor,t)&&t.descendants().some(function(r){return kt(e.descendant,r)})};Pt[Be.COMPOUND_SPLIT]=function(e,t){return kt(e.subject,t)&&kt(e.left,t)&&kt(e.right,t)};Pt[Be.TRUE]=function(){return!0};Pt[Be.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};Pt[Be.FILTER]=function(e,t){var r=e.value;return r(t)};var BB=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Be.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var o=0;o<r.length;o++){var s=r[o];if(kt(s,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},LB=function(t){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(kt(i,t))return!0}return!1},DB={matches:LB,filter:BB},_i=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||$e(t)&&t.match(/^\s*$/)||(zr(t)?this.addQuery({checks:[{type:Be.COLLECTION,value:t.collection()}]}):Bt(t)?this.addQuery({checks:[{type:Be.FILTER,value:t}]}):$e(t)?this.parse(t)||(this.invalid=!0):St("A selector must be created from a string; found "))},Si=_i.prototype;[_B,DB].forEach(function(e){return Ve(Si,e)});Si.text=function(){return this.inputText};Si.size=function(){return this.length};Si.eq=function(e){return this[e]};Si.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};Si.addQuery=function(e){this[this.length++]=e};Si.selector=Si.toString;var yi={allAre:function(t){var r=new _i(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new _i(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var i=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(i)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var i=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!i)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(i){return t.hasElementWithId(i.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};yi.allAreNeighbours=yi.allAreNeighbors;yi.has=yi.contains;yi.equal=yi.equals=yi.same;var Xr=function(t,r){return function(i,a,o,s){var l=i,u=this,c;if(l==null?c="":zr(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var h=u[0]._private,f=h.traversalCache=h.traversalCache||{},d=f[r]=f[r]||[],p=ca(c),m=d[p];return m||(d[p]=t.call(u,i,a,o,s))}else return t.call(u,i,a,o,s)}},oo={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Xr(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function qp(e,t,r,n){for(var i=[],a=new yo,o=e.cy(),s=o.hasCompoundNodes(),l=0;l<e.length;l++){var u=e[l];r?i.push(u):s&&n(i,a,u)}for(;i.length>0;){var c=i.shift();t(c),a.add(c.id()),s&&n(i,a,c)}return e}function Tx(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}oo.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qp(this,e,t,Tx)};function kx(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}oo.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qp(this,e,t,kx)};function MB(e,t,r){kx(e,t,r),Tx(e,t,r)}oo.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qp(this,e,t,MB)};oo.ancestors=oo.parents;var As,_x;As=_x={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:st.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:st.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};As.attr=As.data;As.removeAttr=As.removeData;var FB=_x,_c={};function Df(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}else return}}Ve(_c,{degree:Df(function(e,t){return t.source().same(t.target())?2:1}),indegree:Df(function(e,t){return t.target().same(e)?1:0}),outdegree:Df(function(e,t){return t.source().same(e)?1:0})});function Ba(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);s!==void 0&&(n===void 0||t(s,n))&&(n=s)}return n}}Ve(_c,{minDegree:Ba("degree",function(e,t){return e<t}),maxDegree:Ba("degree",function(e,t){return e>t}),minIndegree:Ba("indegree",function(e,t){return e<t}),maxIndegree:Ba("indegree",function(e,t){return e>t}),minOutdegree:Ba("outdegree",function(e,t){return e<t}),maxOutdegree:Ba("outdegree",function(e,t){return e>t})});Ve(_c,{totalDegree:function(t){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(t);return r}});var cn,Sx,Ex=function(t,r,n){for(var i=0;i<t.length;i++){var a=t[i];if(!a.locked()){var o=a._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,n),a.dirtyBoundingBoxCache()}}},uy={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){Ex(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};cn=Sx={position:st.data(uy),silentPosition:st.data(Ve({},uy,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){Ex(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(nt(t))r?this.silentPosition(t):this.position(t);else if(Bt(t)){var n=t,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=n(o,a))&&(r?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var i;if(nt(t)?(i={x:Ce(t.x)?t.x:0,y:Ce(t.y)?t.y:0},n=r):$e(t)&&Ce(r)&&(i={x:0,y:0},i[t]=r),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+i.x,y:l.y+i.y};n?s.silentPosition(u):s.position(u)}}a.endBatch()}return this},silentShift:function(t,r){return nt(t)?this.shift(t,!0):$e(t)&&Ce(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=nt(t)?t:void 0,l=s!==void 0||r!==void 0&&$e(t);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(t,(r-o[t])/a):s!==void 0&&c.position(tx(s,a,o))}else{var h=n.position();return s=bc(h,a,o),t===void 0?s:s[t]}else if(!l)return;return this},relativePosition:function(t,r){var n=this[0],i=this.cy(),a=nt(t)?t:void 0,o=a!==void 0||r!==void 0&&$e(t),s=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,h=c&&c.length>0,f=h;h&&(c=c[0]);var d=f?c.position():{x:0,y:0};r!==void 0?u.position(t,r+d[t]):a!==void 0&&u.position({x:a.x+d.x,y:a.y+d.y})}else{var p=n.position(),m=s?n.parent():null,v=m&&m.length>0,y=v;v&&(m=m[0]);var g=y?m.position():{x:0,y:0};return a={x:p.x-g.x,y:p.y-g.y},t===void 0?a:a[t]}else if(!o)return;return this}};cn.modelPosition=cn.point=cn.position;cn.modelPositions=cn.points=cn.positions;cn.renderedPoint=cn.renderedPosition;cn.relativePoint=cn.relativePosition;var PB=Sx,Ja,Pi;Ja=Pi={};Pi.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};Pi.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};Pi.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),f=s.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=f.x-h.w/2,h.x2=f.x+h.w/2,h.y1=f.y-h.h/2,h.y2=f.y+h.h/2);function d(E,A,S){var B=0,D=0,I=A+S;return E>0&&I>0&&(B=A/I*E,D=S/I*E),{biasDiff:B,biasComplementDiff:D}}function p(E,A,S,B){if(S.units==="%")switch(B){case"width":return E>0?S.pfValue*E:0;case"height":return A>0?S.pfValue*A:0;case"average":return E>0&&A>0?S.pfValue*(E+A)/2:0;case"min":return E>0&&A>0?E>A?S.pfValue*A:S.pfValue*E:0;case"max":return E>0&&A>0?E>A?S.pfValue*E:S.pfValue*A:0;default:return 0}else return S.units==="px"?S.pfValue:0}var m=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(m=m*100/c.width.val);var v=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(v=v*100/c.width.val);var y=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var g=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var b=d(c.width.val-h.w,m,v),x=b.biasDiff,C=b.biasComplementDiff,T=d(c.height.val-h.h,y,g),w=T.biasDiff,k=T.biasComplementDiff;s.autoPadding=p(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,c.width.val),f.x=(-x+h.x1+h.x2+C)/2,s.autoHeight=Math.max(h.h,c.height.val),f.y=(-w+h.y1+h.y2+k)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||e)&&(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Yr=function(t){return t===1/0||t===-1/0?0:t},on=function(t,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(t.x1=r<t.x1?r:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=a>t.y2?a:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},ci=function(t,r){return r==null?t:on(t,r.x1,r.y1,r.x2,r.y2)},Do=function(t,r,n){return Lr(t,r,n)},xl=function(t,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,o=a.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},h=c[n]=c[n]||{};h.x1=l-o,h.y1=u-o,h.x2=l+o,h.y2=u+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,Vl(h,1),on(t,h.x1,h.y1,h.x2,h.y2)}}},Mf=function(t,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,o=a.rstyle,s=r.pstyle(i+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=Do(o,"labelWidth",n),h=Do(o,"labelHeight",n),f=Do(o,"labelX",n),d=Do(o,"labelY",n),p=r.pstyle(i+"text-margin-x").pfValue,m=r.pstyle(i+"text-margin-y").pfValue,v=r.isEdge(),y=r.pstyle(i+"text-rotation"),g=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,x=b/2,C=r.pstyle("text-background-padding").pfValue,T=2,w=h,k=c,E=k/2,A=w/2,S,B,D,I;if(v)S=f-E,B=f+E,D=d-A,I=d+A;else{switch(l.value){case"left":S=f-k,B=f;break;case"center":S=f-E,B=f+E;break;case"right":S=f,B=f+k;break}switch(u.value){case"top":D=d-w,I=d;break;case"center":D=d-A,I=d+A;break;case"bottom":D=d,I=d+w;break}}var O=p-Math.max(g,x)-C-T,F=p+Math.max(g,x)+C+T,M=m-Math.max(g,x)-C-T,N=m+Math.max(g,x)+C+T;S+=O,B+=F,D+=M,I+=N;var z=n||"main",U=a.labelBounds,$=U[z]=U[z]||{};$.x1=S,$.y1=D,$.x2=B,$.y2=I,$.w=B-S,$.h=I-D,$.leftPad=O,$.rightPad=F,$.topPad=M,$.botPad=N;var W=v&&y.strValue==="autorotate",X=y.pfValue!=null&&y.pfValue!==0;if(W||X){var ie=W?Do(a.rstyle,"labelAngle",n):y.pfValue,Y=Math.cos(ie),oe=Math.sin(ie),ce=(S+B)/2,ve=(D+I)/2;if(!v){switch(l.value){case"left":ce=B;break;case"right":ce=S;break}switch(u.value){case"top":ve=I;break;case"bottom":ve=D;break}}var se=function(H,Z){return H=H-ce,Z=Z-ve,{x:H*Y-Z*oe+ce,y:H*oe+Z*Y+ve}},G=se(S,D),K=se(S,I),_=se(B,D),P=se(B,I);S=Math.min(G.x,K.x,_.x,P.x),B=Math.max(G.x,K.x,_.x,P.x),D=Math.min(G.y,K.y,_.y,P.y),I=Math.max(G.y,K.y,_.y,P.y)}var V=z+"Rot",ee=U[V]=U[V]||{};ee.x1=S,ee.y1=D,ee.x2=B,ee.y2=I,ee.w=B-S,ee.h=I-D,on(t,S,D,B,I),on(a.labelBounds.all,S,D,B,I)}return t}},cy=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value,a=r.pstyle("outline-offset").value,o=i+a;Ax(t,r,n,o,"outside",o/2)}},Ax=function(t,r,n,i,a,o){if(!(n===0||i<=0||a==="inside")){var s=r.cy(),l=r.pstyle("shape").value,u=s.renderer().nodeShapes[l],c=r.position(),h=c.x,f=c.y,d=r.width(),p=r.height();if(u.hasMiterBounds){a==="center"&&(i/=2);var m=u.miterBounds(h,f,d,p,i);ci(t,m)}else o!=null&&o>0&&Hl(t,[o,o,o,o])}},RB=function(t,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,i=r.pstyle("border-width").pfValue,a=r.pstyle("border-position").value;Ax(t,r,n,i,a)}},IB=function(t,r){var n=t._private.cy,i=n.styleEnabled(),a=n.headless(),o=Sr(),s=t._private,l=t.isNode(),u=t.isEdge(),c,h,f,d,p,m,v=s.rstyle,y=l&&i?t.pstyle("bounds-expansion").pfValue:[0],g=function(q){return q.pstyle("display").value!=="none"},b=!i||g(t)&&(!u||g(t.source())&&g(t.target()));if(b){var x=0,C=0;i&&r.includeOverlays&&(x=t.pstyle("overlay-opacity").value,x!==0&&(C=t.pstyle("overlay-padding").value));var T=0,w=0;i&&r.includeUnderlays&&(T=t.pstyle("underlay-opacity").value,T!==0&&(w=t.pstyle("underlay-padding").value));var k=Math.max(C,w),E=0,A=0;if(i&&(E=t.pstyle("width").pfValue,A=E/2),l&&r.includeNodes){var S=t.position();p=S.x,m=S.y;var B=t.outerWidth(),D=B/2,I=t.outerHeight(),O=I/2;c=p-D,h=p+D,f=m-O,d=m+O,on(o,c,f,h,d),i&&cy(o,t),i&&r.includeOutlines&&!a&&cy(o,t),i&&RB(o,t)}else if(u&&r.includeEdges)if(i&&!a){var F=t.pstyle("curve-style").strValue;if(c=Math.min(v.srcX,v.midX,v.tgtX),h=Math.max(v.srcX,v.midX,v.tgtX),f=Math.min(v.srcY,v.midY,v.tgtY),d=Math.max(v.srcY,v.midY,v.tgtY),c-=A,h+=A,f-=A,d+=A,on(o,c,f,h,d),F==="haystack"){var M=v.haystackPts;if(M&&M.length===2){if(c=M[0].x,f=M[0].y,h=M[1].x,d=M[1].y,c>h){var N=c;c=h,h=N}if(f>d){var z=f;f=d,d=z}on(o,c-A,f-A,h+A,d+A)}}else if(F==="bezier"||F==="unbundled-bezier"||fi(F,"segments")||fi(F,"taxi")){var U;switch(F){case"bezier":case"unbundled-bezier":U=v.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":U=v.linePts;break}if(U!=null)for(var $=0;$<U.length;$++){var W=U[$];c=W.x-A,h=W.x+A,f=W.y-A,d=W.y+A,on(o,c,f,h,d)}}}else{var X=t.source(),ie=X.position(),Y=t.target(),oe=Y.position();if(c=ie.x,h=oe.x,f=ie.y,d=oe.y,c>h){var ce=c;c=h,h=ce}if(f>d){var ve=f;f=d,d=ve}c-=A,h+=A,f-=A,d+=A,on(o,c,f,h,d)}if(i&&r.includeEdges&&u&&(xl(o,t,"mid-source"),xl(o,t,"mid-target"),xl(o,t,"source"),xl(o,t,"target")),i){var se=t.pstyle("ghost").value==="yes";if(se){var G=t.pstyle("ghost-offset-x").pfValue,K=t.pstyle("ghost-offset-y").pfValue;on(o,o.x1+G,o.y1+K,o.x2+G,o.y2+K)}}var _=s.bodyBounds=s.bodyBounds||{};Yg(_,o),Hl(_,y),Vl(_,1),i&&(c=o.x1,h=o.x2,f=o.y1,d=o.y2,on(o,c-k,f-k,h+k,d+k));var P=s.overlayBounds=s.overlayBounds||{};Yg(P,o),Hl(P,y),Vl(P,1);var V=s.labelBounds=s.labelBounds||{};V.all!=null?mA(V.all):V.all=Sr(),i&&r.includeLabels&&(r.includeMainLabels&&Mf(o,t,null),u&&(r.includeSourceLabels&&Mf(o,t,"source"),r.includeTargetLabels&&Mf(o,t,"target")))}return o.x1=Yr(o.x1),o.y1=Yr(o.y1),o.x2=Yr(o.x2),o.y2=Yr(o.y2),o.w=Yr(o.x2-o.x1),o.h=Yr(o.y2-o.y1),o.w>0&&o.h>0&&b&&(Hl(o,y),Vl(o,1)),o},Bx=function(t){var r=0,n=function(o){return(o?1:0)<<r++},i=0;return i+=n(t.incudeNodes),i+=n(t.includeEdges),i+=n(t.includeLabels),i+=n(t.includeMainLabels),i+=n(t.includeSourceLabels),i+=n(t.includeTargetLabels),i+=n(t.includeOverlays),i+=n(t.includeOutlines),i},Lx=function(t){var r=function(s){return Math.round(s)};if(t.isEdge()){var n=t.source().position(),i=t.target().position();return Hg([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var a=t.position();return Hg([r(a.x),r(a.y)])}},hy=function(t,r){var n=t._private,i,a=t.isEdge(),o=r==null?fy:Bx(r),s=o===fy;if(n.bbCache==null?(i=IB(t,Bs),n.bbCache=i,n.bbCachePosKey=Lx(t)):i=n.bbCache,!s){var l=t.isNode();i=Sr(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?ci(i,n.overlayBounds):ci(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?ci(i,n.labelBounds.all):(r.includeMainLabels&&ci(i,n.labelBounds.mainRot),r.includeSourceLabels&&ci(i,n.labelBounds.sourceRot),r.includeTargetLabels&&ci(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Bs={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},fy=Bx(Bs),dy=nr(Bs);Pi.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,n=io(function(c){var h=c._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==Lx(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))e===void 0?e=Bs:e=dy(e),t=hy(this[0],e);else{t=Sr(),e=e||Bs;var i=dy(e),a=this,o=a.cy(),s=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),s&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<a.length;l++){var u=a[l];n(u)&&u.dirtyBoundingBoxCache(),ci(t,hy(u,i))}}return t.x1=Yr(t.x1),t.y1=Yr(t.y1),t.x2=Yr(t.x2),t.y2=Yr(t.y2),t.w=Yr(t.x2-t.x1),t.h=Yr(t.y2-t.y1),t};Pi.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Pi.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(u){return u.isParent()}),t=t.not(i)),nt(e)){var a=e;e=function(){return a}}var o=function(c,h){return c._private.bbAtOldPos=e(c,h)},s=function(c){return c._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=gA(this.boundingBox({useCache:!1}));return t.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};Ja.boundingbox=Ja.bb=Ja.boundingBox;Ja.renderedBoundingbox=Ja.renderedBoundingBox;var OB=Pi,jo,Zs;jo=Zs={};var Dx=function(t){t.uppercaseName=Ag(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Ag(t.outerName),jo[t.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[t.autoName]||0;var s=n.pstyle(t.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},jo["outer"+t.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var s=n[t.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var c=2*n.padding();return s+u+c}else return 1},jo["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var i=n[t.name]();return i*this.cy().zoom()}},jo["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[t.outerName]();return i*this.cy().zoom()}}};Dx({name:"width"});Dx({name:"height"});Zs.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};Zs.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};Zs.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var NB=Zs,$B=function(t,r){if(t.isEdge()&&t.takesUpSpace())return r(t)},zB=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy();return bc(r(t),n.zoom(),n.pan())}},qB=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy(),i=n.pan(),a=n.zoom();return r(t).map(function(o){return bc(o,a,i)})}},VB=function(t){return t.renderer().getControlPoints(t)},HB=function(t){return t.renderer().getSegmentPoints(t)},WB=function(t){return t.renderer().getSourceEndpoint(t)},UB=function(t){return t.renderer().getTargetEndpoint(t)},GB=function(t){return t.renderer().getEdgeMidpoint(t)},py={controlPoints:{get:VB,mult:!0},segmentPoints:{get:HB,mult:!0},sourceEndpoint:{get:WB},targetEndpoint:{get:UB},midpoint:{get:GB}},jB=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},KB=Object.keys(py).reduce(function(e,t){var r=py[t],n=jB(t);return e[t]=function(){return $B(this,r.get)},r.mult?e[n]=function(){return qB(this,r.get)}:e[n]=function(){return zB(this,r.get)},e},{}),YB=Ve({},PB,OB,NB,KB);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Mx=function(t,r){this.recycle(t,r)};function Mo(){return!1}function wl(){return!0}Mx.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Mo,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?wl:Mo):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=wl;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=wl;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=wl,this.stopPropagation()},isDefaultPrevented:Mo,isPropagationStopped:Mo,isImmediatePropagationStopped:Mo};var Fx=/^([^.]+)(\.(?:[^.]+))?$/,XB=".*",Px={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},vy=Object.keys(Px),ZB={};function Sc(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ZB,t=arguments.length>1?arguments[1]:void 0,r=0;r<vy.length;r++){var n=vy[r];this[n]=e[n]||Px[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Ei=Sc.prototype,Rx=function(t,r,n,i,a,o,s){Bt(i)&&(a=i,i=null),s&&(o==null?o=s:o=Ve({},o,s));for(var l=gt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!Ci(c)){var h=c.match(Fx);if(h){var f=h[1],d=h[2]?h[2]:null,p=r(t,c,f,d,i,a,o);if(p===!1)break}}}},gy=function(t,r){return t.addEventFields(t.context,r),new Mx(r.type,r)},QB=function(t,r,n){if(iE(n)){r(t,n);return}else if(nt(n)){r(t,gy(t,n));return}for(var i=gt(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!Ci(o)){var s=o.match(Fx);if(s){var l=s[1],u=s[2]?s[2]:null,c=gy(t,{type:l,namespace:u,target:t.context});r(t,c)}}}};Ei.on=Ei.addListener=function(e,t,r,n,i){return Rx(this,function(a,o,s,l,u,c,h){Bt(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:h})},e,t,r,n,i),this};Ei.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};Ei.removeListener=Ei.off=function(e,t,r,n){var i=this;this.emitting!==0&&(this.listeners=zE(this.listeners));for(var a=this.listeners,o=function(u){var c=a[u];Rx(i,function(h,f,d,p,m,v){if((c.type===d||e==="*")&&(!p&&c.namespace!==".*"||c.namespace===p)&&(!m||h.qualifierCompare(c.qualifier,m))&&(!v||c.callback===v))return a.splice(u,1),!1},e,t,r,n)},s=a.length-1;s>=0;s--)o(s);return this};Ei.removeAllListeners=function(){return this.removeListener("*")};Ei.emit=Ei.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,gt(t)||(t=[t]),QB(this,function(a,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],i=n.length);for(var s=function(){var c=n[l];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===XB)&&a.eventMatches(a.context,c,o)){var h=[o];t!=null&&VE(h,t),a.beforeEmit(a.context,c,o),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(p){return p!==c}));var f=a.callbackContext(a.context,c,o),d=c.callback.apply(f,h);a.afterEmit(a.context,c,o),d===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<i;l++)s();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,t)},e),this.emitting--,this};var JB={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var i=r.qualifier;return i!=null?t!==n.target&&Us(n.target)&&i.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},Cl=function(t){return $e(t)?new _i(t):t},Ix={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new Sc(JB,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var i=Cl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,i,n)}return this},removeListener:function(t,r,n){for(var i=Cl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(t,i,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var i=Cl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(t,i,n)}return this},once:function(t,r,n){for(var i=Cl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,i,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};st.eventAliasesOn(Ix);var Ox={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?t.push(i):r.push(i)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if($e(t)||zr(t))return new _i(t).filter(this);if(Bt(t)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=r?t.apply(r,[o,a,i]):t(o,a,i);s&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){$e(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=t.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if($e(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),i=this,a=t,o=this.length<t.length,s=o?i:a,l=o?a:i,u=0;u<s.length;u++){var c=s[u];l.has(c)&&n.push(c)}return n},xor:function(t){var r=this._private.cy;$e(t)&&(t=r.$(t));var n=this.spawn(),i=this,a=t,o=function(l,u){for(var c=0;c<l.length;c++){var h=l[c],f=h._private.data.id,d=u.hasElementWithId(f);d||n.push(h)}};return o(i,a),o(a,i),n},diff:function(t){var r=this._private.cy;$e(t)&&(t=r.$(t));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=t,l=function(c,h,f){for(var d=0;d<c.length;d++){var p=c[d],m=p._private.data.id,v=h.hasElementWithId(m);v?a.merge(p):f.push(p)}};return l(o,s,n),l(s,o,i),{left:n,right:i,both:a}},add:function(t){var r=this._private.cy;if(!t)return this;if($e(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<t.length;a++){var o=t[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&$e(t)){var i=t;t=n.mutableElements().filter(i)}for(var a=r.map,o=0;o<t.length;o++){var s=t[o],l=s._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=s,a.set(l,{ele:s,index:c})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),i=this._private,a=i.map;this[t]=void 0,a.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[t]=l,a.set(u,{ele:l,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&$e(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],s=r?t.apply(r,[o,a,i]):t(o,a,i);n.push(s)}return n},reduce:function(t,r){for(var n=r,i=this,a=0;a<i.length;a++)n=t(n,i[a],a,i);return n},max:function(t,r){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?t.apply(r,[s,o,a]):t(s,o,a);l>n&&(n=l,i=s)}return{value:n,ele:i}},min:function(t,r){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?t.apply(r,[s,o,a]):t(s,o,a);l<n&&(n=l,i=s)}return{value:n,ele:i}}},it=Ox;it.u=it["|"]=it["+"]=it.union=it.or=it.add;it["\\"]=it["!"]=it["-"]=it.difference=it.relativeComplement=it.subtract=it.not;it.n=it["&"]=it["."]=it.and=it.intersection=it.intersect;it["^"]=it["(+)"]=it["(-)"]=it.symmetricDifference=it.symdiff=it.xor;it.fnFilter=it.filterFn=it.stdFilter=it.filter;it.complement=it.abscomp=it.absoluteComplement;var eL={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},Nx=function(t,r){var n=t.cy(),i=n.hasCompoundNodes();function a(c){var h=c.pstyle("z-compound-depth");return h.value==="auto"?i?c.zDepth():0:h.value==="bottom"?-1:h.value==="top"?Lp:0}var o=a(t)-a(r);if(o!==0)return o;function s(c){var h=c.pstyle("z-index-compare");return h.value==="auto"&&c.isNode()?1:0}var l=s(t)-s(r);if(l!==0)return l;var u=t.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:t.poolIndex()-r.poolIndex()},Su={forEach:function(t,r){if(Bt(t))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=r?t.apply(r,[a,i,this]):t(a,i,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],i=this.length;r==null&&(r=i),t==null&&(t=0),t<0&&(t=i+t),r<0&&(r=i+r);for(var a=t;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Bt(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(Nx)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var i=r.data.parent?t.parents().size():0;return t.isParent()?i:Lp-1}else{var a=r.source,o=r.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};Su.each=Su.forEach;var tL=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":jt(Symbol))!=t&&jt(Symbol.iterator)!=t;r&&(Su[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return I1({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};tL();var rL=nr({nodeDimensionsIncludeLabels:!1}),Ul={layoutDimensions:function(t){t=rL(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var i=this.nodes().filter(function(C){return!C.isParent()}),a=this.cy(),o=r.eles,s=function(T){return T.id()},l=io(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var u=function(T,w,k){var E={x:w.x1+w.w/2,y:w.y1+w.h/2},A={x:(k.x-E.x)*T,y:(k.y-E.y)*T};return{x:E.x+A.x,y:E.y+A.y}},c=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!c)return null;for(var T=Sr(),w=0;w<i.length;w++){var k=i[w],E=l(k,w);rx(T,E.x,E.y)}return T},f=h(),d=io(function(C,T){var w=l(C,T);if(c){var k=Math.abs(r.spacingFactor);w=u(k,f,w)}return r.transform!=null&&(w=r.transform(C,w)),w},s);if(r.animate){for(var p=0;p<i.length;p++){var m=i[p],v=d(m,p),y=r.animateFilter==null||r.animateFilter(m,p);if(y){var g=m.animation({position:v,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(g)}else m.position(v)}if(r.fit){var b=a.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var x=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(x)}t.animations.forEach(function(C){return C.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),bo.all(t.animations.map(function(C){return C.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(d),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Ve({},t,{eles:this}))}};Ul.createLayout=Ul.makeLayout=Ul.layout;function $x(e,t,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(r)),a}function Ec(e,t){return e=ca(e),function(n){return $x(e,t,n)}}function Ac(e,t){e=ca(e);var r=function(i){return t.call(i)};return function(){var i=this[0];if(i)return $x(e,r,i)}}var tr={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(a){return a._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;t=!!(t||t===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return t?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[t];return a??(r?i.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(nt(t)){var o=t;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if($e(t))if(r===void 0){var s=this[0];return s?a.getStylePropertyValue(s,t):void 0}else a.applyBypass(this,t,r,i),this.emitAndNotify("style");else if(t===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(t===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Ff(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!t(a))return!1}return!0}function Vp(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!t(a))return!1;if(a.isNode())return!o||Ff(a,n);var l=s.source,u=s.target;return r(l)&&(!o||Ff(l,r))&&(l===u||r(u)&&(!o||Ff(u,r)))}}}var xo=Ec("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});tr.takesUpSpace=Ac("takesUpSpace",Vp({ok:xo}));var nL=Ec("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&xo(e)}),iL=Ec("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&xo(e)});tr.interactive=Ac("interactive",Vp({ok:nL,parentOk:iL,edgeOkViaNode:xo}));tr.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var aL=Ec("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&xo(e)}),oL=xo;tr.visible=Ac("visible",Vp({ok:aL,edgeOkViaNode:oL}));tr.hidden=function(){var e=this[0];if(e)return!e.visible()};tr.isBundledBezier=Ac("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});tr.bypass=tr.css=tr.style;tr.renderedCss=tr.renderedStyle;tr.removeBypass=tr.removeCss=tr.removeStyle;tr.pstyle=tr.parsedStyle;var bi={};function my(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(t.length===1&&Bt(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&gt(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(h!==void 0&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,c&&r.push(l))}var f=this.spawn(r);f.updateStyle(),f.emit(e.event),o&&f.emit(o)}return this}}function wo(e){bi[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},bi[e.on]=my({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),bi[e.off]=my({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}wo({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});wo({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});wo({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});wo({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});bi.deselect=bi.unselect;bi.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};wo({field:"active",on:"activate",off:"unactivate"});wo({field:"pannable",on:"panify",off:"unpanify"});bi.inactive=function(){var e=this[0];if(e)return!e._private.active};var dr={},yy=function(t){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var h=u[c],f=h.source(),d=h.target();if(t.noIncomingEdges&&d===s&&f!==s||t.noOutgoingEdges&&f===s&&d!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(n)}},by=function(t){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),h=u.target();t.outgoing&&c===o?(i.push(u),i.push(h)):t.incoming&&h===o&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(r)}},xy=function(t){return function(r){for(var n=this,i=[],a={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();a[c]||(a[c]=!0,i.push(u),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(r)}};dr.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Ve(dr,{roots:yy({noIncomingEdges:!0}),leaves:yy({noOutgoingEdges:!0}),outgoers:Xr(by({outgoing:!0}),"outgoers"),successors:xy({outgoing:!0}),incomers:Xr(by({incoming:!0}),"incomers"),predecessors:xy({})});Ve(dr,{neighborhood:Xr(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});dr.neighbourhood=dr.neighborhood;dr.closedNeighbourhood=dr.closedNeighborhood;dr.openNeighbourhood=dr.openNeighborhood;Ve(dr,{source:Xr(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Xr(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:wy({attr:"source"}),targets:wy({attr:"target"})});function wy(e){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Ve(dr,{edgesWith:Xr(Cy(),"edgesWith"),edgesTo:Xr(Cy({thisIsSrc:!0}),"edgesTo")});function Cy(e){return function(r){var n=[],i=this._private.cy,a=e||{};$e(r)&&(r=i.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,h=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),f=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=h||f;d&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!h||a.thisIsTgt&&!f)||n.push(u))}return this.spawn(n,!0)}}Ve(dr,{connectedEdges:Xr(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Xr(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Xr(Ty(),"parallelEdges"),codirectedEdges:Xr(Ty({codirected:!0}),"codirectedEdges")});function Ty(e){var t={codirected:!1};return e=Ve({},t,e),function(n){for(var i=[],a=this.edges(),o=e,s=0;s<a.length;s++)for(var l=a[s],u=l._private,c=u.source,h=c._private.data.id,f=u.data.target,d=c._private.edges,p=0;p<d.length;p++){var m=d[p],v=m._private.data,y=v.target,g=v.source,b=y===f&&g===h,x=h===y&&f===g;(o.codirected&&b||!o.codirected&&(b||x))&&i.push(m)}return this.spawn(i,!0).filter(n)}}Ve(dr,{components:function(t){var r=this,n=r.cy(),i=n.collection(),a=t==null?r.nodes():t.nodes(),o=[];t!=null&&a.empty()&&(a=t.sources());var s=function(c,h){i.merge(c),a.unmerge(c),h.merge(c)};if(a.empty())return r.spawn();var l=function(){var c=n.collection();o.push(c);var h=a[0];s(h,c),r.bfs({directed:!1,roots:h,visit:function(d){return s(d,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do l();while(a.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});dr.componentsOf=dr.components;var rr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){St("A collection must have a reference to the core");return}var a=new Kn,o=!1;if(!r)r=[];else if(r.length>0&&nt(r[0])&&!Us(r[0])){o=!0;for(var s=[],l=new yo,u=0,c=r.length;u<c;u++){var h=r[u];h.data==null&&(h.data={});var f=h.data;if(f.id==null)f.id=J1();else if(t.hasElementWithId(f.id)||l.has(f.id))continue;var d=new yc(t,h,!1);s.push(d),l.add(f.id)}r=s}this.length=0;for(var p=0,m=r.length;p<m;p++){var v=r[p][0];if(v!=null){var y=v._private.data.id;(!n||!a.has(y))&&(n&&a.set(y,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(g){this.lazyMap=g},rebuildMap:function(){for(var b=this.lazyMap=new Kn,x=this.eles,C=0;C<x.length;C++){var T=x[C];b.set(T.id(),{index:C,ele:T})}}},n&&(this._private.map=a),o&&!i&&this.restore()},xt=yc.prototype=rr.prototype=Object.create(Array.prototype);xt.instanceString=function(){return"collection"};xt.spawn=function(e,t){return new rr(this.cy(),e,t)};xt.spawnSelf=function(){return this.spawn(this)};xt.cy=function(){return this._private.cy};xt.renderer=function(){return this._private.cy.renderer()};xt.element=function(){return this[0]};xt.collection=function(){return $1(this)?this:new rr(this._private.cy,[this])};xt.unique=function(){return new rr(this._private.cy,this,!0)};xt.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};xt.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new rr(t)};xt.$id=xt.getElementById;xt.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};xt.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};xt.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};xt.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(nt(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,l=e.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),l!=null&&l!=i.target&&(o.target=""+l,a=!0),a&&(t=t.move(o))}else{var u="parent"in e.data,c=e.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var h=function(m,v,y){var g=e[m];g!=null&&g!==n[m]&&(g?t[v]():t[y]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var f={data:Tn(n.data),position:Tn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var d=0;return n.classes.forEach(function(p){return f.classes+=d++===0?p:" "+p}),f}}};xt.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};xt.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new yc(e,i,!1);t.push(a)}return new rr(e,t)};xt.copy=xt.clone;xt.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],o=[],s,l=0,u=r.length;l<u;l++){var c=r[l];t&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var h,f=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var d=s[h],p=d._private,m=p.data;if(d.clearTraversalCache(),!(!t&&!p.removed)){if(m.id===void 0)m.id=J1();else if(Ce(m.id))m.id=""+m.id;else if(Ci(m.id)||!$e(m.id)){St("Can not create element with invalid string ID `"+m.id+"`"),f();continue}else if(n.hasElementWithId(m.id)){St("Can not create second element with ID `"+m.id+"`"),f();continue}}var v=m.id;if(d.isNode()){var y=p.position;y.x==null&&(y.x=0),y.y==null&&(y.y=0)}if(d.isEdge()){for(var g=d,b=["source","target"],x=b.length,C=!1,T=0;T<x;T++){var w=b[T],k=m[w];Ce(k)&&(k=m[w]=""+m[w]),k==null||k===""?(St("Can not create edge `"+v+"` with unspecified "+w),C=!0):n.hasElementWithId(k)||(St("Can not create edge `"+v+"` with nonexistant "+w+" `"+k+"`"),C=!0)}if(C){f();continue}var E=n.getElementById(m.source),A=n.getElementById(m.target);E.same(A)?E._private.edges.push(g):(E._private.edges.push(g),A._private.edges.push(g)),g._private.source=E,g._private.target=A}p.map=new Kn,p.map.set(v,{ele:d,index:0}),p.removed=!1,t&&n.addToPool(d)}for(var S=0;S<a.length;S++){var B=a[S],D=B._private.data;Ce(D.parent)&&(D.parent=""+D.parent);var I=D.parent,O=I!=null;if(O||B._private.parent){var F=B._private.parent?n.collection().merge(B._private.parent):n.getElementById(I);if(F.empty())D.parent=void 0;else if(F[0].removed())lt("Node added with missing parent, reference to parent removed"),D.parent=void 0,B._private.parent=null;else{for(var M=!1,N=F;!N.empty();){if(B.same(N)){M=!0,D.parent=void 0;break}N=N.parent()}M||(F[0]._private.children.push(B),B._private.parent=F[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var z=s.length===r.length?r:new rr(n,s),U=0;U<z.length;U++){var $=z[U];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}var W;i.hasCompoundNodes?W=n.collection().merge(z).merge(z.connectedNodes()).merge(z.parent()):W=z,W.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?z.emitAndNotify("add"):t&&z.emit("add")}return r};xt.removed=function(){var e=this[0];return e&&e._private.removed};xt.inside=function(){var e=this[0];return e&&!e._private.removed};xt.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function o(I){for(var O=I._private.edges,F=0;F<O.length;F++)l(O[F])}function s(I){for(var O=I._private.children,F=0;F<O.length;F++)l(O[F])}function l(I){var O=i[I.id()];t&&I.removed()||O||(i[I.id()]=!0,I.isNode()?(n.push(I),o(I),s(I)):n.unshift(I))}for(var u=0,c=r.length;u<c;u++){var h=r[u];l(h)}function f(I,O){var F=I._private.edges;Ti(F,O),I.clearTraversalCache()}function d(I){I.clearTraversalCache()}var p=[];p.ids={};function m(I,O){O=O[0],I=I[0];var F=I._private.children,M=I.id();Ti(F,O),O._private.parent=null,p.ids[M]||(p.ids[M]=!0,p.push(I))}r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var v=0;v<n.length;v++){var y=n[v];if(y.isEdge()){var g=y.source()[0],b=y.target()[0];f(g,y),f(b,y);for(var x=y.parallelEdges(),C=0;C<x.length;C++){var T=x[C];d(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var w=y.parent();w.length!==0&&m(w,y)}t&&(y._private.removed=!0)}var k=a._private.elements;a._private.hasCompoundNodes=!1;for(var E=0;E<k.length;E++){var A=k[E];if(A.isParent()){a._private.hasCompoundNodes=!0;break}}var S=new rr(this.cy(),n);S.size()>0&&(e?S.emitAndNotify("remove"):t&&S.emit("remove"));for(var B=0;B<p.length;B++){var D=p[B];(!t||!D.removed())&&D.updateStyle()}return S};xt.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=function(p){return p==null?p:""+p};if(e.source!==void 0||e.target!==void 0){var o=a(e.source),s=a(e.target),l=o!=null&&t.hasElementWithId(o),u=s!=null&&t.hasElementWithId(s);(l||u)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var p=r[d],m=p._private.data;p.isEdge()&&(l&&(m.source=o),u&&(m.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var c=a(e.parent),h=c===null||t.hasElementWithId(c);if(h){var f=c===null?void 0:c;t.batch(function(){var d=r.remove(n,i);d.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var m=r[p],v=m._private.data;m.isNode()&&(v.parent=f)}d.restore(n,i)}),r.emitAndNotify("move")}}return this};[hx,mB,Wl,yi,oo,FB,_c,YB,Ix,Ox,eL,Su,Ul,tr,bi,dr].forEach(function(e){Ve(xt,e)});var sL={add:function(t){var r,n=this;if(zr(t)){var i=t;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}r=new rr(n,a)}}else if(gt(t)){var l=t;r=new rr(n,l)}else if(nt(t)&&(gt(t.nodes)||gt(t.edges))){for(var u=t,c=[],h=["nodes","edges"],f=0,d=h.length;f<d;f++){var p=h[f],m=u[p];if(gt(m))for(var v=0,y=m.length;v<y;v++){var g=Ve({group:p},m[v]);c.push(g)}}r=new rr(n,c)}else{var b=t;r=new yc(n,b).collection()}return r},remove:function(t){if(!zr(t)){if($e(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function lL(e,t,r,n){var i=4,a=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var f=c?new Float32Array(l):new Array(l);function d(A,S){return 1-3*S+3*A}function p(A,S){return 3*S-6*A}function m(A){return 3*A}function v(A,S,B){return((d(S,B)*A+p(S,B))*A+m(S))*A}function y(A,S,B){return 3*d(S,B)*A*A+2*p(S,B)*A+m(S)}function g(A,S){for(var B=0;B<i;++B){var D=y(S,e,r);if(D===0)return S;var I=v(S,e,r)-A;S-=I/D}return S}function b(){for(var A=0;A<l;++A)f[A]=v(A*u,e,r)}function x(A,S,B){var D,I,O=0;do I=S+(B-S)/2,D=v(I,e,r)-A,D>0?B=I:S=I;while(Math.abs(D)>o&&++O<s);return I}function C(A){for(var S=0,B=1,D=l-1;B!==D&&f[B]<=A;++B)S+=u;--B;var I=(A-f[B])/(f[B+1]-f[B]),O=S+I*u,F=y(O,e,r);return F>=a?g(A,O):F===0?O:x(A,S,S+u)}var T=!1;function w(){T=!0,(e!==t||r!==n)&&b()}var k=function(S){return T||w(),e===t&&r===n?S:S===0?0:S===1?1:v(C(S),t,n)};k.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var E="generateBezier("+[e,t,r,n]+")";return k.toString=function(){return E},k}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var uL=(function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,i){var a={dx:n.v,dv:e(n)},o=t(n,i*.5,a),s=t(n,i*.5,o),l=t(n,i,s),u=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+c*i,n}return function n(i,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,h=16/1e3,f,d,p;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,f=o!==null,f?(u=n(i,a),d=u/o*h):d=h;p=r(p||s,d),l.push(1+p.x),u+=16,Math.abs(p.x)>c&&Math.abs(p.v)>c;);return f?function(m){return l[m*(l.length-1)|0]}:u}})(),mt=function(t,r,n,i){var a=lL(t,r,n,i);return function(o,s,l){return o+(s-o)*a(l)}},Gl={linear:function(t,r,n){return t+(r-t)*n},ease:mt(.25,.1,.25,1),"ease-in":mt(.42,0,1,1),"ease-out":mt(0,0,.58,1),"ease-in-out":mt(.42,0,.58,1),"ease-in-sine":mt(.47,0,.745,.715),"ease-out-sine":mt(.39,.575,.565,1),"ease-in-out-sine":mt(.445,.05,.55,.95),"ease-in-quad":mt(.55,.085,.68,.53),"ease-out-quad":mt(.25,.46,.45,.94),"ease-in-out-quad":mt(.455,.03,.515,.955),"ease-in-cubic":mt(.55,.055,.675,.19),"ease-out-cubic":mt(.215,.61,.355,1),"ease-in-out-cubic":mt(.645,.045,.355,1),"ease-in-quart":mt(.895,.03,.685,.22),"ease-out-quart":mt(.165,.84,.44,1),"ease-in-out-quart":mt(.77,0,.175,1),"ease-in-quint":mt(.755,.05,.855,.06),"ease-out-quint":mt(.23,1,.32,1),"ease-in-out-quint":mt(.86,0,.07,1),"ease-in-expo":mt(.95,.05,.795,.035),"ease-out-expo":mt(.19,1,.22,1),"ease-in-out-expo":mt(1,0,0,1),"ease-in-circ":mt(.6,.04,.98,.335),"ease-out-circ":mt(.075,.82,.165,1),"ease-in-out-circ":mt(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return Gl.linear;var i=uL(t,r,n);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":mt};function ky(e,t,r,n,i){if(n===1||t===r)return r;var a=i(t,r,n);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function _y(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function La(e,t,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var o=_y(e,i),s=_y(t,i);if(Ce(o)&&Ce(s))return ky(a,o,s,r,n);if(gt(o)&&gt(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],h=s[u];if(c!=null&&h!=null){var f=ky(a,c,h,r,n);l.push(f)}else l.push(h)}return l}}function cL(e,t,r,n){var i=!n,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=n?e:e.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=Gl.linear;else{var h;if($e(s)){var f=c.parse("transition-timing-function",s);h=f.value}else h=s;var d,p;$e(h)?(d=h,p=[]):(d=h[1],p=h.slice(2).map(function(z){return+z})),p.length>0?(d==="spring"&&p.push(o.duration),o.easingImpl=Gl[d].apply(null,p)):o.easingImpl=Gl[d]}var m=o.easingImpl,v;if(o.duration===0?v=1:v=(r-l)/o.duration,o.applying&&(v=o.progress),v<0?v=0:v>1&&(v=1),o.delay==null){var y=o.startPosition,g=o.position;if(g&&i&&!e.locked()){var b={};Fo(y.x,g.x)&&(b.x=La(y.x,g.x,v,m)),Fo(y.y,g.y)&&(b.y=La(y.y,g.y,v,m)),e.position(b)}var x=o.startPan,C=o.pan,T=a.pan,w=C!=null&&n;w&&(Fo(x.x,C.x)&&(T.x=La(x.x,C.x,v,m)),Fo(x.y,C.y)&&(T.y=La(x.y,C.y,v,m)),e.emit("pan"));var k=o.startZoom,E=o.zoom,A=E!=null&&n;A&&(Fo(k,E)&&(a.zoom=Ss(a.minZoom,La(k,E,v,m),a.maxZoom)),e.emit("zoom")),(w||A)&&e.emit("viewport");var S=o.style;if(S&&S.length>0&&i){for(var B=0;B<S.length;B++){var D=S[B],I=D.name,O=D,F=o.startStyle[I],M=c.properties[F.name],N=La(F,O,v,m,M);c.overrideBypass(e,I,N)}e.emit("style")}}return o.progress=v,v}function Fo(e,t){return e==null||t==null?!1:Ce(e)&&Ce(t)?!0:!!(e&&t)}function hL(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function Sy(e,t){var r=t._private.aniEles,n=[];function i(c,h){var f=c._private,d=f.animation.current,p=f.animation.queue,m=!1;if(d.length===0){var v=p.shift();v&&d.push(v)}for(var y=function(T){for(var w=T.length-1;w>=0;w--){var k=T[w];k()}T.splice(0,T.length)},g=d.length-1;g>=0;g--){var b=d[g],x=b._private;if(x.stopped){d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,y(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||hL(c,b,e),cL(c,b,e,h),x.applying&&(x.applying=!1),y(x.frames),x.step!=null&&x.step(e),b.completed()&&(d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,y(x.completes)),m=!0)}return!h&&d.length===0&&p.length===0&&n.push(c),m}for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=i(s);a=a||l}var u=i(t,!0);(a||u)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var fL={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&wu(function(a){Sy(a,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){Sy(o,t)},n.beforeRenderPriorities.animations):r()}},dL={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var i=r.qualifier;return i!=null?t!==n.target&&Us(n.target)&&i.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},Tl=function(t){return $e(t)?new _i(t):t},zx={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Sc(dL,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,Tl(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,Tl(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,Tl(r),n),this},once:function(t,r,n){return this.emitter().one(t,Tl(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};st.eventAliasesOn(zx);var Ld={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};Ld.jpeg=Ld.jpg;var jl={layout:function(t){var r=this;if(t==null){St("Layout options must be specified to make a layout");return}if(t.name==null){St("A `name` must be specified to make a layout");return}var n=t.name,i=r.extension("layout",n);if(i==null){St("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;$e(t.eles)?a=r.$(t.eles):a=t.eles!=null?t.eles:r.$();var o=new i(Ve({},t,{cy:r,eles:a}));return o}};jl.createLayout=jl.makeLayout=jl.layout;var pL={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var i=t.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),i=0;i<n.length;i++){var a=n[i],o=t[a],s=r.getElementById(a);s.data(o)}})}},vL=nr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Dd={renderTo:function(t,r,n,i){var a=this._private.renderer;return a.renderTo(t,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){St("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&lt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=vL(t);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};Dd.invalidateDimensions=Dd.resize;var Kl={collection:function(t,r){return $e(t)?this.$(t):zr(t)?t.collection():gt(t)?(r||(r={}),new rr(this,t,r.unique,r.removed)):new rr(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Kl.elements=Kl.filter=Kl.$;var Jt={},os="t",gL="f";Jt.apply=function(e){for(var t=this,r=t._private,n=r.cy,i=n.collection(),a=0;a<e.length;a++){var o=e[a],s=t.getContextMeta(o);if(!s.empty){var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,o);o._private.appliedInitStyle?t.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=t.updateStyleHints(o);c&&i.push(o)}}return i};Jt.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=e[l]===os,h=t[l]===os,f=c!==h,d=u.mappedProperties.length>0;if(f||h&&d){var p=void 0;f&&d||f?p=u.properties:d&&(p=u.mappedProperties);for(var m=0;m<p.length;m++){for(var v=p[m],y=v.name,g=!1,b=l+1;b<r.length;b++){var x=r[b],C=t[b]===os;if(C&&(g=x.properties[v.name]!=null,g))break}!s[y]&&!g&&(s[y]=!0,o.push(y))}}}return n[i]=o,o};Jt.getContextMeta=function(e){for(var t=this,r="",n,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var o=t[a],s=o.selector&&o.selector.matches(e);s?r+=os:r+=gL}return n=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Jt.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s=t[a]===os;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];i[u.name]=u}}return n[t]=i,i};Jt.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=n.types,s=0;s<i.length;s++){var l=i[s],u=t[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var h=c.mapping,f=h.fnValue=u.value(r);if(f===h.prevFnValue)continue}var d=a[l]={prev:c};n.applyParsedProperty(r,u),d.next=r.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}};Jt.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(_,P,V){return r.getPropertiesHash(_,P,V)},o=t.styleKey;if(e.removed())return!1;var s=t.group==="nodes",l=e._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=[Zi,Na]}for(var h=function(_,P){return t.styleKeys[P][0]=Ts(_,t.styleKeys[P][0])},f=function(_,P){return t.styleKeys[P][1]=ks(_,t.styleKeys[P][1])},d=function(_,P){h(_,P),f(_,P)},p=function(_,P){for(var V=0;V<_.length;V++){var ee=_.charCodeAt(V);h(ee,P),f(ee,P)}},m=2e9,v=function(_){return-128<_&&_<128&&Math.floor(_)!==_?m-(_*1024|0):_},y=0;y<n.length;y++){var g=n[y],b=l[g];if(b!=null){var x=this.properties[g],C=x.type,T=x.groupKey,w=void 0;x.hashOverride!=null?w=x.hashOverride(e,b):b.pfValue!=null&&(w=b.pfValue);var k=x.enums==null?b.value:null,E=w!=null,A=k!=null,S=E||A,B=b.units;if(C.number&&S&&!C.multiple){var D=E?w:k;d(v(D),T),!E&&B!=null&&p(B,T)}else p(b.strValue,T)}}for(var I=[Zi,Na],O=0;O<i.length;O++){var F=i[O],M=t.styleKeys[F];I[0]=Ts(M[0],I[0]),I[1]=ks(M[1],I[1])}t.styleKey=ME(I[0],I[1]);var N=t.styleKeys;t.labelDimsKey=ai(N.labelDimensions);var z=a(e,["label"],N.labelDimensions);if(t.labelKey=ai(z),t.labelStyleKey=ai(vl(N.commonLabel,z)),!s){var U=a(e,["source-label"],N.labelDimensions);t.sourceLabelKey=ai(U),t.sourceLabelStyleKey=ai(vl(N.commonLabel,U));var $=a(e,["target-label"],N.labelDimensions);t.targetLabelKey=ai($),t.targetLabelStyleKey=ai(vl(N.commonLabel,$))}if(s){var W=t.styleKeys,X=W.nodeBody,ie=W.nodeBorder,Y=W.nodeOutline,oe=W.backgroundImage,ce=W.compound,ve=W.pie,se=W.stripe,G=[X,ie,Y,oe,ce,ve,se].filter(function(K){return K!=null}).reduce(vl,[Zi,Na]);t.nodeKey=ai(G),t.hasPie=ve!=null&&ve[0]!==Zi&&ve[1]!==Na,t.hasStripe=se!=null&&se[0]!==Zi&&se[1]!==Na}return o!==t.styleKey};Jt.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};Jt.applyParsedProperty=function(e,t){var r=this,n=t,i=e._private.style,a,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=i[n.name],c=u&&u.bypass,h=e._private,f="mapping",d=function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},p=function(){var X=d(u),ie=d(n);r.checkTriggers(e,n.name,X,ie)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",l)),n.delete)return i[n.name]=void 0,p(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,p(),!0):!1:(p(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,p(),!0):!1:(p(),!0);var m=function(){lt("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var v=n.field.split("."),y=h.data,g=0;g<v.length&&y;g++){var b=v[g];y=y[b]}if(y==null)return m(),!1;var x;if(Ce(y)){var C=n.fieldMax-n.fieldMin;C===0?x=0:x=(y-n.fieldMin)/C}else return lt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var T=n.valueMin[0],w=n.valueMax[0],k=n.valueMin[1],E=n.valueMax[1],A=n.valueMin[2],S=n.valueMax[2],B=n.valueMin[3]==null?1:n.valueMin[3],D=n.valueMax[3]==null?1:n.valueMax[3],I=[Math.round(T+(w-T)*x),Math.round(k+(E-k)*x),Math.round(A+(S-A)*x),Math.round(B+(D-B)*x)];a={bypass:n.bypass,name:n.name,value:I,strValue:"rgb("+I[0]+", "+I[1]+", "+I[2]+")"}}else if(s.number){var O=n.valueMin+(n.valueMax-n.valueMin)*x;a=this.parse(n.name,O,n.bypass,f)}else return!1;if(!a)return m(),!1;a.mapping=n,n=a;break}case o.data:{for(var F=n.field.split("."),M=h.data,N=0;N<F.length&&M;N++){var z=F[N];M=M[z]}if(M!=null&&(a=this.parse(n.name,M,n.bypass,f)),!a)return m(),!1;a.mapping=n,n=a;break}case o.fn:{var U=n.value,$=n.fnValue!=null?n.fnValue:U(e);if(n.prevFnValue=$,$==null)return lt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(n.name,$,n.bypass,f),!a)return lt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=Tn(n),n=a;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):c?u.bypassed=n:i[n.name]=n,p(),!0};Jt.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];l!=null&&(l.bypass?l.bypassed=null:i[s]=null)}}};Jt.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};Jt.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],h=e.pstyle(c),f=t[c];if(f){var d=f.prev,p=d,m=f.next!=null?f.next:h,v=!1,y=void 0,g=1e-6;p&&(Ce(p.pfValue)&&Ce(m.pfValue)?(v=m.pfValue-p.pfValue,y=p.pfValue+g*v):Ce(p.value)&&Ce(m.value)?(v=m.value-p.value,y=p.value+g*v):gt(p.value)&&gt(m.value)&&(v=p.value[0]!==m.value[0]||p.value[1]!==m.value[1]||p.value[2]!==m.value[2],y=p.strValue),v&&(s[c]=m.strValue,this.applyBypass(e,c,y),l=!0))}}if(!l)return;n.transitioning=!0,new bo(function(b){o>0?e.delayAnimation(o).play().promise().then(b):b()}).then(function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)};Jt.checkTrigger=function(e,t,r,n,i,a){var o=this.properties[t],s=i(o);e.removed()||s!=null&&s(r,n,e)&&a(o)};Jt.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})};Jt.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};Jt.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Jt.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){e.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Jt.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};var Qs={};Qs.applyBypass=function(e,t,r,n){var i=this,a=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var s=0;s<i.properties.length;s++){var l=i.properties[s],u=l.name,c=this.parse(u,r,!0);c&&a.push(c)}}else if($e(t)){var h=this.parse(t,r,!0);h&&a.push(h)}else if(nt(t)){var f=t;n=r;for(var d=Object.keys(f),p=0;p<d.length;p++){var m=d[p],v=f[m];if(v===void 0&&(v=f[gc(m)]),v!==void 0){var y=this.parse(m,v,!0);y&&a.push(y)}}}else return!1;if(a.length===0)return!1;for(var g=!1,b=0;b<e.length;b++){for(var x=e[b],C={},T=void 0,w=0;w<a.length;w++){var k=a[w];if(n){var E=x.pstyle(k.name);T=C[k.name]={prev:E}}g=this.applyParsedProperty(x,Tn(k))||g,n&&(T.next=x.pstyle(k.name))}g&&this.updateStyleHints(x),n&&this.updateTransitions(x,C,o)}return g};Qs.overrideBypass=function(e,t,r){t=Ap(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),s?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,t,u,r)}};Qs.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};Qs.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],o={},s=0;s<t.length;s++){var l=t[s],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var h="",f=this.parse(l,h,!0),d=o[u.name]={prev:c};this.applyParsedProperty(a,f),d.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,n)}};var Hp={};Hp.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};Hp.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var Dn={};Dn.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};Dn.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(e,a.name,t);o!=null&&(n[a.name]=o,n[gc(a.name)]=o)}return n}};Dn.getIndexedStyle=function(e,t,r,n){var i=e.pstyle(t)[r][n];return i??e.cy().style().getDefaultProperty(t)[r][0]};Dn.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var i=n.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,o=e.pstyle(i.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&a.number&&s!=null&&Ce(s)){var c=e.cy().zoom(),h=function(v){return v*c},f=function(v,y){return h(v)+y},d=gt(s),p=d?l.every(function(m){return m!=null}):l!=null;return p?d?s.map(function(m,v){return f(m,l[v])}).join(" "):f(s,l):d?s.map(function(m){return $e(m)?m:""+h(m)}).join(" "):""+h(s)}else if(u!=null)return u}return null}};Dn.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=i.name,o=e.pstyle(a);o!==void 0&&(nt(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};Dn.getPropsList=function(e){var t=this,r=[],n=e,i=t.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s],u=i[s]||i[Ap(s)],c=this.parse(u.name,l);c&&r.push(c)}return r};Dn.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),i,a,o,s,l,u;for(l=0;l<t.length;l++)if(i=t[l],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=Ts(s,n[0]),n[1]=ks(s,n[1]);else for(o=a.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=Ts(s,n[0]),n[1]=ks(s,n[1]);return n};Dn.getPropertiesHash=Dn.getNonDefaultPropertiesHash;var Bc={};Bc.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];t.css(l,u)}}return t};Bc.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Bc.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e};var Wp={};Wp.appendFromString=function(e){var t=this,r=this,n=""+e,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){lt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var h=c[1];if(h!=="core"){var f=new _i(h);if(f.invalid){lt("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var d=c[2],p=!1;a=d;for(var m=[];;){var v=a.match(/^\s*$/);if(v)break;var y=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!y){lt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),p=!0;break}o=y[0];var g=y[1],b=y[2],x=t.properties[g];if(!x){lt("Skipping property: Invalid property name in: "+o),l();continue}var C=r.parse(g,b);if(!C){lt("Skipping property: Invalid property definition in: "+o),l();continue}m.push({name:g,val:b}),l()}if(p){s();break}r.selector(h);for(var T=0;T<m.length;T++){var w=m[T];r.css(w.name,w.val)}s()}return r};Wp.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Nt={};(function(){var e=Gt,t=cE,r=fE,n=dE,i=pE,a=function(K){return"^"+K+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(K){var _=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+i;return"^"+K+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+_+")\\s*\\,\\s*("+_+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Nt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(K,_){switch(K.length){case 2:return _[0]!=="deg"&&_[0]!=="rad"&&_[1]!=="deg"&&_[1]!=="rad";case 1:return $e(K[0])||_[0]==="deg"||_[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(K){var _=K.length;return _===1||_===2||_===4}}};var l={zeroNonZero:function(K,_){return(K==null||_==null)&&K!==_||K==0&&_!=0?!0:K!=0&&_==0},any:function(K,_){return K!=_},emptyNonEmpty:function(K,_){var P=Ci(K),V=Ci(_);return P&&!V||!P&&V}},u=Nt.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],h=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],f=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],p=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],m=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:l.any}],v=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(K,_,P){return K===_?!1:P.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],y=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],g=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],b=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(K,_){return _.value==="label"?-K.poolIndex():_.pfValue},C=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],T=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],w=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],k=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],E=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],A=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(K,_){return K===_?!1:K==="bezier"||_==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],S=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],B=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],D=[];Nt.pieBackgroundN=16,D.push({name:"pie-size",type:u.sizeMaybePercent}),D.push({name:"pie-hole",type:u.sizeMaybePercent}),D.push({name:"pie-start-angle",type:u.angle});for(var I=1;I<=Nt.pieBackgroundN;I++)D.push({name:"pie-"+I+"-background-color",type:u.color}),D.push({name:"pie-"+I+"-background-size",type:u.percent}),D.push({name:"pie-"+I+"-background-opacity",type:u.zeroOneNumber});var O=[];Nt.stripeBackgroundN=16,O.push({name:"stripe-size",type:u.sizeMaybePercent}),O.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var F=1;F<=Nt.stripeBackgroundN;F++)O.push({name:"stripe-"+F+"-background-color",type:u.color}),O.push({name:"stripe-"+F+"-background-size",type:u.percent}),O.push({name:"stripe-"+F+"-background-opacity",type:u.zeroOneNumber});var M=[],N=Nt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(G){N.forEach(function(K){var _=K+"-"+G.name,P=G.type,V=G.triggersBounds;M.push({name:_,type:P,triggersBounds:V})})},{});var z=Nt.properties=[].concat(m,b,v,y,g,S,p,d,c,h,f,C,T,w,k,D,O,E,A,M,B),U=Nt.propertyGroups={behavior:m,transition:b,visibility:v,overlay:y,underlay:g,ghost:S,commonLabel:p,labelDimensions:d,mainLabel:c,sourceLabel:h,targetLabel:f,nodeBody:C,nodeBorder:T,nodeOutline:w,backgroundImage:k,pie:D,stripe:O,compound:E,edgeLine:A,edgeArrow:M,core:B},$=Nt.propertyGroupNames={},W=Nt.propertyGroupKeys=Object.keys(U);W.forEach(function(G){$[G]=U[G].map(function(K){return K.name}),U[G].forEach(function(K){return K.groupKey=G})});var X=Nt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Nt.propertyNames=z.map(function(G){return G.name});for(var ie=0;ie<z.length;ie++){var Y=z[ie];z[Y.name]=Y}for(var oe=0;oe<X.length;oe++){var ce=X[oe],ve=z[ce.pointsTo],se={name:ce.name,alias:!0,pointsTo:ve};z.push(se),z[ce.name]=se}})();Nt.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Nt.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Ve({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Nt.pieBackgroundN;c++){var h=u.name.replace("{{i}}",c),f=u.value;l[h]=f}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Nt.stripeBackgroundN;c++){var h=u.name.replace("{{i}}",c),f=u.value;l[h]=f}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Nt.arrowPrefixes.forEach(function(c){var h=c+"-"+u.name,f=u.value;l[h]=f}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);r[a]=s}}return e.defaultProperties=r,e.defaultProperties};Nt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Lc={};Lc.parse=function(e,t,r,n){var i=this;if(Bt(t))return i.parseImplWarn(e,t,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+t,l=X1(e,s,o,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(c=Tn(c),c&&(c.value=Tn(c.value))),c};Lc.parseImplWarn=function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return!i&&t!=null&&lt("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&lt("The style value of `label` is deprecated for `"+i.name+"`"),i};Lc.parseImpl=function(e,t,r,n){var i=this;e=Ap(e);var a=i.properties[e],o=t,s=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var l=$e(t);l&&(t=t.trim());var u=a.type;if(!u)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Bt(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};var c,h;if(!(!l||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(c=new RegExp(s.data.regex).exec(t))){if(r)return!1;var f=s.data;return{name:e,value:c,strValue:""+t,mapped:f,field:c[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(t))){if(r||u.multiple)return!1;var d=s.mapData;if(!(u.color||u.number))return!1;var p=this.parse(e,h[4]);if(!p||p.mapped)return!1;var m=this.parse(e,h[5]);if(!m||m.mapped)return!1;if(p.pfValue===m.pfValue||p.strValue===m.strValue)return lt("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+p.strValue+"`"),this.parse(e,p.strValue);if(u.color){var v=p.value,y=m.value,g=v[0]===y[0]&&v[1]===y[1]&&v[2]===y[2]&&(v[3]===y[3]||(v[3]==null||v[3]===1)&&(y[3]==null||y[3]===1));if(g)return!1}return{name:e,value:h,strValue:""+t,mapped:d,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:p.value,valueMax:m.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var b;if(l?b=t.split(/\s+/):gt(t)?b=t:b=[t],u.evenMultiple&&b.length%2!==0)return null;for(var x=[],C=[],T=[],w="",k=!1,E=0;E<b.length;E++){var A=i.parse(e,b[E],r,"multiple");k=k||$e(A.value),x.push(A.value),T.push(A.pfValue!=null?A.pfValue:A.value),C.push(A.units),w+=(E>0?" ":"")+A.strValue}return u.validate&&!u.validate(x,C)?null:u.singleEnum&&k?x.length===1&&$e(x[0])?{name:e,value:x[0],strValue:x[0],bypass:r}:null:{name:e,value:x,pfValue:T,strValue:w,bypass:r,units:C}}var S=function(){for(var se=0;se<u.enums.length;se++){var G=u.enums[se];if(G===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(u.number){var B,D="px";if(u.units&&(B=u.units),u.implicitUnits&&(D=u.implicitUnits),!u.unitless)if(l){var I="px|em"+(u.allowPercent?"|\\%":"");B&&(I=B);var O=t.match("^("+Gt+")("+I+")?$");O&&(t=O[1],B=O[2]||D)}else(!B||u.implicitUnits)&&(B=D);if(t=parseFloat(t),isNaN(t)&&u.enums===void 0)return null;if(isNaN(t)&&u.enums!==void 0)return t=o,S();if(u.integer&&!nE(t)||u.min!==void 0&&(t<u.min||u.strictMin&&t===u.min)||u.max!==void 0&&(t>u.max||u.strictMax&&t===u.max))return null;var F={name:e,value:t,strValue:""+t+(B||""),units:B,bypass:r};return u.unitless||B!=="px"&&B!=="em"?F.pfValue=t:F.pfValue=B==="px"||!B?t:this.getEmSizeInPixels()*t,(B==="ms"||B==="s")&&(F.pfValue=B==="ms"?t:1e3*t),(B==="deg"||B==="rad")&&(F.pfValue=B==="rad"?t:dA(t)),B==="%"&&(F.pfValue=t/100),F}else if(u.propList){var M=[],N=""+t;if(N!=="none"){for(var z=N.split(/\s*,\s*|\s+/),U=0;U<z.length;U++){var $=z[U].trim();i.properties[$]?M.push($):lt("`"+$+"` is not a valid property name")}if(M.length===0)return null}return{name:e,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}else if(u.color){var W=H1(t);return W?{name:e,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var X=S();if(X)return X}for(var ie=u.regexes?u.regexes:[u.regex],Y=0;Y<ie.length;Y++){var oe=new RegExp(ie[Y]),ce=oe.exec(t);if(ce)return{name:e,value:u.singleRegexMatchValue?ce[1]:ce,strValue:""+t,bypass:r}}return null}else return u.string?{name:e,value:""+t,strValue:""+t,bypass:r}:u.enums?S():null};var Qt=function(t){if(!(this instanceof Qt))return new Qt(t);if(!Ep(t)){St("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},pr=Qt.prototype;pr.instanceString=function(){return"style"};pr.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};pr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};pr.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};pr.selector=function(e){var t=e==="core"?null:new _i(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};pr.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var i=e.properties[n],a=r[i.name];a===void 0&&(a=r[gc(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this};pr.style=pr.css;pr.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};pr.append=function(e){return z1(e)?e.appendToStyle(this):gt(e)?this.appendFromJson(e):$e(e)&&this.appendFromString(e),this};Qt.fromJson=function(e,t){var r=new Qt(e);return r.fromJson(t),r};Qt.fromString=function(e,t){return new Qt(e).fromString(t)};[Jt,Qs,Hp,Dn,Bc,Wp,Nt,Lc].forEach(function(e){Ve(pr,e)});Qt.types=pr.types;Qt.properties=pr.properties;Qt.propertyGroups=pr.propertyGroups;Qt.propertyGroupNames=pr.propertyGroupNames;Qt.propertyGroupKeys=pr.propertyGroupKeys;var mL={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return z1(t)?r.style=t.generateStyle(this):gt(t)?r.style=Qt.fromJson(this,t):$e(t)?r.style=Qt.fromString(this,t):r.style=Qt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},yL="single",da={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=yL),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,i,a,o,s;switch(t.length){case 0:return r;case 1:if($e(t[0]))return n=t[0],r[n];if(nt(t[0])){if(!this._private.panningEnabled)return this;a=t[0],o=a.x,s=a.y,Ce(o)&&(r.x=o),Ce(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],i=t[1],(n==="x"||n==="y")&&Ce(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,i=this._private.pan,a,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:nt(t)&&(s=n[0],l=s.x,u=s.y,Ce(l)&&(i.x+=l),Ce(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=t,o=r,(a==="x"||a==="y")&&Ce(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(Ce(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if($e(t)){var i=t;t=this.$(i)}else if(oE(t)){var a=t;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else zr(t)||(t=this.mutableElements());if(!(zr(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),s=this.height(),l;if(r=Ce(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var i=t;t=i.min,r=i.max}return Ce(t)&&Ce(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):Ce(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:Ce(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,i=r.zoom,a,o,s=!1;if(r.zoomingEnabled||(s=!0),Ce(t)?o=t:nt(t)&&(o=t.level,t.position!=null?a=bc(t.position,i,n):t.renderedPosition!=null&&(a=t.renderedPosition),a!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!Ce(o)||o===i||a!=null&&(!Ce(a.x)||!Ce(a.y)))return null;if(a!=null){var l=n,u=i,c=o,h={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!t)return this;if(Ce(t.zoom)||(n=!1),nt(t.pan)||(i=!1),!n&&!i)return this;if(n){var l=t.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var u=t.pan;Ce(u.x)&&(r.pan.x=u.x,s=!1),Ce(u.y)&&(r.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if($e(t)){var n=t;t=this.mutableElements().filter(n)}else zr(t)||(t=this.mutableElements());if(t.length!==0){var i=t.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?(function(){var i=n.window().getComputedStyle(r),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};da.centre=da.center;da.autolockNodes=da.autolock;da.autoungrabifyNodes=da.autoungrabify;var Ls={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ls.attr=Ls.data;Ls.removeAttr=Ls.removeData;var Ds=function(t){var r=this;t=Ve({},t);var n=t.container;n&&!xu(n)&&xu(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var o=Ut!==void 0&&n!==void 0&&!t.headless,s=t;s.layout=Ve({name:o?"grid":"null"},s.layout),s.renderer=Ve({name:o?"canvas":"null"},s.renderer);var l=function(p,m,v){return m!==void 0?m:v!==void 0?v:p},u=this._private={container:n,ready:!1,options:s,elements:new rr(this),listeners:[],aniEles:new rr(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Ce(s.zoom)?s.zoom:1,pan:{x:nt(s.pan)&&Ce(s.pan.x)?s.pan.x:0,y:nt(s.pan)&&Ce(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(p,m){var v=p.some(sE);if(v)return bo.all(p).then(m);m(p)};u.styleEnabled&&r.setStyle([]);var h=Ve({},s,s.renderer);r.initRenderer(h);var f=function(p,m,v){r.notifications(!1);var y=r.mutableElements();y.length>0&&y.remove(),p!=null&&(nt(p)||gt(p))&&r.add(p),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",v),r.emit("done")});var g=Ve({},r._private.options.layout);g.eles=r.elements(),r.layout(g).run()};c([s.style,s.elements],function(d){var p=d[0],m=d[1];u.styleEnabled&&r.style().append(p),f(m,function(){r.startAnimationLoop(),u.ready=!0,Bt(s.ready)&&r.on("ready",s.ready);for(var v=0;v<a.length;v++){var y=a[v];r.on("ready",y)}i&&(i.readies=[]),r.emit("ready")},s.done)})},Eu=Ds.prototype;Ve(Eu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return Ut;var r=this._private.container.ownerDocument;return r===void 0||r==null?Ut:r.defaultView||Ut},mount:function(t){if(t!=null){var r=this,n=r._private,i=n.options;return!xu(t)&&xu(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ve({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Tn(this._private.options)},json:function(t){var r=this,n=r._private,i=r.mutableElements(),a=function(x){return r.getElementById(x.id())};if(nt(t)){if(r.startBatch(),t.elements){var o={},s=function(x,C){for(var T=[],w=[],k=0;k<x.length;k++){var E=x[k];if(!E.data.id){lt("cy.json() cannot handle elements without an ID attribute");continue}var A=""+E.data.id,S=r.getElementById(A);o[A]=!0,S.length!==0?w.push({ele:S,json:E}):(C&&(E.group=C),T.push(E))}r.add(T);for(var B=0;B<w.length;B++){var D=w[B],I=D.ele,O=D.json;I.json(O)}};if(gt(t.elements))s(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],h=t.elements[c];gt(h)&&s(h,c)}var f=r.collection();i.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?f.merge(b):b.remove()}),f.forEach(function(b){return b.children().move({parent:null})}),f.forEach(function(b){return a(b).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<d.length;p++){var m=d[p];t[m]!=null&&r[m](t[m])}return r.endBatch(),this}else{var v=!!t,y={};v?y.elements=this.elements().map(function(b){return b.json()}):(y.elements={},i.forEach(function(b){var x=b.group();y.elements[x]||(y.elements[x]=[]),y.elements[x].push(b.json())})),this._private.styleEnabled&&(y.style=r.style().json()),y.data=Tn(r.data());var g=n.options;return y.zoomingEnabled=n.zoomingEnabled,y.userZoomingEnabled=n.userZoomingEnabled,y.zoom=n.zoom,y.minZoom=n.minZoom,y.maxZoom=n.maxZoom,y.panningEnabled=n.panningEnabled,y.userPanningEnabled=n.userPanningEnabled,y.pan=Tn(n.pan),y.boxSelectionEnabled=n.boxSelectionEnabled,y.renderer=Tn(g.renderer),y.hideEdgesOnViewport=g.hideEdgesOnViewport,y.textureOnViewport=g.textureOnViewport,y.wheelSensitivity=g.wheelSensitivity,y.motionBlur=g.motionBlur,y.multiClickDebounceTime=g.multiClickDebounceTime,y}}});Eu.$id=Eu.getElementById;[sL,fL,zx,Ld,jl,pL,Dd,Kl,mL,da,Ls].forEach(function(e){Ve(Eu,e)});var bL={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},xL={maximal:!1,acyclic:!1},Da=function(t){return t.scratch("breadthfirst")},Ey=function(t,r){return t.scratch("breadthfirst",r)};function qx(e){this.options=Ve({},bL,xL,e)}qx.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(ne){return ne.isChildless()}),i=r,a=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,s=!!e.boundingBox,l=Sr(s?e.boundingBox:structuredClone(t.extent())),u;if(zr(e.roots))u=e.roots;else if(gt(e.roots)){for(var c=[],h=0;h<e.roots.length;h++){var f=e.roots[h],d=t.getElementById(f);c.push(d)}u=t.collection(c)}else if($e(e.roots))u=t.$(e.roots);else if(a)u=n.roots();else{var p=r.components();u=t.collection();for(var m=function(){var te=p[v],re=te.maxDegree(!1),ge=te.filter(function(pe){return pe.degree(!1)===re});u=u.add(ge)},v=0;v<p.length;v++)m()}var y=[],g={},b=function(te,re){y[re]==null&&(y[re]=[]);var ge=y[re].length;y[re].push(te),Ey(te,{index:ge,depth:re})},x=function(te,re){var ge=Da(te),pe=ge.depth,me=ge.index;y[pe][me]=null,te.isChildless()&&b(te,re)};i.bfs({roots:u,directed:e.directed,visit:function(te,re,ge,pe,me){var xe=te[0],_e=xe.id();xe.isChildless()&&b(xe,me),g[_e]=!0}});for(var C=[],T=0;T<n.length;T++){var w=n[T];g[w.id()]||C.push(w)}var k=function(te){for(var re=y[te],ge=0;ge<re.length;ge++){var pe=re[ge];if(pe==null){re.splice(ge,1),ge--;continue}Ey(pe,{depth:te,index:ge})}},E=function(te,re){for(var ge=Da(te),pe=te.incomers().filter(function(Ae){return Ae.isNode()&&r.has(Ae)}),me=-1,xe=te.id(),_e=0;_e<pe.length;_e++){var Ie=pe[_e],De=Da(Ie);me=Math.max(me,De.depth)}if(ge.depth<=me){if(!e.acyclic&&re[xe])return null;var He=me+1;return x(te,He),re[xe]=He,!0}return!1};if(a&&o){var A=[],S={},B=function(te){return A.push(te)},D=function(){return A.shift()};for(n.forEach(function(ne){return A.push(ne)});A.length>0;){var I=D(),O=E(I,S);if(O)I.outgoers().filter(function(ne){return ne.isNode()&&r.has(ne)}).forEach(B);else if(O===null){lt("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var F=0;if(e.avoidOverlap)for(var M=0;M<n.length;M++){var N=n[M],z=N.layoutDimensions(e),U=z.w,$=z.h;F=Math.max(F,U,$)}var W={},X=function(te){if(W[te.id()])return W[te.id()];for(var re=Da(te).depth,ge=te.neighborhood(),pe=0,me=0,xe=0;xe<ge.length;xe++){var _e=ge[xe];if(!(_e.isEdge()||_e.isParent()||!n.has(_e))){var Ie=Da(_e);if(Ie!=null){var De=Ie.index,He=Ie.depth;if(!(De==null||He==null)){var Ae=y[He].length;He<re&&(pe+=De/Ae,me++)}}}}return me=Math.max(1,me),pe=pe/me,me===0&&(pe=0),W[te.id()]=pe,pe},ie=function(te,re){var ge=X(te),pe=X(re),me=ge-pe;return me===0?V1(te.id(),re.id()):me};e.depthSort!==void 0&&(ie=e.depthSort);for(var Y=y.length,oe=0;oe<Y;oe++)y[oe].sort(ie),k(oe);for(var ce=[],ve=0;ve<C.length;ve++)ce.push(C[ve]);var se=function(){for(var te=0;te<Y;te++)k(te)};ce.length&&(y.unshift(ce),Y=y.length,se());for(var G=0,K=0;K<Y;K++)G=Math.max(y[K].length,G);var _={x:l.x1+l.w/2,y:l.y1+l.h/2},P=n.reduce(function(ne,te){return(function(re){return{w:ne.w===-1?re.w:(ne.w+re.w)/2,h:ne.h===-1?re.h:(ne.h+re.h)/2}})(te.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),V=Math.max(Y===1?0:s?(l.h-e.padding*2-P.h)/(Y-1):(l.h-e.padding*2-P.h)/(Y+1),F),ee=y.reduce(function(ne,te){return Math.max(ne,te.length)},0),q=function(te){var re=Da(te),ge=re.depth,pe=re.index;if(e.circle){var me=Math.min(l.w/2/Y,l.h/2/Y);me=Math.max(me,F);var xe=me*ge+me-(Y>0&&y[0].length<=3?me/2:0),_e=2*Math.PI/y[ge].length*pe;return ge===0&&y[0].length===1&&(xe=1),{x:_.x+xe*Math.cos(_e),y:_.y+xe*Math.sin(_e)}}else{var Ie=y[ge].length,De=Math.max(Ie===1?0:s?(l.w-e.padding*2-P.w)/((e.grid?ee:Ie)-1):(l.w-e.padding*2-P.w)/((e.grid?ee:Ie)+1),F),He={x:_.x+(pe+1-(Ie+1)/2)*De,y:_.y+(ge+1-(Y+1)/2)*V};return He}},H={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(H).indexOf(e.direction)===-1&&St("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(H).join(", ")));var Z=function(te){return IE(q(te),l,H[e.direction])};return r.nodes().layoutPositions(this,e,Z),this};var wL={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Vx(e){this.options=Ve({},wL,e)}Vx.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o=Sr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,u=l/Math.max(1,a.length-1),c,h=0,f=0;f<a.length;f++){var d=a[f],p=d.layoutDimensions(t),m=p.w,v=p.h;h=Math.max(h,m,v)}if(Ce(t.radius)?c=t.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-h,a.length>1&&t.avoidOverlap){h*=1.75;var y=Math.cos(u)-Math.cos(0),g=Math.sin(u)-Math.sin(0),b=Math.sqrt(h*h/(y*y+g*g));c=Math.max(b,c)}var x=function(T,w){var k=t.startAngle+w*u*(i?1:-1),E=c*Math.cos(k),A=c*Math.sin(k),S={x:s.x+E,y:s.y+A};return S};return n.nodes().layoutPositions(this,t,x),this};var CL={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Hx(e){this.options=Ve({},CL,e)}Hx.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),o=Sr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<a.length;c++){var h=a[c],f=void 0;f=t.concentric(h),l.push({value:f,node:h}),h._private.scratch.concentric=f}a.updateStyle();for(var d=0;d<a.length;d++){var p=a[d],m=p.layoutDimensions(t);u=Math.max(u,m.w,m.h)}l.sort(function(V,ee){return ee.value-V.value});for(var v=t.levelWidth(a),y=[[]],g=y[0],b=0;b<l.length;b++){var x=l[b];if(g.length>0){var C=Math.abs(g[0].value-x.value);C>=v&&(g=[],y.push(g))}g.push(x)}var T=u+t.minNodeSpacing;if(!t.avoidOverlap){var w=y.length>0&&y[0].length>1,k=Math.min(o.w,o.h)/2-T,E=k/(y.length+w?1:0);T=Math.min(T,E)}for(var A=0,S=0;S<y.length;S++){var B=y[S],D=t.sweep===void 0?2*Math.PI-2*Math.PI/B.length:t.sweep,I=B.dTheta=D/Math.max(1,B.length-1);if(B.length>1&&t.avoidOverlap){var O=Math.cos(I)-Math.cos(0),F=Math.sin(I)-Math.sin(0),M=Math.sqrt(T*T/(O*O+F*F));A=Math.max(M,A)}B.r=A,A+=T}if(t.equidistant){for(var N=0,z=0,U=0;U<y.length;U++){var $=y[U],W=$.r-z;N=Math.max(N,W)}z=0;for(var X=0;X<y.length;X++){var ie=y[X];X===0&&(z=ie.r),ie.r=z,z+=N}}for(var Y={},oe=0;oe<y.length;oe++)for(var ce=y[oe],ve=ce.dTheta,se=ce.r,G=0;G<ce.length;G++){var K=ce[G],_=t.startAngle+(r?1:-1)*ve*G,P={x:s.x+se*Math.cos(_),y:s.y+se*Math.sin(_)};Y[K.node.id()]=P}return i.nodes().layoutPositions(this,t,function(V){var ee=V.id();return Y[ee]}),this};var Pf,TL={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Dc(e){this.options=Ve({},TL,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=t.some(function(u){return u.data("id")===a}),l=t.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(n)}Dc.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?Pf=!0:Pf=!1;var n=kL(t,r,e);Pf&&SL(n),e.randomize&&EL(n);var i=Qn(),a=function(){AL(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(f){return!(r.stopped||f>=e.numIter||(BL(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var f=e.eles.nodes(),d=Ux(n,e,f);f.layoutPositions(r,e,d)}},l=0,u=!0;if(e.animate===!0){var c=function(){for(var f=0;u&&f<e.refresh;)u=o(l),l++,f++;if(!u)By(n,e),s();else{var d=Qn();d-i>=e.animationThreshold&&a(),wu(c)}};c()}else{for(;u;)u=o(l),l++;By(n,e),s()}return this};Dc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Dc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var kL=function(t,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=Sr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var h=l[c],f=0;f<h.length;f++){var d=h[f];u[d.id()]=c}for(var c=0;c<s.nodeSize;c++){var p=a[c],m=p.layoutDimensions(n),v={};v.isLocked=p.locked(),v.id=p.data("id"),v.parentId=p.data("parent"),v.cmptId=u[p.id()],v.children=[],v.positionX=p.position("x"),v.positionY=p.position("y"),v.offsetX=0,v.offsetY=0,v.height=m.w,v.width=m.h,v.maxX=v.positionX+v.width/2,v.minX=v.positionX-v.width/2,v.maxY=v.positionY+v.height/2,v.minY=v.positionY-v.height/2,v.padLeft=parseFloat(p.style("padding")),v.padRight=parseFloat(p.style("padding")),v.padTop=parseFloat(p.style("padding")),v.padBottom=parseFloat(p.style("padding")),v.nodeRepulsion=Bt(n.nodeRepulsion)?n.nodeRepulsion(p):n.nodeRepulsion,s.layoutNodes.push(v),s.idToIndex[v.id]=c}for(var y=[],g=0,b=-1,x=[],c=0;c<s.nodeSize;c++){var p=s.layoutNodes[c],C=p.parentId;C!=null?s.layoutNodes[s.idToIndex[C]].children.push(p.id):(y[++b]=p.id,x.push(p.id))}for(s.graphSet.push(x);g<=b;){var T=y[g++],w=s.idToIndex[T],d=s.layoutNodes[w],k=d.children;if(k.length>0){s.graphSet.push(k);for(var c=0;c<k.length;c++)y[++b]=k[c]}}for(var c=0;c<s.graphSet.length;c++)for(var E=s.graphSet[c],f=0;f<E.length;f++){var A=s.idToIndex[E[f]];s.indexToGraph[A]=c}for(var c=0;c<s.edgeSize;c++){var S=i[c],B={};B.id=S.data("id"),B.sourceId=S.data("source"),B.targetId=S.data("target");var D=Bt(n.idealEdgeLength)?n.idealEdgeLength(S):n.idealEdgeLength,I=Bt(n.edgeElasticity)?n.edgeElasticity(S):n.edgeElasticity,O=s.idToIndex[B.sourceId],F=s.idToIndex[B.targetId],M=s.indexToGraph[O],N=s.indexToGraph[F];if(M!=N){for(var z=_L(B.sourceId,B.targetId,s),U=s.graphSet[z],$=0,v=s.layoutNodes[O];U.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],$++;for(v=s.layoutNodes[F];U.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],$++;D*=$*n.nestingFactor}B.idealLength=D,B.elasticity=I,s.layoutEdges.push(B)}return s},_L=function(t,r,n){var i=Wx(t,r,0,n);return 2>i.count?0:i.graph},Wx=function(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var h=i.indexToGraph[i.idToIndex[c[0]]],f=Wx(t,r,h,i);if(f.count!==0)if(f.count===1){if(o++,o===2)break}else return f}}return{count:o,graph:n}},SL,EL=function(t,r){for(var n=t.clientWidth,i=t.clientHeight,a=0;a<t.nodeSize;a++){var o=t.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},Ux=function(t,r,n){var i=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var u=a.w===0?.5:(l.positionX-a.x1)/a.w,c=a.h===0?.5:(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},AL=function(t,r,n){var i=n.layout,a=n.eles.nodes(),o=Ux(t,n,a);a.positions(o),t.ready!==!0&&(t.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},BL=function(t,r,n){LL(t,r),FL(t),PL(t,r),RL(t),IL(t)},LL=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var i=t.graphSet[n],a=i.length,o=0;o<a;o++)for(var s=t.layoutNodes[t.idToIndex[i[o]]],l=o+1;l<a;l++){var u=t.layoutNodes[t.idToIndex[i[l]]];DL(s,u,t,r)}},Ay=function(t){return-1+2*t*Math.random()},DL=function(t,r,n,i){var a=t.cmptId,o=r.cmptId;if(!(a!==o&&!n.isCompound)){var s=r.positionX-t.positionX,l=r.positionY-t.positionY,u=1;s===0&&l===0&&(s=Ay(u),l=Ay(u));var c=ML(t,r,s,l);if(c>0)var h=i.nodeOverlap*c,f=Math.sqrt(s*s+l*l),d=h*s/f,p=h*l/f;else var m=Au(t,s,l),v=Au(r,-1*s,-1*l),y=v.x-m.x,g=v.y-m.y,b=y*y+g*g,f=Math.sqrt(b),h=(t.nodeRepulsion+r.nodeRepulsion)/b,d=h*y/f,p=h*g/f;t.isLocked||(t.offsetX-=d,t.offsetY-=p),r.isLocked||(r.offsetX+=d,r.offsetY+=p)}},ML=function(t,r,n,i){if(n>0)var a=t.maxX-r.minX;else var a=r.maxX-t.minX;if(i>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},Au=function(t,r,n){var i=t.positionX,a=t.positionY,o=t.height||1,s=t.width||1,l=n/r,u=o/s,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+o/2,c):0<r&&-1*u<=l&&l<=u?(c.x=i+s/2,c.y=a+s*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=i-s/2,c.y=a-s*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=i+o*r/2/n,c.y=a+o/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=i-o*r/2/n,c.y=a-o/2),c)},FL=function(t,r){for(var n=0;n<t.edgeSize;n++){var i=t.layoutEdges[n],a=t.idToIndex[i.sourceId],o=t.layoutNodes[a],s=t.idToIndex[i.targetId],l=t.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var h=Au(o,u,c),f=Au(l,-1*u,-1*c),d=f.x-h.x,p=f.y-h.y,m=Math.sqrt(d*d+p*p),v=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var y=v*d/m,g=v*p/m;else var y=0,g=0;o.isLocked||(o.offsetX+=y,o.offsetY+=g),l.isLocked||(l.offsetX-=y,l.offsetY-=g)}}},PL=function(t,r){if(r.gravity!==0)for(var n=1,i=0;i<t.graphSet.length;i++){var a=t.graphSet[i],o=a.length;if(i===0)var s=t.clientHeight/2,l=t.clientWidth/2;else var u=t.layoutNodes[t.idToIndex[a[0]]],c=t.layoutNodes[t.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var h=0;h<o;h++){var f=t.layoutNodes[t.idToIndex[a[h]]];if(!f.isLocked){var d=s-f.positionX,p=l-f.positionY,m=Math.sqrt(d*d+p*p);if(m>n){var v=r.gravity*d/m,y=r.gravity*p/m;f.offsetX+=v,f.offsetY+=y}}}}},RL=function(t,r){var n=[],i=0,a=-1;for(n.push.apply(n,t.graphSet[0]),a+=t.graphSet[0].length;i<=a;){var o=n[i++],s=t.idToIndex[o],l=t.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,h=l.offsetY,f=0;f<u.length;f++){var d=t.layoutNodes[t.idToIndex[u[f]]];d.offsetX+=c,d.offsetY+=h,n[++a]=u[f]}l.offsetX=0,l.offsetY=0}}},IL=function(t,r){for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=OL(i.offsetX,i.offsetY,t.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Gx(i,t)}}for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},OL=function(t,r,n){var i=Math.sqrt(t*t+r*r);if(i>n)var a={x:n*t/i,y:n*r/i};else var a={x:t,y:r};return a},Gx=function(t,r){var n=t.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return Gx(i,r)}},By=function(t,r){for(var n=t.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var h=0;h<c.length;h++){var f=c[h];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(g,b){return b.w*b.h-g.w*g.h});for(var d=0,p=0,m=0,v=0,y=Math.sqrt(u)*t.clientWidth/t.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var h=0;h<c.length;h++){var f=c[h];f.isLocked||(f.positionX+=d-c.x1,f.positionY+=p-c.y1)}d+=c.w+r.componentSpacing,m+=c.w+r.componentSpacing,v=Math.max(v,c.h),m>y&&(p+=v+r.componentSpacing,d=0,m=0,v=0)}}},NL={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function jx(e){this.options=Ve({},NL,e)}jx.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=Sr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,t,function(X){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),u=Math.round(a.w/a.h*s),c=function(ie){if(ie==null)return Math.min(l,u);var Y=Math.min(l,u);Y==l?l=ie:u=ie},h=function(ie){if(ie==null)return Math.max(l,u);var Y=Math.max(l,u);Y==l?l=ie:u=ie},f=t.rows,d=t.cols!=null?t.cols:t.columns;if(f!=null&&d!=null)l=f,u=d;else if(f!=null&&d==null)l=f,u=Math.ceil(o/l);else if(f==null&&d!=null)u=d,l=Math.ceil(o/u);else if(u*l>o){var p=c(),m=h();(p-1)*m>=o?c(p-1):(m-1)*p>=o&&h(m-1)}else for(;u*l<o;){var v=c(),y=h();(y+1)*v>=o?h(y+1):c(v+1)}var g=a.w/u,b=a.h/l;if(t.condense&&(g=0,b=0),t.avoidOverlap)for(var x=0;x<i.length;x++){var C=i[x],T=C._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var w=C.layoutDimensions(t),k=t.avoidOverlapPadding,E=w.w+k,A=w.h+k;g=Math.max(g,E),b=Math.max(b,A)}for(var S={},B=function(ie,Y){return!!S["c-"+ie+"-"+Y]},D=function(ie,Y){S["c-"+ie+"-"+Y]=!0},I=0,O=0,F=function(){O++,O>=u&&(O=0,I++)},M={},N=0;N<i.length;N++){var z=i[N],U=t.position(z);if(U&&(U.row!==void 0||U.col!==void 0)){var $={row:U.row,col:U.col};if($.col===void 0)for($.col=0;B($.row,$.col);)$.col++;else if($.row===void 0)for($.row=0;B($.row,$.col);)$.row++;M[z.id()]=$,D($.row,$.col)}}var W=function(ie,Y){var oe,ce;if(ie.locked()||ie.isParent())return!1;var ve=M[ie.id()];if(ve)oe=ve.col*g+g/2+a.x1,ce=ve.row*b+b/2+a.y1;else{for(;B(I,O);)F();oe=O*g+g/2+a.x1,ce=I*b+b/2+a.y1,D(I,O),F()}return{x:oe,y:ce}};i.layoutPositions(this,t,W)}return this};var $L={ready:function(){},stop:function(){}};function Up(e){this.options=Ve({},$L,e)}Up.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};Up.prototype.stop=function(){return this};var zL={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Kx(e){this.options=Ve({},zL,e)}Kx.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=Bt(e.positions);function i(a){if(e.positions==null)return lA(a.position());if(n)return e.positions(a);var o=e.positions[a._private.data.id];return o??null}return r.layoutPositions(this,e,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var qL={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Yx(e){this.options=Ve({},qL,e)}Yx.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=Sr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,i),this};var VL=[{name:"breadthfirst",impl:qx},{name:"circle",impl:Vx},{name:"concentric",impl:Hx},{name:"cose",impl:Dc},{name:"grid",impl:jx},{name:"null",impl:Up},{name:"preset",impl:Kx},{name:"random",impl:Yx}];function Xx(e){this.options=e,this.notifications=0}var Ly=function(){},Dy=function(){throw new Error("A headless instance can not render images")};Xx.prototype={recalculateRenderedStyle:Ly,notify:function(){this.notifications++},init:Ly,isHeadless:function(){return!0},png:Dy,jpg:Dy};var Gp={};Gp.arrowShapeWidth=.3;Gp.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(u,c,h,f,d,p,m){var v=d.x-h/2-m,y=d.x+h/2+m,g=d.y-h/2-m,b=d.y+h/2+m,x=v<=u&&u<=y&&g<=c&&c<=b;return x},n=function(u,c,h,f,d){var p=u*Math.cos(f)-c*Math.sin(f),m=u*Math.sin(f)+c*Math.cos(f),v=p*h,y=m*h,g=v+d.x,b=y+d.y;return{x:g,y:b}},i=function(u,c,h,f){for(var d=[],p=0;p<u.length;p+=2){var m=u[p],v=u[p+1];d.push(n(m,v,c,h,f))}return d},a=function(u){for(var c=[],h=0;h<u.length;h++){var f=u[h];c.push(f.x,f.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){$e(c)&&(c=e[c]),e[u]=Ve({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,d,p,m,v,y){var g=a(i(this.points,p+2*y,m,v)),b=Dr(f,d,g);return b},roughCollide:r,draw:function(f,d,p,m){var v=i(this.points,d,p,m);t.arrowShapeImpl("polygon")(f,v)},spacing:function(f){return 0},gap:o},c)};s("none",{collide:Cu,roughCollide:Cu,draw:Dp,spacing:Ug,gap:Ug}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,h,f,d){var p=i(this.points,c,h,f),m=this.controlPoint,v=n(m[0],m[1],c,h,f);t.arrowShapeImpl(this.name)(u,p,v)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,h,f,d,p,m){var v=a(i(this.points,h+2*m,f,d)),y=a(i(this.pointsTee,h+2*m,f,d)),g=Dr(u,c,v)||Dr(u,c,y);return g},draw:function(u,c,h,f,d){var p=i(this.points,c,h,f),m=i(this.pointsTee,c,h,f);t.arrowShapeImpl(this.name)(u,p,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,h,f,d,p,m){var v=d,y=Math.pow(v.x-u,2)+Math.pow(v.y-c,2)<=Math.pow((h+2*m)*this.radius,2),g=a(i(this.points,h+2*m,f,d));return Dr(u,c,g)||y},draw:function(u,c,h,f,d){var p=i(this.pointsTr,c,h,f);t.arrowShapeImpl(this.name)(u,p,f.x,f.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var h=this.baseCrossLinePts.slice(),f=c/u,d=3,p=5;return h[d]=h[d]-f,h[p]=h[p]-f,h},collide:function(u,c,h,f,d,p,m){var v=a(i(this.points,h+2*m,f,d)),y=a(i(this.crossLinePts(h,p),h+2*m,f,d)),g=Dr(u,c,v)||Dr(u,c,y);return g},draw:function(u,c,h,f,d){var p=i(this.points,c,h,f),m=i(this.crossLinePts(c,d),c,h,f);t.arrowShapeImpl(this.name)(u,p,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,h,f,d,p,m){var v=d,y=Math.pow(v.x-u,2)+Math.pow(v.y-c,2)<=Math.pow((h+2*m)*this.radius,2);return y},draw:function(u,c,h,f,d){t.arrowShapeImpl(this.name)(u,f.x,f.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var xa={};xa.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((e-i)/o-s.x)/l,c=((t-a)/o-s.y)/l;return[u,c]};xa.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(y){return parseFloat(r.getPropertyValue(y))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,s=e.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,h=t.width/(o+c),f=o-l,d=s-u,p=t.left+i.left+a.left,m=t.top+i.top+a.top;return this.containerBB=[p,m,f,d,h]};xa.invalidateContainerClientCoordsCache=function(){this.containerBB=null};xa.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};xa.findNearestElements=function(e,t,r,n){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/l,h=(n?8:2)/l,f=(n?8:2)/l,d=1/0,p,m;r&&(o=o.interactive);function v(w,k){if(w.isNode()){if(m)return;m=w,s.push(w)}if(w.isEdge()&&(k==null||k<d))if(p){if(p.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value){for(var E=0;E<s.length;E++)if(s[E].isEdge()){s[E]=w,p=w,d=k??d;break}}}else s.push(w),p=w,d=k??d}function y(w){var k=w.outerWidth()+2*h,E=w.outerHeight()+2*h,A=k/2,S=E/2,B=w.position(),D=w.pstyle("corner-radius").value==="auto"?"auto":w.pstyle("corner-radius").pfValue,I=w._private.rscratch;if(B.x-A<=e&&e<=B.x+A&&B.y-S<=t&&t<=B.y+S){var O=a.nodeShapes[i.getNodeShape(w)];if(O.checkPoint(e,t,0,k,E,B.x,B.y,D,I))return v(w,0),!0}}function g(w){var k=w._private,E=k.rscratch,A=w.pstyle("width").pfValue,S=w.pstyle("arrow-scale").value,B=A/2+c,D=B*B,I=B*2,N=k.source,z=k.target,O;if(E.edgeType==="segments"||E.edgeType==="straight"||E.edgeType==="haystack"){for(var F=E.allpts,M=0;M+3<F.length;M+=2)if(CA(e,t,F[M],F[M+1],F[M+2],F[M+3],I)&&D>(O=EA(e,t,F[M],F[M+1],F[M+2],F[M+3])))return v(w,O),!0}else if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"){for(var F=E.allpts,M=0;M+5<E.allpts.length;M+=4)if(TA(e,t,F[M],F[M+1],F[M+2],F[M+3],F[M+4],F[M+5],I)&&D>(O=SA(e,t,F[M],F[M+1],F[M+2],F[M+3],F[M+4],F[M+5])))return v(w,O),!0}for(var N=N||k.source,z=z||k.target,U=i.getArrowWidth(A,S),$=[{name:"source",x:E.arrowStartX,y:E.arrowStartY,angle:E.srcArrowAngle},{name:"target",x:E.arrowEndX,y:E.arrowEndY,angle:E.tgtArrowAngle},{name:"mid-source",x:E.midX,y:E.midY,angle:E.midsrcArrowAngle},{name:"mid-target",x:E.midX,y:E.midY,angle:E.midtgtArrowAngle}],M=0;M<$.length;M++){var W=$[M],X=a.arrowShapes[w.pstyle(W.name+"-arrow-shape").value],ie=w.pstyle("width").pfValue;if(X.roughCollide(e,t,U,W.angle,{x:W.x,y:W.y},ie,c)&&X.collide(e,t,U,W.angle,{x:W.x,y:W.y},ie,c))return v(w),!0}u&&s.length>0&&(y(N),y(z))}function b(w,k,E){return Lr(w,k,E)}function x(w,k){var E=w._private,A=f,S;k?S=k+"-":S="",w.boundingBox();var B=E.labelBounds[k||"main"],D=w.pstyle(S+"label").value,I=w.pstyle("text-events").strValue==="yes";if(!(!I||!D)){var O=b(E.rscratch,"labelX",k),F=b(E.rscratch,"labelY",k),M=b(E.rscratch,"labelAngle",k),N=w.pstyle(S+"text-margin-x").pfValue,z=w.pstyle(S+"text-margin-y").pfValue,U=B.x1-A-N,$=B.x2+A-N,W=B.y1-A-z,X=B.y2+A-z;if(M){var ie=Math.cos(M),Y=Math.sin(M),oe=function(P,V){return P=P-O,V=V-F,{x:P*ie-V*Y+O,y:P*Y+V*ie+F}},ce=oe(U,W),ve=oe(U,X),se=oe($,W),G=oe($,X),K=[ce.x+N,ce.y+z,se.x+N,se.y+z,G.x+N,G.y+z,ve.x+N,ve.y+z];if(Dr(e,t,K))return v(w),!0}else if(di(B,e,t))return v(w),!0}}for(var C=o.length-1;C>=0;C--){var T=o[C];T.isNode()?y(T)||x(T):g(T)||x(T)||x(T,"source")||x(T,"target")}return s};xa.getAllInBox=function(e,t,r,n){var i=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),o=2/a,s=[],l=Math.min(e,r),u=Math.max(e,r),c=Math.min(t,n),h=Math.max(t,n);e=l,r=u,t=c,n=h;var f=Sr({x1:e,y1:t,x2:r,y2:n}),d=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],p=[[d[0],d[1]],[d[1],d[2]],[d[2],d[3]],[d[3],d[0]]];function m(P,V,ee){return Lr(P,V,ee)}function v(P,V){var ee=P._private,q=o,H="";P.boundingBox();var Z=ee.labelBounds.main;if(!Z)return null;var ne=m(ee.rscratch,"labelX",V),te=m(ee.rscratch,"labelY",V),re=m(ee.rscratch,"labelAngle",V),ge=P.pstyle(H+"text-margin-x").pfValue,pe=P.pstyle(H+"text-margin-y").pfValue,me=Z.x1-q-ge,xe=Z.x2+q-ge,_e=Z.y1-q-pe,Ie=Z.y2+q-pe;if(re){var De=Math.cos(re),He=Math.sin(re),Ae=function(ue,L){return ue=ue-ne,L=L-te,{x:ue*De-L*He+ne,y:ue*He+L*De+te}};return[Ae(me,_e),Ae(xe,_e),Ae(xe,Ie),Ae(me,Ie)]}else return[{x:me,y:_e},{x:xe,y:_e},{x:xe,y:Ie},{x:me,y:Ie}]}function y(P,V,ee,q){function H(Z,ne,te){return(te.y-Z.y)*(ne.x-Z.x)>(ne.y-Z.y)*(te.x-Z.x)}return H(P,ee,q)!==H(V,ee,q)&&H(P,V,ee)!==H(P,V,q)}for(var g=0;g<i.length;g++){var b=i[g];if(b.isNode()){var x=b,C=x.pstyle("text-events").strValue==="yes",T=x.pstyle("box-selection").strValue,w=x.pstyle("box-select-labels").strValue==="yes";if(T==="none")continue;var k=(T==="overlap"||w)&&C,E=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:k});if(T==="contain"){var A=!1;if(w&&C){var S=v(x);S&&Dh(S,d)&&(s.push(x),A=!0)}!A&&nx(f,E)&&s.push(x)}else if(T==="overlap"&&Rp(f,E)){var B=x.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),D=[{x:B.x1,y:B.y1},{x:B.x2,y:B.y1},{x:B.x2,y:B.y2},{x:B.x1,y:B.y2}];if(Dh(D,d))s.push(x);else{var I=v(x);I&&Dh(I,d)&&s.push(x)}}}else{var O=b,F=O._private,M=F.rscratch,N=O.pstyle("box-selection").strValue;if(N==="none")continue;if(N==="contain"){if(M.startX!=null&&M.startY!=null&&!di(f,M.startX,M.startY)||M.endX!=null&&M.endY!=null&&!di(f,M.endX,M.endY))continue;if(M.edgeType==="bezier"||M.edgeType==="multibezier"||M.edgeType==="self"||M.edgeType==="compound"||M.edgeType==="segments"||M.edgeType==="haystack"){for(var z=F.rstyle.bezierPts||F.rstyle.linePts||F.rstyle.haystackPts,U=!0,$=0;$<z.length;$++)if(!Xg(f,z[$])){U=!1;break}U&&s.push(O)}else M.edgeType==="straight"&&s.push(O)}else if(N==="overlap"){var W=!1;if(M.startX!=null&&M.startY!=null&&M.endX!=null&&M.endY!=null&&(di(f,M.startX,M.startY)||di(f,M.endX,M.endY)))s.push(O),W=!0;else if(!W&&M.edgeType==="haystack"){for(var X=F.rstyle.haystackPts,ie=0;ie<X.length;ie++)if(Xg(f,X[ie])){s.push(O),W=!0;break}}if(!W){var Y=F.rstyle.bezierPts||F.rstyle.linePts||F.rstyle.haystackPts;if((!Y||Y.length<2)&&M.edgeType==="straight"&&M.startX!=null&&M.startY!=null&&M.endX!=null&&M.endY!=null&&(Y=[{x:M.startX,y:M.startY},{x:M.endX,y:M.endY}]),!Y||Y.length<2)continue;for(var oe=0;oe<Y.length-1;oe++){for(var ce=Y[oe],ve=Y[oe+1],se=0;se<p.length;se++){var G=$t(p[se],2),K=G[0],_=G[1];if(y(ce,ve,K,_)){s.push(O),W=!0;break}}if(W)break}}}}}return s};var Bu={};Bu.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",l,u,c,h,f,d,y,g;if(r?(c=t.haystackPts[0],h=t.haystackPts[1],f=t.haystackPts[2],d=t.haystackPts[3]):(c=t.arrowStartX,h=t.arrowStartY,f=t.arrowEndX,d=t.arrowEndY),y=t.midX,g=t.midY,a)l=c-t.segpts[0],u=h-t.segpts[1];else if(i||o||s||n){var p=t.allpts,m=Zt(p[0],p[2],p[4],.1),v=Zt(p[1],p[3],p[5],.1);l=c-m,u=h-v}else l=c-y,u=h-g;t.srcArrowAngle=gl(l,u);var y=t.midX,g=t.midY;if(r&&(y=(c+f)/2,g=(h+d)/2),l=f-c,u=d-h,a){var p=t.allpts;if(p.length/2%2===0){var b=p.length/2,x=b-2;l=p[b]-p[x],u=p[b+1]-p[x+1]}else if(t.isRound)l=t.midVector[1],u=-t.midVector[0];else{var b=p.length/2-1,x=b-2;l=p[b]-p[x],u=p[b+1]-p[x+1]}}else if(i||o||s){var p=t.allpts,C=t.ctrlpts,T,w,k,E;if(C.length/2%2===0){var A=p.length/2-1,S=A+2,B=S+2;T=Zt(p[A],p[S],p[B],0),w=Zt(p[A+1],p[S+1],p[B+1],0),k=Zt(p[A],p[S],p[B],1e-4),E=Zt(p[A+1],p[S+1],p[B+1],1e-4)}else{var S=p.length/2-1,A=S-2,B=S+2;T=Zt(p[A],p[S],p[B],.4999),w=Zt(p[A+1],p[S+1],p[B+1],.4999),k=Zt(p[A],p[S],p[B],.5),E=Zt(p[A+1],p[S+1],p[B+1],.5)}l=k-T,u=E-w}if(t.midtgtArrowAngle=gl(l,u),t.midDispX=l,t.midDispY=u,l*=-1,u*=-1,a){var p=t.allpts;if(p.length/2%2!==0){if(!t.isRound){var b=p.length/2-1,D=b+2;l=-(p[D]-p[b]),u=-(p[D+1]-p[b+1])}}}if(t.midsrcArrowAngle=gl(l,u),a)l=f-t.segpts[t.segpts.length-2],u=d-t.segpts[t.segpts.length-1];else if(i||o||s||n){var p=t.allpts,I=p.length,m=Zt(p[I-6],p[I-4],p[I-2],.9),v=Zt(p[I-5],p[I-3],p[I-1],.9);l=f-m,u=d-v}else l=f-y,u=d-g;t.tgtArrowAngle=gl(l,u)};Bu.getArrowWidth=Bu.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var Md,Fd,bn={},jr={},My,Fy,Qi,Yl,$n,Hi,ji,mn,Ma,kl,Zx,Qx,Pd,Rd,Py,Ry=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},HL=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},WL=function(t,r,n,i,a){if(t!==Py?Ry(r,t,bn):HL(jr,bn),Ry(r,n,jr),My=bn.nx*jr.ny-bn.ny*jr.nx,Fy=bn.nx*jr.nx-bn.ny*-jr.ny,$n=Math.asin(Math.max(-1,Math.min(1,My))),Math.abs($n)<1e-6){Md=r.x,Fd=r.y,ji=Ma=0;return}Qi=1,Yl=!1,Fy<0?$n<0?$n=Math.PI+$n:($n=Math.PI-$n,Qi=-1,Yl=!0):$n>0&&(Qi=-1,Yl=!0),r.radius!==void 0?Ma=r.radius:Ma=i,Hi=$n/2,kl=Math.min(bn.len/2,jr.len/2),a?(mn=Math.abs(Math.cos(Hi)*Ma/Math.sin(Hi)),mn>kl?(mn=kl,ji=Math.abs(mn*Math.sin(Hi)/Math.cos(Hi))):ji=Ma):(mn=Math.min(kl,Ma),ji=Math.abs(mn*Math.sin(Hi)/Math.cos(Hi))),Pd=r.x+jr.nx*mn,Rd=r.y+jr.ny*mn,Md=Pd-jr.ny*ji*Qi,Fd=Rd+jr.nx*ji*Qi,Zx=r.x+bn.nx*mn,Qx=r.y+bn.ny*mn,Py=r};function Jx(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function jp(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(WL(e,t,r,n,i),{cx:Md,cy:Fd,radius:ji,startX:Zx,startY:Qx,stopX:Pd,stopY:Rd,startAngle:bn.ang+Math.PI/2*Qi,endAngle:jr.ang-Math.PI/2*Qi,counterClockwise:Yl})}var Ms=.01,UL=Math.sqrt(2*Ms),vr={};vr.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,i=t.vectorNormInverse,a,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(C,T,w,k){var E=k-T,A=w-C,S=Math.sqrt(A*A+E*E);return{x:-E/S,y:A/S}},c=e.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var h=this.manualEndptToPx(e.source()[0],o),f=$t(h,2),d=f[0],p=f[1],m=this.manualEndptToPx(e.target()[0],s),v=$t(m,2),y=v[0],g=v[1],b={x1:d,y1:p,x2:y,y2:g};i=u(d,p,y,g),a=b}else lt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};vr.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),h=s.width(),f=o.height(),d=s.height(),p=r.pstyle("haystack-radius").value,m=p/2;i.haystackPts=i.allpts=[i.source.x*c*m+l.x,i.source.y*f*m+l.y,i.target.x*h*m+u.x,i.target.y*d*m+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};vr.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<s;c++){var h=n.pfValue[c],f=i.pfValue[c],d=1-h,p=h,m=this.findMidptPtsEtc(e,t),v=m.midptPts,y=m.vectorNormInverse,g={x:v.x1*d+v.x2*p,y:v.y1*d+v.y2*p};r.segpts.push(g.x+y.x*f,g.y+y.y*f),r.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),r.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:u)==="arc-radius")}};vr.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,d=h;n&&(f=0,d=l);var p=u-Math.PI/2,m=p-c/2,v=p+c/2,y=u+"_"+c;f=a[y]===void 0?a[y]=0:++a[y],i.ctrlpts=[o.x+Math.cos(m)*1.4*d*(f/3+1),o.y+Math.sin(m)*1.4*d*(f/3+1),o.x+Math.cos(v)*1.4*d*(f/3+1),o.y+Math.sin(v)*1.4*d*(f/3+1)]};vr.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),d=f?f.pfValue[0]:void 0,p=r,m=h;n&&(p=0,m=d);var v=50,y={x:a.x-s/2,y:a.y-l/2},g={x:o.x-u/2,y:o.y-c/2},b={x:Math.min(y.x,g.x),y:Math.min(y.y,g.y)},x=.5,C=Math.max(x,Math.log(s*Ms)),T=Math.max(x,Math.log(u*Ms));i.ctrlpts=[b.x,b.y-(1+Math.pow(v,1.12)/100)*m*(p/3+1)*C,b.x-(1+Math.pow(v,1.12)/100)*m*(p/3+1)*T,b.y]};vr.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};vr.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,h=l.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var d=0;d<u;d++){var p=(.5-t.eles.length/2+r)*o*(i?-1:1),m=void 0,v=Pp(p);f&&(c=s?s.pfValue[d]:o,h=l.value[d]),n?m=c:m=c!==void 0?v*c:void 0;var y=m!==void 0?m:p,g=1-h,b=h,x=this.findMidptPtsEtc(e,t),C=x.midptPts,T=x.vectorNormInverse,w={x:C.x1*g+C.x2*b,y:C.y1*g+C.y2*b};a.ctrlpts.push(w.x+T.x*y,w.y+T.y*y)}};vr.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",l="upward",u="auto",c=t.posPts,h=t.srcW,f=t.srcH,d=t.tgtW,p=t.tgtH,m=e.pstyle("edge-distances").value,v=m!=="node-position",y=e.pstyle("taxi-direction").value,g=y,b=e.pstyle("taxi-turn"),x=b.units==="%",C=b.pfValue,T=C<0,w=e.pstyle("taxi-turn-min-distance").pfValue,k=v?(h+d)/2:0,E=v?(f+p)/2:0,A=c.x2-c.x1,S=c.y2-c.y1,B=function(L,Q){return L>0?Math.max(L-Q,0):Math.min(L+Q,0)},D=B(A,k),I=B(S,E),O=!1;g===u?y=Math.abs(D)>Math.abs(I)?i:n:g===l||g===s?(y=n,O=!0):(g===a||g===o)&&(y=i,O=!0);var F=y===n,M=F?I:D,N=F?S:A,z=Pp(N),U=!1;!(O&&(x||T))&&(g===s&&N<0||g===l&&N>0||g===a&&N>0||g===o&&N<0)&&(z*=-1,M=z*Math.abs(M),U=!0);var $;if(x){var W=C<0?1+C:C;$=W*M}else{var X=C<0?M:0;$=X+C*z}var ie=function(L){return Math.abs(L)<w||Math.abs(L)>=Math.abs(M)},Y=ie($),oe=ie(Math.abs(M)-Math.abs($)),ce=Y||oe;if(ce&&!U)if(F){var ve=Math.abs(N)<=f/2,se=Math.abs(A)<=d/2;if(ve){var G=(c.x1+c.x2)/2,K=c.y1,_=c.y2;r.segpts=[G,K,G,_]}else if(se){var P=(c.y1+c.y2)/2,V=c.x1,ee=c.x2;r.segpts=[V,P,ee,P]}else r.segpts=[c.x1,c.y2]}else{var q=Math.abs(N)<=h/2,H=Math.abs(S)<=p/2;if(q){var Z=(c.y1+c.y2)/2,ne=c.x1,te=c.x2;r.segpts=[ne,Z,te,Z]}else if(H){var re=(c.x1+c.x2)/2,ge=c.y1,pe=c.y2;r.segpts=[re,ge,re,pe]}else r.segpts=[c.x2,c.y1]}else if(F){var me=c.y1+$+(v?f/2*z:0),xe=c.x1,_e=c.x2;r.segpts=[xe,me,_e,me]}else{var Ie=c.x1+$+(v?h/2*z:0),De=c.y1,He=c.y2;r.segpts=[Ie,De,Ie,He]}if(r.isRound){var Ae=e.pstyle("taxi-radius").value,Te=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Ae),r.isArcRadius=new Array(r.segpts.length/2).fill(Te)}};vr.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,h=t.srcCornerRadius,f=t.tgtCornerRadius,d=t.srcRs,p=t.tgtRs,m=!Ce(r.startX)||!Ce(r.startY),v=!Ce(r.arrowStartX)||!Ce(r.arrowStartY),y=!Ce(r.endX)||!Ce(r.endY),g=!Ce(r.arrowEndX)||!Ce(r.arrowEndY),b=3,x=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=b*x,T=ha({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),w=T<C,k=ha({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),E=k<C,A=!1;if(m||v||w){A=!0;var S={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},B=Math.sqrt(S.x*S.x+S.y*S.y),D={x:S.x/B,y:S.y/B},I=Math.max(a,o),O={x:r.ctrlpts[0]+D.x*2*I,y:r.ctrlpts[1]+D.y*2*I},F=u.intersectLine(n.x,n.y,a,o,O.x,O.y,0,h,d);w?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(C-T),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(C-T)):(r.ctrlpts[0]=F[0]+D.x*C,r.ctrlpts[1]=F[1]+D.y*C)}if(y||g||E){A=!0;var M={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},N=Math.sqrt(M.x*M.x+M.y*M.y),z={x:M.x/N,y:M.y/N},U=Math.max(a,o),$={x:r.ctrlpts[0]+z.x*2*U,y:r.ctrlpts[1]+z.y*2*U},W=c.intersectLine(i.x,i.y,s,l,$.x,$.y,0,f,p);E?(r.ctrlpts[0]=r.ctrlpts[0]+z.x*(C-k),r.ctrlpts[1]=r.ctrlpts[1]+z.y*(C-k)):(r.ctrlpts[0]=W[0]+z.x*C,r.ctrlpts[1]=W[1]+z.y*C)}A&&this.findEndpoints(e)}};vr.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,i;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,i=.5,t.midX=Zt(t.allpts[n],t.allpts[n+2],t.allpts[n+4],i),t.midY=Zt(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var o=t.radii[a/2-1],s=t.isArcRadius[a/2-1];t.roundCorners.push(jp({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:o},{x:t.allpts[a+2],y:t.allpts[a+3]},o,s))}}if(t.segpts.length%4===0){var l=t.segpts.length/2,u=l-2;t.midX=(t.segpts[u]+t.segpts[l])/2,t.midY=(t.segpts[u+1]+t.segpts[l+1])/2}else{var c=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[c],t.midY=t.segpts[c+1];else{var h={x:t.segpts[c],y:t.segpts[c+1]},f=t.roundCorners[c/2];if(f.radius===0){var d={x:t.segpts[c+2],y:t.segpts[c+3]};t.midX=h.x,t.midY=h.y,t.midVector=[h.y-d.y,d.x-h.x]}else{var p=[h.x-f.cx,h.y-f.cy],m=f.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(v){return v*m}),t.midX=f.cx+p[0],t.midY=f.cy+p[1],t.midVector=p}}}}};vr.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Ce(t.startX)&&Ce(t.startY)&&Ce(t.endX)&&Ce(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,lt("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};vr.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a=new Kn,o=function(E,A){return[].concat(bu(E),[A?1:0]).join("-")},s=[],l=[],u=0;u<e.length;u++){var c=e[u],h=c._private,f=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(f==="haystack"){l.push(c);continue}var d=f==="unbundled-bezier"||fi(f,"segments")||f==="straight"||f==="straight-triangle"||fi(f,"taxi"),p=f==="unbundled-bezier"||f==="bezier",m=h.source,v=h.target,y=m.poolIndex(),g=v.poolIndex(),b=[y,g].sort(),x=o(b,d),C=a.get(x);C==null&&(C={eles:[]},s.push({pairId:b,edgeIsUnbundled:d}),a.set(x,C)),C.eles.push(c),d&&(C.hasUnbundled=!0),p&&(C.hasBezier=!0)}}for(var T=function(){var E=s[w],A=E.pairId,S=E.edgeIsUnbundled,B=o(A,S),D=a.get(B),I;if(!D.hasUnbundled){var O=D.eles[0].parallelEdges().filter(function(Te){return Te.isBundledBezier()});Mp(D.eles),O.forEach(function(Te){return D.eles.push(Te)}),D.eles.sort(function(Te,ue){return Te.poolIndex()-ue.poolIndex()})}var F=D.eles[0],M=F.source(),N=F.target();if(M.poolIndex()>N.poolIndex()){var z=M;M=N,N=z}var U=D.srcPos=M.position(),$=D.tgtPos=N.position(),W=D.srcW=M.outerWidth(),X=D.srcH=M.outerHeight(),ie=D.tgtW=N.outerWidth(),Y=D.tgtH=N.outerHeight(),oe=D.srcShape=r.nodeShapes[t.getNodeShape(M)],ce=D.tgtShape=r.nodeShapes[t.getNodeShape(N)],ve=D.srcCornerRadius=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,se=D.tgtCornerRadius=N.pstyle("corner-radius").value==="auto"?"auto":N.pstyle("corner-radius").pfValue,G=D.tgtRs=N._private.rscratch,K=D.srcRs=M._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<D.eles.length;_++){var P=D.eles[_],V=P[0]._private.rscratch,ee=P.pstyle("curve-style").value,q=ee==="unbundled-bezier"||fi(ee,"segments")||fi(ee,"taxi"),H=!M.same(P.source());if(!D.calculatedIntersection&&M!==N&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var Z=oe.intersectLine(U.x,U.y,W,X,$.x,$.y,0,ve,K),ne=D.srcIntn=Z,te=ce.intersectLine($.x,$.y,ie,Y,U.x,U.y,0,se,G),re=D.tgtIntn=te,ge=D.intersectionPts={x1:Z[0],x2:te[0],y1:Z[1],y2:te[1]},pe=D.posPts={x1:U.x,x2:$.x,y1:U.y,y2:$.y},me=te[1]-Z[1],xe=te[0]-Z[0],_e=Math.sqrt(xe*xe+me*me);Ce(_e)&&_e>=UL||(_e=Math.sqrt(Math.max(xe*xe,Ms)+Math.max(me*me,Ms)));var Ie=D.vector={x:xe,y:me},De=D.vectorNorm={x:Ie.x/_e,y:Ie.y/_e},He={x:-De.y,y:De.x};D.nodesOverlap=!Ce(_e)||ce.checkPoint(Z[0],Z[1],0,ie,Y,$.x,$.y,se,G)||oe.checkPoint(te[0],te[1],0,W,X,U.x,U.y,ve,K),D.vectorNormInverse=He,I={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:$,srcRs:G,tgtPos:U,tgtRs:K,srcW:ie,srcH:Y,tgtW:W,tgtH:X,srcIntn:re,tgtIntn:ne,srcShape:ce,tgtShape:oe,posPts:{x1:pe.x2,y1:pe.y2,x2:pe.x1,y2:pe.y1},intersectionPts:{x1:ge.x2,y1:ge.y2,x2:ge.x1,y2:ge.y1},vector:{x:-Ie.x,y:-Ie.y},vectorNorm:{x:-De.x,y:-De.y},vectorNormInverse:{x:-He.x,y:-He.y}}}var Ae=H?I:D;V.nodesOverlap=Ae.nodesOverlap,V.srcIntn=Ae.srcIntn,V.tgtIntn=Ae.tgtIntn,V.isRound=ee.startsWith("round"),i&&(M.isParent()||M.isChild()||N.isParent()||N.isChild())&&(M.parents().anySame(N)||N.parents().anySame(M)||M.same(N)&&M.isParent())?t.findCompoundLoopPoints(P,Ae,_,q):M===N?t.findLoopPoints(P,Ae,_,q):ee.endsWith("segments")?t.findSegmentsPoints(P,Ae):ee.endsWith("taxi")?t.findTaxiPoints(P,Ae):ee==="straight"||!q&&D.eles.length%2===1&&_===Math.floor(D.eles.length/2)?t.findStraightEdgePoints(P):t.findBezierPoints(P,Ae,_,q,H),t.findEndpoints(P),t.tryToCorrectInvalidPoints(P,Ae),t.checkForInvalidEdgeWarning(P),t.storeAllpts(P),t.storeEdgeProjections(P),t.calculateArrowAngles(P),t.recalculateEdgeLabelProjections(P),t.calculateLabelAngles(P)}},w=0;w<s.length;w++)T();this.findHaystackPoints(l)}};function ew(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}vr.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return ew(t.segpts)};vr.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return ew(t.ctrlpts)};vr.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Js={};Js.manualEndptToPx=function(e,t){var r=this,n=e.position(),i=e.outerWidth(),a=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*i),t.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=n.x,s[1]+=n.y,s}else{var l=t.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};Js.findEndpoints=function(e){var t,r,n,i,a=this,o,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),h=e.pstyle("target-arrow-shape").value,f=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,p=e.pstyle("source-distance-from-node").pfValue,m=s._private.rscratch,v=l._private.rscratch,y=e.pstyle("curve-style").value,g=e._private.rscratch,b=g.edgeType,x=fi(y,"taxi"),C=b==="self"||b==="compound",T=b==="bezier"||b==="multibezier"||C,w=b!=="bezier",k=b==="straight"||b==="segments",E=b==="segments",A=T||w||k,S=C||x,B=e.pstyle("source-endpoint"),D=S?"outside-to-node":B.value,I=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,O=e.pstyle("target-endpoint"),F=S?"outside-to-node":O.value,M=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;g.srcManEndpt=B,g.tgtManEndpt=O;var N,z,U,$,W=(t=(O==null||(r=O.pfValue)===null||r===void 0?void 0:r.length)===2?O.pfValue:null)!==null&&t!==void 0?t:[0,0],X=(n=(B==null||(i=B.pfValue)===null||i===void 0?void 0:i.length)===2?B.pfValue:null)!==null&&n!==void 0?n:[0,0];if(T){var ie=[g.ctrlpts[0],g.ctrlpts[1]],Y=w?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:ie;N=Y,z=ie}else if(k){var oe=E?g.segpts.slice(0,2):[c.x+W[0],c.y+W[1]],ce=E?g.segpts.slice(g.segpts.length-2):[u.x+X[0],u.y+X[1]];N=ce,z=oe}if(F==="inside-to-node")o=[c.x,c.y];else if(O.units)o=this.manualEndptToPx(l,O);else if(F==="outside-to-line")o=g.tgtIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?U=N:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(U=[u.x,u.y]),o=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),U[0],U[1],0,M,v),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var ve=l._private.rscratch,se=ve.labelWidth,G=ve.labelHeight,K=ve.labelX,_=ve.labelY,P=se/2,V=G/2,ee=l.pstyle("text-valign").value;ee==="top"?_-=V:ee==="bottom"&&(_+=V);var q=l.pstyle("text-halign").value;q==="left"?K-=P:q==="right"&&(K+=P);var H=Es(U[0],U[1],[K-P,_-V,K+P,_-V,K+P,_+V,K-P,_+V],c.x,c.y);if(H.length>0){var Z=u,ne=Gi(Z,$a(o)),te=Gi(Z,$a(H)),re=ne;if(te<ne&&(o=H,re=te),H.length>2){var ge=Gi(Z,{x:H[2],y:H[3]});ge<re&&(o=[H[2],H[3]])}}}var pe=ml(o,N,a.arrowShapes[h].spacing(e)+d),me=ml(o,N,a.arrowShapes[h].gap(e)+d);if(g.endX=me[0],g.endY=me[1],g.arrowEndX=pe[0],g.arrowEndY=pe[1],D==="inside-to-node")o=[u.x,u.y];else if(B.units)o=this.manualEndptToPx(s,B);else if(D==="outside-to-line")o=g.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?$=z:(D==="outside-to-line"||D==="outside-to-line-or-label")&&($=[c.x,c.y]),o=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),$[0],$[1],0,I,m),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var xe=s._private.rscratch,_e=xe.labelWidth,Ie=xe.labelHeight,De=xe.labelX,He=xe.labelY,Ae=_e/2,Te=Ie/2,ue=s.pstyle("text-valign").value;ue==="top"?He-=Te:ue==="bottom"&&(He+=Te);var L=s.pstyle("text-halign").value;L==="left"?De-=Ae:L==="right"&&(De+=Ae);var Q=Es($[0],$[1],[De-Ae,He-Te,De+Ae,He-Te,De+Ae,He+Te,De-Ae,He+Te],u.x,u.y);if(Q.length>0){var ae=c,le=Gi(ae,$a(o)),fe=Gi(ae,$a(Q)),Ee=le;if(fe<le&&(o=[Q[0],Q[1]],Ee=fe),Q.length>2){var ye=Gi(ae,{x:Q[2],y:Q[3]});ye<Ee&&(o=[Q[2],Q[3]])}}}var Re=ml(o,z,a.arrowShapes[f].spacing(e)+p),Le=ml(o,z,a.arrowShapes[f].gap(e)+p);g.startX=Le[0],g.startY=Le[1],g.arrowStartX=Re[0],g.arrowStartY=Re[1],A&&(!Ce(g.startX)||!Ce(g.startY)||!Ce(g.endX)||!Ce(g.endY)?g.badLine=!0:g.badLine=!1)};Js.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};Js.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var Kp={};function GL(e,t,r){for(var n=function(u,c,h,f){return Zt(u,c,h,f)},i=t._private,a=i.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];a.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Kp.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)GL(this,e,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};Kp.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Pn={};Pn.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Ci(t)){var r,n,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,f=i.rstyle;switch(u){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}h.labelX=r,h.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var tw=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},rw=function(t,r){var n=r.x-t.x,i=r.y-t.y;return tw(n,i)},jL=function(t,r,n,i){var a=Ss(0,i-.001,1),o=Ss(0,i+.001,1),s=Xa(t,r,n,a),l=Xa(t,r,n,o);return rw(s,l)};Pn.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var o=function(h,f,d){Wn(r.rscratch,h,f,d),Wn(r.rstyle,h,f,d)};o("labelX",null,t.x),o("labelY",null,t.y);var s=tw(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var h=[],f=0;f+5<n.allpts.length;f+=4){var d={x:n.allpts[f],y:n.allpts[f+1]},p={x:n.allpts[f+2],y:n.allpts[f+3]},m={x:n.allpts[f+4],y:n.allpts[f+5]};h.push({p0:d,p1:p,p2:m,startDist:0,length:0,segments:[]})}var v=r.rstyle.bezierPts,y=i.bezierProjPcts.length;function g(w,k,E,A,S){var B=ha(k,E),D=w.segments[w.segments.length-1],I={p0:k,p1:E,t0:A,t1:S,startDist:D?D.startDist+D.length:0,length:B};w.segments.push(I),w.length+=B}for(var b=0;b<h.length;b++){var x=h[b],C=h[b-1];C&&(x.startDist=C.startDist+C.length),g(x,x.p0,v[b*y],0,i.bezierProjPcts[0]);for(var T=0;T<y-1;T++)g(x,v[b*y+T],v[b*y+T+1],i.bezierProjPcts[T],i.bezierProjPcts[T+1]);g(x,v[b*y+y-1],x.p2,i.bezierProjPcts[y-1],1)}return l.cache=h},u=function(h){var f,d=h==="source";if(a[h]){var p=e.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=l(),v,y=0,g=0,b=0;b<m.length;b++){for(var x=m[d?b:m.length-1-b],C=0;C<x.segments.length;C++){var T=x.segments[d?C:x.segments.length-1-C],w=b===m.length-1&&C===x.segments.length-1;if(y=g,g+=T.length,g>=p||w){v={cp:x,segment:T};break}}if(v)break}var k=v.cp,E=v.segment,A=(p-y)/E.length,S=E.t1-E.t0,B=d?E.t0+S*A:E.t1-S*A;B=Ss(0,B,1),t=Xa(k.p0,k.p1,k.p2,B),f=jL(k.p0,k.p1,k.p2,B);break}case"straight":case"segments":case"haystack":{for(var D=0,I,O,F,M,N=n.allpts.length,z=0;z+3<N&&(d?(F={x:n.allpts[z],y:n.allpts[z+1]},M={x:n.allpts[z+2],y:n.allpts[z+3]}):(F={x:n.allpts[N-2-z],y:n.allpts[N-1-z]},M={x:n.allpts[N-4-z],y:n.allpts[N-3-z]}),I=ha(F,M),O=D,D+=I,!(D>=p));z+=2);var U=p-O,$=U/I;$=Ss(0,$,1),t=vA(F,M,$),f=rw(F,M);break}}o("labelX",h,t.x),o("labelY",h,t.y),o("labelAutoAngle",h,f)}};u("source"),u("target"),this.applyLabelDimensions(e)}};Pn.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};Pn.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=ca(n,e._private.labelDimsKey);if(Lr(r.rscratch,"prefixedLabelDimsKey",t)!==i){Wn(r.rscratch,"prefixedLabelDimsKey",t,i);var a=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=Lr(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(l.length,1),c=a.height/u,h=c*o,f=a.width,d=a.height+(u-1)*(o-1)*c;Wn(r.rstyle,"labelWidth",t,f),Wn(r.rscratch,"labelWidth",t,f),Wn(r.rstyle,"labelHeight",t,d),Wn(r.rscratch,"labelHeight",t,d),Wn(r.rscratch,"labelLineHeight",t,h)}};Pn.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,o=function(X,ie){return ie?(Wn(r.rscratch,X,t,ie),ie):Lr(r.rscratch,X,t)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="​",c=i.split(`
`),h=e.pstyle("text-max-width").pfValue,f=e.pstyle("text-overflow-wrap").value,d=f==="anywhere",p=[],m=/[\s\u200b]+|$/g,v=0;v<c.length;v++){var y=c[v],g=this.calculateLabelDimensions(e,y),b=g.width;if(d){var x=y.split("").join(u);y=x}if(b>h){var C=y.matchAll(m),T="",w=0,k=Fr(C),E;try{for(k.s();!(E=k.n()).done;){var A=E.value,S=A[0],B=y.substring(w,A.index);w=A.index+S.length;var D=T.length===0?B:T+B+S,I=this.calculateLabelDimensions(e,D),O=I.width;O<=h?T+=B+S:(T&&p.push(T),T=B+S)}}catch(W){k.e(W)}finally{k.f()}T.match(/^[\s\u200b]+$/)||p.push(T)}else p.push(y)}o("labelWrapCachedLines",p),i=o("labelWrapCachedText",p.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var F=e.pstyle("text-max-width").pfValue,M="",N="…",z=!1;if(this.calculateLabelDimensions(e,i).width<F)return i;for(var U=0;U<i.length;U++){var $=this.calculateLabelDimensions(e,M+i[U]+N).width;if($>F)break;M+=i[U],U===i.length-1&&(z=!0)}return z||(M+=N),M}return i};Pn.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};Pn.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),i=n.document,a=0,o=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue,l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var f=c.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}h.font="".concat(o," ").concat(u," ").concat(s,"px ").concat(l);for(var d=0,p=0,m=t.split(`
`),v=0;v<m.length;v++){var y=m[v],g=h.measureText(y),b=Math.ceil(g.width),x=s;d=Math.max(b,d),p+=x}return d+=a,p+=a,{width:d,height:p}};Pn.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,i=e.isEdge(),a=t?t+"-":"",o=e.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};Pn.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,i=n.rscratch;i.labelAngle=t.calculateLabelAngle(e),r&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var nw={},Iy=28,Oy=!1;nw.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<Iy||e.height()<Iy))return Oy||(lt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Oy=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var Mc={};Mc.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,h=c.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var i=function(o){if(o){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var f=s[h];f(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Mc.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Mc.recalculateRenderedStyle=function(e,t){var r=function(x){return x._private.rstyle.cleanConnected};if(e.length!==0){var n=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var o=e[a],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(b){return!b._private.rstyle.clean&&b.isBundledBezier()})&&(l.clean=!1),!(t&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):n.push(o),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],h=c._private,f=h.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=d.x,f.nodeY=d.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var m=n[p],v=m._private,y=v.rstyle,g=v.rscratch;y.srcX=g.arrowStartX,y.srcY=g.arrowStartY,y.tgtX=g.arrowEndX,y.tgtY=g.arrowEndY,y.midX=g.midX,y.midY=g.midY,y.labelAngle=g.labelAngle,y.sourceLabelAngle=g.sourceLabelAngle,y.targetLabelAngle=g.targetLabelAngle}}}};var Fc={};Fc.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};Fc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Fc.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Nx),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var iw={};[xa,Bu,vr,Js,Kp,Pn,nw,Mc,Fc].forEach(function(e){Ve(iw,e)});var aw={};aw.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[e]=i[e]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=e.substring(0,s.length).toLowerCase()===s;return l||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var Co={};Co.registerBinding=function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(s!==void 0){var l=this.binder(s);a.push(l.on.apply(l,i))}}return a}var l=this.binder(e);return l.on.apply(l,i)};Co.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||aE(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var o=function(l,u,c){var h=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(h[2]={capture:c??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:h}),(e.addEventListener||e.on).apply(e,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Co.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};Co.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};Co.load=function(){var e=this,t=e.cy.window(),r=function(L){return L.selected()},n=function(L){var Q=L.getRootNode();if(Q&&Q.nodeType===11&&Q.host!==void 0)return Q},i=function(L,Q,ae,le){L==null&&(L=e.cy);for(var fe=0;fe<Q.length;fe++){var Ee=Q[fe];L.emit({originalEvent:ae,type:Ee,position:le})}},a=function(L){return L.shiftKey||L.metaKey||L.ctrlKey},o=function(L,Q){var ae=!0;if(e.cy.hasCompoundNodes()&&L&&L.pannable())for(var le=0;Q&&le<Q.length;le++){var L=Q[le];if(L.isNode()&&L.isParent()&&!L.pannable()){ae=!1;break}}else ae=!0;return ae},s=function(L){L[0]._private.grabbed=!0},l=function(L){L[0]._private.grabbed=!1},u=function(L){L[0]._private.rscratch.inDragLayer=!0},c=function(L){L[0]._private.rscratch.inDragLayer=!1},h=function(L){L[0]._private.rscratch.isGrabTarget=!0},f=function(L){L[0]._private.rscratch.isGrabTarget=!1},d=function(L,Q){var ae=Q.addToList,le=ae.has(L);!le&&L.grabbable()&&!L.locked()&&(ae.merge(L),s(L))},p=function(L,Q){if(L.cy().hasCompoundNodes()&&!(Q.inDragLayer==null&&Q.addToList==null)){var ae=L.descendants();Q.inDragLayer&&(ae.forEach(u),ae.connectedEdges().forEach(u)),Q.addToList&&d(ae,Q)}},m=function(L,Q){Q=Q||{};var ae=L.cy().hasCompoundNodes();Q.inDragLayer&&(L.forEach(u),L.neighborhood().stdFilter(function(le){return!ae||le.isEdge()}).forEach(u)),Q.addToList&&L.forEach(function(le){d(le,Q)}),p(L,Q),g(L,{inDragLayer:Q.inDragLayer}),e.updateCachedGrabbedEles()},v=m,y=function(L){L&&(e.getCachedZSortedEles().forEach(function(Q){l(Q),c(Q),f(Q)}),e.updateCachedGrabbedEles())},g=function(L,Q){if(!(Q.inDragLayer==null&&Q.addToList==null)&&L.cy().hasCompoundNodes()){var ae=L.ancestors().orphans();if(!ae.same(L)){var le=ae.descendants().spawnSelf().merge(ae).unmerge(L).unmerge(L.descendants()),fe=le.connectedEdges();Q.inDragLayer&&(fe.forEach(u),le.forEach(u)),Q.addToList&&le.forEach(function(Ee){d(Ee,Q)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",C=typeof ResizeObserver<"u";x?(e.removeObserver=new MutationObserver(function(ue){for(var L=0;L<ue.length;L++){var Q=ue[L],ae=Q.removedNodes;if(ae)for(var le=0;le<ae.length;le++){var fe=ae[le];if(fe===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(ue){e.destroy()});var T=Ys(function(){e.cy.resize()},100);x&&(e.styleObserver=new MutationObserver(T),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",T),C&&(e.resizeObserver=new ResizeObserver(T),e.resizeObserver.observe(e.container));var w=function(L,Q){for(;L!=null;)Q(L),L=L.parentNode},k=function(){e.invalidateContainerClientCoordsCache()};w(e.container,function(ue){e.registerBinding(ue,"transitionend",k),e.registerBinding(ue,"animationend",k),e.registerBinding(ue,"scroll",k)}),e.registerBinding(e.container,"contextmenu",function(ue){ue.preventDefault()});var E=function(){return e.selection[4]!==0},A=function(L){for(var Q=e.findContainerClientCoords(),ae=Q[0],le=Q[1],fe=Q[2],Ee=Q[3],ye=L.touches?L.touches:[L],Re=!1,Le=0;Le<ye.length;Le++){var Se=ye[Le];if(ae<=Se.clientX&&Se.clientX<=ae+fe&&le<=Se.clientY&&Se.clientY<=le+Ee){Re=!0;break}}if(!Re)return!1;for(var Ge=e.container,je=L.target,Me=je.parentNode,Ye=!1;Me;){if(Me===Ge){Ye=!0;break}Me=Me.parentNode}return!!Ye};e.registerBinding(e.container,"mousedown",function(L){if(A(L)&&!(e.hoverData.which===1&&L.which!==1)){L.preventDefault(),b(),e.hoverData.capture=!0,e.hoverData.which=L.which;var Q=e.cy,ae=[L.clientX,L.clientY],le=e.projectIntoViewport(ae[0],ae[1]),fe=e.selection,Ee=e.findNearestElements(le[0],le[1],!0,!1),ye=Ee[0],Re=e.dragData.possibleDragElements;e.hoverData.mdownPos=le,e.hoverData.mdownGPos=ae;var Le=function(Xe){return{originalEvent:L,type:Xe,position:{x:le[0],y:le[1]}}},Se=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Xe=e.hoverData.down;Xe?Xe.emit(Le("taphold")):Q.emit(Le("taphold"))}},e.tapholdDuration)};if(L.which==3){e.hoverData.cxtStarted=!0;var Ge={originalEvent:L,type:"cxttapstart",position:{x:le[0],y:le[1]}};ye?(ye.activate(),ye.emit(Ge),e.hoverData.down=ye):Q.emit(Ge),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(L.which==1){ye&&ye.activate();{if(ye!=null&&e.nodeIsGrabbable(ye)){var je=function(Xe){Xe.emit(Le("grab"))};if(h(ye),!ye.selected())Re=e.dragData.possibleDragElements=Q.collection(),v(ye,{addToList:Re}),ye.emit(Le("grabon")).emit(Le("grab"));else{Re=e.dragData.possibleDragElements=Q.collection();var Me=Q.$(function(Ye){return Ye.isNode()&&Ye.selected()&&e.nodeIsGrabbable(Ye)});m(Me,{addToList:Re}),ye.emit(Le("grabon")),Me.forEach(je)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=ye,e.hoverData.downs=Ee,e.hoverData.downTime=new Date().getTime()}i(ye,["mousedown","tapstart","vmousedown"],L,{x:le[0],y:le[1]}),ye==null?(fe[4]=1,e.data.bgActivePosistion={x:le[0],y:le[1]},e.redrawHint("select",!0),e.redraw()):ye.pannable()&&(fe[4]=1),Se()}fe[0]=fe[2]=le[0],fe[1]=fe[3]=le[1]}},!1);var S=n(e.container);e.registerBinding([t,S],"mousemove",function(L){var Q=e.hoverData.capture;if(!(!Q&&!A(L))){var ae=!1,le=e.cy,fe=le.zoom(),Ee=[L.clientX,L.clientY],ye=e.projectIntoViewport(Ee[0],Ee[1]),Re=e.hoverData.mdownPos,Le=e.hoverData.mdownGPos,Se=e.selection,Ge=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Ge=e.findNearestElement(ye[0],ye[1],!0,!1));var je=e.hoverData.last,Me=e.hoverData.down,Ye=[ye[0]-Se[2],ye[1]-Se[3]],Xe=e.dragData.possibleDragElements,Dt;if(Le){var _t=Ee[0]-Le[0],Yt=_t*_t,Et=Ee[1]-Le[1],Ot=Et*Et,at=Yt+Ot;e.hoverData.isOverThresholdDrag=Dt=at>=e.desktopTapThreshold2}var Mt=a(L);Dt&&(e.hoverData.tapholdCancelled=!0);var tn=function(){var j=e.hoverData.dragDelta=e.hoverData.dragDelta||[];j.length===0?(j.push(Ye[0]),j.push(Ye[1])):(j[0]+=Ye[0],j[1]+=Ye[1])};ae=!0,i(Ge,["mousemove","vmousemove","tapdrag"],L,{x:ye[0],y:ye[1]});var At=function(j){return{originalEvent:L,type:j,position:{x:ye[0],y:ye[1]}}},Hr=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||le.emit(At("boxstart")),Se[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Dt){var Wr=At("cxtdrag");Me?Me.emit(Wr):le.emit(Wr),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Ge!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(At("cxtdragout")),e.hoverData.cxtOver=Ge,Ge&&Ge.emit(At("cxtdragover")))}}else if(e.hoverData.dragging){if(ae=!0,le.panningEnabled()&&le.userPanningEnabled()){var ar;if(e.hoverData.justStartedPan){var Ni=e.hoverData.mdownPos;ar={x:(ye[0]-Ni[0])*fe,y:(ye[1]-Ni[1])*fe},e.hoverData.justStartedPan=!1}else ar={x:Ye[0]*fe,y:Ye[1]*fe};le.panBy(ar),le.emit(At("dragpan")),e.hoverData.dragged=!0}ye=e.projectIntoViewport(L.clientX,L.clientY)}else if(Se[4]==1&&(Me==null||Me.pannable())){if(Dt){if(!e.hoverData.dragging&&le.boxSelectionEnabled()&&(Mt||!le.panningEnabled()||!le.userPanningEnabled()))Hr();else if(!e.hoverData.selecting&&le.panningEnabled()&&le.userPanningEnabled()){var vn=o(Me,e.hoverData.downs);vn&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Se[4]=0,e.data.bgActivePosistion=$a(Re),e.redrawHint("select",!0),e.redraw())}Me&&Me.pannable()&&Me.active()&&Me.unactivate()}}else{if(Me&&Me.pannable()&&Me.active()&&Me.unactivate(),(!Me||!Me.grabbed())&&Ge!=je&&(je&&i(je,["mouseout","tapdragout"],L,{x:ye[0],y:ye[1]}),Ge&&i(Ge,["mouseover","tapdragover"],L,{x:ye[0],y:ye[1]}),e.hoverData.last=Ge),Me)if(Dt){if(le.boxSelectionEnabled()&&Mt)Me&&Me.grabbed()&&(y(Xe),Me.emit(At("freeon")),Xe.emit(At("free")),e.dragData.didDrag&&(Me.emit(At("dragfreeon")),Xe.emit(At("dragfree")))),Hr();else if(Me&&Me.grabbed()&&e.nodeIsDraggable(Me)){var er=!e.dragData.didDrag;er&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||m(Xe,{inDragLayer:!0});var Ht={x:0,y:0};if(Ce(Ye[0])&&Ce(Ye[1])&&(Ht.x+=Ye[0],Ht.y+=Ye[1],er)){var or=e.hoverData.dragDelta;or&&Ce(or[0])&&Ce(or[1])&&(Ht.x+=or[0],Ht.y+=or[1])}e.hoverData.draggingEles=!0,Xe.silentShift(Ht).emit(At("position")).emit(At("drag")),e.redrawHint("drag",!0),e.redraw()}}else tn();ae=!0}if(Se[2]=ye[0],Se[3]=ye[1],ae)return L.stopPropagation&&L.stopPropagation(),L.preventDefault&&L.preventDefault(),!1}},!1);var B,D,I;e.registerBinding(t,"mouseup",function(L){if(!(e.hoverData.which===1&&L.which!==1&&e.hoverData.capture)){var Q=e.hoverData.capture;if(Q){e.hoverData.capture=!1;var ae=e.cy,le=e.projectIntoViewport(L.clientX,L.clientY),fe=e.selection,Ee=e.findNearestElement(le[0],le[1],!0,!1),ye=e.dragData.possibleDragElements,Re=e.hoverData.down,Le=a(L);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Re&&Re.unactivate();var Se=function(_t){return{originalEvent:L,type:_t,position:{x:le[0],y:le[1]}}};if(e.hoverData.which===3){var Ge=Se("cxttapend");if(Re?Re.emit(Ge):ae.emit(Ge),!e.hoverData.cxtDragged){var je=Se("cxttap");Re?Re.emit(je):ae.emit(je)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(i(Ee,["mouseup","tapend","vmouseup"],L,{x:le[0],y:le[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(i(Re,["click","tap","vclick"],L,{x:le[0],y:le[1]}),D=!1,L.timeStamp-I<=ae.multiClickDebounceTime()?(B&&clearTimeout(B),D=!0,I=null,i(Re,["dblclick","dbltap","vdblclick"],L,{x:le[0],y:le[1]})):(B=setTimeout(function(){D||i(Re,["oneclick","onetap","voneclick"],L,{x:le[0],y:le[1]})},ae.multiClickDebounceTime()),I=L.timeStamp)),Re==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!a(L)&&(ae.$(r).unselect(["tapunselect"]),ye.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ye=ae.collection()),Ee==Re&&!e.dragData.didDrag&&!e.hoverData.selecting&&Ee!=null&&Ee._private.selectable&&(e.hoverData.dragging||(ae.selectionType()==="additive"||Le?Ee.selected()?Ee.unselect(["tapunselect"]):Ee.select(["tapselect"]):Le||(ae.$(r).unmerge(Ee).unselect(["tapunselect"]),Ee.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Me=ae.collection(e.getAllInBox(fe[0],fe[1],fe[2],fe[3]));e.redrawHint("select",!0),Me.length>0&&e.redrawHint("eles",!0),ae.emit(Se("boxend"));var Ye=function(_t){return _t.selectable()&&!_t.selected()};ae.selectionType()==="additive"||Le||ae.$(r).unmerge(Me).unselect(),Me.emit(Se("box")).stdFilter(Ye).select().emit(Se("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!fe[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Xe=Re&&Re.grabbed();y(ye),Xe&&(Re.emit(Se("freeon")),ye.emit(Se("free")),e.dragData.didDrag&&(Re.emit(Se("dragfreeon")),ye.emit(Se("dragfree"))))}}fe[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var O=[],F=4,M,N=1e5,z=function(L,Q){for(var ae=0;ae<L.length;ae++)if(L[ae]%Q!==0)return!1;return!0},U=function(L){for(var Q=Math.abs(L[0]),ae=1;ae<L.length;ae++)if(Math.abs(L[ae])!==Q)return!1;return!0},$=function(L){var Q=!1,ae=L.deltaY;if(ae==null&&(L.wheelDeltaY!=null?ae=L.wheelDeltaY/4:L.wheelDelta!=null&&(ae=L.wheelDelta/4)),ae!==0){if(M==null)if(O.length>=F){var le=O;if(M=z(le,5),!M){var fe=Math.abs(le[0]);M=U(le)&&fe>5}if(M)for(var Ee=0;Ee<le.length;Ee++)N=Math.min(Math.abs(le[Ee]),N)}else O.push(ae),Q=!0;else M&&(N=Math.min(Math.abs(ae),N));if(!e.scrollingPage){var ye=e.cy,Re=ye.zoom(),Le=ye.pan(),Se=e.projectIntoViewport(L.clientX,L.clientY),Ge=[Se[0]*Re+Le.x,Se[1]*Re+Le.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||E()){L.preventDefault();return}if(ye.panningEnabled()&&ye.userPanningEnabled()&&ye.zoomingEnabled()&&ye.userZoomingEnabled()){L.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var je;Q&&Math.abs(ae)>5&&(ae=Pp(ae)*5),je=ae/-250,M&&(je/=N,je*=3),je=je*e.wheelSensitivity;var Me=L.deltaMode===1;Me&&(je*=33);var Ye=ye.zoom()*Math.pow(10,je);L.type==="gesturechange"&&(Ye=e.gestureStartZoom*L.scale),ye.zoom({level:Ye,renderedPosition:{x:Ge[0],y:Ge[1]}}),ye.emit({type:L.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:L,position:{x:Se[0],y:Se[1]}})}}}};e.registerBinding(e.container,"wheel",$,!0),e.registerBinding(t,"scroll",function(L){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(L){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||L.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(ue){e.hasTouchStarted||$(ue)},!0),e.registerBinding(e.container,"mouseout",function(L){var Q=e.projectIntoViewport(L.clientX,L.clientY);e.cy.emit({originalEvent:L,type:"mouseout",position:{x:Q[0],y:Q[1]}})},!1),e.registerBinding(e.container,"mouseover",function(L){var Q=e.projectIntoViewport(L.clientX,L.clientY);e.cy.emit({originalEvent:L,type:"mouseover",position:{x:Q[0],y:Q[1]}})},!1);var W,X,ie,Y,oe,ce,ve,se,G,K,_,P,V,ee=function(L,Q,ae,le){return Math.sqrt((ae-L)*(ae-L)+(le-Q)*(le-Q))},q=function(L,Q,ae,le){return(ae-L)*(ae-L)+(le-Q)*(le-Q)},H;e.registerBinding(e.container,"touchstart",H=function(L){if(e.hasTouchStarted=!0,!!A(L)){b(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var Q=e.cy,ae=e.touchData.now,le=e.touchData.earlier;if(L.touches[0]){var fe=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ae[0]=fe[0],ae[1]=fe[1]}if(L.touches[1]){var fe=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ae[2]=fe[0],ae[3]=fe[1]}if(L.touches[2]){var fe=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ae[4]=fe[0],ae[5]=fe[1]}var Ee=function(Mt){return{originalEvent:L,type:Mt,position:{x:ae[0],y:ae[1]}}};if(L.touches[1]){e.touchData.singleTouchMoved=!0,y(e.dragData.touchDragEles);var ye=e.findContainerClientCoords();G=ye[0],K=ye[1],_=ye[2],P=ye[3],W=L.touches[0].clientX-G,X=L.touches[0].clientY-K,ie=L.touches[1].clientX-G,Y=L.touches[1].clientY-K,V=0<=W&&W<=_&&0<=ie&&ie<=_&&0<=X&&X<=P&&0<=Y&&Y<=P;var Re=Q.pan(),Le=Q.zoom();oe=ee(W,X,ie,Y),ce=q(W,X,ie,Y),ve=[(W+ie)/2,(X+Y)/2],se=[(ve[0]-Re.x)/Le,(ve[1]-Re.y)/Le];var Se=200,Ge=Se*Se;if(ce<Ge&&!L.touches[2]){var je=e.findNearestElement(ae[0],ae[1],!0,!0),Me=e.findNearestElement(ae[2],ae[3],!0,!0);je&&je.isNode()?(je.activate().emit(Ee("cxttapstart")),e.touchData.start=je):Me&&Me.isNode()?(Me.activate().emit(Ee("cxttapstart")),e.touchData.start=Me):Q.emit(Ee("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(L.touches[2])Q.boxSelectionEnabled()&&L.preventDefault();else if(!L.touches[1]){if(L.touches[0]){var Ye=e.findNearestElements(ae[0],ae[1],!0,!0),Xe=Ye[0];if(Xe!=null&&(Xe.activate(),e.touchData.start=Xe,e.touchData.starts=Ye,e.nodeIsGrabbable(Xe))){var Dt=e.dragData.touchDragEles=Q.collection(),_t=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Xe.selected()?(_t=Q.$(function(at){return at.selected()&&e.nodeIsGrabbable(at)}),m(_t,{addToList:Dt})):v(Xe,{addToList:Dt}),h(Xe),Xe.emit(Ee("grabon")),_t?_t.forEach(function(at){at.emit(Ee("grab"))}):Xe.emit(Ee("grab"))}i(Xe,["touchstart","tapstart","vmousedown"],L,{x:ae[0],y:ae[1]}),Xe==null&&(e.data.bgActivePosistion={x:fe[0],y:fe[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&i(e.touchData.start,["taphold"],L,{x:ae[0],y:ae[1]})},e.tapholdDuration)}}if(L.touches.length>=1){for(var Yt=e.touchData.startPosition=[null,null,null,null,null,null],Et=0;Et<ae.length;Et++)Yt[Et]=le[Et]=ae[Et];var Ot=L.touches[0];e.touchData.startGPosition=[Ot.clientX,Ot.clientY]}}},!1);var Z;e.registerBinding(t,"touchmove",Z=function(L){var Q=e.touchData.capture;if(!(!Q&&!A(L))){var ae=e.selection,le=e.cy,fe=e.touchData.now,Ee=e.touchData.earlier,ye=le.zoom();if(L.touches[0]){var Re=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);fe[0]=Re[0],fe[1]=Re[1]}if(L.touches[1]){var Re=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);fe[2]=Re[0],fe[3]=Re[1]}if(L.touches[2]){var Re=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);fe[4]=Re[0],fe[5]=Re[1]}var Le=function(fk){return{originalEvent:L,type:fk,position:{x:fe[0],y:fe[1]}}},Se=e.touchData.startGPosition,Ge;if(Q&&L.touches[0]&&Se){for(var je=[],Me=0;Me<fe.length;Me++)je[Me]=fe[Me]-Ee[Me];var Ye=L.touches[0].clientX-Se[0],Xe=Ye*Ye,Dt=L.touches[0].clientY-Se[1],_t=Dt*Dt,Yt=Xe+_t;Ge=Yt>=e.touchTapThreshold2}if(Q&&e.touchData.cxt){L.preventDefault();var Et=L.touches[0].clientX-G,Ot=L.touches[0].clientY-K,at=L.touches[1].clientX-G,Mt=L.touches[1].clientY-K,tn=q(Et,Ot,at,Mt),At=tn/ce,Hr=150,Wr=Hr*Hr,ar=1.5,Ni=ar*ar;if(At>=Ni||tn>=Wr){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var vn=Le("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(vn),e.touchData.start=null):le.emit(vn)}}if(Q&&e.touchData.cxt){var vn=Le("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(vn):le.emit(vn),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var er=e.findNearestElement(fe[0],fe[1],!0,!0);(!e.touchData.cxtOver||er!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(Le("cxtdragout")),e.touchData.cxtOver=er,er&&er.emit(Le("cxtdragover")))}else if(Q&&L.touches[2]&&le.boxSelectionEnabled())L.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||le.emit(Le("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,ae[4]=1,!ae||ae.length===0||ae[0]===void 0?(ae[0]=(fe[0]+fe[2]+fe[4])/3,ae[1]=(fe[1]+fe[3]+fe[5])/3,ae[2]=(fe[0]+fe[2]+fe[4])/3+1,ae[3]=(fe[1]+fe[3]+fe[5])/3+1):(ae[2]=(fe[0]+fe[2]+fe[4])/3,ae[3]=(fe[1]+fe[3]+fe[5])/3),e.redrawHint("select",!0),e.redraw();else if(Q&&L.touches[1]&&!e.touchData.didSelect&&le.zoomingEnabled()&&le.panningEnabled()&&le.userZoomingEnabled()&&le.userPanningEnabled()){L.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ht=e.dragData.touchDragEles;if(Ht){e.redrawHint("drag",!0);for(var or=0;or<Ht.length;or++){var Fe=Ht[or]._private;Fe.grabbed=!1,Fe.rscratch.inDragLayer=!1}}var j=e.touchData.start,Et=L.touches[0].clientX-G,Ot=L.touches[0].clientY-K,at=L.touches[1].clientX-G,Mt=L.touches[1].clientY-K,we=ee(Et,Ot,at,Mt),Pe=we/oe;if(V){var ct=Et-W,Xt=Ot-X,Wt=at-ie,sr=Mt-Y,Ur=(ct+Wt)/2,$i=(Xt+sr)/2,Rt=le.zoom(),Sa=Rt*Pe,zi=le.pan(),Wv=se[0]*Rt+zi.x,Uv=se[1]*Rt+zi.y,ck={x:-Sa/Rt*(Wv-zi.x-Ur)+Wv,y:-Sa/Rt*(Uv-zi.y-$i)+Uv};if(j&&j.active()){var Ht=e.dragData.touchDragEles;y(Ht),e.redrawHint("drag",!0),e.redrawHint("eles",!0),j.unactivate().emit(Le("freeon")),Ht.emit(Le("free")),e.dragData.didDrag&&(j.emit(Le("dragfreeon")),Ht.emit(Le("dragfree")))}le.viewport({zoom:Sa,pan:ck,cancelOnFailedZoom:!0}),le.emit(Le("pinchzoom")),oe=we,W=Et,X=Ot,ie=at,Y=Mt,e.pinching=!0}if(L.touches[0]){var Re=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);fe[0]=Re[0],fe[1]=Re[1]}if(L.touches[1]){var Re=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);fe[2]=Re[0],fe[3]=Re[1]}if(L.touches[2]){var Re=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);fe[4]=Re[0],fe[5]=Re[1]}}else if(L.touches[0]&&!e.touchData.didSelect){var rn=e.touchData.start,th=e.touchData.last,er;if(!e.hoverData.draggingEles&&!e.swipePanning&&(er=e.findNearestElement(fe[0],fe[1],!0,!0)),Q&&rn!=null&&L.preventDefault(),Q&&rn!=null&&e.nodeIsDraggable(rn))if(Ge){var Ht=e.dragData.touchDragEles,Gv=!e.dragData.didDrag;Gv&&m(Ht,{inDragLayer:!0}),e.dragData.didDrag=!0;var Eo={x:0,y:0};if(Ce(je[0])&&Ce(je[1])&&(Eo.x+=je[0],Eo.y+=je[1],Gv)){e.redrawHint("eles",!0);var nn=e.touchData.dragDelta;nn&&Ce(nn[0])&&Ce(nn[1])&&(Eo.x+=nn[0],Eo.y+=nn[1])}e.hoverData.draggingEles=!0,Ht.silentShift(Eo).emit(Le("position")).emit(Le("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Ee[0]&&e.touchData.startPosition[1]==Ee[1]&&e.redrawHint("eles",!0),e.redraw()}else{var nn=e.touchData.dragDelta=e.touchData.dragDelta||[];nn.length===0?(nn.push(je[0]),nn.push(je[1])):(nn[0]+=je[0],nn[1]+=je[1])}if(i(rn||er,["touchmove","tapdrag","vmousemove"],L,{x:fe[0],y:fe[1]}),(!rn||!rn.grabbed())&&er!=th&&(th&&th.emit(Le("tapdragout")),er&&er.emit(Le("tapdragover"))),e.touchData.last=er,Q)for(var or=0;or<fe.length;or++)fe[or]&&e.touchData.startPosition[or]&&Ge&&(e.touchData.singleTouchMoved=!0);if(Q&&(rn==null||rn.pannable())&&le.panningEnabled()&&le.userPanningEnabled()){var hk=o(rn,e.touchData.starts);hk&&(L.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=$a(e.touchData.startPosition)),e.swipePanning?(le.panBy({x:je[0]*ye,y:je[1]*ye}),le.emit(Le("dragpan"))):Ge&&(e.swipePanning=!0,le.panBy({x:Ye*ye,y:Dt*ye}),le.emit(Le("dragpan")),rn&&(rn.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Re=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);fe[0]=Re[0],fe[1]=Re[1]}}for(var Me=0;Me<fe.length;Me++)Ee[Me]=fe[Me];Q&&L.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var ne;e.registerBinding(t,"touchcancel",ne=function(L){var Q=e.touchData.start;e.touchData.capture=!1,Q&&Q.unactivate()});var te,re,ge,pe;if(e.registerBinding(t,"touchend",te=function(L){var Q=e.touchData.start,ae=e.touchData.capture;if(ae)L.touches.length===0&&(e.touchData.capture=!1),L.preventDefault();else return;var le=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var fe=e.cy,Ee=fe.zoom(),ye=e.touchData.now,Re=e.touchData.earlier;if(L.touches[0]){var Le=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ye[0]=Le[0],ye[1]=Le[1]}if(L.touches[1]){var Le=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ye[2]=Le[0],ye[3]=Le[1]}if(L.touches[2]){var Le=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ye[4]=Le[0],ye[5]=Le[1]}var Se=function(Wr){return{originalEvent:L,type:Wr,position:{x:ye[0],y:ye[1]}}};Q&&Q.unactivate();var Ge;if(e.touchData.cxt){if(Ge=Se("cxttapend"),Q?Q.emit(Ge):fe.emit(Ge),!e.touchData.cxtDragged){var je=Se("cxttap");Q?Q.emit(je):fe.emit(je)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!L.touches[2]&&fe.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Me=fe.collection(e.getAllInBox(le[0],le[1],le[2],le[3]));le[0]=void 0,le[1]=void 0,le[2]=void 0,le[3]=void 0,le[4]=0,e.redrawHint("select",!0),fe.emit(Se("boxend"));var Ye=function(Wr){return Wr.selectable()&&!Wr.selected()};Me.emit(Se("box")).stdFilter(Ye).select().emit(Se("boxselect")),Me.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(Q!=null&&Q.unactivate(),L.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!L.touches[1]){if(!L.touches[0]){if(!L.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Xe=e.dragData.touchDragEles;if(Q!=null){var Dt=Q._private.grabbed;y(Xe),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Dt&&(Q.emit(Se("freeon")),Xe.emit(Se("free")),e.dragData.didDrag&&(Q.emit(Se("dragfreeon")),Xe.emit(Se("dragfree")))),i(Q,["touchend","tapend","vmouseup","tapdragout"],L,{x:ye[0],y:ye[1]}),Q.unactivate(),e.touchData.start=null}else{var _t=e.findNearestElement(ye[0],ye[1],!0,!0);i(_t,["touchend","tapend","vmouseup","tapdragout"],L,{x:ye[0],y:ye[1]})}var Yt=e.touchData.startPosition[0]-ye[0],Et=Yt*Yt,Ot=e.touchData.startPosition[1]-ye[1],at=Ot*Ot,Mt=Et+at,tn=Mt*Ee*Ee;e.touchData.singleTouchMoved||(Q||fe.$(":selected").unselect(["tapunselect"]),i(Q,["tap","vclick"],L,{x:ye[0],y:ye[1]}),re=!1,L.timeStamp-pe<=fe.multiClickDebounceTime()?(ge&&clearTimeout(ge),re=!0,pe=null,i(Q,["dbltap","vdblclick"],L,{x:ye[0],y:ye[1]})):(ge=setTimeout(function(){re||i(Q,["onetap","voneclick"],L,{x:ye[0],y:ye[1]})},fe.multiClickDebounceTime()),pe=L.timeStamp)),Q!=null&&!e.dragData.didDrag&&Q._private.selectable&&tn<e.touchTapThreshold2&&!e.pinching&&(fe.selectionType()==="single"?(fe.$(r).unmerge(Q).unselect(["tapunselect"]),Q.select(["tapselect"])):Q.selected()?Q.unselect(["tapunselect"]):Q.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var At=0;At<ye.length;At++)Re[At]=ye[At];e.dragData.didDrag=!1,L.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),L.touches.length<2&&(L.touches.length===1&&(e.touchData.startGPosition=[L.touches[0].clientX,L.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var me=[],xe=function(L){return{clientX:L.clientX,clientY:L.clientY,force:1,identifier:L.pointerId,pageX:L.pageX,pageY:L.pageY,radiusX:L.width/2,radiusY:L.height/2,screenX:L.screenX,screenY:L.screenY,target:L.target}},_e=function(L){return{event:L,touch:xe(L)}},Ie=function(L){me.push(_e(L))},De=function(L){for(var Q=0;Q<me.length;Q++){var ae=me[Q];if(ae.event.pointerId===L.pointerId){me.splice(Q,1);return}}},He=function(L){var Q=me.filter(function(ae){return ae.event.pointerId===L.pointerId})[0];Q.event=L,Q.touch=xe(L)},Ae=function(L){L.touches=me.map(function(Q){return Q.touch})},Te=function(L){return L.pointerType==="mouse"||L.pointerType===4};e.registerBinding(e.container,"pointerdown",function(ue){Te(ue)||(ue.preventDefault(),Ie(ue),Ae(ue),H(ue))}),e.registerBinding(e.container,"pointerup",function(ue){Te(ue)||(De(ue),Ae(ue),te(ue))}),e.registerBinding(e.container,"pointercancel",function(ue){Te(ue)||(De(ue),Ae(ue),ne(ue))}),e.registerBinding(e.container,"pointermove",function(ue){Te(ue)||(ue.preventDefault(),He(ue),Ae(ue),Z(ue))})}};var ri={};ri.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,i,a,o,s,l){this.renderer.nodeShapeImpl("polygon",n,i,a,o,s,this.points)},intersectLine:function(n,i,a,o,s,l,u,c){return Es(s,l,this.points,n,i,a/2,o/2,u)},checkPoint:function(n,i,a,o,s,l,u,c){return Jn(n,i,this.points,l,u,o,s,[0,-1],a)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,i,a,o,s,l){return wA(this.points,n,i,a,o,s)}}};ri.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a)},intersectLine:function(t,r,n,i,a,o,s,l){return BA(a,o,t,r,n/2+s,i/2+s)},checkPoint:function(t,r,n,i,a,o,s,l){return Ji(t,r,i,a,o,s,n)}}};ri.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,i,a,o,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var c=a/2,h=o/2;s=s==="auto"?ox(a,o):s;for(var f=new Array(t.length/2),d=0;d<t.length/2;d++)f[d]={x:n+c*t[d*2],y:i+h*t[d*2+1]};var p,m,v,y,g=f.length;for(m=f[g-1],p=0;p<g;p++)v=f[p%g],y=f[(p+1)%g],l[u][p]=jp(m,v,y,s),m=v,v=y;return l[u]},draw:function(n,i,a,o,s,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,o,s,this.points,this.getOrCreateCorners(i,a,o,s,l,u,"drawCorners"))},intersectLine:function(n,i,a,o,s,l,u,c,h){return DA(s,l,this.points,n,i,a,o,u,this.getOrCreateCorners(n,i,a,o,c,h,"corners"))},checkPoint:function(n,i,a,o,s,l,u,c,h){return AA(n,i,this.points,l,u,o,s,this.getOrCreateCorners(l,u,o,s,c,h,"corners"))}}};ri.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:br(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,this.points,o)},intersectLine:function(t,r,n,i,a,o,s,l){return ix(a,o,t,r,n,i,s,l)},checkPoint:function(t,r,n,i,a,o,s,l){var u=i/2,c=a/2;l=l==="auto"?ki(i,a):l,l=Math.min(u,c,l);var h=l*2;return!!(Jn(t,r,this.points,o,s,i,a-h,[0,-1],n)||Jn(t,r,this.points,o,s,i-h,a,[0,-1],n)||Ji(t,r,h,h,o-u+l,s-c+l,n)||Ji(t,r,h,h,o+u-l,s-c+l,n)||Ji(t,r,h,h,o+u-l,s+c-l,n)||Ji(t,r,h,h,o-u+l,s+c-l,n))}}};ri.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Ip(),points:br(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,null,o)},generateCutTrianglePts:function(t,r,n,i,a){var o=a==="auto"?this.cornerLength:a,s=r/2,l=t/2,u=n-l,c=n+l,h=i-s,f=i+s;return{topLeft:[u,h+o,u+o,h,u+o,h+o],topRight:[c-o,h,c,h+o,c-o,h+o],bottomRight:[c,f-o,c-o,f,c-o,f-o],bottomLeft:[u+o,f,u,f-o,u+o,f-o]}},intersectLine:function(t,r,n,i,a,o,s,l){var u=this.generateCutTrianglePts(n+2*s,i+2*s,t,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Es(a,o,c,t,r)},checkPoint:function(t,r,n,i,a,o,s,l){var u=l==="auto"?this.cornerLength:l;if(Jn(t,r,this.points,o,s,i,a-2*u,[0,-1],n)||Jn(t,r,this.points,o,s,i-2*u,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,o,s);return Dr(t,r,c.topLeft)||Dr(t,r,c.topRight)||Dr(t,r,c.bottomRight)||Dr(t,r,c.bottomLeft)}}};ri.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:br(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a)},intersectLine:function(t,r,n,i,a,o,s,l){var u=.15,c=.5,h=.85,f=this.generateBarrelBezierPts(n+2*s,i+2*s,t,r),d=function(v){var y=Xa({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},u),g=Xa({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},c),b=Xa({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},h);return[v[0],v[1],y.x,y.y,g.x,g.y,b.x,b.y,v[4],v[5]]},p=[].concat(d(f.topLeft),d(f.topRight),d(f.bottomRight),d(f.bottomLeft));return Es(a,o,p,t,r)},generateBarrelBezierPts:function(t,r,n,i){var a=r/2,o=t/2,s=n-o,l=n+o,u=i-a,c=i+a,h=Td(t,r),f=h.heightOffset,d=h.widthOffset,p=h.ctrlPtOffsetPct*t,m={topLeft:[s,u+f,s+p,u,s+d,u],topRight:[l-d,u,l-p,u,l,u+f],bottomRight:[l,c-f,l-p,c,l-d,c],bottomLeft:[s+d,c,s+p,c,s,c-f]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(t,r,n,i,a,o,s,l){var u=Td(i,a),c=u.heightOffset,h=u.widthOffset;if(Jn(t,r,this.points,o,s,i,a-2*c,[0,-1],n)||Jn(t,r,this.points,o,s,i-2*h,a,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(i,a,o,s),d=function(k,E,A){var S=A[4],B=A[2],D=A[0],I=A[5],O=A[1],F=Math.min(S,D),M=Math.max(S,D),N=Math.min(I,O),z=Math.max(I,O);if(F<=k&&k<=M&&N<=E&&E<=z){var U=MA(S,B,D),$=kA(U[0],U[1],U[2],k),W=$.filter(function(X){return 0<=X&&X<=1});if(W.length>0)return W[0]}return null},p=Object.keys(f),m=0;m<p.length;m++){var v=p[m],y=f[v],g=d(t,r,y);if(g!=null){var b=y[5],x=y[3],C=y[1],T=Zt(b,x,C,g);if(y.isTop&&T<=r||y.isBottom&&r<=T)return!0}}return!1}}};ri.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:br(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,this.points,o)},intersectLine:function(t,r,n,i,a,o,s,l){var u=t-(n/2+s),c=r-(i/2+s),h=c,f=t+(n/2+s),d=pi(a,o,t,r,u,c,f,h,!1);return d.length>0?d:ix(a,o,t,r,n,i,s,l)},checkPoint:function(t,r,n,i,a,o,s,l){l=l==="auto"?ki(i,a):l;var u=2*l;if(Jn(t,r,this.points,o,s,i,a-u,[0,-1],n)||Jn(t,r,this.points,o,s,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,h=a/2+2*n,f=[o-c,s-h,o-c,s,o+c,s,o+c,s-h];return!!(Dr(t,r,f)||Ji(t,r,u,u,o+i/2-l,s+a/2-l,n)||Ji(t,r,u,u,o-i/2+l,s+a/2-l,n))}}};ri.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",br(3,0)),this.generateRoundPolygon("round-triangle",br(3,0)),this.generatePolygon("rectangle",br(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",br(5,0)),this.generateRoundPolygon("round-pentagon",br(5,0)),this.generatePolygon("hexagon",br(6,0)),this.generateRoundPolygon("round-hexagon",br(6,0)),this.generatePolygon("heptagon",br(7,0)),this.generateRoundPolygon("round-heptagon",br(7,0)),this.generatePolygon("octagon",br(8,0)),this.generateRoundPolygon("round-octagon",br(8,0));var n=new Array(20);{var i=Cd(5,0),a=Cd(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=a[s*2],n[s*4+3]=a[s*2+1]}n=ax(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}e.makePolygon=function(u){var c=u.join("$"),h="polygon-"+c,f;return(f=this[h])?f:t.generatePolygon(h,u)}};var el={};el.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};el.redraw=function(e){e=e||ex();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};el.beforeRender=function(e,t){if(!this.destroyed){t==null&&St("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,i){return i.priority-n.priority})}};var Ny=function(t,r,n){for(var i=t.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};el.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){Ny(e,!0,i);var a=Qn();e.render(e.renderOptions);var o=e.lastDrawTime=Qn();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=o-a;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else Ny(e,!1,i);e.skipFrame=!1,wu(r)}};wu(r)}};var KL=function(t){this.init(t)},ow=KL,To=ow.prototype;To.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];To.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=i.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=i.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=n.getComputedStyle(r),h=c.getPropertyValue("position");h==="static"&&lt("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Ce(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};To.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};To.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};To.isHeadless=function(){return!1};[Gp,iw,aw,Co,ri,el].forEach(function(e){Ve(To,e)});var Rf=1e3/60,sw={setupDequeueing:function(t){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=Ys(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold),o=function(u,c){var h=Qn(),f=i.averageRedrawTime,d=i.lastRedrawTime,p=[],m=i.cy.extent(),v=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var y=Qn(),g=y-h,b=y-c;if(d<Rf){var x=Rf-(u?f:0);if(b>=t.deqFastCost*x)break}else if(u){if(g>=t.deqCost*d||g>=t.deqAvgCost*f)break}else if(b>=t.deqNoDrawCost*Rf)break;var C=t.deq(n,v,m);if(C.length>0)for(var T=0;T<C.length;T++)p.push(C[T]);else break}p.length>0&&(t.onDeqd(n,p),!u&&t.shouldRedraw(n,p,v,m)&&a())},s=t.priority||Dp;i.beforeRender(o,s(n))}}}},YL=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cu;Mi(this,e),this.idsByKey=new Kn,this.keyForId=new Kn,this.cachesByLvl=new Kn,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return Fi(e,[{key:"getIdsFor",value:function(r){r==null&&St("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new yo,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new Kn,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])})(),$y=25,_l=50,Xl=-4,Id=3,lw=7.99,XL=8,ZL=1024,QL=1024,JL=1024,eD=.2,tD=.8,rD=10,nD=.15,iD=.1,aD=.9,oD=.9,sD=100,lD=1,qa={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},uD=nr({getKey:null,doesEleInvalidateKey:Cu,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Z1,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ko=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var i=uD(r);Ve(n,i),n.lookup=new YL(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Kt=Ko.prototype;Kt.reasons=qa;Kt.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Kt.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Kt.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Xs(function(r,n){return n.reqs-r.reqs});return t};Kt.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Kt.getElement=function(e,t,r,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(Fp(s*r))),n<Xl)n=Xl;else if(s>=lw||n>Id)return null;var u=Math.pow(2,n),c=t.h*u,h=t.w*u,f=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,f))return null;var d=l.get(e,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var p;if(c<=$y?p=$y:c<=_l?p=_l:p=Math.ceil(c/_l)*_l,c>JL||h>QL)return null;var m=a.getTextureQueue(p),v=m[m.length-2],y=function(){return a.recycleTexture(p,h)||a.addTexture(p,h)};v||(v=m[m.length-1]),v||(v=y()),v.width-v.usedWidth<h&&(v=y());for(var g=function(F){return F&&F.scaledLabelShown===f},b=i&&i===qa.dequeue,x=i&&i===qa.highQuality,C=i&&i===qa.downscale,T,w=n+1;w<=Id;w++){var k=l.get(e,w);if(k){T=k;break}}var E=T&&T.level===n+1?T:null,A=function(){v.context.drawImage(E.texture.canvas,E.x,0,E.width,E.height,v.usedWidth,0,h,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,h,p),g(E))A();else if(g(T))if(x){for(var S=T.level;S>n;S--)E=a.getElement(e,t,r,S,qa.downscale);A()}else return a.queueElement(e,T.level-1),T;else{var B;if(!b&&!x&&!C)for(var D=n-1;D>=Xl;D--){var I=l.get(e,D);if(I){B=I;break}}if(g(B))return a.queueElement(e,n),B;v.context.translate(v.usedWidth,0),v.context.scale(u,u),this.drawElement(v.context,e,t,f,!1),v.context.scale(1/u,1/u),v.context.translate(-v.usedWidth,0)}return d={x:v.usedWidth,texture:v,level:n,scale:u,width:h,height:c,scaledLabelShown:f},v.usedWidth+=Math.ceil(h+XL),v.eleCaches.push(d),l.set(e,n,d),a.checkTextureFullness(v),d};Kt.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Kt.invalidateElement=function(e){var t=this,r=t.lookup,n=[],i=r.isInvalid(e);if(i){for(var a=Xl;a<=Id;a++){var o=r.getForCachedKey(e,a);o&&n.push(o)}var s=r.invalidate(e);if(s)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}};Kt.checkTextureUtility=function(e){e.invalidatedWidth>=eD*e.width&&this.retireTexture(e)};Kt.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>tD&&e.fullnessChecks>=rD?Ti(r,e):e.fullnessChecks++};Kt.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),i=this.lookup;Ti(n,e),e.retired=!0;for(var a=e.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}Mp(a);var l=t.getRetiredTextureQueue(r);l.push(e)};Kt.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};return n.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(ZL,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Kt.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),i=r.getRetiredTextureQueue(e),a=0;a<i.length;a++){var o=i[a];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Mp(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Ti(i,o),n.push(o),o}};Kt.queueElement=function(e,t){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(e),o=i[a];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(s),i[a]=s}};Kt.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,o=0;o<lD&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=a.hasCache(u,s.level);if(n[l]=null,c)continue;i.push(s);var h=t.getBoundingBox(u);t.getElement(u,h,e,s.level,qa.dequeue)}return i};Kt.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=this.getKey(e),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=Lp,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(e))};Kt.onDequeue=function(e){this.onDequeues.push(e)};Kt.offDequeue=function(e){Ti(this.onDequeues,e)};Kt.setupDequeueing=sw.setupDequeueing({deqRedrawThreshold:sD,deqCost:nD,deqAvgCost:iD,deqNoDrawCost:aD,deqFastCost:oD,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var i=t.onDequeues[n];i(r)}},shouldRedraw:function(t,r,n,i){for(var a=0;a<r.length;a++)for(var o=r[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(Rp(l,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var cD=1,ss=-4,Lu=2,hD=3.99,fD=50,dD=50,pD=.15,vD=.1,gD=.9,mD=.9,yD=1,zy=250,bD=4e3*4e3,qy=32767,xD=!0,uw=function(t){var r=this,n=r.renderer=t,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Qn()-2*zy,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=Ys(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},dD),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=zy?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};r.layersQueue=new Xs(a),r.setupDequeueing()},ir=uw.prototype,Vy=0,wD=Math.pow(2,53)-1;ir.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:Vy=++Vy%wD,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};ir.getLayers=function(e,t,r){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Fp(o*t)),r<ss)r=ss;else if(o>=hD||r>Lu)return null}n.validateLayersElesOrdering(r,e);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],h,f=n.levelIsComplete(r,e),d,p=function(){var A=function(O){if(n.validateLayersElesOrdering(O,e),n.levelIsComplete(O,e))return d=l[O],!0},S=function(O){if(!d)for(var F=r+O;ss<=F&&F<=Lu&&!A(F);F+=O);};S(1),S(-1);for(var B=c.length-1;B>=0;B--){var D=c[B];D.invalid&&Ti(c,D)}};if(!f)p();else return c;var m=function(){if(!h){h=Sr();for(var A=0;A<e.length;A++)yA(h,e[A].boundingBox())}return h},v=function(A){A=A||{};var S=A.after;m();var B=Math.ceil(h.w*u),D=Math.ceil(h.h*u);if(B>qy||D>qy)return null;var I=B*D;if(I>bD)return null;var O=n.makeLayer(h,r);if(S!=null){var F=c.indexOf(S)+1;c.splice(F,0,O)}else(A.insert===void 0||A.insert)&&c.unshift(O);return O};if(n.skipping&&!s)return null;for(var y=null,g=e.length/cD,b=!s,x=0;x<e.length;x++){var C=e[x],T=C._private.rscratch,w=T.imgLayerCaches=T.imgLayerCaches||{},k=w[r];if(k){y=k;continue}if((!y||y.eles.length>=g||!nx(y.bb,C.boundingBox()))&&(y=v({insert:!0,after:y}),!y))return null;d||b?n.queueLayer(y,C):n.drawEleInLayer(y,C,r,t),y.eles.push(C),w[r]=y}return d||(b?null:c)};ir.getEleLevelForLayerLevel=function(e,t){return e};ir.drawEleInLayer=function(e,t,r,n){var i=this,a=this.renderer,o=e.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,t,null,null,r,xD),a.setImgSmoothing(o,!0))};ir.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===t.length};ir.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}};ir.updateElementsInLayers=function(e,t){for(var r=this,n=Us(e[0]),i=0;i<e.length;i++)for(var a=n?null:e[i],o=n?e[i]:e[i].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=ss;u<=Lu;u++){var c=l[u];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||t(c,o,a))}};ir.haveLayers=function(){for(var e=this,t=!1,r=ss;r<=Lu;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};ir.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Qn(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,i,a){t.invalidateLayer(n)}))};ir.invalidateLayer=function(e){if(this.lastInvalidationTime=Qn(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Ti(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}};ir.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};ir.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};ir.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};ir.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<yD&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return n};ir.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var a=0;a<e.eles.length;a++){var o=e.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};ir.requestRedraw=Ys(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);ir.setupDequeueing=sw.setupDequeueing({deqRedrawThreshold:fD,deqCost:pD,deqAvgCost:vD,deqNoDrawCost:gD,deqFastCost:mD,deq:function(t,r){return t.dequeue(r)},onDeqd:Dp,shouldRedraw:Z1,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var cw={},Hy;function CD(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function TD(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];i===0&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Wy(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function kD(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,Math.PI*2,!1);var a=t,o=a[0];e.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function _D(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}cw.arrowShapeImpl=function(e){return(Hy||(Hy={polygon:CD,"triangle-backcurve":TD,"triangle-tee":Wy,"circle-triangle":kD,"triangle-cross":Wy,circle:_D}))[e]};var Rn={};Rn.drawElement=function(e,t,r,n,i,a){var o=this;t.isNode()?o.drawNode(e,t,r,n,i,a):o.drawEdge(e,t,r,n,i,a)};Rn.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};Rn.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};Rn.drawCachedElementPortion=function(e,t,r,n,i,a,o,s){var l=this,u=r.getBoundingBox(t);if(!(u.w===0||u.h===0)){var c=r.getElement(t,u,n,i,a);if(c!=null){var h=s(l,t);if(h===0)return;var f=o(l,t),d=u.x1,p=u.y1,m=u.w,v=u.h,y,g,b,x,C;if(f!==0){var T=r.getRotationPoint(t);b=T.x,x=T.y,e.translate(b,x),e.rotate(f),C=l.getImgSmoothing(e),C||l.setImgSmoothing(e,!0);var w=r.getRotationOffset(t);y=w.x,g=w.y}else y=d,g=p;var k;h!==1&&(k=e.globalAlpha,e.globalAlpha=k*h),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,y,g,m,v),h!==1&&(e.globalAlpha=k),f!==0&&(e.rotate(-f),e.translate(-b,-x),C||l.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var SD=function(){return 0},ED=function(t,r){return t.getTextAngle(r,null)},AD=function(t,r){return t.getTextAngle(r,"source")},BD=function(t,r){return t.getTextAngle(r,"target")},LD=function(t,r){return r.effectiveOpacity()},If=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Rn.drawCachedElement=function(e,t,r,n,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,f=t.boundingBox(),d=a===!0?l.reasons.highQuality:null;if(!(f.w===0||f.h===0||!t.visible())&&(!n||Rp(f,n))){var p=t.isEdge(),m=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,r,i,d,SD,LD),(!p||!m)&&o.drawCachedElementPortion(e,t,u,r,i,d,ED,If),p&&!m&&(o.drawCachedElementPortion(e,t,c,r,i,d,AD,If),o.drawCachedElementPortion(e,t,h,r,i,d,BD,If)),o.drawElementOverlay(e,t)}};Rn.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];r.drawElement(e,i)}};Rn.drawCachedElements=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];i.drawCachedElement(e,o,r,n)}};Rn.drawCachedNodes=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];o.isNode()&&i.drawCachedElement(e,o,r,n)}};Rn.drawLayeredElements=function(e,t,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(t,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,r,n)};var ni={};ni.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(a&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,e.translate(-l.x1,-l.y1));var u=a?t.pstyle("opacity").value:1,c=a?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,m=t.pstyle("line-outline-width").value,v=t.pstyle("line-outline-color").value,y=u*c,g=u*c,b=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;h==="straight-triangle"?(o.eleStrokeStyle(e,t,O),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=d,e.lineCap=p,o.eleStrokeStyle(e,t,O),o.drawEdgePath(t,e,s.allpts,f),e.lineCap="butt")},x=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;if(e.lineWidth=d+m,e.lineCap=p,m>0)o.colorStrokeStyle(e,v[0],v[1],v[2],O);else{e.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,f),e.lineCap="butt")},C=function(){i&&o.drawEdgeOverlay(e,t)},T=function(){i&&o.drawEdgeUnderlay(e,t)},w=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;o.drawArrowheads(e,t,O)},k=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var E=t.pstyle("ghost").value==="yes";if(E){var A=t.pstyle("ghost-offset-x").pfValue,S=t.pstyle("ghost-offset-y").pfValue,B=t.pstyle("ghost-opacity").value,D=y*B;e.translate(A,S),b(D),w(D),e.translate(-A,-S)}else x();T(),b(),w(),C(),k(),r&&e.translate(l.x1,l.y1)}};var hw=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(t,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(t,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(t,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,s.allpts,"solid")}}}};ni.drawEdgeOverlay=hw("overlay");ni.drawEdgeUnderlay=hw("underlay");ni.drawEdgePath=function(e,t,r,n){var i=e._private.rscratch,a=t,o,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var h=r.join("$"),f=i.pathCacheKey&&i.pathCacheKey===h;f?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=h,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)t.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"haystack":for(var p=2;p+1<r.length;p+=2)t.lineTo(r[p],r[p+1]);break;case"segments":if(i.isRound){var m=Fr(i.roundCorners),v;try{for(m.s();!(v=m.n()).done;){var y=v.value;Jx(t,y)}}catch(b){m.e(b)}finally{m.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var g=2;g+1<r.length;g+=2)t.lineTo(r[g],r[g+1]);break}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};ni.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[i]-l[0],r[i+1]-l[1]),t.lineTo(r[i]+l[0],r[i+1]+l[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}};ni.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ni.drawArrowhead=function(e,t,r,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,l=t.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,f=t.pstyle(r+"-arrow-width"),d=f.value==="match-line"?h:f.pfValue;f.units==="%"&&(d*=h);var p=t.pstyle("opacity").value;o===void 0&&(o=p);var m=e.globalCompositeOperation;(o!==1||c==="hollow")&&(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,u,h,l,d,n,i,a),e.globalCompositeOperation=m);var v=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,v[0],v[1],v[2],o),s.colorStrokeStyle(e,v[0],v[1],v[2],o),s.drawArrowShape(t,e,c,h,l,d,n,i,a)}}};ni.drawArrowShape=function(e,t,r,n,i,a,o,s,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",h=!1,f,d=t,p={x:o,y:s},m=e.pstyle("arrow-scale").value,v=this.getArrowWidth(n,m),y=u.arrowShapes[i];if(c){var g=u.arrowPathCache=u.arrowPathCache||[],b=ca(i),x=g[b];x!=null?(f=t=x,h=!0):(f=t=new Path2D,g[b]=f)}h||(t.beginPath&&t.beginPath(),c?y.draw(t,1,0,{x:0,y:0},1):y.draw(t,v,l,p,n),t.closePath&&t.closePath()),t=d,c&&(t.translate(o,s),t.rotate(l),t.scale(v,v)),(r==="filled"||r==="both")&&(c?t.fill(f):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(c?v:1),t.lineJoin="miter",c?t.stroke(f):t.stroke()),c&&(t.scale(1/v,1/v),t.rotate(-l),t.translate(-o,-s))};var Yp={};Yp.safeDrawImage=function(e,t,r,n,i,a,o,s,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{e.drawImage(t,r,n,i,a,o,s,l,u)}catch(c){lt(c)}};Yp.drawInscribedImage=function(e,t,r,n,i){var a=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),h=c(r,"background-fit","value",n),f=c(r,"background-repeat","value",n),d=r.width(),p=r.height(),m=r.padding()*2,v=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:m),y=p+(c(r,"background-height-relative-to","value",n)==="inner"?0:m),g=r._private.rscratch,b=c(r,"background-clip","value",n),x=b==="node",C=c(r,"background-image-opacity","value",n)*i,T=c(r,"background-image-smoothing","value",n),w=r.pstyle("corner-radius").value;w!=="auto"&&(w=r.pstyle("corner-radius").pfValue);var k=t.width||t.cachedW,E=t.height||t.cachedH;(k==null||E==null)&&(document.body.appendChild(t),k=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var A=k,S=E;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?A=c(r,"background-width","pfValue",n)*v:A=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?S=c(r,"background-height","pfValue",n)*y:S=c(r,"background-height","pfValue",n)),!(A===0||S===0)){if(h==="contain"){var B=Math.min(v/A,y/S);A*=B,S*=B}else if(h==="cover"){var B=Math.max(v/A,y/S);A*=B,S*=B}var D=s-v/2,I=c(r,"background-position-x","units",n),O=c(r,"background-position-x","pfValue",n);I==="%"?D+=(v-A)*O:D+=O;var F=c(r,"background-offset-x","units",n),M=c(r,"background-offset-x","pfValue",n);F==="%"?D+=(v-A)*M:D+=M;var N=l-y/2,z=c(r,"background-position-y","units",n),U=c(r,"background-position-y","pfValue",n);z==="%"?N+=(y-S)*U:N+=U;var $=c(r,"background-offset-y","units",n),W=c(r,"background-offset-y","pfValue",n);$==="%"?N+=(y-S)*W:N+=W,g.pathCache&&(D-=s,N-=l,s=0,l=0);var X=e.globalAlpha;e.globalAlpha=C;var ie=a.getImgSmoothing(e),Y=!1;if(T==="no"&&ie?(a.setImgSmoothing(e,!1),Y=!0):T==="yes"&&!ie&&(a.setImgSmoothing(e,!0),Y=!0),f==="no-repeat")x&&(e.save(),g.pathCache?e.clip(g.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,v,y,w,g),e.clip())),a.safeDrawImage(e,t,0,0,k,E,D,N,A,S),x&&e.restore();else{var oe=e.createPattern(t,f);e.fillStyle=oe,a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,v,y,w,g),e.translate(D,N),e.fill(),e.translate(-D,-N)}e.globalAlpha=X,Y&&a.setImgSmoothing(e,ie)}};var wa={};wa.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(Fp(r*n));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};wa.drawElementText=function(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),h=t.pstyle("source-label"),f=t.pstyle("target-label");if(u||(!c||!c.value)&&(!h||!h.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var d=!r,p;r&&(p=r,e.translate(-p.x1,-p.y1)),i==null?(o.drawText(e,t,null,d,a),t.isEdge()&&(o.drawText(e,t,"source",d,a),o.drawText(e,t,"target",d,a))):o.drawText(e,t,i,d,a),r&&e.translate(p.x1,p.y1)};wa.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};wa.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)};function DD(e,t,r,n,i){var a=Math.min(n,i),o=a/2,s=t+n/2,l=r+i/2;e.beginPath(),e.arc(s,l,o,0,Math.PI*2),e.closePath()}function Uy(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(a,n/2,i/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}wa.getTextAngle=function(e,t){var r,n=e._private,i=n.rscratch,a=t?t+"-":"",o=e.pstyle(a+"text-rotation");if(o.strValue==="autorotate"){var s=Lr(i,"labelAngle",t);r=e.isEdge()?s:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};wa.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,o=a.rscratch,s=i?t.effectiveOpacity():1;if(!(i&&(s===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=Lr(o,"labelX",r),u=Lr(o,"labelY",r),c,h,f=this.getLabelText(t,r);if(f!=null&&f!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t,i);var d=r?r+"-":"",p=Lr(o,"labelWidth",r),m=Lr(o,"labelHeight",r),v=t.pstyle(d+"text-margin-x").pfValue,y=t.pstyle(d+"text-margin-y").pfValue,g=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;g&&(b="center",x="center"),l+=v,u+=y;var C;switch(n?C=this.getTextAngle(t,r):C=0,C!==0&&(c=l,h=u,e.translate(c,h),e.rotate(C),l=0,u=0),x){case"top":break;case"center":u+=m/2;break;case"bottom":u+=m;break}var T=t.pstyle("text-background-opacity").value,w=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,E=t.pstyle("text-background-padding").pfValue,A=t.pstyle("text-background-shape").strValue,S=A==="round-rectangle"||A==="roundrectangle",B=A==="circle",D=2;if(T>0||k>0&&w>0){var I=e.fillStyle,O=e.strokeStyle,F=e.lineWidth,M=t.pstyle("text-background-color").value,N=t.pstyle("text-border-color").value,z=t.pstyle("text-border-style").value,U=T>0,$=k>0&&w>0,W=l-E;switch(b){case"left":W-=p;break;case"center":W-=p/2;break}var X=u-m-E,ie=p+2*E,Y=m+2*E;if(U&&(e.fillStyle="rgba(".concat(M[0],",").concat(M[1],",").concat(M[2],",").concat(T*s,")")),$&&(e.strokeStyle="rgba(".concat(N[0],",").concat(N[1],",").concat(N[2],",").concat(w*s,")"),e.lineWidth=k,e.setLineDash))switch(z){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(S?(e.beginPath(),Uy(e,W,X,ie,Y,D)):B?(e.beginPath(),DD(e,W,X,ie,Y)):(e.beginPath(),e.rect(W,X,ie,Y)),U&&e.fill(),$&&e.stroke(),$&&z==="double"){var oe=k/2;e.beginPath(),S?Uy(e,W+oe,X+oe,ie-2*oe,Y-2*oe,D):e.rect(W+oe,X+oe,ie-2*oe,Y-2*oe),e.stroke()}e.fillStyle=I,e.strokeStyle=O,e.lineWidth=F,e.setLineDash&&e.setLineDash([])}var ce=2*t.pstyle("text-outline-width").pfValue;if(ce>0&&(e.lineWidth=ce),t.pstyle("text-wrap").value==="wrap"){var ve=Lr(o,"labelWrapCachedLines",r),se=Lr(o,"labelLineHeight",r),G=p/2,K=this.getLabelJustification(t);switch(K==="auto"||(b==="left"?K==="left"?l+=-p:K==="center"&&(l+=-G):b==="center"?K==="left"?l+=-G:K==="right"&&(l+=G):b==="right"&&(K==="center"?l+=G:K==="right"&&(l+=p))),x){case"top":u-=(ve.length-1)*se;break;case"center":case"bottom":u-=(ve.length-1)*se;break}for(var _=0;_<ve.length;_++)ce>0&&e.strokeText(ve[_],l,u),e.fillText(ve[_],l,u),u+=se}else ce>0&&e.strokeText(f,l,u),e.fillText(f,l,u);C!==0&&(e.rotate(-C),e.translate(-c,-h))}}};var Ri={};Ri.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=t._private,c=u.rscratch,h=t.position();if(!(!Ce(h.x)||!Ce(h.y))&&!(a&&!t.visible())){var f=a?t.effectiveOpacity():1,d=o.usePaths(),p,m=!1,v=t.padding();s=t.width()+2*v,l=t.height()+2*v;var y;r&&(y=r,e.translate(-y.x1,-y.y1));for(var g=t.pstyle("background-image"),b=g.value,x=new Array(b.length),C=new Array(b.length),T=0,w=0;w<b.length;w++){var k=b[w],E=x[w]=k!=null&&k!=="none";if(E){var A=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",w);T++,C[w]=o.getCachedImage(k,A,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var S=t.pstyle("background-blacken").value,B=t.pstyle("border-width").pfValue,D=t.pstyle("background-opacity").value*f,I=t.pstyle("border-color").value,O=t.pstyle("border-style").value,F=t.pstyle("border-join").value,M=t.pstyle("border-cap").value,N=t.pstyle("border-position").value,z=t.pstyle("border-dash-pattern").pfValue,U=t.pstyle("border-dash-offset").pfValue,$=t.pstyle("border-opacity").value*f,W=t.pstyle("outline-width").pfValue,X=t.pstyle("outline-color").value,ie=t.pstyle("outline-style").value,Y=t.pstyle("outline-opacity").value*f,oe=t.pstyle("outline-offset").value,ce=t.pstyle("corner-radius").value;ce!=="auto"&&(ce=t.pstyle("corner-radius").pfValue);var ve=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;o.eleFillStyle(e,t,Te)},se=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;o.colorStrokeStyle(e,I[0],I[1],I[2],Te)},G=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y;o.colorStrokeStyle(e,X[0],X[1],X[2],Te)},K=function(Te,ue,L,Q){var ae=o.nodePathCache=o.nodePathCache||[],le=X1(L==="polygon"?L+","+Q.join(","):L,""+ue,""+Te,""+ce),fe=ae[le],Ee,ye=!1;return fe!=null?(Ee=fe,ye=!0,c.pathCache=Ee):(Ee=new Path2D,ae[le]=c.pathCache=Ee),{path:Ee,cacheHit:ye}},_=t.pstyle("shape").strValue,P=t.pstyle("shape-polygon-points").pfValue;if(d){e.translate(h.x,h.y);var V=K(s,l,_,P);p=V.path,m=V.cacheHit}var ee=function(){if(!m){var Te=h;d&&(Te={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(p||e,Te.x,Te.y,s,l,ce,c)}d?e.fill(p):e.fill()},q=function(){for(var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=u.backgrounding,Q=0,ae=0;ae<C.length;ae++){var le=t.cy().style().getIndexedStyle(t,"background-image-containment","value",ae);if(ue&&le==="over"||!ue&&le==="inside"){Q++;continue}x[ae]&&C[ae].complete&&!C[ae].error&&(Q++,o.drawInscribedImage(e,C[ae],t,ae,Te))}u.backgrounding=Q!==T,L!==u.backgrounding&&t.updateStyle(!1)},H=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasPie(t)&&(o.drawPie(e,t,ue),Te&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ce,c)))},Z=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasStripe(t)&&(e.save(),d?e.clip(c.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ce,c),e.clip()),o.drawStripe(e,t,ue),e.restore(),Te&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ce,c)))},ne=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ue=(S>0?S:-S)*Te,L=S>0?0:255;S!==0&&(o.colorFillStyle(e,L,L,L,ue),d?e.fill(p):e.fill())},te=function(){if(B>0){if(e.lineWidth=B,e.lineCap=M,e.lineJoin=F,e.setLineDash)switch(O){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(z),e.lineDashOffset=U;break;case"solid":case"double":e.setLineDash([]);break}if(N!=="center"){if(e.save(),e.lineWidth*=2,N==="inside")d?e.clip(p):e.clip();else{var Te=new Path2D;Te.rect(-s/2-B,-l/2-B,s+2*B,l+2*B),Te.addPath(p),e.clip(Te,"evenodd")}d?e.stroke(p):e.stroke(),e.restore()}else d?e.stroke(p):e.stroke();if(O==="double"){e.lineWidth=B/3;var ue=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(p):e.stroke(),e.globalCompositeOperation=ue}e.setLineDash&&e.setLineDash([])}},re=function(){if(W>0){if(e.lineWidth=W,e.lineCap="butt",e.setLineDash)switch(ie){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Te=h;d&&(Te={x:0,y:0});var ue=o.getNodeShape(t),L=B;N==="inside"&&(L=0),N==="outside"&&(L*=2);var Q=(s+L+(W+oe))/s,ae=(l+L+(W+oe))/l,le=s*Q,fe=l*ae,Ee=o.nodeShapes[ue].points,ye;if(d){var Re=K(le,fe,ue,Ee);ye=Re.path}if(ue==="ellipse")o.drawEllipsePath(ye||e,Te.x,Te.y,le,fe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ue)){var Le=0,Se=0,Ge=0;ue==="round-diamond"?Le=(L+oe+W)*1.4:ue==="round-heptagon"?(Le=(L+oe+W)*1.075,Ge=-(L/2+oe+W)/35):ue==="round-hexagon"?Le=(L+oe+W)*1.12:ue==="round-pentagon"?(Le=(L+oe+W)*1.13,Ge=-(L/2+oe+W)/15):ue==="round-tag"?(Le=(L+oe+W)*1.12,Se=(L/2+W+oe)*.07):ue==="round-triangle"&&(Le=(L+oe+W)*(Math.PI/2),Ge=-(L+oe/2+W)/Math.PI),Le!==0&&(Q=(s+Le)/s,le=s*Q,["round-hexagon","round-tag"].includes(ue)||(ae=(l+Le)/l,fe=l*ae)),ce=ce==="auto"?ox(le,fe):ce;for(var je=le/2,Me=fe/2,Ye=ce+(L+W+oe)/2,Xe=new Array(Ee.length/2),Dt=new Array(Ee.length/2),_t=0;_t<Ee.length/2;_t++)Xe[_t]={x:Te.x+Se+je*Ee[_t*2],y:Te.y+Ge+Me*Ee[_t*2+1]};var Yt,Et,Ot,at,Mt=Xe.length;for(Et=Xe[Mt-1],Yt=0;Yt<Mt;Yt++)Ot=Xe[Yt%Mt],at=Xe[(Yt+1)%Mt],Dt[Yt]=jp(Et,Ot,at,Ye),Et=Ot,Ot=at;o.drawRoundPolygonPath(ye||e,Te.x+Se,Te.y+Ge,s*Q,l*ae,Ee,Dt)}else if(["roundrectangle","round-rectangle"].includes(ue))ce=ce==="auto"?ki(le,fe):ce,o.drawRoundRectanglePath(ye||e,Te.x,Te.y,le,fe,ce+(L+W+oe)/2);else if(["cutrectangle","cut-rectangle"].includes(ue))ce=ce==="auto"?Ip():ce,o.drawCutRectanglePath(ye||e,Te.x,Te.y,le,fe,null,ce+(L+W+oe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ue))ce=ce==="auto"?ki(le,fe):ce,o.drawBottomRoundRectanglePath(ye||e,Te.x,Te.y,le,fe,ce+(L+W+oe)/2);else if(ue==="barrel")o.drawBarrelPath(ye||e,Te.x,Te.y,le,fe);else if(ue.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ue)){var tn=(L+W+oe)/s;Ee=Tu(ku(Ee,tn)),o.drawPolygonPath(ye||e,Te.x,Te.y,s,l,Ee)}else{var At=(L+W+oe)/s;Ee=Tu(ku(Ee,-At)),o.drawPolygonPath(ye||e,Te.x,Te.y,s,l,Ee)}if(d?e.stroke(ye):e.stroke(),ie==="double"){e.lineWidth=L/3;var Hr=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(ye):e.stroke(),e.globalCompositeOperation=Hr}e.setLineDash&&e.setLineDash([])}},ge=function(){i&&o.drawNodeOverlay(e,t,h,s,l)},pe=function(){i&&o.drawNodeUnderlay(e,t,h,s,l)},me=function(){o.drawElementText(e,t,null,n)},xe=t.pstyle("ghost").value==="yes";if(xe){var _e=t.pstyle("ghost-offset-x").pfValue,Ie=t.pstyle("ghost-offset-y").pfValue,De=t.pstyle("ghost-opacity").value,He=De*f;e.translate(_e,Ie),G(),re(),ve(De*D),ee(),q(He,!0),se(De*$),te(),H(S!==0||B!==0),Z(S!==0||B!==0),q(He,!1),ne(He),e.translate(-_e,-Ie)}d&&e.translate(-h.x,-h.y),pe(),d&&e.translate(h.x,h.y),G(),re(),ve(),ee(),q(f,!0),se(),te(),H(S!==0||B!==0),Z(S!==0||B!==0),q(f,!1),ne(),d&&e.translate(-h.x,-h.y),me(),ge(),r&&e.translate(y.x1,y.y1)}};var fw=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,i,a,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(t,"-padding")).pfValue,u=n.pstyle("".concat(t,"-opacity")).value,c=n.pstyle("".concat(t,"-color")).value,h=n.pstyle("".concat(t,"-shape")).value,f=n.pstyle("".concat(t,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||o==null){var d=n.padding();a=n.width()+2*d,o=n.height()+2*d}s.colorFillStyle(r,c[0],c[1],c[2],u),s.nodeShapes[h].draw(r,i.x,i.y,a+l*2,o+l*2,f),r.fill()}}}};Ri.drawNodeOverlay=fw("overlay");Ri.drawNodeUnderlay=fw("underlay");Ri.hasPie=function(e){return e=e[0],e._private.hasPie};Ri.hasStripe=function(e){return e=e[0],e._private.hasStripe};Ri.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=t.pstyle("pie-hole"),s=t.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,c=t.width(),h=t.height(),f=Math.min(c,h)/2,d,p=0,m=this.usePaths();if(m&&(l=0,u=0),a.units==="%"?f=f*a.pfValue:a.pfValue!==void 0&&(f=a.pfValue/2),o.units==="%"?d=f*o.pfValue:o.pfValue!==void 0&&(d=o.pfValue/2),!(d>=f))for(var v=1;v<=i.pieBackgroundN;v++){var y=t.pstyle("pie-"+v+"-background-size").value,g=t.pstyle("pie-"+v+"-background-color").value,b=t.pstyle("pie-"+v+"-background-opacity").value*r,x=y/100;x+p>1&&(x=1-p);var C=1.5*Math.PI+2*Math.PI*p;C+=s;var T=2*Math.PI*x,w=C+T;y===0||p>=1||p+x>1||(d===0?(e.beginPath(),e.moveTo(l,u),e.arc(l,u,f,C,w),e.closePath()):(e.beginPath(),e.arc(l,u,f,C,w),e.arc(l,u,d,w,C,!0),e.closePath()),this.colorFillStyle(e,g[0],g[1],g[2],b),e.fill(),p+=x)}};Ri.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=n.x,o=n.y,s=t.width(),l=t.height(),u=0,c=this.usePaths();e.save();var h=t.pstyle("stripe-direction").value,f=t.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var d=s,p=l;f.units==="%"?(d=d*f.pfValue,p=p*f.pfValue):f.pfValue!==void 0&&(d=f.pfValue,p=f.pfValue),c&&(a=0,o=0),o-=d/2,a-=p/2;for(var m=1;m<=i.stripeBackgroundN;m++){var v=t.pstyle("stripe-"+m+"-background-size").value,y=t.pstyle("stripe-"+m+"-background-color").value,g=t.pstyle("stripe-"+m+"-background-opacity").value*r,b=v/100;b+u>1&&(b=1-u),!(v===0||u>=1||u+b>1)&&(e.beginPath(),e.rect(a,o+p*u,d,p*b),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],g),e.fill(),u+=b)}e.restore()};var Ar={},MD=100;Ar.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};Ar.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<t.length;i++)if(n=t[i],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};Ar.createGradientStyleFor=function(e,t,r,n,i){var a,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,l=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),h=r.midpoint(),f=ha(u,h),d=ha(c,h);a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(f,d))}else{var p=o?{x:0,y:0}:r.position(),m=r.paddedWidth(),v=r.paddedHeight();a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(m,v))}else if(r.isEdge()){var y=r.sourceEndpoint(),g=r.targetEndpoint();a=e.createLinearGradient(y.x,y.y,g.x,g.y)}else{var b=o?{x:0,y:0}:r.position(),x=r.paddedWidth(),C=r.paddedHeight(),T=x/2,w=C/2,k=r.pstyle("background-gradient-direction").value;switch(k){case"to-bottom":a=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":a=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":a=e.createLinearGradient(b.x+T,b.y,b.x-T,b.y);break;case"to-right":a=e.createLinearGradient(b.x-T,b.y,b.x+T,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-T,b.y-w,b.x+T,b.y+w);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-T,b.y+w,b.x+T,b.y-w);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+T,b.y-w,b.x-T,b.y+w);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+T,b.y+w,b.x-T,b.y-w);break}}if(!a)return null;for(var E=l.length===s.length,A=s.length,S=0;S<A;S++)a.addColorStop(E?l[S]:S/(A-1),"rgba("+s[S][0]+","+s[S][1]+","+s[S][2]+","+i+")");return a};Ar.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i};Ar.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"};Ar.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}};Ar.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i};Ar.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"};Ar.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}};Ar.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=i*o,u=a*o,c;if(!(l===t.canvasWidth&&u===t.canvasHeight)){t.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)c=r.canvases[f],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var f=0;f<t.BUFFER_COUNT;f++)c=r.bufferCanvases[f],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,o<=1&&(c=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=l*t.textureMult,c.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u,t.pixelRatio=o}};Ar.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Ar.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};Ar.render=function(e){var t=this;e=e||ex();var r=t.cy,n=e.forcedContext,i=e.drawAllLayers,a=e.drawOnlyNodeLayer,o=e.forcedZoom,s=e.forcedPan,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=t.data,c=u.canvasNeedsRedraw,h=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),f=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,d=t.motionBlurPxRatio,p=r.hasCompoundNodes(),m=t.hoverData.draggingEles,v=!!(t.hoverData.selecting||t.touchData.selecting);f=f&&!n&&t.motionBlurEnabled&&!v;var y=f;n||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),f&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(y=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!h&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var g=r.style(),b=r.zoom(),x=o!==void 0?o:b,C=r.pan(),T={x:C.x,y:C.y},w={zoom:b,pan:{x:C.x,y:C.y}},k=t.prevViewport,E=k===void 0||w.zoom!==k.zoom||w.pan.x!==k.pan.x||w.pan.y!==k.pan.y;!E&&!(m&&!p)&&(t.motionBlurPxRatio=1),s&&(T=s),x*=l,T.x*=l,T.y*=l;var A=t.getCachedZSortedEles();function S(se,G,K,_,P){var V=se.globalCompositeOperation;se.globalCompositeOperation="destination-out",t.colorFillStyle(se,255,255,255,t.motionBlurTransparency),se.fillRect(G,K,_,P),se.globalCompositeOperation=V}function B(se,G){var K,_,P,V;!t.clearingMotionBlur&&(se===u.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||se===u.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(K={x:C.x*d,y:C.y*d},_=b*d,P=t.canvasWidth*d,V=t.canvasHeight*d):(K=T,_=x,P=t.canvasWidth,V=t.canvasHeight),se.setTransform(1,0,0,1,0,0),G==="motionBlur"?S(se,0,0,P,V):!n&&(G===void 0||G)&&se.clearRect(0,0,P,V),i||(se.translate(K.x,K.y),se.scale(_,_)),s&&se.translate(s.x,s.y),o&&se.scale(o,o)}if(h||(t.textureDrawLastFrame=!1),h){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var D=t.data.bufferContexts[t.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult});var w=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};w.mpan={x:(0-w.pan.x)/w.zoom,y:(0-w.pan.y)/w.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var I=u.contexts[t.NODE],O=t.textureCache.texture,w=t.textureCache.viewport;I.setTransform(1,0,0,1,0,0),f?S(I,0,0,w.width,w.height):I.clearRect(0,0,w.width,w.height);var F=g.core("outside-texture-bg-color").value,M=g.core("outside-texture-bg-opacity").value;t.colorFillStyle(I,F[0],F[1],F[2],M),I.fillRect(0,0,w.width,w.height);var b=r.zoom();B(I,!1),I.clearRect(w.mpan.x,w.mpan.y,w.width/w.zoom/l,w.height/w.zoom/l),I.drawImage(O,w.mpan.x,w.mpan.y,w.width/w.zoom/l,w.height/w.zoom/l)}else t.textureOnViewport&&!n&&(t.textureCache=null);var N=r.extent(),z=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),U=t.hideEdgesOnViewport&&z,$=[];if($[t.NODE]=!c[t.NODE]&&f&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,$[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),$[t.DRAG]=!c[t.DRAG]&&f&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,$[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||i||a||$[t.NODE]){var W=f&&!$[t.NODE]&&d!==1,I=n||(W?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:u.contexts[t.NODE]),X=f&&!W?"motionBlur":void 0;B(I,X),U?t.drawCachedNodes(I,A.nondrag,l,N):t.drawLayeredElements(I,A.nondrag,l,N),t.debug&&t.drawDebugPoints(I,A.nondrag),!i&&!f&&(c[t.NODE]=!1)}if(!a&&(c[t.DRAG]||i||$[t.DRAG])){var W=f&&!$[t.DRAG]&&d!==1,I=n||(W?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:u.contexts[t.DRAG]);B(I,f&&!W?"motionBlur":void 0),U?t.drawCachedNodes(I,A.drag,l,N):t.drawCachedElements(I,A.drag,l,N),t.debug&&t.drawDebugPoints(I,A.drag),!i&&!f&&(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,B),f&&d!==1){var ie=u.contexts[t.NODE],Y=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],oe=u.contexts[t.DRAG],ce=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],ve=function(G,K,_){G.setTransform(1,0,0,1,0,0),_||!y?G.clearRect(0,0,t.canvasWidth,t.canvasHeight):S(G,0,0,t.canvasWidth,t.canvasHeight);var P=d;G.drawImage(K,0,0,t.canvasWidth*P,t.canvasHeight*P,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||$[t.NODE])&&(ve(ie,Y,$[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||$[t.DRAG])&&(ve(oe,ce,$[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=w,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),f&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!h,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},MD)),n||r.emit("render")};var Po;Ar.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,i=r.data,a=n.style(),o=e.drawOnlyNodeLayer,s=e.drawAllLayers,l=i.canvasNeedsRedraw,u=e.forcedContext;if(r.showFps||!o&&l[r.SELECT_BOX]&&!s){var c=u||i.contexts[r.SELECT_BOX];if(t(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),f=a.core("selection-box-border-width").value/h;c.lineWidth=f,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),f>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),d=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,a.core("active-bg-size").pfValue/h,0,2*Math.PI),c.fill()}var p=r.lastRedrawTime;if(r.showFps&&p){p=Math.round(p);var m=Math.round(1e3/p),v="1 frame = "+p+" ms = "+m+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Po){var y=c.measureText(v);Po=y.actualBoundingBoxAscent}c.fillText(v,0,Po);var g=60;c.strokeRect(0,Po+10,250,20),c.fillRect(0,Po+10,250*Math.min(m/g,1),20)}s||(l[r.SELECT_BOX]=!1)}};function Gy(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function FD(e,t,r){var n=Gy(e,e.VERTEX_SHADER,t),i=Gy(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function PD(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function Xp(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function RD(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function ID(e,t,r,n,i){var a=n*r+t.x,o=i*r+t.y;return o=Math.round(e.canvasHeight-o),[a,o]}function OD(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function ND(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Wi(e,t,r){var n=e[0]/255,i=e[1]/255,a=e[2]/255,o=t,s=r||new Array(4);return s[0]=n*o,s[1]=i*o,s[2]=a*o,s[3]=o,s}function Fa(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function $D(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function zD(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function dw(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function pw(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function qD(e,t,r,n,i,a){switch(t){case e.FLOAT:return new Float32Array(r.buffer,a*n,i);case e.INT:return new Int32Array(r.buffer,a*n,i)}}function VD(e,t,r,n){var i=dw(e,t),a=$t(i,2),o=a[0],s=a[1],l=pw(e,s,n),u=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),s===e.FLOAT?e.vertexAttribPointer(r,o,s,!1,0,0):s===e.INT&&e.vertexAttribIPointer(r,o,s,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),u}function yn(e,t,r,n){var i=dw(e,r),a=$t(i,3),o=a[0],s=a[1],l=a[2],u=pw(e,s,t*o),c=o*l,h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t*c,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),s===e.FLOAT?e.vertexAttribPointer(n,o,s,!1,c,0):s===e.INT&&e.vertexAttribIPointer(n,o,s,c,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var f=new Array(t),d=0;d<t;d++)f[d]=qD(e,s,u,c,o,d);return h.dataArray=u,h.stride=c,h.size=o,h.getView=function(p){return f[p]},h.setPoint=function(p,m,v){var y=f[p];y[0]=m,y[1]=v},h.bufferSubData=function(p){e.bindBuffer(e.ARRAY_BUFFER,h),p?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,p*o):e.bufferSubData(e.ARRAY_BUFFER,0,u)},h}function HD(e,t,r){for(var n=9,i=new Float32Array(t*n),a=new Array(t),o=0;o<t;o++){var s=o*n*4;a[o]=new Float32Array(i.buffer,s,n)}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,i.byteLength,e.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,3,e.FLOAT,!1,36,u*12),e.vertexAttribDivisor(c,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),l.getMatrixView=function(h){return a[h]},l.setData=function(h,f){a[f].set(h,0)},l.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferSubData(e.ARRAY_BUFFER,0,i)},l}function WD(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,i){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,i,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var jy=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Of(){var e=new jy(9);return jy!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Ky(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function UD(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1],p=r[2],m=r[3],v=r[4],y=r[5],g=r[6],b=r[7],x=r[8];return e[0]=f*n+d*o+p*u,e[1]=f*i+d*s+p*c,e[2]=f*a+d*l+p*h,e[3]=m*n+v*o+y*u,e[4]=m*i+v*s+y*c,e[5]=m*a+v*l+y*h,e[6]=g*n+b*o+x*u,e[7]=g*i+b*s+x*c,e[8]=g*a+b*l+x*h,e}function Zl(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=f*n+d*o+u,e[7]=f*i+d*s+c,e[8]=f*a+d*l+h,e}function Yy(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=Math.sin(r),d=Math.cos(r);return e[0]=d*n+f*o,e[1]=d*i+f*s,e[2]=d*a+f*l,e[3]=d*o-f*n,e[4]=d*s-f*i,e[5]=d*l-f*a,e[6]=u,e[7]=c,e[8]=h,e}function Od(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function GD(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var jD=(function(){function e(t,r,n,i){Mi(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(t,r,r),this.scratch=i(t,r,this.texHeight,"scratch")}return Fi(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,a=this.texHeight,o=this.texSize,s=a/i,l=n*s,u=i*s;return l>o&&(s=o/n,l=n*s,u=i*s),{scale:s,texW:l,texH:u}}},{key:"draw",value:function(r,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,h=u.texW,f=u.texH,d=function(b,x){if(i&&x){var C=x.context,T=b.x,w=b.row,k=T,E=l*w;C.save(),C.translate(k,E),C.scale(c,c),i(C,n),C.restore()}},p=[null,null],m=function(){d(a.freePointer,a.canvas),p[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:h,h:f},p[1]={x:a.freePointer.x+h,y:a.freePointer.row*l,w:0,h:f},a.freePointer.x+=h,a.freePointer.x==o&&(a.freePointer.x=0,a.freePointer.row++)},v=function(){var b=a.scratch,x=a.canvas;b.clear(),d({x:0,row:0},b);var C=o-a.freePointer.x,T=h-C,w=l;{var k=a.freePointer.x,E=a.freePointer.row*l,A=C;x.context.drawImage(b,0,0,A,w,k,E,A,w),p[0]={x:k,y:E,w:A,h:f}}{var S=C,B=(a.freePointer.row+1)*l,D=T;x&&x.context.drawImage(b,S,0,D,w,0,B,D,w),p[1]={x:0,y:B,w:D,h:f}}a.freePointer.x=T,a.freePointer.row++},y=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+h<=o)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(y(),m()):this.enableWrapping?v():(y(),m())}return this.keyToLocation.set(r,p),this.needsBuffer=!0,p}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(r),o=a.texW;return this.freePointer.x+o>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=zD(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),KD=(function(){function e(t,r,n,i){Mi(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Fi(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new jD(r,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,o=Math.floor(n/i);this.scratch=a(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var a=this.styleKeyToAtlas.get(r);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(r,n,i),this.styleKeyToAtlas.set(r,a)),a}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,o=null,s=Fr(this.atlases),l;try{var u=function(){var h=l.value,f=h.getKeys(),d=YD(n,f);if(d.size===0)return i.push(h),f.forEach(function(C){return a.set(C,h)}),1;o||(o=r._createAtlas(),i.push(o));var p=Fr(f),m;try{for(p.s();!(m=p.n()).done;){var v=m.value;if(!d.has(v)){var y=h.getOffsets(v),g=$t(y,2),b=g[0],x=g[1];o.canFit({w:b.w+x.w,h:b.h})||(o.lock(),o=r._createAtlas(),i.push(o)),h.canvas&&(r._copyTextureToNewAtlas(v,h,o),a.set(v,o))}}}catch(C){p.e(C)}finally{p.f()}h.dispose()};for(s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var a=n.getOffsets(r),o=$t(a,2),s=o[0],l=o[1];if(l.w===0)i.draw(r,s,function(f){f.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,s.w,0,l.w,l.h);var c=s.w+l.w,h=s.h;i.draw(r,{w:c,h},function(f){f.drawImage(u,0,0,c,h,0,0,c,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function YD(e,t){return e.intersection?e.intersection(t):new Set(bu(e).filter(function(r){return t.has(r)}))}var XD=(function(){function e(t,r){Mi(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Fi(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,a=i.webglTexSize,o=i.createTextureCanvas,s=n.texRows,l=this._cacheScratchCanvas(o),u=new KD(this.r,a,s,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),o=Ve({type:r,atlasCollection:a},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,a=null;return function(o,s,l,u){return u?((!a||s!=n||l!=i)&&(n=s,i=l,a=r(o,s,l)),a):r(o,s,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.forceRedraw,o=a===void 0?!1:a,s=i.filterEle,l=s===void 0?function(){return!0}:s,u=i.filterType,c=u===void 0?function(){return!0}:u,h=!1,f=!1,d=Fr(r),p;try{for(d.s();!(p=d.n()).done;){var m=p.value;if(l(m)){var v=Fr(this.renderTypes.values()),y;try{var g=function(){var x=y.value,C=x.type;if(c(C)){var T=n.collections.get(x.collection),w=x.getKey(m),k=Array.isArray(w)?w:[w];if(o)k.forEach(function(B){return T.markKeyForGC(B)}),f=!0;else{var E=x.getID?x.getID(m):m.id(),A=n._key(C,E),S=n.typeAndIdToKey.get(A);S!==void 0&&!ND(k,S)&&(h=!0,n.typeAndIdToKey.delete(A),S.forEach(function(B){return T.markKeyForGC(B)}))}}};for(v.s();!(y=v.n()).done;)g()}catch(b){v.e(b)}finally{v.f()}}}}catch(b){d.e(b)}finally{d.f()}return f&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var r=Fr(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(a){r.e(a)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,a){var o=this.renderTypes.get(n),s=this.collections.get(o.collection),l=!1,u=s.draw(a,i,function(f){o.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,i.w,i.h),f.clip(),o.drawElement(f,r,i,!0,!0),f.restore()):o.drawElement(f,r,i,!0,!0),l=!0});if(l){var c=o.getID?o.getID(r):r.id(),h=this._key(n,c);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(a):this.typeAndIdToKey.set(h,[a])}return u}},{key:"getAtlasInfo",value:function(r,n){var i=this,a=this.renderTypes.get(n),o=a.getKey(r),s=Array.isArray(o)?o:[o];return s.map(function(l){var u=a.getBoundingBox(r,l),c=i.getOrCreateAtlas(r,n,u,l),h=c.getOffsets(l),f=$t(h,2),d=f[0],p=f[1];return{atlas:c,tex:d,tex1:d,tex2:p,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=Fr(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=$t(i.value,2),o=a[0],s=a[1],l=s.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:o,keyCount:u,atlasCount:c})}}catch(h){n.e(h)}finally{n.f()}return r}}])})(),ZD=(function(){function e(t){Mi(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return Fi(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),QD=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,JD=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,eM=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,tM=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,ls={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Du={IGNORE:1,USE_BB:2},Nf=0,Xy=1,Zy=2,$f=3,Pa=4,Sl=5,Ro=6,Io=7,rM=(function(){function e(t,r,n){Mi(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=PD,this.atlasManager=new XD(t,n),this.batchManager=new ZD(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(ls.SCREEN),this.pickingProgram=this._createShaderProgram(ls.PICKING),this.vao=this._createVAO()}return Fi(e,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(r,{filterType:function(s){return s===i},forceRedraw:!0}):a.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Nf,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Pa," || aVertType == ").concat(Io,` 
             || aVertType == `).concat(Sl," || aVertType == ").concat(Ro,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Xy,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(Zy,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat($f,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),a=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(a.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(QD,`
      `).concat(JD,`
      `).concat(eM,`
      `).concat(tM,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Nf,`) {
          // look up the texel from the texture unit
          `).concat(a.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat($f,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Pa,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Pa," || vVertType == ").concat(Io,` 
          || vVertType == `).concat(Sl," || vVertType == ").concat(Ro,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Pa,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Io,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Io,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=FD(n,i,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aTransform=n.getAttribLocation(s,"aTransform"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex=n.getAttribLocation(s,"aTex"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aColor=n.getAttribLocation(s,"aColor"),s.aCornerRadius=n.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=n.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uZoom=n.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(l)));return s}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,a=this.program,o=i.createVertexArray();return i.bindVertexArray(o),VD(i,"vec2",a.aPosition,r),this.transformBuffer=HD(i,n,a.aTransform),this.indexBuffer=yn(i,n,"vec4",a.aIndex),this.vertTypeBuffer=yn(i,n,"int",a.aVertType),this.atlasIdBuffer=yn(i,n,"int",a.aAtlasId),this.texBuffer=yn(i,n,"vec4",a.aTex),this.pointAPointBBuffer=yn(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=yn(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=yn(i,n,"vec2",a.aLineWidth),this.colorBuffer=yn(i,n,"vec4",a.aColor),this.cornerRadiusBuffer=yn(i,n,"vec4",a.aCornerRadius),this.borderColorBuffer=yn(i,n,"vec4",a.aBorderColor),i.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return fi(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ls.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var a=this.atlasManager,o=this.batchManager,s=a.getRenderTypeOpts(i);if(this._isVisible(r,s)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&s.getTexPickingMode){var l=s.getTexPickingMode(r);if(l===Du.IGNORE)return;if(l==Du.USE_BB){this.drawPickingRectangle(r,n,i);return}}var u=a.getAtlasInfo(r,i),c=Fr(u),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,d=f.atlas,p=f.tex1,m=f.tex2;o.canAddToCurrentBatch(d)||this.endBatch();for(var v=o.getAtlasIndexForBatch(d),y=0,g=[[p,!0],[m,!1]];y<g.length;y++){var b=$t(g[y],2),x=b[0],C=b[1];if(x.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=Nf;var w=this.indexBuffer.getView(T);Fa(n,w);var k=this.atlasIdBuffer.getView(T);k[0]=v;var E=this.texBuffer.getView(T);E[0]=x.x,E[1]=x.y,E[2]=x.w,E[3]=x.h;var A=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(r,A,s,f,C),this.instanceCount++,C||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(S){c.e(S)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=r.pstyle(i.shapeProps.padding).pfValue),a){var l=a.bb,u=a.tex1,c=a.tex2,h=u.w/(u.w+c.w);o||(h=1-h);var f=this._getAdjustedBB(l,s,o,h);this._applyTransformMatrix(n,f,i,r)}else{var d=i.getBoundingBox(r),p=this._getAdjustedBB(d,s,!0,1);this._applyTransformMatrix(n,p,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,a){var o,s;Ky(r);var l=i.getRotation?i.getRotation(a):0;if(l!==0){var u=i.getRotationPoint(a),c=u.x,h=u.y;Zl(r,r,[c,h]),Yy(r,r,l);var f=i.getRotationOffset(a);o=f.x+(n.xOffset||0),s=f.y+(n.yOffset||0)}else o=n.x1,s=n.y1;Zl(r,r,[o,s]),Od(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,a){var o=r.x1,s=r.y1,l=r.w,u=r.h,c=r.yOffset;n&&(o-=n,s-=n,l+=2*n,u+=2*n);var h=0,f=l*a;return i&&a<1?l=f:!i&&a<1&&(h=l-f,o+=h,l=f),{x1:o,y1:s,w:l,h:u,xOffset:h,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,i){var a=this.atlasManager.getRenderTypeOpts(i),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=Pa;var s=this.indexBuffer.getView(o);Fa(n,s);var l=this.colorBuffer.getView(o);Wi([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,u,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var a=this.simpleShapeOptions.get(i);if(this._isVisible(r,a)){var o=a.shapeProps,s=this._getVertTypeForShape(r,o.shape);if(s===void 0||a.isSimple&&!a.isSimple(r)){this.drawTexture(r,n,i);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=s,s===Sl||s===Ro){var u=a.getBoundingBox(r),c=this._getCornerRadius(r,o.radius,u),h=this.cornerRadiusBuffer.getView(l);h[0]=c,h[1]=c,h[2]=c,h[3]=c,s===Ro&&(h[0]=0,h[2]=0)}var f=this.indexBuffer.getView(l);Fa(n,f);var d=r.pstyle(o.color).value,p=r.pstyle(o.opacity).value,m=this.colorBuffer.getView(l);Wi(d,p,m);var v=this.lineWidthBuffer.getView(l);if(v[0]=0,v[1]=0,o.border){var y=r.pstyle("border-width").value;if(y>0){var g=r.pstyle("border-color").value,b=r.pstyle("border-opacity").value,x=this.borderColorBuffer.getView(l);Wi(g,b,x);var C=r.pstyle("border-position").value;if(C==="inside")v[0]=0,v[1]=-y;else if(C==="outside")v[0]=y,v[1]=0;else{var T=y/2;v[0]=T,v[1]=-T}}}var w=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,w,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return Pa;case"ellipse":return Io;case"roundrectangle":case"round-rectangle":return Sl;case"bottom-round-rectangle":return Ro;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var a=i.w,o=i.h;if(r.pstyle(n).value==="auto")return ki(a,o);var s=r.pstyle(n).pfValue,l=a/2,u=o/2;return Math.min(s,u,l)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var a=r._private.rscratch,o,s,l;if(i==="source"?(o=a.arrowStartX,s=a.arrowStartY,l=a.srcArrowAngle):(o=a.arrowEndX,s=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(l)||l==null)){var u=r.pstyle(i+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(i+"-arrow-color").value,h=r.pstyle("opacity").value,f=r.pstyle("line-opacity").value,d=h*f,p=r.pstyle("width").pfValue,m=r.pstyle("arrow-scale").value,v=this.r.getArrowWidth(p,m),y=this.instanceCount,g=this.transformBuffer.getMatrixView(y);Ky(g),Zl(g,g,[o,s]),Od(g,g,[v,v]),Yy(g,g,l),this.vertTypeBuffer.getView(y)[0]=$f;var b=this.indexBuffer.getView(y);Fa(n,b);var x=this.colorBuffer.getView(y);Wi(c,d,x),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var a=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,s=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=a*o;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=Xy;var h=this.indexBuffer.getView(c);Fa(n,h);var f=this.colorBuffer.getView(c);Wi(l,u,f);var d=this.lineWidthBuffer.getView(c);d[0]=s;var p=this.pointAPointBBuffer.getView(c);p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=Zy;var y=this.indexBuffer.getView(v);Fa(n,y);var g=this.colorBuffer.getView(v);Wi(l,u,g);var b=this.lineWidthBuffer.getView(v);b[0]=s;var x=i[m-2],C=i[m-1],T=i[m],w=i[m+1],k=i[m+2],E=i[m+3],A=i[m+4],S=i[m+5];m==0&&(x=2*T-k+.001,C=2*w-E+.001),m==i.length-4&&(A=2*k-T+.001,S=2*E-w+.001);var B=this.pointAPointBBuffer.getView(v);B[0]=x,B[1]=C,B[2]=T,B[3]=w;var D=this.pointCPointDBuffer.getView(v);D[0]=k,D[1]=E,D[2]=A,D[3]=S,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var i=n.allpts;if(i.length==4)return i;var a=this._getNumSegments(r);return this._getCurveSegmentPoints(i,a)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=r[0],i[1]=r[1];else if(a==n)i[a*2]=r[r.length-2],i[a*2+1]=r[r.length-1];else{var o=a/n;this._setCurvePoint(r,o,i,a*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,a){if(r.length<=2)i[a]=r[0],i[a+1]=r[1];else{for(var o=Array(r.length-2),s=0;s<o.length;s+=2){var l=(1-n)*r[s]+n*r[s+2],u=(1-n)*r[s+1]+n*r[s+3];o[s]=l,o[s+1]=u}return this._setCurvePoint(o,n,i,a)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var s=Fr(this.buffers),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.bufferSubData(a)}}catch(p){s.e(p)}finally{s.f()}for(var c=this.batchManager.getAtlases(),h=0;h<c.length;h++)c[h].bufferIfNeeded(r);for(var f=0;f<c.length;f++)r.activeTexture(r.TEXTURE0+f),r.bindTexture(r.TEXTURE_2D,c[f].texture),r.uniform1i(o.uTextures[f],f);r.uniform1f(o.uZoom,RD(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var d=Wi(this.bgColor,1);r.uniform4fv(o.uBGColor,d),r.drawArraysInstanced(r.TRIANGLES,0,i,a),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,s){return o+s.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(o,s){return o+s.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])})(),vw={};vw.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=nM(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=WD(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new rM(r,n,e);var i=function(h){return function(f){return r.getTextAngle(f,h)}},a=function(h){return function(f){var d=f.pstyle(h);return d&&d.value}},o=function(h){return function(f){return f.pstyle("".concat(h,"-opacity")).value>0}},s=function(h){var f=h.pstyle("text-events").strValue==="yes";return f?Du.USE_BB:Du.IGNORE},l=function(h){var f=h.position(),d=f.x,p=f.y,m=h.outerWidth(),v=h.outerHeight();return{w:m,h:v,x1:d-m/2,y1:p-v/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:OD,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:zf(t.getLabelKey,null),getBoundingBox:qf(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:zf(t.getSourceLabelKey,"source"),getBoundingBox:qf(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:zf(t.getTargetLabelKey,"target"),getBoundingBox:qf(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var u=Ys(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,h){var f=!1;h&&h.length>0&&(f|=r.drawing.invalidate(h)),f&&u()}),iM(r)};function nM(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return H1(r)}function gw(e,t){var r=e._private.rscratch;return Lr(r,"labelWrapCachedLines",t)||[]}var zf=function(t,r){return function(n){var i=t(n),a=gw(n,r);return a.length>1?a.map(function(o,s){return"".concat(i,"_").concat(s)}):i}},qf=function(t,r){return function(n,i){var a=t(n);if(typeof i=="string"){var o=i.indexOf("_");if(o>0){var s=Number(i.substring(o+1)),l=gw(n,r),u=a.h/l.length,c=u*s,h=a.y1+c;return{x1:a.x1,w:a.w,y1:h,h:u,yOffset:c}}}return a}};function iM(e){{var t=e.render;e.render=function(a){a=a||{};var o=e.cy;e.webgl&&(o.zoom()>lw?(aM(e),t.call(e,a)):(oM(e),yw(e,a,ls.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(a){r.call(e,a),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(a,o,s,l){return fM(e,a,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var i=e.notify;e.notify=function(a,o){i.call(e,a,o),a==="viewport"||a==="bounds"?e.pickingFrameBuffer.needsDraw=!0:a==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function aM(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function oM(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function sM(e){var t=e.canvasWidth,r=e.canvasHeight,n=Xp(e),i=n.pan,a=n.zoom,o=Of();Zl(o,o,[i.x,i.y]),Od(o,o,[a,a]);var s=Of();GD(s,t,r);var l=Of();return UD(l,s,o),l}function mw(e,t){var r=e.canvasWidth,n=e.canvasHeight,i=Xp(e),a=i.pan,o=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(a.x,a.y),t.scale(o,o)}function lM(e,t){e.drawSelectionRectangle(t,function(r){return mw(e,r)})}function uM(e){var t=e.data.contexts[e.NODE];t.save(),mw(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function cM(e){var t=function(i,a,o){for(var s=i.atlasManager.getAtlasCollection(a),l=e.data.contexts[e.NODE],u=s.atlases,c=0;c<u.length;c++){var h=u[c],f=h.canvas;if(f){var d=f.width,p=f.height,m=d*c,v=f.height*o,y=.4;l.save(),l.scale(y,y),l.drawImage(f,m,v),l.strokeStyle="black",l.rect(m,v,d,p),l.stroke(),l.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function hM(e,t,r,n,i){var a,o,s,l,u=Xp(e),c=u.pan,h=u.zoom;{var f=ID(e,c,h,t,r),d=$t(f,2),p=d[0],m=d[1],v=6;a=p-v/2,o=m-v/2,s=v,l=v}if(s===0||l===0)return[];var y=e.data.contexts[e.WEBGL];y.bindFramebuffer(y.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(y.viewport(0,0,y.canvas.width,y.canvas.height),yw(e,null,ls.PICKING),e.pickingFrameBuffer.needsDraw=!1);var g=s*l,b=new Uint8Array(g*4);y.readPixels(a,o,s,l,y.RGBA,y.UNSIGNED_BYTE,b),y.bindFramebuffer(y.FRAMEBUFFER,null);for(var x=new Set,C=0;C<g;C++){var T=b.slice(C*4,C*4+4),w=$D(T)-1;w>=0&&x.add(w)}return x}function fM(e,t,r){var n=hM(e,t,r),i=e.getCachedZSortedEles(),a,o,s=Fr(n),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=i[u];if(!a&&c.isNode()&&(a=c),!o&&c.isEdge()&&(o=c),a&&o)break}}catch(h){s.e(h)}finally{s.f()}return[a,o].filter(Boolean)}function Vf(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function yw(e,t,r){var n;e.webglDebug&&(n=performance.now());var i=e.drawing,a=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&lM(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=sM(e),l=e.getCachedZSortedEles();if(a=l.length,i.startFrame(s,r),r.screen){for(var u=0;u<l.nondrag.length;u++)Vf(e,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)Vf(e,c,l.drag[c])}else if(r.picking)for(var h=0;h<l.length;h++)Vf(e,h,l[h]);i.endFrame(),r.screen&&e.webglDebugShowAtlases&&(uM(e),cM(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var f=performance.now(),d=!1,p=Math.ceil(f-n),m=i.getDebugInfo(),v=["".concat(a," elements"),"".concat(m.totalInstances," instances"),"".concat(m.batchCount," batches"),"".concat(m.totalAtlases," atlases"),"".concat(m.wrappedCount," wrapped textures"),"".concat(m.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(r.name,") - time ").concat(p,"ms, ").concat(v));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(p,"ms")),console.log("Totals:"),console.log("  ".concat(v)),console.log("Texture Atlases Used:");var y=m.atlasInfo,g=Fr(y),b;try{for(g.s();!(b=g.n()).done;){var x=b.value;console.log("  ".concat(x.type,": ").concat(x.keyCount," keys, ").concat(x.atlasCount," atlases"))}}catch(C){g.e(C)}finally{g.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,i.gc())}var Ii={};Ii.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[l*2],r+s*a[l*2+1]);e.closePath()};Ii.drawRoundPolygonPath=function(e,t,r,n,i,a,o){o.forEach(function(s){return Jx(e,s)}),e.closePath()};Ii.drawRoundRectanglePath=function(e,t,r,n,i,a){var o=n/2,s=i/2,l=a==="auto"?ki(n,i):Math.min(a,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,l),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.arcTo(t-o,r-s,t,r-s,l),e.lineTo(t,r-s),e.closePath()};Ii.drawBottomRoundRectanglePath=function(e,t,r,n,i,a){var o=n/2,s=i/2,l=a==="auto"?ki(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()};Ii.drawCutRectanglePath=function(e,t,r,n,i,a,o){var s=n/2,l=i/2,u=o==="auto"?Ip():o;e.beginPath&&e.beginPath(),e.moveTo(t-s+u,r-l),e.lineTo(t+s-u,r-l),e.lineTo(t+s,r-l+u),e.lineTo(t+s,r+l-u),e.lineTo(t+s-u,r+l),e.lineTo(t-s+u,r+l),e.lineTo(t-s,r+l-u),e.lineTo(t-s,r-l+u),e.closePath()};Ii.drawBarrelPath=function(e,t,r,n,i){var a=n/2,o=i/2,s=t-a,l=t+a,u=r-o,c=r+o,h=Td(n,i),f=h.widthOffset,d=h.heightOffset,p=h.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(s,u+d),e.lineTo(s,c-d),e.quadraticCurveTo(s+p,c,s+f,c),e.lineTo(l-f,c),e.quadraticCurveTo(l-p,c,l,c-d),e.lineTo(l,u+d),e.quadraticCurveTo(l-p,u,l-f,u),e.lineTo(s+f,u),e.quadraticCurveTo(s+p,u,s,u+d),e.closePath()};var Qy=Math.sin(0),Jy=Math.cos(0),Nd={},$d={},bw=Math.PI/40;for(var Ra=0*Math.PI;Ra<2*Math.PI;Ra+=bw)Nd[Ra]=Math.sin(Ra),$d[Ra]=Math.cos(Ra);Ii.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=bw)a=t-s*Nd[u]*Qy+s*$d[u]*Jy,o=r+l*$d[u]*Qy+l*Nd[u]*Jy,u===0?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var tl={};tl.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};tl.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):i[2],o=e.full?Math.ceil(n.h):i[3],s=Ce(e.maxWidth)||Ce(e.maxHeight),l=this.getPixelRatio(),u=1;if(e.scale!==void 0)a*=e.scale,o*=e.scale,u=e.scale;else if(s){var c=1/0,h=1/0;Ce(e.maxWidth)&&(c=u*e.maxWidth/a),Ce(e.maxHeight)&&(h=u*e.maxHeight/o),u=Math.min(c,h),a*=u,o*=u}s||(a*=l,o*=l,u*=l);var f=document.createElement("canvas");f.width=a,f.height=o,f.style.width=a+"px",f.style.height=o+"px";var d=f.getContext("2d");if(a>0&&o>0){d.clearRect(0,0,a,o),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*u,-n.y1*u),d.scale(u,u),this.drawElements(d,p),d.scale(1/u,1/u),d.translate(n.x1*u,n.y1*u);else{var m=t.pan(),v={x:m.x*u,y:m.y*u};u*=t.zoom(),d.translate(v.x,v.y),d.scale(u,u),this.drawElements(d,p),d.scale(1/u,1/u),d.translate(-v.x,-v.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,a,o),d.fill())}return f};function dM(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}function e0(e){var t=e.indexOf(",");return e.substr(t+1)}function xw(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new bo(function(i,a){try{t.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){a(o)}});case"blob":return dM(e0(n()),r);case"base64":return e0(n());case"base64uri":default:return n()}}tl.png=function(e){return xw(e,this.bufferCanvasImage(e),"image/png")};tl.jpg=function(e){return xw(e,this.bufferCanvasImage(e),"image/jpeg")};var ww={};ww.nodeShapeImpl=function(e,t,r,n,i,a,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,s);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}};var pM=Cw,Ze=Cw.prototype;Ze.CANVAS_LAYERS=3;Ze.SELECT_BOX=0;Ze.DRAG=1;Ze.NODE=2;Ze.WEBGL=3;Ze.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ze.BUFFER_COUNT=3;Ze.TEXTURE_BUFFER=0;Ze.MOTIONBLUR_BUFFER_NODE=1;Ze.MOTIONBLUR_BUFFER_DRAG=2;function Cw(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(Ze.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Ze.CANVAS_LAYERS),contexts:new Array(Ze.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ze.CANVAS_LAYERS),bufferCanvases:new Array(Ze.BUFFER_COUNT),bufferContexts:new Array(Ze.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};lE()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Ze.CANVAS_LAYERS;u++){var c=t.data.canvases[u]=n.createElement("canvas"),h=Ze.CANVAS_TYPES[u];t.data.contexts[u]=c.getContext(h),t.data.contexts[u]||St("Could not create canvas of type "+h),Object.keys(l).forEach(function(se){c.style[se]=l[se]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(Ze.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ze.NODE].setAttribute("data-id","layer"+Ze.NODE+"-node"),t.data.canvases[Ze.SELECT_BOX].setAttribute("data-id","layer"+Ze.SELECT_BOX+"-selectbox"),t.data.canvases[Ze.DRAG].setAttribute("data-id","layer"+Ze.DRAG+"-drag"),t.data.canvases[Ze.WEBGL]&&t.data.canvases[Ze.WEBGL].setAttribute("data-id","layer"+Ze.WEBGL+"-webgl");for(var u=0;u<Ze.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=n.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var f=Sr(),d=function(G){return{x:(G.x1+G.x2)/2,y:(G.y1+G.y2)/2}},p=function(G){return{x:-G.w/2,y:-G.h/2}},m=function(G){var K=G[0]._private,_=K.oldBackgroundTimestamp===K.backgroundTimestamp;return!_},v=function(G){return G[0]._private.nodeKey},y=function(G){return G[0]._private.labelStyleKey},g=function(G){return G[0]._private.sourceLabelStyleKey},b=function(G){return G[0]._private.targetLabelStyleKey},x=function(G,K,_,P,V){return t.drawElement(G,K,_,!1,!1,V)},C=function(G,K,_,P,V){return t.drawElementText(G,K,_,P,"main",V)},T=function(G,K,_,P,V){return t.drawElementText(G,K,_,P,"source",V)},w=function(G,K,_,P,V){return t.drawElementText(G,K,_,P,"target",V)},k=function(G){return G.boundingBox(),G[0]._private.bodyBounds},E=function(G){return G.boundingBox(),G[0]._private.labelBounds.main||f},A=function(G){return G.boundingBox(),G[0]._private.labelBounds.source||f},S=function(G){return G.boundingBox(),G[0]._private.labelBounds.target||f},B=function(G,K){return K},D=function(G){return d(k(G))},I=function(G,K,_){var P=G?G+"-":"";return{x:K.x+_.pstyle(P+"text-margin-x").pfValue,y:K.y+_.pstyle(P+"text-margin-y").pfValue}},O=function(G,K,_){var P=G[0]._private.rscratch;return{x:P[K],y:P[_]}},F=function(G){return I("",O(G,"labelX","labelY"),G)},M=function(G){return I("source",O(G,"sourceLabelX","sourceLabelY"),G)},N=function(G){return I("target",O(G,"targetLabelX","targetLabelY"),G)},z=function(G){return p(k(G))},U=function(G){return p(A(G))},$=function(G){return p(S(G))},W=function(G){var K=E(G),_=p(E(G));if(G.isNode()){switch(G.pstyle("text-halign").value){case"left":_.x=-K.w-(K.leftPad||0);break;case"right":_.x=-(K.rightPad||0);break}switch(G.pstyle("text-valign").value){case"top":_.y=-K.h-(K.topPad||0);break;case"bottom":_.y=-(K.botPad||0);break}}return _},X=t.data.eleTxrCache=new Ko(t,{getKey:v,doesEleInvalidateKey:m,drawElement:x,getBoundingBox:k,getRotationPoint:D,getRotationOffset:z,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ie=t.data.lblTxrCache=new Ko(t,{getKey:y,drawElement:C,getBoundingBox:E,getRotationPoint:F,getRotationOffset:W,isVisible:B}),Y=t.data.slbTxrCache=new Ko(t,{getKey:g,drawElement:T,getBoundingBox:A,getRotationPoint:M,getRotationOffset:U,isVisible:B}),oe=t.data.tlbTxrCache=new Ko(t,{getKey:b,drawElement:w,getBoundingBox:S,getRotationPoint:N,getRotationOffset:$,isVisible:B}),ce=t.data.lyrTxrCache=new uw(t);t.onUpdateEleCalcs(function(G,K){X.invalidateElements(K),ie.invalidateElements(K),Y.invalidateElements(K),oe.invalidateElements(K),ce.invalidateElements(K);for(var _=0;_<K.length;_++){var P=K[_]._private;P.oldBackgroundTimestamp=P.backgroundTimestamp}});var ve=function(G){for(var K=0;K<G.length;K++)ce.enqueueElementRefinement(G[K].ele)};X.onDequeue(ve),ie.onDequeue(ve),Y.onDequeue(ve),oe.onDequeue(ve),e.webgl&&t.initWebgl(e,{getStyleKey:v,getLabelKey:y,getSourceLabelKey:g,getTargetLabelKey:b,drawElement:x,drawLabel:C,drawSourceLabel:T,drawTargetLabel:w,getElementBox:k,getLabelBox:E,getSourceLabelBox:A,getTargetLabelBox:S,getElementRotationPoint:D,getElementRotationOffset:z,getLabelRotationPoint:F,getSourceLabelRotationPoint:M,getTargetLabelRotationPoint:N,getLabelRotationOffset:W,getSourceLabelRotationOffset:U,getTargetLabelRotationOffset:$})}Ze.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Ze.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Ze.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Ze.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var vM=typeof Path2D<"u";Ze.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Ze.usePaths=function(){return vM&&this.pathsEnabled};Ze.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Ze.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Ze.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":jt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=e,r.height=t}return r};[cw,Rn,ni,Yp,wa,Ri,Ar,vw,Ii,tl,ww].forEach(function(e){Ve(Ze,e)});var gM=[{name:"null",impl:Xx},{name:"base",impl:ow},{name:"canvas",impl:pM}],mM=[{type:"layout",extensions:VL},{type:"renderer",extensions:gM}],Tw={},kw={};function _w(e,t,r){var n=r,i=function(k){lt("Can not register `"+t+"` for `"+e+"` since `"+k+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(Ds.prototype[t])return i(t);Ds.prototype[t]=r}else if(e==="collection"){if(rr.prototype[t])return i(t);rr.prototype[t]=r}else if(e==="layout"){for(var a=function(k){this.options=k,r.call(this,k),nt(this._private)||(this._private={}),this._private.cy=k.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var w=this.options;if(w&&w.animate){var k=this.animations;if(k)for(var E=0;E<k.length;E++)k[E].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(k){return k._private.cy},f={addEventFields:function(k,E){E.layout=k,E.cy=h(k),E.target=k},bubble:function(){return!0},parent:function(k){return h(k)}};Ve(o,{createEmitter:function(){return this._private.emitter=new Sc(f,this),this},emitter:function(){return this._private.emitter},on:function(k,E){return this.emitter().on(k,E),this},one:function(k,E){return this.emitter().one(k,E),this},once:function(k,E){return this.emitter().one(k,E),this},removeListener:function(k,E){return this.emitter().removeListener(k,E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(k,E){return this.emitter().emit(k,E),this}}),st.eventAliasesOn(o),n=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var d=Sw("renderer","base"),p=d.prototype,m=r,v=r.prototype,y=function(){d.apply(this,arguments),m.apply(this,arguments)},g=y.prototype;for(var b in p){var x=p[b],C=v[b]!=null;if(C)return i(b);g[b]=x}for(var T in v)g[T]=v[T];p.clientFunctions.forEach(function(w){g[w]=g[w]||function(){St("Renderer does not implement `renderer."+w+"()` on its prototype")}}),n=y}else if(e==="__proto__"||e==="constructor"||e==="prototype")return St(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return W1({map:Tw,keys:[e,t],value:n})}function Sw(e,t){return U1({map:Tw,keys:[e,t]})}function yM(e,t,r,n,i){return W1({map:kw,keys:[e,t,r,n],value:i})}function bM(e,t,r,n){return U1({map:kw,keys:[e,t,r,n]})}var zd=function(){if(arguments.length===2)return Sw.apply(null,arguments);if(arguments.length===3)return _w.apply(null,arguments);if(arguments.length===4)return bM.apply(null,arguments);if(arguments.length===5)return yM.apply(null,arguments);St("Invalid extension access syntax")};Ds.prototype.extension=zd;mM.forEach(function(e){e.extensions.forEach(function(t){_w(e.type,t.name,t.impl)})});var Mu=function(){if(!(this instanceof Mu))return new Mu;this.length=0},pa=Mu.prototype;pa.instanceString=function(){return"stylesheet"};pa.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};pa.css=function(e,t){var r=this.length-1;if($e(e))this[r].properties.push({name:e,value:t});else if(nt(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(s!=null){var l=Qt.properties[o]||Qt.properties[gc(o)];if(l!=null){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this};pa.style=pa.css;pa.generateStyle=function(e){var t=new Qt(e);return this.appendToStyle(t)};pa.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var xM="3.33.1",Ai=function(t){if(t===void 0&&(t={}),nt(t))return new Ds(t);if($e(t))return zd.apply(zd,arguments)};Ai.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Ai),e.apply(null,t),this};Ai.warnings=function(e){return Q1(e)};Ai.version=xM;Ai.stylesheet=Ai.Stylesheet=Mu;var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ew(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ql={exports:{}},Hf,t0;function wM(){if(t0)return Hf;t0=1;var e="Expected a function",t="__lodash_hash_undefined__",r="[object Function]",n="[object GeneratorFunction]",i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=typeof vi=="object"&&vi&&vi.Object===Object&&vi,s=typeof self=="object"&&self&&self.Object===Object&&self,l=o||s||Function("return this")();function u(q,H){return q==null?void 0:q[H]}function c(q){var H=!1;if(q!=null&&typeof q.toString!="function")try{H=!!(q+"")}catch{}return H}var h=Array.prototype,f=Function.prototype,d=Object.prototype,p=l["__core-js_shared__"],m=(function(){var q=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""})(),v=f.toString,y=d.hasOwnProperty,g=d.toString,b=RegExp("^"+v.call(y).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=h.splice,C=ve(l,"Map"),T=ve(Object,"create");function w(q){var H=-1,Z=q?q.length:0;for(this.clear();++H<Z;){var ne=q[H];this.set(ne[0],ne[1])}}function k(){this.__data__=T?T(null):{}}function E(q){return this.has(q)&&delete this.__data__[q]}function A(q){var H=this.__data__;if(T){var Z=H[q];return Z===t?void 0:Z}return y.call(H,q)?H[q]:void 0}function S(q){var H=this.__data__;return T?H[q]!==void 0:y.call(H,q)}function B(q,H){var Z=this.__data__;return Z[q]=T&&H===void 0?t:H,this}w.prototype.clear=k,w.prototype.delete=E,w.prototype.get=A,w.prototype.has=S,w.prototype.set=B;function D(q){var H=-1,Z=q?q.length:0;for(this.clear();++H<Z;){var ne=q[H];this.set(ne[0],ne[1])}}function I(){this.__data__=[]}function O(q){var H=this.__data__,Z=Y(H,q);if(Z<0)return!1;var ne=H.length-1;return Z==ne?H.pop():x.call(H,Z,1),!0}function F(q){var H=this.__data__,Z=Y(H,q);return Z<0?void 0:H[Z][1]}function M(q){return Y(this.__data__,q)>-1}function N(q,H){var Z=this.__data__,ne=Y(Z,q);return ne<0?Z.push([q,H]):Z[ne][1]=H,this}D.prototype.clear=I,D.prototype.delete=O,D.prototype.get=F,D.prototype.has=M,D.prototype.set=N;function z(q){var H=-1,Z=q?q.length:0;for(this.clear();++H<Z;){var ne=q[H];this.set(ne[0],ne[1])}}function U(){this.__data__={hash:new w,map:new(C||D),string:new w}}function $(q){return ce(this,q).delete(q)}function W(q){return ce(this,q).get(q)}function X(q){return ce(this,q).has(q)}function ie(q,H){return ce(this,q).set(q,H),this}z.prototype.clear=U,z.prototype.delete=$,z.prototype.get=W,z.prototype.has=X,z.prototype.set=ie;function Y(q,H){for(var Z=q.length;Z--;)if(P(q[Z][0],H))return Z;return-1}function oe(q){if(!ee(q)||G(q))return!1;var H=V(q)||c(q)?b:a;return H.test(K(q))}function ce(q,H){var Z=q.__data__;return se(H)?Z[typeof H=="string"?"string":"hash"]:Z.map}function ve(q,H){var Z=u(q,H);return oe(Z)?Z:void 0}function se(q){var H=typeof q;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?q!=="__proto__":q===null}function G(q){return!!m&&m in q}function K(q){if(q!=null){try{return v.call(q)}catch{}try{return q+""}catch{}}return""}function _(q,H){if(typeof q!="function"||H&&typeof H!="function")throw new TypeError(e);var Z=function(){var ne=arguments,te=H?H.apply(this,ne):ne[0],re=Z.cache;if(re.has(te))return re.get(te);var ge=q.apply(this,ne);return Z.cache=re.set(te,ge),ge};return Z.cache=new(_.Cache||z),Z}_.Cache=z;function P(q,H){return q===H||q!==q&&H!==H}function V(q){var H=ee(q)?g.call(q):"";return H==r||H==n}function ee(q){var H=typeof q;return!!q&&(H=="object"||H=="function")}return Hf=_,Hf}var Wf,r0;function CM(){if(r0)return Wf;r0=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,l=typeof vi=="object"&&vi&&vi.Object===Object&&vi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),h=Object.prototype,f=h.toString,d=Math.max,p=Math.min,m=function(){return c.Date.now()};function v(T,w,k){var E,A,S,B,D,I,O=0,F=!1,M=!1,N=!0;if(typeof T!="function")throw new TypeError(e);w=C(w)||0,g(k)&&(F=!!k.leading,M="maxWait"in k,S=M?d(C(k.maxWait)||0,w):S,N="trailing"in k?!!k.trailing:N);function z(ve){var se=E,G=A;return E=A=void 0,O=ve,B=T.apply(G,se),B}function U(ve){return O=ve,D=setTimeout(X,w),F?z(ve):B}function $(ve){var se=ve-I,G=ve-O,K=w-se;return M?p(K,S-G):K}function W(ve){var se=ve-I,G=ve-O;return I===void 0||se>=w||se<0||M&&G>=S}function X(){var ve=m();if(W(ve))return ie(ve);D=setTimeout(X,$(ve))}function ie(ve){return D=void 0,N&&E?z(ve):(E=A=void 0,B)}function Y(){D!==void 0&&clearTimeout(D),O=0,E=I=A=D=void 0}function oe(){return D===void 0?B:ie(m())}function ce(){var ve=m(),se=W(ve);if(E=arguments,A=this,I=ve,se){if(D===void 0)return U(I);if(M)return D=setTimeout(X,w),z(I)}return D===void 0&&(D=setTimeout(X,w)),B}return ce.cancel=Y,ce.flush=oe,ce}function y(T,w,k){var E=!0,A=!0;if(typeof T!="function")throw new TypeError(e);return g(k)&&(E="leading"in k?!!k.leading:E,A="trailing"in k?!!k.trailing:A),v(T,w,{leading:E,maxWait:w,trailing:A})}function g(T){var w=typeof T;return!!T&&(w=="object"||w=="function")}function b(T){return!!T&&typeof T=="object"}function x(T){return typeof T=="symbol"||b(T)&&f.call(T)==r}function C(T){if(typeof T=="number")return T;if(x(T))return t;if(g(T)){var w=typeof T.valueOf=="function"?T.valueOf():T;T=g(w)?w+"":w}if(typeof T!="string")return T===0?T:+T;T=T.replace(n,"");var k=a.test(T);return k||o.test(T)?s(T.slice(2),k?2:8):i.test(T)?t:+T}return Wf=y,Wf}var TM=Ql.exports,n0;function kM(){return n0||(n0=1,(function(e,t){(function(n,i){e.exports=i(wM(),CM())})(TM,function(r,n){return(function(i){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return i[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=a,o.i=function(s){return s},o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=12)})([(function(i,a,o){i.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return u.filter(function(h){return h!=null}).forEach(function(h){Object.keys(h).forEach(function(f){return s[f]=h[f]})}),s}}),(function(i,a,o){var s=o(10),l=o(0);i.exports=function(u){var c=this;return new s(l({cy:c},u))}}),(function(i,a,o){function s(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var c=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,c),window.addEventListener("touchmove",this.preventDefault,c),window.addEventListener("wheel",this.preventDefault,c)}return this}function l(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var c=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,c),window.removeEventListener("touchmove",this.preventDefault,c),window.removeEventListener("wheel",this.preventDefault,c)}return this}function u(){var c=this.cy;return this.lastPanningEnabled=c.panningEnabled(),this.lastZoomingEnabled=c.zoomingEnabled(),this.lastBoxSelectionEnabled=c.boxSelectionEnabled(),this}i.exports={disableGestures:s,resetGestures:l,saveGestureState:u}}),(function(i,a,o){function s(){var l=this,u=this.cy,c=this.options;return this.addListener(u,"drag",function(){return l.grabbingNode=!0}),this.addListener(u,"free",function(){return l.grabbingNode=!1}),this.addListener(u,"tapstart","node",function(h){var f=h.target;l.drawMode&&l.start(f)}),this.addListener(u,"tapdrag",function(h){l.update(h.position)}),this.addListener(u,"tapdragover","node",function(h){c.snap||l.preview(h.target)}),this.addListener(u,"tapdragout","node",function(h){c.snap||l.unpreview(h.target)}),this.addListener(u,"tapend",function(){l.stop()}),this}i.exports={addCytoscapeListeners:s}}),(function(i,a,o){var s={canConnect:function(u,c){return!u.same(c)},edgeParams:function(u,c){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0};i.exports=s}),(function(i,a,o){function s(c){var h=this.cy;return this.drawMode=c??!this.drawMode,this.drawMode?(this.prevUngrabifyState=h.autoungrabify(),h.autoungrabify(!0),this.emit("drawon")):(h.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this}function l(){return this.toggleDrawMode(!0)}function u(){return this.toggleDrawMode(!1)}i.exports={toggleDrawMode:s,enableDrawMode:l,disableDrawMode:u}}),(function(i,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l=o(0),u=function(g){return(typeof g>"u"?"undefined":s(g))===s("")},c=function(g){return(typeof g>"u"?"undefined":s(g))===s([])&&g.length!=null};function h(y,g,b){var x={};return l(x,g,y),l(x.data,g.data,y.data),u(g.classes)?x.classes=g.classes+" "+b:c(g.classes)?x.classes=g.classes.join(" ")+" "+b:x.classes=b,x}function f(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g=this.cy;this.options;var b=this.presumptiveTargets,x=this.previewEles,C=this.active,T=this.sourceNode,w=this.targetNode,k=y?"eh-preview":"",E=g.collection(),A=this.canConnect(w);if(C&&A){if(!w||w.size()===0){x.remove(),this.emit("cancel",this.mp(),T,b);return}if(!y){x.removeClass("eh-preview").style("events",""),this.emit("complete",this.mp(),T,w,x);return}var S=g.add(h({group:"edges",data:{source:T.id(),target:w.id()}},this.edgeParams(w),k));return E=E.merge(S),y?(this.previewEles=E,E.style("events","no")):(E.style("events",""),this.emit("complete",this.mp(),T,w,E)),this}}function d(){return this.makeEdges(!0),this}function p(){return this.previewEles.nonempty()&&this.previewEles.inside()}function m(){return this.previewShown()&&this.previewEles.remove(),this}function v(){var y=this,g=this.sourceNode,b=this.ghostNode,x=this.cy,C=this.mx,T=this.my,w=C,k=T,E=void 0,A=void 0;if(g)return(!b||b.length===0||b.removed())&&(A=this.ghostEles=x.collection(),x.batch(function(){b=y.ghostNode=x.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}}),b.style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var S={};E=x.add(l({},S,{group:"edges",data:l({},S.data,{source:g.id(),target:b.id()}),classes:"eh-ghost eh-ghost-edge"})),E.style({events:"no"})}),A.merge(b).merge(E)),b.position({x:w,y:k}),this}i.exports={makeEdges:f,makePreview:d,removePreview:m,previewShown:p,updateEdge:v}}),(function(i,a,o){function s(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this}function l(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}i.exports={disableEdgeEvents:s,enableEdgeEvents:l}}),(function(i,a,o){function s(){return this.enabled=!0,this.emit("enable"),this}function l(){return this.enabled=!1,this.emit("disable"),this}i.exports={enable:s,disable:l}}),(function(i,a,o){var s=o(13),l=Math.sqrt(2);function u(g){var b=this.previewEles,x=this.ghostEles,C=function(B){return b.anySame(B)},T=function(B){return x.anySame(B)},w=function(B){return C(B)||T(B)},k=this.enabled,E=this.active,A=this.grabbingNode;return k&&!E&&!A&&g!=null&&g.nonempty()&&!w(g)}function c(g){return this.canStartOn(g)&&this.drawMode}function h(g){return this.canStartOn(g)&&!this.drawMode}function f(g){var b=this;if(this.canStartOn(g)){this.active=!0,this.sourceNode=g,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var x=function(T){return T.id()};this.canConnect=s(function(C){return b.options.canConnect(b.sourceNode,C)},x),this.edgeParams=s(function(C){return b.options.edgeParams(b.sourceNode,C)},x),this.emit("start",this.hp(),g)}}function d(g){if(this.active){var b=g;return this.mx=b.x,this.my=b.y,this.updateEdge(),this.throttledSnap(),this}}function p(){if(!this.active||!this.options.snap)return!1;var g=this.cy,b=this.targetNode,x=this.options.snapThreshold,C=this.mp(),T=this.previewEles,w=this.ghostNode,k=function(Y){return l*Math.max(Y.outerWidth(),Y.outerHeight())/2},E=function(Y,oe,ce,ve){var se=ce-Y,G=ve-oe;return se*se+G*G},A=function(Y,oe){return E(Y.x,Y.y,oe.x,oe.y)},S=function(Y){return A(Y.position(),C)},B=function(Y){var oe=k(Y),ce=oe+x;return ce*ce},D=function(Y){return S(Y)<=B(Y)},I=function(Y){var oe=Y.position(),ce=Y.outerWidth()/2,ve=Y.outerHeight()/2,se=oe.x,G=oe.y,K=C.x,_=C.y,P=se-ce,V=se+ce,ee=G-ve,q=G+ve,H=P<=K&&K<=V,Z=ee<=_&&_<=q;if(H&&Z)return 0;if(H){var ne=_-ee,te=_-q;return Math.min(ne*ne,te*te)}else if(Z){var re=K-P,ge=K-V;return Math.min(re*re,ge*ge)}else return K<P&&_<ee?E(K,_,P,ee):K>V&&_<ee?E(K,_,V,ee):K<P&&_>q?E(K,_,P,q):E(K,_,V,q)},O=function(Y,oe){return I(Y)-I(oe)},F=O,M=!1,N=function(Y){var oe=C,ce=Y.outerWidth(),ve=ce/2,se=Y.outerHeight(),G=se/2,K=Y.position(),_=K.x-ve,P=K.x+ve,V=K.y-G,ee=K.y+G;return _<=oe.x&&oe.x<=P&&V<=oe.y&&oe.y<=ee},z=function(Y){return Y.same(T)||Y.same(w)},U=g.nodes(function(ie){return!z(ie)&&D(ie)}).sort(F),$=!1;b.nonempty()&&!D(b)&&this.unpreview(b);for(var W=0;W<U.length;W++){var X=U[W];if(!(X.isParent()&&N(X))&&!(X.isChild()&&!N(X.parent()))&&(X.same(b)||this.preview(X,M))){$=!0;break}}return $}function m(g){var b=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,C=this.options,T=this.sourceNode,w=this.ghostNode,k=this.ghostEles,E=this.presumptiveTargets,A=this.previewEles,S=this.active,B=T,D=g.same(w),I=!this.canConnect(g),O=g.same(this.targetNode);if(!S||D||I||O)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var F=function(){b.targetNode=g,E.merge(g),g.addClass("eh-presumptive-target"),g.addClass("eh-target"),b.emit("hoverover",b.mp(),B,g),g.addClass("eh-preview"),k.addClass("eh-preview-active"),T.addClass("eh-preview-active"),g.addClass("eh-preview-active"),b.makePreview(),b.emit("previewon",b.mp(),B,g,A)};return x&&C.hoverDelay>0?this.previewTimeout=setTimeout(F,C.hoverDelay):F(),!0}function v(g){if(this.active){var b=this.previewTimeout,x=this.sourceNode,C=this.previewEles,T=this.ghostEles,w=this.cy;clearTimeout(b),this.previewTimeout=null;var k=x;return g.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),T.removeClass("eh-preview-active"),x.removeClass("eh-preview-active"),this.targetNode=w.collection(),this.removePreview(k,g),this.emit("hoverout",this.mp(),k,g),this.emit("previewoff",this.mp(),k,g,C),this}}function y(){if(this.active){var g=this.sourceNode,b=this.targetNode,x=this.ghostEles,C=this.presumptiveTargets;return clearTimeout(this.previewTimeout),g.removeClass("eh-source eh-preview-active"),b.removeClass("eh-target eh-preview eh-hover eh-preview-active"),C.removeClass("eh-presumptive-target"),this.makeEdges(),x.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),g),this}}i.exports={start:f,update:d,preview:m,unpreview:v,stop:y,snap:p,canStartOn:u,canStartDrawModeOn:c,canStartNonDrawModeOn:h}}),(function(i,a,o){var s=o(4),l=o(0),u=o(14),c=o(2),h=o(3),f=o(5),d=o(6),p=o(8),m=o(9),v=o(11),y=o(7);function g(C){var T=C.cy;this.cy=T,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=l({},s,C),this.saveGestureState(),this.addListeners(),this.throttledSnap=u(this.snap.bind(this),1e3/C.snapFrequency),this.preventDefault=function(E){return E.preventDefault()},this.canConnect=function(){return!1};var w=!1;try{var k=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,k)}catch{}w?this.windowListenerOptions={capture:!0,passive:!1}:this.windowListenerOptions=!0}var b=g.prototype={},x=function(T){return l(b,T)};b.destroy=function(){this.removeListeners()},b.setOptions=function(C){l(this.options,C)},b.mp=function(){return{x:this.mx,y:this.my}},b.hp=function(){return{x:this.hx,y:this.hy}},b.clearCollections=function(){var C=this.cy;this.previewEles=C.collection(),this.ghostEles=C.collection(),this.ghostNode=C.collection(),this.sourceNode=C.collection(),this.targetNode=C.collection(),this.presumptiveTargets=C.collection()},[c,h,f,d,p,m,v,y].forEach(x),i.exports=g}),(function(i,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};function l(){var m=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",function(){return m.destroy()}),this}function u(){for(var m=this.listeners.length-1;m>=0;m--){var v=this.listeners[m];this.removeListener(v.target,v.event,v.selector,v.callback,v.options)}return this}function c(m,v,y,g,b){return(typeof y>"u"?"undefined":s(y))!==s("")&&(g=y,b=g,y=null),b==null&&(b=!1),{target:m,event:v,selector:y,callback:g,options:b}}function h(m){return m instanceof Element}function f(m,v,y,g,b){var x=c(m,v,y,g,b);return this.listeners.push(x),h(x.target)?x.target.addEventListener(x.event,x.callback,x.options):x.selector?x.target.addListener(x.event,x.selector,x.callback,x.options):x.target.addListener(x.event,x.callback,x.options),this}function d(m,v,y,g,b){for(var x=c(m,v,y,g,b),C=this.listeners.length-1;C>=0;C--){var T=this.listeners[C];if(x.target===T.target&&x.event===T.event&&(x.selector==null||x.selector===T.selector)&&(x.callback==null||x.callback===T.callback)){this.listeners.splice(C,1),h(x.target)?x.target.removeEventListener(x.event,x.callback,x.options):x.selector?x.target.removeListener(x.event,x.selector,x.callback,x.options):x.target.removeListener(x.event,x.callback,x.options);break}}return this}function p(m,v){for(var y=this.cy,g=arguments.length,b=Array(g>2?g-2:0),x=2;x<g;x++)b[x-2]=arguments[x];return y.emit({type:"eh"+m,position:v},b),this}i.exports={addListener:f,addListeners:l,removeListener:d,removeListeners:u,emit:p}}),(function(i,a,o){var s=o(1),l=function(c){c&&c("core","edgehandles",s)};typeof cytoscape<"u"&&l(cytoscape),i.exports=l}),(function(i,a){i.exports=r}),(function(i,a){i.exports=n})])})})(Ql)),Ql.exports}var _M=kM();const SM=Ew(_M),Zp={"Content-Type":"application/json"};async function Qp(e){const n=(e.headers.get("content-type")||"").includes("application/json")?await e.json():await e.text();if(!e.ok){const i=n&&n.error?n.error:e.statusText;throw new Error(i||"Request failed")}return n}async function dn(e){const t=await fetch(e,{method:"GET",headers:Zp});return Qp(t)}async function Jp(e,t,r={}){const n=await fetch(e,{method:t,headers:Zp,body:JSON.stringify(r)});return Qp(n)}async function gr(e,t={}){return Jp(e,"POST",t)}async function EM(e,t={}){return Jp(e,"PUT",t)}async function AM(){return dn("/api/agents")}async function Aw(e){return gr("/api/agents/activate",{agentId:e})}async function BM(){return dn("/api/tickets")}async function LM(e){return gr("/api/tickets",e)}async function DM(e,t){return EM(`/api/tickets/${encodeURIComponent(e)}`,t)}async function MM(){return dn("/api/features")}async function FM(e){return gr("/api/features",e)}async function PM(){return dn("/api/modules/graph")}async function RM(e={}){return gr("/api/modules/detect",e)}async function IM(e){return gr("/api/modules/links",e)}async function OM(e){return gr("/api/canvas/export",e)}async function NM(){return dn("/api/terminal/history")}async function $M(e){return gr("/api/terminal/execute",e)}async function zM(){return Jp("/api/terminal/history","DELETE")}async function qM(){return dn("/api/exports")}async function VM(){return dn("/api/stats")}async function HM(){const e=await fetch("/data/interview-sections.json",{method:"GET",headers:Zp,cache:"no-cache"});return Qp(e)}async function WM(){return dn("/api/export/markdown")}async function UM(){return dn("/api/cli/sessions")}async function GM(e){return dn(`/api/cli/sessions/${encodeURIComponent(e)}`)}async function jM(){return gr("/api/runbooks/interview/start")}async function KM(e){return gr("/api/runbooks/interview/answer",e)}async function YM(e={}){return gr("/api/runbooks/generate",e)}async function XM(e){return gr("/api/specs/generate",e)}async function ZM(e){return gr("/api/claude/execute",e)}async function QM(e,{refresh:t}={}){const r=t?`/api/diagrams/${encodeURIComponent(e)}?refresh=1`:`/api/diagrams/${encodeURIComponent(e)}`;return dn(r)}async function JM(e){return gr("/api/api-spec/generate",e)}async function eF(e){return gr("/api/api-spec/export",e)}async function tF(e={}){return gr("/api/api-spec/test",e)}async function rF(){return gr("/api/storybook/start")}function nF(e){if(!e)return;(this.typeSectionMap[e]||[]).forEach(r=>{this.currentSectionOrder.includes(r)||this.currentSectionOrder.push(r)})}function iF(e){if(!e)return;const t=Object.keys(this.frameworkSectionMap).find(n=>n.toLowerCase()===String(e).toLowerCase());if(!t)return;(this.frameworkSectionMap[t]||[]).forEach(n=>{this.currentSectionOrder.includes(n)||this.currentSectionOrder.push(n)})}function aF(e){if(!e)return;const t=Object.keys(this.languageFrameworks).find(i=>i.toLowerCase()===String(e).toLowerCase()),r=t?this.languageFrameworks[t]:["None/Custom"],n=this.currentQuestions.find(i=>i.id==="preferred-framework");n&&(n.options=r,r.includes(n.answer)||(n.answer="",this.questionAnswers["preferred-framework"]=""))}function oF(e){if(!e||this.completedSections.includes(e))return;const t=this.getSection(e);if(!(!t||!t.questions.every(n=>{if(n.required===!1)return!0;const i=this.questionAnswers[n.id];return i==null?!1:String(i).trim().length>0})))if(this.completedSections.push(e),this.activeSectionIndex<this.currentSectionOrder.length-1){this.activeSectionIndex+=1;const n=this.currentSectionOrder[this.activeSectionIndex];this.enqueueSection(n),this.currentPhase=this.getSectionTitle(n)}else this.currentPhase="Complete"}function sF(e){!e||!e.id||(this.questionAnswers[e.id]=e.answer,e.id==="project-type"&&e.answer&&this.extendSectionsForProjectType(e.answer),e.id==="primary-language"&&e.answer&&this.updateFrameworkOptions(e.answer),e.id==="preferred-framework"&&e.answer&&this.extendSectionsForFramework(e.answer),this.advanceSectionIfComplete(e.sectionId))}function lF(){const e={};return Object.entries(this.questionAnswers).forEach(([t,r])=>{r!=null&&String(r).trim().length>0&&(e[t]=r)}),e}function uF(){const e=this.collectAnswers();return{generatedAt:new Date().toISOString(),questionAnswers:e,project:{name:e["project-name"]||"Untitled Project",type:e["project-type"]||"Unknown",goal:e["project-purpose"]||e["value-proposition"]||""},technical:{language:e["primary-language"]||null,framework:e["preferred-framework"]||null,stack:e["supporting-libraries"]||null,architecture:{current:e["current-architecture"]||null,target:e["target-architecture-vision"]||null,dataStores:e["data-sources"]||null,integrations:e["integration-providers"]||e["integration-consumers"]||null,testingStrategy:e["testing-strategy"]||null,observability:e["observability-tooling"]||null}},modules:this.modules,canvas:{edges:this.moduleEdges,summary:this.moduleSummary},features:this.features,tickets:this.tickets}}function cF(e=""){if(!e)return"";const t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").replace(/\n{2,}/g,`

`).trim()}function Bw(e,t){const r=e&&e.trim()?e:"opnix-export.md",n=new Blob([t],{type:"text/markdown"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=r,i.click(),URL.revokeObjectURL(i.href)}function hF(){const e=(this.modules||[]).map(r=>{const n=r.dependencies&&r.dependencies.length?r.dependencies.join(", "):"None",i=r.externalDependencies&&r.externalDependencies.length?r.externalDependencies.join(", "):"None";return`
      <h4>${r.name}</h4>
      <p>Health: ${r.health||"n/a"}%</p>
      <p>Coverage: ${r.coverage||0}%</p>
      <p>Dependencies: ${n}</p>
      <p>External: ${i}</p>
    `}).join(""),t={overview:`<h3>Opnix Statistics</h3>
      <ul>
        <li>Total Tickets: ${(this.tickets||[]).length}</li>
        <li>Total Features: ${(this.features||[]).length}</li>
        <li>Modules Discovered: ${(this.modules||[]).length}</li>
        <li>Dependencies: ${(this.moduleEdges||[]).length}</li>
      </ul>`,modules:`<h3>Module Documentation</h3>${e}`,api:`<h3>API Documentation</h3>
      <pre>${this.apiSpecContent||"Generate API spec first"}</pre>`,features:`<h3>Feature Specifications</h3>
      ${(this.features||[]).map(r=>`
        <h4>${r.title}</h4>
        <p>${r.description}</p>
        <p><strong>Status:</strong> ${r.status||"proposed"}</p>
        <p><strong>Module:</strong> ${this.getModuleName(r.moduleId)}</p>
      `).join("")}`};this.generatedDocs=t[this.docType]||"",this.docTitle=`${this.docType.charAt(0).toUpperCase()}${this.docType.slice(1)} Documentation`,this.addTask("Documentation Expert","Documentation generated","complete")}function fF(){const e=cF(this.generatedDocs||"");Bw("opnix-docs.md",e)}function ev(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ca=ev();function Lw(e){Ca=e}const Dw=/[&<>"']/,dF=new RegExp(Dw.source,"g"),Mw=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pF=new RegExp(Mw.source,"g"),vF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i0=e=>vF[e];function Or(e,t){if(t){if(Dw.test(e))return e.replace(dF,i0)}else if(Mw.test(e))return e.replace(pF,i0);return e}const gF=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function mF(e){return e.replace(gF,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const yF=/(^|[^\[])\^/g;function dt(e,t){let r=typeof e=="string"?e:e.source;t=t||"";const n={replace:(i,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(yF,"$1"),r=r.replace(i,o),n},getRegex:()=>new RegExp(r,t)};return n}function a0(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const us={exec:()=>null};function o0(e,t){const r=e.replace(/\|/g,(a,o,s)=>{let l=!1,u=o;for(;--u>=0&&s[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function El(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function bF(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function s0(e,t,r,n){const i=t.href,a=t.title?Or(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const s={type:"link",raw:r,href:i,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,s}return{type:"image",raw:r,href:i,title:a,text:Or(o)}}function xF(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const n=r[1];return t.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[o]=a;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}class Fu{constructor(t){wt(this,"options");wt(this,"rules");wt(this,"lexer");this.options=t||Ca}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:El(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],i=xF(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=El(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=r[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);n=El(n.replace(/^ *>[ \t]?/gm,""),`
`);const i=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:r[0],tokens:a,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let s="",l="",u=!1;for(;t;){let c=!1;if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;s=r[0],t=t.substring(s.length);let h=r[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),f=t.split(`
`,1)[0],d=0;this.options.pedantic?(d=2,l=h.trimStart()):(d=r[2].search(/[^ ]/),d=d>4?1:d,l=h.slice(d),d+=r[1].length);let p=!1;if(!h&&/^ *$/.test(f)&&(s+=f+`
`,t=t.substring(f.length+1),c=!0),!c){const y=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),g=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),b=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),x=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;t;){const C=t.split(`
`,1)[0];if(f=C,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),b.test(f)||x.test(f)||y.test(f)||g.test(t))break;if(f.search(/[^ ]/)>=d||!f.trim())l+=`
`+f.slice(d);else{if(p||h.search(/[^ ]/)>=4||b.test(h)||x.test(h)||g.test(h))break;l+=`
`+f}!p&&!f.trim()&&(p=!0),s+=C+`
`,t=t.substring(C.length+1),h=f.slice(d)}}a.loose||(u?a.loose=!0:/\n *\n *$/.test(s)&&(u=!0));let m=null,v;this.options.gfm&&(m=/^\[[ xX]\] /.exec(l),m&&(v=m[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:s,task:!!m,checked:v,loose:!1,text:l,tokens:[]}),a.raw+=s}a.items[a.items.length-1].raw=s.trimEnd(),a.items[a.items.length-1].text=l.trimEnd(),a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const h=a.items[c].tokens.filter(d=>d.type==="space"),f=h.length>0&&h.some(d=>/\n.*\n/.test(d.raw));a.loose=f}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(t){const r=this.rules.block.table.exec(t);if(!r||!/[:|]/.test(r[2]))return;const n=o0(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),a=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const s of i)/^ *-+: *$/.test(s)?o.align.push("right"):/^ *:-+: *$/.test(s)?o.align.push("center"):/^ *:-+ *$/.test(s)?o.align.push("left"):o.align.push(null);for(const s of n)o.header.push({text:s,tokens:this.lexer.inline(s)});for(const s of a)o.rows.push(o0(s,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Or(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=El(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=bF(r[2],"()");if(o>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],a=o[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),s0(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const i=(n[2]||n[1]).replace(/\s+/g," "),a=r[i.toLowerCase()];if(!a){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return s0(n,a,n[0],this.lexer)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...i[0]].length-1;let s,l,u=o,c=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+o);(i=h.exec(r))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(l=[...s].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const f=[...i[0]][0].length,d=t.slice(0,o+i.index+f+l);if(Math.min(o,l)%2){const m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}const p=d.slice(2,-2);return{type:"strong",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return i&&a&&(n=n.substring(1,n.length-1)),n=Or(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=Or(r[1]),i="mailto:"+n):(n=Or(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,a;if(r[2]==="@")i=Or(r[0]),a="mailto:"+i;else{let o;do o=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(o!==r[0]);i=Or(r[0]),r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=Or(r[0]),{type:"text",raw:r[0],text:n}}}}const wF=/^(?: *(?:\n|$))+/,CF=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,TF=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,rl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kF=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Fw=/(?:[*+-]|\d{1,9}[.)])/,Pw=dt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Fw).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),tv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_F=/^[^\n]+/,rv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,SF=dt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",rv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),EF=dt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Fw).getRegex(),Pc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",nv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,AF=dt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",nv).replace("tag",Pc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Rw=dt(tv).replace("hr",rl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pc).getRegex(),BF=dt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Rw).getRegex(),iv={blockquote:BF,code:CF,def:SF,fences:TF,heading:kF,hr:rl,html:AF,lheading:Pw,list:EF,newline:wF,paragraph:Rw,table:us,text:_F},l0=dt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",rl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pc).getRegex(),LF={...iv,table:l0,paragraph:dt(tv).replace("hr",rl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",l0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pc).getRegex()},DF={...iv,html:dt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",nv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:us,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:dt(tv).replace("hr",rl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Pw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Iw=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,MF=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ow=/^( {2,}|\\)\n(?!\s*$)/,FF=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,nl="\\p{P}\\p{S}",PF=dt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,nl).getRegex(),RF=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,IF=dt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,nl).getRegex(),OF=dt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,nl).getRegex(),NF=dt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,nl).getRegex(),$F=dt(/\\([punct])/,"gu").replace(/punct/g,nl).getRegex(),zF=dt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),qF=dt(nv).replace("(?:-->|$)","-->").getRegex(),VF=dt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",qF).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Pu=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,HF=dt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Pu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Nw=dt(/^!?\[(label)\]\[(ref)\]/).replace("label",Pu).replace("ref",rv).getRegex(),$w=dt(/^!?\[(ref)\](?:\[\])?/).replace("ref",rv).getRegex(),WF=dt("reflink|nolink(?!\\()","g").replace("reflink",Nw).replace("nolink",$w).getRegex(),av={_backpedal:us,anyPunctuation:$F,autolink:zF,blockSkip:RF,br:Ow,code:MF,del:us,emStrongLDelim:IF,emStrongRDelimAst:OF,emStrongRDelimUnd:NF,escape:Iw,link:HF,nolink:$w,punctuation:PF,reflink:Nw,reflinkSearch:WF,tag:VF,text:FF,url:us},UF={...av,link:dt(/^!?\[(label)\]\((.*?)\)/).replace("label",Pu).getRegex(),reflink:dt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pu).getRegex()},qd={...av,escape:dt(Iw).replace("])","~|])").getRegex(),url:dt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},GF={...qd,br:dt(Ow).replace("{2,}","*").getRegex(),text:dt(qd.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Al={normal:iv,gfm:LF,pedantic:DF},Oo={normal:av,gfm:qd,breaks:GF,pedantic:UF};class kn{constructor(t){wt(this,"tokens");wt(this,"options");wt(this,"state");wt(this,"tokenizer");wt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ca,this.options.tokenizer=this.options.tokenizer||new Fu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Al.normal,inline:Oo.normal};this.options.pedantic?(r.block=Al.pedantic,r.inline=Oo.pedantic):this.options.gfm&&(r.block=Al.gfm,this.options.breaks?r.inline=Oo.breaks:r.inline=Oo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Al,inline:Oo}}static lex(t,r){return new kn(r).lex(t)}static lexInline(t,r){return new kn(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(s,l,u)=>l+"    ".repeat(u.length));let n,i,a,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(n=s.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(a=t,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const l=t.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(a=t.substring(0,s+1))}if(this.state.top&&(n=this.tokenizer.paragraph(a))){i=r[r.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n),o=a.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(t){const s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,a,o=t,s,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,s.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,o,u)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(a=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const h=t.slice(1);let f;this.options.extensions.startInline.forEach(d=>{f=d.call({lexer:this},h),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(a=t.substring(0,c+1))}if(n=this.tokenizer.inlineText(a)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}}class Ru{constructor(t){wt(this,"options");this.options=t||Ca}code(t,r,n){var a;const i=(a=(r||"").match(/^\S*/))==null?void 0:a[0];return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Or(i)+'">'+(n?t:Or(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:Or(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>
`}hr(){return`<hr>
`}list(t,r,n){const i=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+i+a+`>
`+t+"</"+i+`>
`}listitem(t,r,n){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const i=a0(t);if(i===null)return n;t=i;let a='<a href="'+t+'"';return r&&(a+=' title="'+r+'"'),a+=">"+n+"</a>",a}image(t,r,n){const i=a0(t);if(i===null)return n;t=i;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=">",a}text(t){return t}}class ov{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class _n{constructor(t){wt(this,"options");wt(this,"renderer");wt(this,"textRenderer");this.options=t||Ca,this.options.renderer=this.options.renderer||new Ru,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ov}static parse(t,r){return new _n(r).parse(t)}static parseInline(t,r){return new _n(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){const a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,s=this.options.extensions.renderers[o.type].call({parser:this},o);if(s!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=s||"";continue}}switch(a.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const o=a;n+=this.renderer.heading(this.parseInline(o.tokens),o.depth,mF(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=a;n+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=a;let s="",l="";for(let c=0;c<o.header.length;c++)l+=this.renderer.tablecell(this.parseInline(o.header[c].tokens),{header:!0,align:o.align[c]});s+=this.renderer.tablerow(l);let u="";for(let c=0;c<o.rows.length;c++){const h=o.rows[c];l="";for(let f=0;f<h.length;f++)l+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:o.align[f]});u+=this.renderer.tablerow(l)}n+=this.renderer.table(s,u);continue}case"blockquote":{const o=a,s=this.parse(o.tokens);n+=this.renderer.blockquote(s);continue}case"list":{const o=a,s=o.ordered,l=o.start,u=o.loose;let c="";for(let h=0;h<o.items.length;h++){const f=o.items[h],d=f.checked,p=f.task;let m="";if(f.task){const v=this.renderer.checkbox(!!d);u?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v+" "}):m+=v+" "}m+=this.parse(f.tokens,u),c+=this.renderer.listitem(m,p,!!d)}n+=this.renderer.list(c,s,l);continue}case"html":{const o=a;n+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=a;n+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=a,s=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<t.length&&t[i+1].type==="text";)o=t[++i],s+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);n+=r?this.renderer.paragraph(s):s;continue}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let i=0;i<t.length;i++){const a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=o||"";continue}}switch(a.type){case"escape":{const o=a;n+=r.text(o.text);break}case"html":{const o=a;n+=r.html(o.text);break}case"link":{const o=a;n+=r.link(o.href,o.title,this.parseInline(o.tokens,r));break}case"image":{const o=a;n+=r.image(o.href,o.title,o.text);break}case"strong":{const o=a;n+=r.strong(this.parseInline(o.tokens,r));break}case"em":{const o=a;n+=r.em(this.parseInline(o.tokens,r));break}case"codespan":{const o=a;n+=r.codespan(o.text);break}case"br":{n+=r.br();break}case"del":{const o=a;n+=r.del(this.parseInline(o.tokens,r));break}case"text":{const o=a;n+=r.text(o.text);break}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class cs{constructor(t){wt(this,"options");this.options=t||Ca}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}wt(cs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ba,Vd,zw;class jF{constructor(...t){Kv(this,ba);wt(this,"defaults",ev());wt(this,"options",this.setOptions);wt(this,"parse",cl(this,ba,Vd).call(this,kn.lex,_n.parse));wt(this,"parseInline",cl(this,ba,Vd).call(this,kn.lexInline,_n.parseInline));wt(this,"Parser",_n);wt(this,"Renderer",Ru);wt(this,"TextRenderer",ov);wt(this,"Lexer",kn);wt(this,"Tokenizer",Fu);wt(this,"Hooks",cs);this.use(...t)}walkTokens(t,r){var i,a;let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const s=o;for(const l of s.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of s.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{const s=o;n=n.concat(this.walkTokens(s.items,r));break}default:{const s=o;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{const u=s[l].flat(1/0);n=n.concat(this.walkTokens(u,r))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const o=r.renderers[a.name];o?r.renderers[a.name]=function(...s){let l=a.renderer.apply(this,s);return l===!1&&(l=o.apply(this,s)),l}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=r[a.level];o?o.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new Ru(this.defaults);for(const o in n.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const s=o,l=n.renderer[s],u=a[s];a[s]=(...c)=>{let h=l.apply(a,c);return h===!1&&(h=u.apply(a,c)),h||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new Fu(this.defaults);for(const o in n.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const s=o,l=n.tokenizer[s],u=a[s];a[s]=(...c)=>{let h=l.apply(a,c);return h===!1&&(h=u.apply(a,c)),h}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new cs;for(const o in n.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const s=o,l=n.hooks[s],u=a[s];cs.passThroughHooks.has(o)?a[s]=c=>{if(this.defaults.async)return Promise.resolve(l.call(a,c)).then(f=>u.call(a,f));const h=l.call(a,c);return u.call(a,h)}:a[s]=(...c)=>{let h=l.apply(a,c);return h===!1&&(h=u.apply(a,c)),h}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,o=n.walkTokens;i.walkTokens=function(s){let l=[];return l.push(o.call(this,s)),a&&(l=l.concat(a.call(this,s))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return kn.lex(t,r??this.defaults)}parser(t,r){return _n.parse(t,r??this.defaults)}}ba=new WeakSet,Vd=function(t,r){return(n,i)=>{const a={...i},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const s=cl(this,ba,zw).call(this,!!o.silent,!!o.async);if(typeof n>"u"||n===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>r(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(s);try{o.hooks&&(n=o.hooks.preprocess(n));let l=t(n,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let u=r(l,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(l){return s(l)}}},zw=function(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+Or(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}};const va=new jF;function ut(e,t){return va.parse(e,t)}ut.options=ut.setOptions=function(e){return va.setOptions(e),ut.defaults=va.defaults,Lw(ut.defaults),ut};ut.getDefaults=ev;ut.defaults=Ca;ut.use=function(...e){return va.use(...e),ut.defaults=va.defaults,Lw(ut.defaults),ut};ut.walkTokens=function(e,t){return va.walkTokens(e,t)};ut.parseInline=va.parseInline;ut.Parser=_n;ut.parser=_n.parse;ut.Renderer=Ru;ut.TextRenderer=ov;ut.Lexer=kn;ut.lexer=kn.lex;ut.Tokenizer=Fu;ut.Hooks=cs;ut.parse=ut;ut.options;ut.setOptions;ut.use;ut.walkTokens;ut.parseInline;_n.parse;kn.lex;ut.setOptions({mangle:!1,headerIds:!1});function Rc(){this.runbookSessionId=null,this.runbookCurrentQuestion=null,this.runbookDraftAnswer="",this.runbookResponses=[],this.runbookHistory=[],this.runbookMessages=[],this.runbookInterviewError="",this.runbookInterviewLoading=!1,this.runbookInterviewSubmitting=!1}async function KF(){if(!this.runbookGenerating){this.runbookModalOpen=!0,this.runbookGenerationError="",Rc.call(this),this.runbookInterviewLoading=!0;try{const e=await jM();if(!e||!e.sessionId)throw new Error(e&&e.error||"Failed to start runbook interview");this.runbookSessionId=e.sessionId,this.runbookCurrentQuestion=e.question||null,this.runbookResponses=Array.isArray(e.responses)?e.responses:[],this.runbookHistory=[]}catch(e){console.error("Runbook interview start failed",e),this.runbookInterviewError=e.message||"Failed to start runbook interview"}finally{this.runbookInterviewLoading=!1}}}async function YF(){if(this.runbookInterviewSubmitting||!this.runbookSessionId||!this.runbookCurrentQuestion)return;const e=this.runbookCurrentQuestion,t=(this.runbookDraftAnswer||"").trim();if(!t){this.runbookInterviewError="Please provide an answer before continuing.";return}this.runbookInterviewSubmitting=!0,this.runbookInterviewError="";try{const r=await KM({sessionId:this.runbookSessionId,questionId:this.runbookCurrentQuestion.id,answer:t});if(r.error)throw new Error(r.error||"Failed to submit answer");e&&(this.runbookHistory=[...this.runbookHistory||[],{questionId:e.id,prompt:e.prompt,answer:t}]),this.runbookResponses=Array.isArray(r.responses)?r.responses:this.runbookResponses,this.runbookMessages=Array.isArray(r.messages)?r.messages:[],this.runbookDraftAnswer="",r.completed?(this.runbookCurrentQuestion=null,await Ic.call(this,{sessionId:r.sessionId||this.runbookSessionId,responses:r.responses})):this.runbookCurrentQuestion=r.nextQuestion||null}catch(r){console.error("Runbook answer submit failed",r),this.runbookInterviewError=r.message||"Failed to submit answer"}finally{this.runbookInterviewSubmitting=!1}}async function XF(){await Ic.call(this,{sessionId:this.runbookSessionId,responses:this.runbookResponses})}function ZF(){this.runbookModalOpen=!1,Rc.call(this)}async function Ic(e={}){if(!this.runbookGenerating){this.runbookGenerating=!0,this.runbookGenerationError="";try{const t={},r=e.sessionId||this.runbookSessionId;r&&(t.sessionId=r),e.responses&&Array.isArray(e.responses)&&(t.responses=e.responses);const n=await YM(t);if(!n.success)throw new Error(n.error||"Failed to generate runbook");this.latestRunbook=n.runbook,this.latestRunbookContent=n.runbook.content,this.latestRunbookHtml=n.runbook.content?ut.parse(n.runbook.content):"",this.runbookMessages=Array.isArray(this.runbookMessages)?this.runbookMessages:[],this.addTask("Runbook Generator",`Runbook saved as ${n.runbook.filename}`,"complete"),await this.fetchExports(),this.runbookModalOpen=!1,Rc.call(this),this.runbookSessionId=n.runbook.sessionId||null}catch(t){console.error("Runbook generation failed",t);const r=t.message||"Failed to generate runbook";this.runbookModalOpen?this.runbookInterviewError=r:this.runbookGenerationError=r}finally{this.runbookGenerating=!1}}}async function QF(){this.runbookMessages=[],this.runbookHistory=[],this.runbookInterviewError="",await Ic.call(this,{})}function JF(e){return e.split(`
`).map(t=>t.trim().replace(/^[-*]\s*/,"")).filter(Boolean)}async function eP(){if(this.newFeature.title.trim())try{const e=JF(this.newFeature.criteriaText||""),t=await FM({title:this.newFeature.title,description:this.newFeature.description,moduleId:this.newFeature.moduleId,priority:this.newFeature.priority,acceptanceCriteria:e});this.features.push(t),this.showFeatureModal=!1,this.newFeature={title:"",description:"",moduleId:"",priority:"medium",criteriaText:""},this.addTask("Feature Manager",`Feature ${t.title} created`,"complete")}catch(e){console.error("Create feature failed",e)}}function tP(){if(!Array.isArray(this.features)||this.features.length===0){this.addTask("Feature Manager","No features available for reporting","complete");return}const t=["# Opnix Feature Report",`Generated: ${new Date().toISOString()}`,""],r=this.features.reduce((o,s)=>{const l=s.status||"unknown";return o[l]=(o[l]||0)+1,o},{});t.push("## Status Totals"),Object.entries(r).sort((o,s)=>o[0].localeCompare(s[0])).forEach(([o,s])=>{t.push(`- ${o}: ${s}`)}),t.push("","## Modules");const n=this.features.reduce((o,s)=>{const l=s.moduleId||"unassigned";return o[l]||(o[l]=[]),o[l].push(s),o},{});Object.entries(n).sort((o,s)=>o[0].localeCompare(s[0])).forEach(([o,s])=>{const l=this.getModuleName(o);t.push(`
### ${l} (${o})`),s.forEach(u=>{const c=Array.isArray(u.acceptanceCriteria)&&u.acceptanceCriteria.length?u.acceptanceCriteria.map(h=>`    - ${h}`).join(`
`):"    - Pending acceptance criteria";t.push(`
- ${u.title} [${u.status||"unknown"}]
  - Priority: ${u.priority||"unknown"}
  - Votes: ${u.votes||0}
  - Summary: ${u.description||"No description provided"}
${c}`)})});const i=new Blob([t.join(`
`)],{type:"text/markdown"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`opnix-feature-report-${Date.now()}.md`,a.click(),URL.revokeObjectURL(a.href),this.addTask("Feature Manager","Feature report exported","complete")}function rP(e){const t=this.selectedModules.indexOf(e);t>-1?this.selectedModules.splice(t,1):this.selectedModules.push(e)}async function nP(){const e=(this.claudeCommand||"").trim();if(!e)return;const t=/--ultrathink/i.test(e)?e:`${e} --ultrathink`;ea.call(this,"Claude CLI",t,"processing");try{const r=await ZM({command:t});this.claudeLastResponse=r.result||"Command executed",ea.call(this,"Claude CLI",this.claudeLastResponse,"complete"),r.audit&&(this.latestAudit=r.audit,console.group("Opnix Audit"),console.table(r.audit.project||{}),console.table(r.audit.ticketStats||{}),console.groupEnd(),ea.call(this,"Audit","Initial audit artefacts generated","complete"),await Promise.all([this.fetchModulesGraph(),this.fetchExports(),this.fetchStats()]))}catch(r){console.error("Claude command failed",r),ea.call(this,"Claude CLI","Execution failed","complete")}this.claudeCommand=""}async function iP(){if(!this.cliSessionsLoading){this.cliSessionsLoading=!0,this.cliSessionsError="";try{const e=await UM();this.cliSessions=Array.isArray(e.sessions)?e.sessions:[],this.cliGateLog=Array.isArray(e.gates)?e.gates:[],this.selectedCliSession&&(this.cliSessions.some(r=>r.sessionId===this.selectedCliSession)||qw.call(this))}catch(e){console.error("CLI sessions load error",e),this.cliSessionsError=e.message||"Failed to load CLI sessions"}finally{this.cliSessionsLoading=!1}}}async function aP(e){this.selectedCliSession=e,this.cliSessionDetailsError="",this.cliSessionDetails=null;try{this.cliSessionDetails=await GM(e)}catch(t){console.error("CLI session detail error",t),this.cliSessionDetailsError=t.message||"Failed to load session details"}}function qw(){this.selectedCliSession=null,this.cliSessionDetails=null,this.cliSessionDetailsError=""}async function oP(e){this.agents=this.agents.map(t=>({...t,status:t.id===e.id?"active":"idle",taskCount:t.id===e.id?t.taskCount+1:t.taskCount}));try{await Aw(e.id),ea.call(this,e.name,"Agent activated","complete")}catch(t){console.error("Agent activation error",t),ea.call(this,e.name,"Activation failed","complete")}}function ea(e,t,r="pending"){const n={id:Date.now()+Math.random(),agent:e,description:t,status:r};this.taskQueue=[n,...this.taskQueue].slice(0,5),r!=="complete"&&setTimeout(()=>{n.status="complete"},2e3)}function sP(){if(!this.cy)return;const e=[];this.modules.forEach(t=>{e.push({data:{id:t.id,label:t.name,coverage:t.coverage,health:t.health||60,dependencies:t.dependencies||[]}})}),this.moduleEdges.forEach(t=>{const r=t.id||`${t.source}->${t.target}`;e.push({data:{id:r,source:t.source,target:t.target}})}),this.cy.elements().remove(),this.cy.add(e),this.cy.layout({name:"cose",animate:!0,animationDuration:700,nodeRepulsion:4500,idealEdgeLength:140}).run()}function lP(e){const t=this.features.filter(n=>n.moduleId===e.id),r=this.tickets.filter(n=>(n.modules||[]).includes(e.id));console.table({module:e.name,features:t.length,tickets:r.length,coverage:e.coverage}),this.addTask("AI Engineer",`Analyzed ${e.name}`,"complete")}function uP(){const e=this.moduleEdges.reduce((t,r)=>(t[r.source]=t[r.source]||[],t[r.source].push(r.target),t),{});console.table(e),this.addTask("Backend Architect","Dependency map calculated","complete")}function cP(e){return this.tickets.filter(t=>(t.modules||[]).includes(e)).length}function hP(e){return this.features.filter(t=>t.moduleId===e).length}function fP(e){const t=this.moduleLookup[e];return t?t.name:"Unknown"}function Vw(e){return e>=80?"#10B981":e>=60?"#F59E0B":"#EF4444"}function dP(e){return{proposed:"#8B5CF6",approved:"#06B6D4","in-development":"#F59E0B",testing:"#EC4899",deployed:"#10B981"}[e]||"#7B8AA8"}function pP(){const e=document.getElementById("canvas-container");e&&(this.cy||(this.cy=Ai({container:e,elements:[],boxSelectionEnabled:!0,style:[{selector:"node",style:{"background-color":t=>Vw(t.data("health")||60),label:"data(label)",color:"#FAEBD7","text-valign":"center","text-halign":"center","text-wrap":"wrap","font-family":"JetBrains Mono","font-size":"12px",width:"140px",height:"90px","border-width":2,"border-color":"#06B6D4",padding:"10px"}},{selector:"edge",style:{"curve-style":"bezier","target-arrow-shape":"triangle","line-color":"#E94560","target-arrow-color":"#E94560",width:2}},{selector:"node:selected",style:{"background-color":"#FF8C3B","border-color":"#E94560","border-width":4}}],layout:{name:"cose",animate:!0,animationDuration:800,nodeRepulsion:4e3,idealEdgeLength:120},wheelSensitivity:.2}),this.cy.edgehandles&&(this.edgeHandles=this.cy.edgehandles({hoverDelay:150,handleSize:10,handleColor:"#FF8C3B",edgeType:()=>"flat",loopAllowed:()=>!1,edgeParams:()=>({data:{type:"dependency"}})}),this.cy.on("ehcomplete",async(t,r,n,i)=>{if(r.id()===n.id()){i.remove();return}await this.persistModuleLink(r.id(),n.id(),i)})),this.cy.on("tap","node",t=>{const r=t.target,n=this.modules.find(i=>i.id===r.id());n&&this.analyzeModule(n)})),sP.call(this))}function vP(e){if(!this.cy)return;const r={breadthfirst:{name:"breadthfirst",directed:!0,padding:10,spacingFactor:1.3},circle:{name:"circle",radius:280},cose:{name:"cose",nodeRepulsion:4e3,idealEdgeLength:140}}[e];r&&this.cy.layout(r).run()}function gP(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(s,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?s.concat(u.map(function(c){var h,f;return(f=(h=c.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):s},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(s){return s.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(s,l){var u=o.match(/(?:^|\n)( *)$/),c=u?u[1]:"",h=s;typeof s=="string"&&s.includes(`
`)&&(h=String(s).split(`
`).map(function(f,d){return d===0?f:""+c+f}).join(`
`)),o+=h+n[l+1]}),o}const mP="modulepreload",yP=function(e){return"/"+e},u0={},Lt=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(r.map(u=>{if(u=yP(u),u in u0)return;u0[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":mP,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var Jl={exports:{}},bP=Jl.exports,c0;function xP(){return c0||(c0=1,(function(e,t){(function(r,n){e.exports=n()})(bP,(function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",c="week",h="month",f="quarter",d="year",p="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(I){var O=["th","st","nd","rd"],F=I%100;return"["+I+(O[(F-20)%10]||O[F]||O[0])+"]"}},b=function(I,O,F){var M=String(I);return!M||M.length>=O?I:""+Array(O+1-M.length).join(F)+I},x={s:b,z:function(I){var O=-I.utcOffset(),F=Math.abs(O),M=Math.floor(F/60),N=F%60;return(O<=0?"+":"-")+b(M,2,"0")+":"+b(N,2,"0")},m:function I(O,F){if(O.date()<F.date())return-I(F,O);var M=12*(F.year()-O.year())+(F.month()-O.month()),N=O.clone().add(M,h),z=F-N<0,U=O.clone().add(M+(z?-1:1),h);return+(-(M+(F-N)/(z?N-U:U-N))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:h,y:d,w:c,d:u,D:p,h:l,m:s,s:o,ms:a,Q:f}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},C="en",T={};T[C]=g;var w="$isDayjsObject",k=function(I){return I instanceof B||!(!I||!I[w])},E=function I(O,F,M){var N;if(!O)return C;if(typeof O=="string"){var z=O.toLowerCase();T[z]&&(N=z),F&&(T[z]=F,N=z);var U=O.split("-");if(!N&&U.length>1)return I(U[0])}else{var $=O.name;T[$]=O,N=$}return!M&&N&&(C=N),N||!M&&C},A=function(I,O){if(k(I))return I.clone();var F=typeof O=="object"?O:{};return F.date=I,F.args=arguments,new B(F)},S=x;S.l=E,S.i=k,S.w=function(I,O){return A(I,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var B=(function(){function I(F){this.$L=E(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[w]=!0}var O=I.prototype;return O.parse=function(F){this.$d=(function(M){var N=M.date,z=M.utc;if(N===null)return new Date(NaN);if(S.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var U=N.match(v);if(U){var $=U[2]-1||0,W=(U[7]||"0").substring(0,3);return z?new Date(Date.UTC(U[1],$,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)):new Date(U[1],$,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)}}return new Date(N)})(F),this.init()},O.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},O.$utils=function(){return S},O.isValid=function(){return this.$d.toString()!==m},O.isSame=function(F,M){var N=A(F);return this.startOf(M)<=N&&N<=this.endOf(M)},O.isAfter=function(F,M){return A(F)<this.startOf(M)},O.isBefore=function(F,M){return this.endOf(M)<A(F)},O.$g=function(F,M,N){return S.u(F)?this[M]:this.set(N,F)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(F,M){var N=this,z=!!S.u(M)||M,U=S.p(F),$=function(se,G){var K=S.w(N.$u?Date.UTC(N.$y,G,se):new Date(N.$y,G,se),N);return z?K:K.endOf(u)},W=function(se,G){return S.w(N.toDate()[se].apply(N.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(G)),N)},X=this.$W,ie=this.$M,Y=this.$D,oe="set"+(this.$u?"UTC":"");switch(U){case d:return z?$(1,0):$(31,11);case h:return z?$(1,ie):$(0,ie+1);case c:var ce=this.$locale().weekStart||0,ve=(X<ce?X+7:X)-ce;return $(z?Y-ve:Y+(6-ve),ie);case u:case p:return W(oe+"Hours",0);case l:return W(oe+"Minutes",1);case s:return W(oe+"Seconds",2);case o:return W(oe+"Milliseconds",3);default:return this.clone()}},O.endOf=function(F){return this.startOf(F,!1)},O.$set=function(F,M){var N,z=S.p(F),U="set"+(this.$u?"UTC":""),$=(N={},N[u]=U+"Date",N[p]=U+"Date",N[h]=U+"Month",N[d]=U+"FullYear",N[l]=U+"Hours",N[s]=U+"Minutes",N[o]=U+"Seconds",N[a]=U+"Milliseconds",N)[z],W=z===u?this.$D+(M-this.$W):M;if(z===h||z===d){var X=this.clone().set(p,1);X.$d[$](W),X.init(),this.$d=X.set(p,Math.min(this.$D,X.daysInMonth())).$d}else $&&this.$d[$](W);return this.init(),this},O.set=function(F,M){return this.clone().$set(F,M)},O.get=function(F){return this[S.p(F)]()},O.add=function(F,M){var N,z=this;F=Number(F);var U=S.p(M),$=function(ie){var Y=A(z);return S.w(Y.date(Y.date()+Math.round(ie*F)),z)};if(U===h)return this.set(h,this.$M+F);if(U===d)return this.set(d,this.$y+F);if(U===u)return $(1);if(U===c)return $(7);var W=(N={},N[s]=n,N[l]=i,N[o]=r,N)[U]||1,X=this.$d.getTime()+F*W;return S.w(X,this)},O.subtract=function(F,M){return this.add(-1*F,M)},O.format=function(F){var M=this,N=this.$locale();if(!this.isValid())return N.invalidDate||m;var z=F||"YYYY-MM-DDTHH:mm:ssZ",U=S.z(this),$=this.$H,W=this.$m,X=this.$M,ie=N.weekdays,Y=N.months,oe=N.meridiem,ce=function(G,K,_,P){return G&&(G[K]||G(M,z))||_[K].slice(0,P)},ve=function(G){return S.s($%12||12,G,"0")},se=oe||function(G,K,_){var P=G<12?"AM":"PM";return _?P.toLowerCase():P};return z.replace(y,(function(G,K){return K||(function(_){switch(_){case"YY":return String(M.$y).slice(-2);case"YYYY":return S.s(M.$y,4,"0");case"M":return X+1;case"MM":return S.s(X+1,2,"0");case"MMM":return ce(N.monthsShort,X,Y,3);case"MMMM":return ce(Y,X);case"D":return M.$D;case"DD":return S.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return ce(N.weekdaysMin,M.$W,ie,2);case"ddd":return ce(N.weekdaysShort,M.$W,ie,3);case"dddd":return ie[M.$W];case"H":return String($);case"HH":return S.s($,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return se($,W,!0);case"A":return se($,W,!1);case"m":return String(W);case"mm":return S.s(W,2,"0");case"s":return String(M.$s);case"ss":return S.s(M.$s,2,"0");case"SSS":return S.s(M.$ms,3,"0");case"Z":return U}return null})(G)||U.replace(":","")}))},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(F,M,N){var z,U=this,$=S.p(M),W=A(F),X=(W.utcOffset()-this.utcOffset())*n,ie=this-W,Y=function(){return S.m(U,W)};switch($){case d:z=Y()/12;break;case h:z=Y();break;case f:z=Y()/3;break;case c:z=(ie-X)/6048e5;break;case u:z=(ie-X)/864e5;break;case l:z=ie/i;break;case s:z=ie/n;break;case o:z=ie/r;break;default:z=ie}return N?z:S.a(z)},O.daysInMonth=function(){return this.endOf(h).$D},O.$locale=function(){return T[this.$L]},O.locale=function(F,M){if(!F)return this.$L;var N=this.clone(),z=E(F,M,!0);return z&&(N.$L=z),N},O.clone=function(){return S.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},I})(),D=B.prototype;return A.prototype=D,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",h],["$y",d],["$D",p]].forEach((function(I){D[I[1]]=function(O){return this.$g(O,I[0],I[1])}})),A.extend=function(I,O){return I.$i||(I(O,B,A),I.$i=!0),A},A.locale=E,A.isDayjs=k,A.unix=function(I){return A(1e3*I)},A.en=T[C],A.Ls=T,A.p={},A}))})(Jl)),Jl.exports}var wP=xP();const CP=Ew(wP);var Uf={},h0;function TP(){return h0||(h0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,n=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,o=[".","/"];e.BLANK_URL="about:blank";function s(c){return o.indexOf(c[0])>-1}function l(c){var h=c.replace(i,"");return h.replace(r,function(f,d){return String.fromCharCode(d)})}function u(c){if(!c)return e.BLANK_URL;var h=l(c).replace(n,"").replace(i,"").trim();if(!h)return e.BLANK_URL;if(s(h))return h;var f=h.match(a);if(!f)return h;var d=f[0];return t.test(d)?e.BLANK_URL:h}e.sanitizeUrl=u})(Uf)),Uf}var kP=TP(),_P={value:()=>{}};function Hw(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new eu(r)}function eu(e){this._=e}function SP(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}eu.prototype=Hw.prototype={constructor:eu,on:function(e,t){var r=this._,n=SP(e+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=EP(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)r[i]=f0(r[i],e.name,t);else if(t==null)for(i in r)r[i]=f0(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new eu(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function EP(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function f0(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=_P,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Hd="http://www.w3.org/1999/xhtml";const d0={svg:"http://www.w3.org/2000/svg",xhtml:Hd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oc(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),d0.hasOwnProperty(t)?{space:d0[t],local:e}:e}function AP(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Hd&&t.documentElement.namespaceURI===Hd?t.createElement(e):t.createElementNS(r,e)}}function BP(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ww(e){var t=Oc(e);return(t.local?BP:AP)(t)}function LP(){}function sv(e){return e==null?LP:function(){return this.querySelector(e)}}function DP(e){typeof e!="function"&&(e=sv(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new qr(n,this._parents)}function MP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function FP(){return[]}function Uw(e){return e==null?FP:function(){return this.querySelectorAll(e)}}function PP(e){return function(){return MP(e.apply(this,arguments))}}function RP(e){typeof e=="function"?e=PP(e):e=Uw(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(n.push(e.call(l,l.__data__,u,o)),i.push(l));return new qr(n,i)}function Gw(e){return function(){return this.matches(e)}}function jw(e){return function(t){return t.matches(e)}}var IP=Array.prototype.find;function OP(e){return function(){return IP.call(this.children,e)}}function NP(){return this.firstElementChild}function $P(e){return this.select(e==null?NP:OP(typeof e=="function"?e:jw(e)))}var zP=Array.prototype.filter;function qP(){return Array.from(this.children)}function VP(e){return function(){return zP.call(this.children,e)}}function HP(e){return this.selectAll(e==null?qP:VP(typeof e=="function"?e:jw(e)))}function WP(e){typeof e!="function"&&(e=Gw(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new qr(n,this._parents)}function Kw(e){return new Array(e.length)}function UP(){return new qr(this._enter||this._groups.map(Kw),this._parents)}function Iu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Iu.prototype={constructor:Iu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GP(e){return function(){return e}}function jP(e,t,r,n,i,a){for(var o=0,s,l=t.length,u=a.length;o<u;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new Iu(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function KP(e,t,r,n,i,a,o){var s,l,u=new Map,c=t.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=t[s])&&(f[s]=d=o.call(l,l.__data__,s,t)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(e,a[s],s,a)+"",(l=u.get(d))?(n[s]=l,l.__data__=a[s],u.delete(d)):r[s]=new Iu(e,a[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(f[s])===l&&(i[s]=l)}function YP(e){return e.__data__}function XP(e,t){if(!arguments.length)return Array.from(this,YP);var r=t?KP:jP,n=this._parents,i=this._groups;typeof e!="function"&&(e=GP(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=n[u],h=i[u],f=h.length,d=ZP(e.call(c,c&&c.__data__,u,n)),p=d.length,m=s[u]=new Array(p),v=o[u]=new Array(p),y=l[u]=new Array(f);r(c,h,m,v,y,d,t);for(var g=0,b=0,x,C;g<p;++g)if(x=m[g]){for(g>=b&&(b=g+1);!(C=v[b])&&++b<p;);x._next=C||null}}return o=new qr(o,n),o._enter=s,o._exit=l,o}function ZP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QP(){return new qr(this._exit||this._groups.map(Kw),this._parents)}function JP(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function eR(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=r[l],c=n[l],h=u.length,f=s[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<i;++l)s[l]=r[l];return new qr(s,this._parents)}function tR(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function rR(e){e||(e=nR);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new qr(i,this._parents).order()}function nR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function aR(){return Array.from(this)}function oR(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function sR(){let e=0;for(const t of this)++e;return e}function lR(){return!this.node()}function uR(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function cR(e){return function(){this.removeAttribute(e)}}function hR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fR(e,t){return function(){this.setAttribute(e,t)}}function dR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pR(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function vR(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function gR(e,t){var r=Oc(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?hR:cR:typeof t=="function"?r.local?vR:pR:r.local?dR:fR)(r,t))}function Yw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mR(e){return function(){this.style.removeProperty(e)}}function yR(e,t,r){return function(){this.style.setProperty(e,t,r)}}function bR(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function xR(e,t,r){return arguments.length>1?this.each((t==null?mR:typeof t=="function"?bR:yR)(e,t,r??"")):so(this.node(),e)}function so(e,t){return e.style.getPropertyValue(t)||Yw(e).getComputedStyle(e,null).getPropertyValue(t)}function wR(e){return function(){delete this[e]}}function CR(e,t){return function(){this[e]=t}}function TR(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function kR(e,t){return arguments.length>1?this.each((t==null?wR:typeof t=="function"?TR:CR)(e,t)):this.node()[e]}function Xw(e){return e.trim().split(/^|\s+/)}function lv(e){return e.classList||new Zw(e)}function Zw(e){this._node=e,this._names=Xw(e.getAttribute("class")||"")}Zw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qw(e,t){for(var r=lv(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Jw(e,t){for(var r=lv(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function _R(e){return function(){Qw(this,e)}}function SR(e){return function(){Jw(this,e)}}function ER(e,t){return function(){(t.apply(this,arguments)?Qw:Jw)(this,e)}}function AR(e,t){var r=Xw(e+"");if(arguments.length<2){for(var n=lv(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?ER:t?_R:SR)(r,t))}function BR(){this.textContent=""}function LR(e){return function(){this.textContent=e}}function DR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function MR(e){return arguments.length?this.each(e==null?BR:(typeof e=="function"?DR:LR)(e)):this.node().textContent}function FR(){this.innerHTML=""}function PR(e){return function(){this.innerHTML=e}}function RR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function IR(e){return arguments.length?this.each(e==null?FR:(typeof e=="function"?RR:PR)(e)):this.node().innerHTML}function OR(){this.nextSibling&&this.parentNode.appendChild(this)}function NR(){return this.each(OR)}function $R(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zR(){return this.each($R)}function qR(e){var t=typeof e=="function"?e:Ww(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function VR(){return null}function HR(e,t){var r=typeof e=="function"?e:Ww(e),n=t==null?VR:typeof t=="function"?t:sv(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function WR(){var e=this.parentNode;e&&e.removeChild(this)}function UR(){return this.each(WR)}function GR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function KR(e){return this.select(e?jR:GR)}function YR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function XR(e){return function(t){e.call(this,t,this.__data__)}}function ZR(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function QR(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function JR(e,t,r){return function(){var n=this.__on,i,a=XR(t);if(n){for(var o=0,s=n.length;o<s;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function eI(e,t,r){var n=ZR(e+""),i,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?JR:QR,i=0;i<a;++i)this.each(s(n[i],t,r));return this}function eC(e,t,r){var n=Yw(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tI(e,t){return function(){return eC(this,e,t)}}function rI(e,t){return function(){return eC(this,e,t.apply(this,arguments))}}function nI(e,t){return this.each((typeof t=="function"?rI:tI)(e,t))}function*iI(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var tC=[null];function qr(e,t){this._groups=e,this._parents=t}function il(){return new qr([[document.documentElement]],tC)}function aI(){return this}qr.prototype=il.prototype={constructor:qr,select:DP,selectAll:RP,selectChild:$P,selectChildren:HP,filter:WP,data:XP,enter:UP,exit:QP,join:JP,merge:eR,selection:aI,order:tR,sort:rR,call:iR,nodes:aR,node:oR,size:sR,empty:lR,each:uR,attr:gR,style:xR,property:kR,classed:AR,text:MR,html:IR,raise:NR,lower:zR,append:qR,insert:HR,remove:UR,clone:KR,datum:YR,on:eI,dispatch:nI,[Symbol.iterator]:iI};function Kr(e){return typeof e=="string"?new qr([[document.querySelector(e)]],[document.documentElement]):new qr([[e]],tC)}function uv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function al(){}var Fs=.7,Ou=1/Fs,eo="\\s*([+-]?\\d+)\\s*",Ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oI=/^#([0-9a-f]{3,8})$/,sI=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),lI=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),uI=new RegExp(`^rgba\\(${eo},${eo},${eo},${Ps}\\)$`),cI=new RegExp(`^rgba\\(${En},${En},${En},${Ps}\\)$`),hI=new RegExp(`^hsl\\(${Ps},${En},${En}\\)$`),fI=new RegExp(`^hsla\\(${Ps},${En},${En},${Ps}\\)$`),p0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uv(al,Rs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v0,formatHex:v0,formatHex8:dI,formatHsl:pI,formatRgb:g0,toString:g0});function v0(){return this.rgb().formatHex()}function dI(){return this.rgb().formatHex8()}function pI(){return nC(this).formatHsl()}function g0(){return this.rgb().formatRgb()}function Rs(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?m0(t):r===3?new Pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sI.exec(e))?new Pr(t[1],t[2],t[3],1):(t=lI.exec(e))?new Pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uI.exec(e))?Bl(t[1],t[2],t[3],t[4]):(t=cI.exec(e))?Bl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hI.exec(e))?x0(t[1],t[2]/100,t[3]/100,1):(t=fI.exec(e))?x0(t[1],t[2]/100,t[3]/100,t[4]):p0.hasOwnProperty(e)?m0(p0[e]):e==="transparent"?new Pr(NaN,NaN,NaN,0):null}function m0(e){return new Pr(e>>16&255,e>>8&255,e&255,1)}function Bl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pr(e,t,r,n)}function vI(e){return e instanceof al||(e=Rs(e)),e?(e=e.rgb(),new Pr(e.r,e.g,e.b,e.opacity)):new Pr}function Wd(e,t,r,n){return arguments.length===1?vI(e):new Pr(e,t,r,n??1)}function Pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uv(Pr,Wd,rC(al,{brighter(e){return e=e==null?Ou:Math.pow(Ou,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fs:Math.pow(Fs,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pr(aa(this.r),aa(this.g),aa(this.b),Nu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y0,formatHex:y0,formatHex8:gI,formatRgb:b0,toString:b0}));function y0(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function gI(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function b0(){const e=Nu(this.opacity);return`${e===1?"rgb(":"rgba("}${aa(this.r)}, ${aa(this.g)}, ${aa(this.b)}${e===1?")":`, ${e})`}`}function Nu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function aa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ta(e){return e=aa(e),(e<16?"0":"")+e.toString(16)}function x0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function nC(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof al||(e=Rs(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new sn(o,s,l,e.opacity)}function mI(e,t,r,n){return arguments.length===1?nC(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uv(sn,mI,rC(al,{brighter(e){return e=e==null?Ou:Math.pow(Ou,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fs:Math.pow(Fs,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Pr(Gf(e>=240?e-240:e+120,i,n),Gf(e,i,n),Gf(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sn(w0(this.h),Ll(this.s),Ll(this.l),Nu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nu(this.opacity);return`${e===1?"hsl(":"hsla("}${w0(this.h)}, ${Ll(this.s)*100}%, ${Ll(this.l)*100}%${e===1?")":`, ${e})`}`}}));function w0(e){return e=(e||0)%360,e<0?e+360:e}function Ll(e){return Math.max(0,Math.min(1,e||0))}function Gf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cv=e=>()=>e;function iC(e,t){return function(r){return e+r*t}}function yI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function b7(e,t){var r=t-e;return r?iC(e,r>180||r<-180?r-360*Math.round(r/360):r):cv(isNaN(e)?t:e)}function bI(e){return(e=+e)==1?aC:function(t,r){return r-t?yI(t,r,e):cv(isNaN(t)?r:t)}}function aC(e,t){var r=t-e;return r?iC(e,r):cv(isNaN(e)?t:e)}const C0=(function e(t){var r=bI(t);function n(i,a){var o=r((i=Wd(i)).r,(a=Wd(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=aC(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n})(1);function hi(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jf=new RegExp(Ud.source,"g");function xI(e){return function(){return e}}function wI(e){return function(t){return e(t)+""}}function CI(e,t){var r=Ud.lastIndex=jf.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ud.exec(e))&&(i=jf.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:hi(n,i)})),r=jf.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?wI(l[0].x):xI(t):(t=l.length,function(u){for(var c=0,h;c<t;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}var T0=180/Math.PI,Gd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oC(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*T0,skewX:Math.atan(l)*T0,scaleX:o,scaleY:s}}var Dl;function TI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gd:oC(t.a,t.b,t.c,t.d,t.e,t.f)}function kI(e){return e==null||(Dl||(Dl=document.createElementNS("http://www.w3.org/2000/svg","g")),Dl.setAttribute("transform",e),!(e=Dl.transform.baseVal.consolidate()))?Gd:(e=e.matrix,oC(e.a,e.b,e.c,e.d,e.e,e.f))}function sC(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,p){if(u!==h||c!==f){var m=d.push("translate(",null,t,null,r);p.push({i:m-4,x:hi(u,h)},{i:m-2,x:hi(c,f)})}else(h||f)&&d.push("translate("+h+t+f+r)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:hi(u,c)})):c&&h.push(i(h)+"rotate("+c+n)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:hi(u,c)}):c&&h.push(i(h)+"skewX("+c+n)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:hi(u,h)},{i:m-2,x:hi(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,m=f.length,v;++p<m;)h[(v=f[p]).i]=v.x(d);return h.join("")}}}var _I=sC(TI,"px, ","px)","deg)"),SI=sC(kI,", ",")",")"),lo=0,Yo=0,No=0,lC=1e3,$u,Xo,zu=0,ga=0,Nc=0,Is=typeof performance=="object"&&performance.now?performance:Date,uC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hv(){return ga||(uC(EI),ga=Is.now()+Nc)}function EI(){ga=0}function qu(){this._call=this._time=this._next=null}qu.prototype=cC.prototype={constructor:qu,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?hv():+r)+(t==null?0:+t),!this._next&&Xo!==this&&(Xo?Xo._next=this:$u=this,Xo=this),this._call=e,this._time=r,jd()},stop:function(){this._call&&(this._call=null,this._time=1/0,jd())}};function cC(e,t,r){var n=new qu;return n.restart(e,t,r),n}function AI(){hv(),++lo;for(var e=$u,t;e;)(t=ga-e._time)>=0&&e._call.call(void 0,t),e=e._next;--lo}function k0(){ga=(zu=Is.now())+Nc,lo=Yo=0;try{AI()}finally{lo=0,LI(),ga=0}}function BI(){var e=Is.now(),t=e-zu;t>lC&&(Nc-=t,zu=e)}function LI(){for(var e,t=$u,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:$u=r);Xo=e,jd(n)}function jd(e){if(!lo){Yo&&(Yo=clearTimeout(Yo));var t=e-ga;t>24?(e<1/0&&(Yo=setTimeout(k0,e-Is.now()-Nc)),No&&(No=clearInterval(No))):(No||(zu=Is.now(),No=setInterval(BI,lC)),lo=1,uC(k0))}}function _0(e,t,r){var n=new qu;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var DI=Hw("start","end","cancel","interrupt"),MI=[],hC=0,S0=1,Kd=2,tu=3,E0=4,Yd=5,ru=6;function $c(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;FI(e,r,{name:t,index:n,group:i,on:DI,tween:MI,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:hC})}function fv(e,t){var r=pn(e,t);if(r.state>hC)throw new Error("too late; already scheduled");return r}function In(e,t){var r=pn(e,t);if(r.state>tu)throw new Error("too late; already running");return r}function pn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function FI(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=cC(a,0,r.time);function a(u){r.state=S0,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var c,h,f,d;if(r.state!==S0)return l();for(c in n)if(d=n[c],d.name===r.name){if(d.state===tu)return _0(o);d.state===E0?(d.state=ru,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[c]):+c<t&&(d.state=ru,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[c])}if(_0(function(){r.state===tu&&(r.state=E0,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=Kd,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Kd){for(r.state=tu,i=new Array(f=r.tween.length),c=0,h=-1;c<f;++c)(d=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=Yd,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);r.state===Yd&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=ru,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function PI(e,t){var r=e.__transition,n,i,a=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>Kd&&n.state<Yd,n.state=ru,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function RI(e){return this.each(function(){PI(this,e)})}function II(e,t){var r,n;return function(){var i=In(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function OI(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=In(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function NI(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=pn(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?II:OI)(r,e,t))}function dv(e,t,r){var n=e._id;return e.each(function(){var i=In(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return pn(i,n).value[t]}}function fC(e,t){var r;return(typeof t=="number"?hi:t instanceof Rs?C0:(r=Rs(t))?(t=r,C0):CI)(e,t)}function $I(e){return function(){this.removeAttribute(e)}}function zI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qI(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function VI(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function HI(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function WI(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function UI(e,t){var r=Oc(e),n=r==="transform"?SI:fC;return this.attrTween(e,typeof t=="function"?(r.local?WI:HI)(r,n,dv(this,"attr."+e,t)):t==null?(r.local?zI:$I)(r):(r.local?VI:qI)(r,n,t))}function GI(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function jI(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function KI(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&jI(e,a)),r}return i._value=t,i}function YI(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&GI(e,a)),r}return i._value=t,i}function XI(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Oc(e);return this.tween(r,(n.local?KI:YI)(n,t))}function ZI(e,t){return function(){fv(this,e).delay=+t.apply(this,arguments)}}function QI(e,t){return t=+t,function(){fv(this,e).delay=t}}function JI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ZI:QI)(t,e)):pn(this.node(),t).delay}function eO(e,t){return function(){In(this,e).duration=+t.apply(this,arguments)}}function tO(e,t){return t=+t,function(){In(this,e).duration=t}}function rO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eO:tO)(t,e)):pn(this.node(),t).duration}function nO(e,t){if(typeof t!="function")throw new Error;return function(){In(this,e).ease=t}}function iO(e){var t=this._id;return arguments.length?this.each(nO(t,e)):pn(this.node(),t).ease}function aO(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;In(this,e).ease=r}}function oO(e){if(typeof e!="function")throw new Error;return this.each(aO(this._id,e))}function sO(e){typeof e!="function"&&(e=Gw(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new ei(n,this._parents,this._name,this._id)}function lO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l=t[s],u=r[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<n;++s)o[s]=t[s];return new ei(o,this._parents,this._name,this._id)}function uO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function cO(e,t,r){var n,i,a=uO(t)?fv:In;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}function hO(e,t){var r=this._id;return arguments.length<2?pn(this.node(),r).on.on(e):this.each(cO(r,e,t))}function fO(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function dO(){return this.on("end.remove",fO(this._id))}function pO(e){var t=this._name,r=this._id;typeof e!="function"&&(e=sv(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s=n[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,$c(u[f],t,r,f,u,pn(c,r)));return new ei(a,this._parents,t,r)}function vO(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Uw(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l=n[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=e.call(c,c.__data__,h,l),d,p=pn(c,r),m=0,v=f.length;m<v;++m)(d=f[m])&&$c(d,t,r,m,f,p);a.push(f),o.push(c)}return new ei(a,o,t,r)}var gO=il.prototype.constructor;function mO(){return new gO(this._groups,this._parents)}function yO(e,t){var r,n,i;return function(){var a=so(this,e),o=(this.style.removeProperty(e),so(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function dC(e){return function(){this.style.removeProperty(e)}}function bO(e,t,r){var n,i=r+"",a;return function(){var o=so(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function xO(e,t,r){var n,i,a;return function(){var o=so(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),so(this,e))),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}function wO(e,t){var r,n,i,a="style."+t,o="end."+a,s;return function(){var l=In(this,e),u=l.on,c=l.value[a]==null?s||(s=dC(t)):void 0;(u!==r||i!==c)&&(n=(r=u).copy()).on(o,i=c),l.on=n}}function CO(e,t,r){var n=(e+="")=="transform"?_I:fC;return t==null?this.styleTween(e,yO(e,n)).on("end.style."+e,dC(e)):typeof t=="function"?this.styleTween(e,xO(e,n,dv(this,"style."+e,t))).each(wO(this._id,e)):this.styleTween(e,bO(e,n,t),r).on("end.style."+e,null)}function TO(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function kO(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&TO(e,o,r)),n}return a._value=t,a}function _O(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,kO(e,t,r??""))}function SO(e){return function(){this.textContent=e}}function EO(e){return function(){var t=e(this);this.textContent=t??""}}function AO(e){return this.tween("text",typeof e=="function"?EO(dv(this,"text",e)):SO(e==null?"":e+""))}function BO(e){return function(t){this.textContent=e.call(this,t)}}function LO(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&BO(i)),t}return n._value=e,n}function DO(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,LO(e))}function MO(){for(var e=this._name,t=this._id,r=pC(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=pn(l,t);$c(l,e,r,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ei(n,this._parents,e,r)}function FO(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};r.each(function(){var u=In(this,n),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&a()})}var PO=0;function ei(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function pC(){return++PO}var zn=il.prototype;ei.prototype={constructor:ei,select:pO,selectAll:vO,selectChild:zn.selectChild,selectChildren:zn.selectChildren,filter:sO,merge:lO,selection:mO,transition:MO,call:zn.call,nodes:zn.nodes,node:zn.node,size:zn.size,empty:zn.empty,each:zn.each,on:hO,attr:UI,attrTween:XI,style:CO,styleTween:_O,text:AO,textTween:DO,remove:dO,tween:NI,delay:JI,duration:rO,ease:iO,easeVarying:oO,end:FO,[Symbol.iterator]:zn[Symbol.iterator]};function RO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var IO={time:null,delay:0,duration:250,ease:RO};function OO(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function NO(e){var t,r;e instanceof ei?(t=e._id,e=e._name):(t=pC(),(r=IO).time=hv(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&$c(l,e,t,u,o,r||OO(l,t));return new ei(n,this._parents,e,t)}il.prototype.interrupt=RI;il.prototype.transition=NO;const x7=Math.abs,w7=Math.atan2,C7=Math.cos,T7=Math.max,k7=Math.min,_7=Math.sin,S7=Math.sqrt,A0=1e-12,pv=Math.PI,B0=pv/2,E7=2*pv;function A7(e){return e>1?0:e<-1?pv:Math.acos(e)}function B7(e){return e>=1?B0:e<=-1?-B0:Math.asin(e)}function vC(e){this._context=e}vC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $O(e){return new vC(e)}class gC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zO(e){return new gC(e,!0)}function qO(e){return new gC(e,!1)}function Bi(){}function Vu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zc(e){this._context=e}zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VO(e){return new zc(e)}function mC(e){this._context=e}mC.prototype={areaStart:Bi,areaEnd:Bi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HO(e){return new mC(e)}function yC(e){this._context=e}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WO(e){return new yC(e)}function bC(e,t){this._basis=new zc(e),this._beta=t}bC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],a=e[r]-n,o=t[r]-i,s=-1,l;++s<=r;)l=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const UO=(function e(t){function r(n){return t===1?new zc(n):new bC(n,t)}return r.beta=function(n){return e(+n)},r})(.85);function Hu(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function vv(e,t){this._context=e,this._k=(1-t)/6}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Hu(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Hu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const GO=(function e(t){function r(n){return new vv(n,t)}return r.tension=function(n){return e(+n)},r})(0);function gv(e,t){this._context=e,this._k=(1-t)/6}gv.prototype={areaStart:Bi,areaEnd:Bi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Hu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jO=(function e(t){function r(n){return new gv(n,t)}return r.tension=function(n){return e(+n)},r})(0);function mv(e,t){this._context=e,this._k=(1-t)/6}mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KO=(function e(t){function r(n){return new mv(n,t)}return r.tension=function(n){return e(+n)},r})(0);function yv(e,t,r){var n=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>A0){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>A0){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,a,o,e._x2,e._y2)}function xC(e,t){this._context=e,this._alpha=t}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:yv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const YO=(function e(t){function r(n){return t?new xC(n,t):new vv(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function wC(e,t){this._context=e,this._alpha=t}wC.prototype={areaStart:Bi,areaEnd:Bi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XO=(function e(t){function r(n){return t?new wC(n,t):new gv(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function CC(e,t){this._context=e,this._alpha=t}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ZO=(function e(t){function r(n){return t?new CC(n,t):new mv(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function TC(e){this._context=e}TC.prototype={areaStart:Bi,areaEnd:Bi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QO(e){return new TC(e)}function L0(e){return e<0?-1:1}function D0(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(L0(a)+L0(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function M0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kf(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Wu(e){this._context=e}Wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kf(this,this._t0,M0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kf(this,M0(this,r=D0(this,e,t)),r);break;default:Kf(this,this._t0,r=D0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function kC(e){this._context=new _C(e)}(kC.prototype=Object.create(Wu.prototype)).point=function(e,t){Wu.prototype.point.call(this,t,e)};function _C(e){this._context=e}_C.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function JO(e){return new Wu(e)}function e5(e){return new kC(e)}function SC(e){this._context=e}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F0(e),i=F0(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F0(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function t5(e){return new SC(e)}function qc(e,t){this._context=e,this._t=t}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function r5(e){return new qc(e,.5)}function n5(e){return new qc(e,0)}function i5(e){return new qc(e,1)}function Zo(e,t,r){this.k=e,this.x=t,this.y=r}Zo.prototype={constructor:Zo,scale:function(e){return e===1?this:new Zo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Zo.prototype;/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:EC,setPrototypeOf:P0,isFrozen:a5,getPrototypeOf:o5,getOwnPropertyDescriptor:s5}=Object;let{freeze:Er,seal:Qr,create:AC}=Object,{apply:Xd,construct:Zd}=typeof Reflect<"u"&&Reflect;Er||(Er=function(t){return t});Qr||(Qr=function(t){return t});Xd||(Xd=function(t,r,n){return t.apply(r,n)});Zd||(Zd=function(t,r){return new t(...r)});const Ml=Vr(Array.prototype.forEach),R0=Vr(Array.prototype.pop),$o=Vr(Array.prototype.push),nu=Vr(String.prototype.toLowerCase),Yf=Vr(String.prototype.toString),I0=Vr(String.prototype.match),zo=Vr(String.prototype.replace),l5=Vr(String.prototype.indexOf),u5=Vr(String.prototype.trim),an=Vr(Object.prototype.hasOwnProperty),mr=Vr(RegExp.prototype.test),qo=c5(TypeError);function Vr(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Xd(e,t,n)}}function c5(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zd(e,r)}}function et(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nu;P0&&P0(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&(a5(t)||(t[n]=a),i=a)}e[i]=!0}return e}function h5(e){for(let t=0;t<e.length;t++)an(e,t)||(e[t]=null);return e}function Ki(e){const t=AC(null);for(const[r,n]of EC(e))an(e,r)&&(Array.isArray(n)?t[r]=h5(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Ki(n):t[r]=n);return t}function Vo(e,t){for(;e!==null;){const n=s5(e,t);if(n){if(n.get)return Vr(n.get);if(typeof n.value=="function")return Vr(n.value)}e=o5(e)}function r(){return null}return r}const O0=Er(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xf=Er(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zf=Er(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f5=Er(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qf=Er(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),d5=Er(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N0=Er(["#text"]),$0=Er(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Jf=Er(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z0=Er(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fl=Er(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),p5=Qr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),v5=Qr(/<%[\w\W]*|[\w\W]*%>/gm),g5=Qr(/\${[\w\W]*}/gm),m5=Qr(/^data-[\-\w.\u00B7-\uFFFF]/),y5=Qr(/^aria-[\-\w]+$/),BC=Qr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),b5=Qr(/^(?:\w+script|data):/i),x5=Qr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LC=Qr(/^html$/i),w5=Qr(/^[a-z][.\w]*(-[.\w]+)+$/i);var q0=Object.freeze({__proto__:null,MUSTACHE_EXPR:p5,ERB_EXPR:v5,TMPLIT_EXPR:g5,DATA_ATTR:m5,ARIA_ATTR:y5,IS_ALLOWED_URI:BC,IS_SCRIPT_OR_DATA:b5,ATTR_WHITESPACE:x5,DOCTYPE_NAME:LC,CUSTOM_ELEMENT:w5});const Ho={element:1,text:3,progressingInstruction:7,comment:8,document:9},C5=function(){return typeof window>"u"?null:window},T5=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function DC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C5();const t=Fe=>DC(Fe);if(t.version="3.1.6",t.removed=[],!e||!e.document||e.document.nodeType!==Ho.document)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=e,p=l.prototype,m=Vo(p,"cloneNode"),v=Vo(p,"remove"),y=Vo(p,"nextSibling"),g=Vo(p,"childNodes"),b=Vo(p,"parentNode");if(typeof o=="function"){const Fe=r.createElement("template");Fe.content&&Fe.content.ownerDocument&&(r=Fe.content.ownerDocument)}let x,C="";const{implementation:T,createNodeIterator:w,createDocumentFragment:k,getElementsByTagName:E}=r,{importNode:A}=n;let S={};t.isSupported=typeof EC=="function"&&typeof b=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:D,TMPLIT_EXPR:I,DATA_ATTR:O,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:N,CUSTOM_ELEMENT:z}=q0;let{IS_ALLOWED_URI:U}=q0,$=null;const W=et({},[...O0,...Xf,...Zf,...Qf,...N0]);let X=null;const ie=et({},[...$0,...Jf,...z0,...Fl]);let Y=Object.seal(AC(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,ce=null,ve=!0,se=!0,G=!1,K=!0,_=!1,P=!0,V=!1,ee=!1,q=!1,H=!1,Z=!1,ne=!1,te=!0,re=!1;const ge="user-content-";let pe=!0,me=!1,xe={},_e=null;const Ie=et({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let De=null;const He=et({},["audio","video","img","source","image","track"]);let Ae=null;const Te=et({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",L="http://www.w3.org/2000/svg",Q="http://www.w3.org/1999/xhtml";let ae=Q,le=!1,fe=null;const Ee=et({},[ue,L,Q],Yf);let ye=null;const Re=["application/xhtml+xml","text/html"],Le="text/html";let Se=null,Ge=null;const je=r.createElement("form"),Me=function(j){return j instanceof RegExp||j instanceof Function},Ye=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ge&&Ge===j)){if((!j||typeof j!="object")&&(j={}),j=Ki(j),ye=Re.indexOf(j.PARSER_MEDIA_TYPE)===-1?Le:j.PARSER_MEDIA_TYPE,Se=ye==="application/xhtml+xml"?Yf:nu,$=an(j,"ALLOWED_TAGS")?et({},j.ALLOWED_TAGS,Se):W,X=an(j,"ALLOWED_ATTR")?et({},j.ALLOWED_ATTR,Se):ie,fe=an(j,"ALLOWED_NAMESPACES")?et({},j.ALLOWED_NAMESPACES,Yf):Ee,Ae=an(j,"ADD_URI_SAFE_ATTR")?et(Ki(Te),j.ADD_URI_SAFE_ATTR,Se):Te,De=an(j,"ADD_DATA_URI_TAGS")?et(Ki(He),j.ADD_DATA_URI_TAGS,Se):He,_e=an(j,"FORBID_CONTENTS")?et({},j.FORBID_CONTENTS,Se):Ie,oe=an(j,"FORBID_TAGS")?et({},j.FORBID_TAGS,Se):{},ce=an(j,"FORBID_ATTR")?et({},j.FORBID_ATTR,Se):{},xe=an(j,"USE_PROFILES")?j.USE_PROFILES:!1,ve=j.ALLOW_ARIA_ATTR!==!1,se=j.ALLOW_DATA_ATTR!==!1,G=j.ALLOW_UNKNOWN_PROTOCOLS||!1,K=j.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=j.SAFE_FOR_TEMPLATES||!1,P=j.SAFE_FOR_XML!==!1,V=j.WHOLE_DOCUMENT||!1,H=j.RETURN_DOM||!1,Z=j.RETURN_DOM_FRAGMENT||!1,ne=j.RETURN_TRUSTED_TYPE||!1,q=j.FORCE_BODY||!1,te=j.SANITIZE_DOM!==!1,re=j.SANITIZE_NAMED_PROPS||!1,pe=j.KEEP_CONTENT!==!1,me=j.IN_PLACE||!1,U=j.ALLOWED_URI_REGEXP||BC,ae=j.NAMESPACE||Q,Y=j.CUSTOM_ELEMENT_HANDLING||{},j.CUSTOM_ELEMENT_HANDLING&&Me(j.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Y.tagNameCheck=j.CUSTOM_ELEMENT_HANDLING.tagNameCheck),j.CUSTOM_ELEMENT_HANDLING&&Me(j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Y.attributeNameCheck=j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),j.CUSTOM_ELEMENT_HANDLING&&typeof j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Y.allowCustomizedBuiltInElements=j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(se=!1),Z&&(H=!0),xe&&($=et({},N0),X=[],xe.html===!0&&(et($,O0),et(X,$0)),xe.svg===!0&&(et($,Xf),et(X,Jf),et(X,Fl)),xe.svgFilters===!0&&(et($,Zf),et(X,Jf),et(X,Fl)),xe.mathMl===!0&&(et($,Qf),et(X,z0),et(X,Fl))),j.ADD_TAGS&&($===W&&($=Ki($)),et($,j.ADD_TAGS,Se)),j.ADD_ATTR&&(X===ie&&(X=Ki(X)),et(X,j.ADD_ATTR,Se)),j.ADD_URI_SAFE_ATTR&&et(Ae,j.ADD_URI_SAFE_ATTR,Se),j.FORBID_CONTENTS&&(_e===Ie&&(_e=Ki(_e)),et(_e,j.FORBID_CONTENTS,Se)),pe&&($["#text"]=!0),V&&et($,["html","head","body"]),$.table&&(et($,["tbody"]),delete oe.tbody),j.TRUSTED_TYPES_POLICY){if(typeof j.TRUSTED_TYPES_POLICY.createHTML!="function")throw qo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof j.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=j.TRUSTED_TYPES_POLICY,C=x.createHTML("")}else x===void 0&&(x=T5(d,i)),x!==null&&typeof C=="string"&&(C=x.createHTML(""));Er&&Er(j),Ge=j}},Xe=et({},["mi","mo","mn","ms","mtext"]),Dt=et({},["foreignobject","annotation-xml"]),_t=et({},["title","style","font","a","script"]),Yt=et({},[...Xf,...Zf,...f5]),Et=et({},[...Qf,...d5]),Ot=function(j){let we=b(j);(!we||!we.tagName)&&(we={namespaceURI:ae,tagName:"template"});const Pe=nu(j.tagName),ct=nu(we.tagName);return fe[j.namespaceURI]?j.namespaceURI===L?we.namespaceURI===Q?Pe==="svg":we.namespaceURI===ue?Pe==="svg"&&(ct==="annotation-xml"||Xe[ct]):!!Yt[Pe]:j.namespaceURI===ue?we.namespaceURI===Q?Pe==="math":we.namespaceURI===L?Pe==="math"&&Dt[ct]:!!Et[Pe]:j.namespaceURI===Q?we.namespaceURI===L&&!Dt[ct]||we.namespaceURI===ue&&!Xe[ct]?!1:!Et[Pe]&&(_t[Pe]||!Yt[Pe]):!!(ye==="application/xhtml+xml"&&fe[j.namespaceURI]):!1},at=function(j){$o(t.removed,{element:j});try{b(j).removeChild(j)}catch{v(j)}},Mt=function(j,we){try{$o(t.removed,{attribute:we.getAttributeNode(j),from:we})}catch{$o(t.removed,{attribute:null,from:we})}if(we.removeAttribute(j),j==="is"&&!X[j])if(H||Z)try{at(we)}catch{}else try{we.setAttribute(j,"")}catch{}},tn=function(j){let we=null,Pe=null;if(q)j="<remove></remove>"+j;else{const Wt=I0(j,/^[\r\n\t ]+/);Pe=Wt&&Wt[0]}ye==="application/xhtml+xml"&&ae===Q&&(j='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+j+"</body></html>");const ct=x?x.createHTML(j):j;if(ae===Q)try{we=new f().parseFromString(ct,ye)}catch{}if(!we||!we.documentElement){we=T.createDocument(ae,"template",null);try{we.documentElement.innerHTML=le?C:ct}catch{}}const Xt=we.body||we.documentElement;return j&&Pe&&Xt.insertBefore(r.createTextNode(Pe),Xt.childNodes[0]||null),ae===Q?E.call(we,V?"html":"body")[0]:V?we.documentElement:Xt},At=function(j){return w.call(j.ownerDocument||j,j,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Hr=function(j){return j instanceof h&&(typeof j.nodeName!="string"||typeof j.textContent!="string"||typeof j.removeChild!="function"||!(j.attributes instanceof c)||typeof j.removeAttribute!="function"||typeof j.setAttribute!="function"||typeof j.namespaceURI!="string"||typeof j.insertBefore!="function"||typeof j.hasChildNodes!="function")},Wr=function(j){return typeof s=="function"&&j instanceof s},ar=function(j,we,Pe){S[j]&&Ml(S[j],ct=>{ct.call(t,we,Pe,Ge)})},Ni=function(j){let we=null;if(ar("beforeSanitizeElements",j,null),Hr(j))return at(j),!0;const Pe=Se(j.nodeName);if(ar("uponSanitizeElement",j,{tagName:Pe,allowedTags:$}),j.hasChildNodes()&&!Wr(j.firstElementChild)&&mr(/<[/\w]/g,j.innerHTML)&&mr(/<[/\w]/g,j.textContent)||j.nodeType===Ho.progressingInstruction||P&&j.nodeType===Ho.comment&&mr(/<[/\w]/g,j.data))return at(j),!0;if(!$[Pe]||oe[Pe]){if(!oe[Pe]&&er(Pe)&&(Y.tagNameCheck instanceof RegExp&&mr(Y.tagNameCheck,Pe)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Pe)))return!1;if(pe&&!_e[Pe]){const ct=b(j)||j.parentNode,Xt=g(j)||j.childNodes;if(Xt&&ct){const Wt=Xt.length;for(let sr=Wt-1;sr>=0;--sr){const Ur=m(Xt[sr],!0);Ur.__removalCount=(j.__removalCount||0)+1,ct.insertBefore(Ur,y(j))}}}return at(j),!0}return j instanceof l&&!Ot(j)||(Pe==="noscript"||Pe==="noembed"||Pe==="noframes")&&mr(/<\/no(script|embed|frames)/i,j.innerHTML)?(at(j),!0):(_&&j.nodeType===Ho.text&&(we=j.textContent,Ml([B,D,I],ct=>{we=zo(we,ct," ")}),j.textContent!==we&&($o(t.removed,{element:j.cloneNode()}),j.textContent=we)),ar("afterSanitizeElements",j,null),!1)},vn=function(j,we,Pe){if(te&&(we==="id"||we==="name")&&(Pe in r||Pe in je))return!1;if(!(se&&!ce[we]&&mr(O,we))){if(!(ve&&mr(F,we))){if(!X[we]||ce[we]){if(!(er(j)&&(Y.tagNameCheck instanceof RegExp&&mr(Y.tagNameCheck,j)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(j))&&(Y.attributeNameCheck instanceof RegExp&&mr(Y.attributeNameCheck,we)||Y.attributeNameCheck instanceof Function&&Y.attributeNameCheck(we))||we==="is"&&Y.allowCustomizedBuiltInElements&&(Y.tagNameCheck instanceof RegExp&&mr(Y.tagNameCheck,Pe)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Pe))))return!1}else if(!Ae[we]){if(!mr(U,zo(Pe,N,""))){if(!((we==="src"||we==="xlink:href"||we==="href")&&j!=="script"&&l5(Pe,"data:")===0&&De[j])){if(!(G&&!mr(M,zo(Pe,N,"")))){if(Pe)return!1}}}}}}return!0},er=function(j){return j!=="annotation-xml"&&I0(j,z)},Ht=function(j){ar("beforeSanitizeAttributes",j,null);const{attributes:we}=j;if(!we)return;const Pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X};let ct=we.length;for(;ct--;){const Xt=we[ct],{name:Wt,namespaceURI:sr,value:Ur}=Xt,$i=Se(Wt);let Rt=Wt==="value"?Ur:u5(Ur);if(Pe.attrName=$i,Pe.attrValue=Rt,Pe.keepAttr=!0,Pe.forceKeepAttr=void 0,ar("uponSanitizeAttribute",j,Pe),Rt=Pe.attrValue,P&&mr(/((--!?|])>)|<\/(style|title)/i,Rt)){Mt(Wt,j);continue}if(Pe.forceKeepAttr||(Mt(Wt,j),!Pe.keepAttr))continue;if(!K&&mr(/\/>/i,Rt)){Mt(Wt,j);continue}_&&Ml([B,D,I],zi=>{Rt=zo(Rt,zi," ")});const Sa=Se(j.nodeName);if(vn(Sa,$i,Rt)){if(re&&($i==="id"||$i==="name")&&(Mt(Wt,j),Rt=ge+Rt),x&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!sr)switch(d.getAttributeType(Sa,$i)){case"TrustedHTML":{Rt=x.createHTML(Rt);break}case"TrustedScriptURL":{Rt=x.createScriptURL(Rt);break}}try{sr?j.setAttributeNS(sr,Wt,Rt):j.setAttribute(Wt,Rt),Hr(j)?at(j):R0(t.removed)}catch{}}}ar("afterSanitizeAttributes",j,null)},or=function Fe(j){let we=null;const Pe=At(j);for(ar("beforeSanitizeShadowDOM",j,null);we=Pe.nextNode();)ar("uponSanitizeShadowNode",we,null),!Ni(we)&&(we.content instanceof a&&Fe(we.content),Ht(we));ar("afterSanitizeShadowDOM",j,null)};return t.sanitize=function(Fe){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=null,Pe=null,ct=null,Xt=null;if(le=!Fe,le&&(Fe="<!-->"),typeof Fe!="string"&&!Wr(Fe))if(typeof Fe.toString=="function"){if(Fe=Fe.toString(),typeof Fe!="string")throw qo("dirty is not a string, aborting")}else throw qo("toString is not a function");if(!t.isSupported)return Fe;if(ee||Ye(j),t.removed=[],typeof Fe=="string"&&(me=!1),me){if(Fe.nodeName){const Ur=Se(Fe.nodeName);if(!$[Ur]||oe[Ur])throw qo("root node is forbidden and cannot be sanitized in-place")}}else if(Fe instanceof s)we=tn("<!---->"),Pe=we.ownerDocument.importNode(Fe,!0),Pe.nodeType===Ho.element&&Pe.nodeName==="BODY"||Pe.nodeName==="HTML"?we=Pe:we.appendChild(Pe);else{if(!H&&!_&&!V&&Fe.indexOf("<")===-1)return x&&ne?x.createHTML(Fe):Fe;if(we=tn(Fe),!we)return H?null:ne?C:""}we&&q&&at(we.firstChild);const Wt=At(me?Fe:we);for(;ct=Wt.nextNode();)Ni(ct)||(ct.content instanceof a&&or(ct.content),Ht(ct));if(me)return Fe;if(H){if(Z)for(Xt=k.call(we.ownerDocument);we.firstChild;)Xt.appendChild(we.firstChild);else Xt=we;return(X.shadowroot||X.shadowrootmode)&&(Xt=A.call(n,Xt,!0)),Xt}let sr=V?we.outerHTML:we.innerHTML;return V&&$["!doctype"]&&we.ownerDocument&&we.ownerDocument.doctype&&we.ownerDocument.doctype.name&&mr(LC,we.ownerDocument.doctype.name)&&(sr="<!DOCTYPE "+we.ownerDocument.doctype.name+`>
`+sr),_&&Ml([B,D,I],Ur=>{sr=zo(sr,Ur," ")}),x&&ne?x.createHTML(sr):sr},t.setConfig=function(){let Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ye(Fe),ee=!0},t.clearConfig=function(){Ge=null,ee=!1},t.isValidAttribute=function(Fe,j,we){Ge||Ye({});const Pe=Se(Fe),ct=Se(j);return vn(Pe,ct,we)},t.addHook=function(Fe,j){typeof j=="function"&&(S[Fe]=S[Fe]||[],$o(S[Fe],j))},t.removeHook=function(Fe){if(S[Fe])return R0(S[Fe])},t.removeHooks=function(Fe){S[Fe]&&(S[Fe]=[])},t.removeAllHooks=function(){S={}},t}var uo=DC();const iu={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return iu.hue2rgb(a,i,e+1/3)*255;case"g":return iu.hue2rgb(a,i,e)*255;case"b":return iu.hue2rgb(a,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),a=Math.min(e,t,r),o=(i+a)/2;if(n==="l")return o*100;if(i===a)return 0;const s=i-a,l=o>.5?s/(2-i-a):s/(i+a);if(n==="s")return l*100;switch(i){case e:return((t-r)/s+(t<r?6:0))*60;case t:return((r-e)/s+2)*60;case r:return((e-t)/s+4)*60;default:return-1}}},k5={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},_5={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},We={channel:iu,lang:k5,unit:_5},si={};for(let e=0;e<=255;e++)si[e]=We.unit.dec2hex(e);const lr={ALL:0,RGB:1,HSL:2};class S5{constructor(){this.type=lr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=lr.ALL}is(t){return this.type===t}}class E5{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new S5}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=lr.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=We.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=We.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=We.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=We.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=We.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=We.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),We.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),We.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),We.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),We.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),We.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),We.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(lr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(lr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(lr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(lr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(lr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(lr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Vc=new E5({r:0,g:0,b:0,a:0},"transparent"),to={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(to.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,a=i%4===0,o=i>4,s=o?1:17,l=o?8:4,u=a?0:-1,c=o?255:15;return Vc.set({r:(n>>l*(u+3)&c)*s,g:(n>>l*(u+2)&c)*s,b:(n>>l*(u+1)&c)*s,a:a?(n&c)*s/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${si[Math.round(t)]}${si[Math.round(r)]}${si[Math.round(n)]}${si[Math.round(i*255)]}`:`#${si[Math.round(t)]}${si[Math.round(r)]}${si[Math.round(n)]}`}},ra={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(ra.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return We.channel.clamp.h(parseFloat(r)*.9);case"rad":return We.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return We.channel.clamp.h(parseFloat(r)*360)}}return We.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(ra.re);if(!r)return;const[,n,i,a,o,s]=r;return Vc.set({h:ra._hue2deg(n),s:We.channel.clamp.s(parseFloat(i)),l:We.channel.clamp.l(parseFloat(a)),a:o?We.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${We.lang.round(t)}, ${We.lang.round(r)}%, ${We.lang.round(n)}%, ${i})`:`hsl(${We.lang.round(t)}, ${We.lang.round(r)}%, ${We.lang.round(n)}%)`}},hs={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=hs.colors[e];if(t)return to.parse(t)},stringify:e=>{const t=to.stringify(e);for(const r in hs.colors)if(hs.colors[r]===t)return r}},Qo={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(Qo.re);if(!r)return;const[,n,i,a,o,s,l,u,c]=r;return Vc.set({r:We.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:We.channel.clamp.g(o?parseFloat(a)*2.55:parseFloat(a)),b:We.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:u?We.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${We.lang.round(t)}, ${We.lang.round(r)}, ${We.lang.round(n)}, ${We.lang.round(i)})`:`rgb(${We.lang.round(t)}, ${We.lang.round(r)}, ${We.lang.round(n)})`}},Mn={format:{keyword:hs,hex:to,rgb:Qo,rgba:Qo,hsl:ra,hsla:ra},parse:e=>{if(typeof e!="string")return e;const t=to.parse(e)||Qo.parse(e)||ra.parse(e)||hs.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(lr.HSL)||e.data.r===void 0?ra.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Qo.stringify(e):to.stringify(e)},MC=(e,t)=>{const r=Mn.parse(e);for(const n in t)r[n]=We.channel.clamp[n](t[n]);return Mn.stringify(r)},fs=(e,t,r=0,n=1)=>{if(typeof e!="number")return MC(e,{a:t});const i=Vc.set({r:We.channel.clamp.r(e),g:We.channel.clamp.g(t),b:We.channel.clamp.b(r),a:We.channel.clamp.a(n)});return Mn.stringify(i)},A5=e=>{const{r:t,g:r,b:n}=Mn.parse(e),i=.2126*We.channel.toLinear(t)+.7152*We.channel.toLinear(r)+.0722*We.channel.toLinear(n);return We.lang.round(i)},B5=e=>A5(e)>=.5,ol=e=>!B5(e),FC=(e,t,r)=>{const n=Mn.parse(e),i=n[t],a=We.channel.clamp[t](i+r);return i!==a&&(n[t]=a),Mn.stringify(n)},Oe=(e,t)=>FC(e,"l",t),qe=(e,t)=>FC(e,"l",-t),J=(e,t)=>{const r=Mn.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return MC(e,n)},L5=(e,t,r=50)=>{const{r:n,g:i,b:a,a:o}=Mn.parse(e),{r:s,g:l,b:u,a:c}=Mn.parse(t),h=r/100,f=h*2-1,d=o-c,m=((f*d===-1?f:(f+d)/(1+f*d))+1)/2,v=1-m,y=n*m+s*v,g=i*m+l*v,b=a*m+u*v,x=o*h+c*(1-h);return fs(y,g,b,x)},ke=(e,t=100)=>{const r=Mn.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,L5(r,e,t)};var PC=typeof global=="object"&&global&&global.Object===Object&&global,D5=typeof self=="object"&&self&&self.Object===Object&&self,On=PC||D5||Function("return this")(),Uu=On.Symbol,RC=Object.prototype,M5=RC.hasOwnProperty,F5=RC.toString,Wo=Uu?Uu.toStringTag:void 0;function P5(e){var t=M5.call(e,Wo),r=e[Wo];try{e[Wo]=void 0;var n=!0}catch{}var i=F5.call(e);return n&&(t?e[Wo]=r:delete e[Wo]),i}var R5=Object.prototype,I5=R5.toString;function O5(e){return I5.call(e)}var N5="[object Null]",$5="[object Undefined]",V0=Uu?Uu.toStringTag:void 0;function ko(e){return e==null?e===void 0?$5:N5:V0&&V0 in Object(e)?P5(e):O5(e)}function Ta(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var z5="[object AsyncFunction]",q5="[object Function]",V5="[object GeneratorFunction]",H5="[object Proxy]";function bv(e){if(!Ta(e))return!1;var t=ko(e);return t==q5||t==V5||t==z5||t==H5}var ed=On["__core-js_shared__"],H0=(function(){var e=/[^.]+$/.exec(ed&&ed.keys&&ed.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function W5(e){return!!H0&&H0 in e}var U5=Function.prototype,G5=U5.toString;function ka(e){if(e!=null){try{return G5.call(e)}catch{}try{return e+""}catch{}}return""}var j5=/[\\^$.*+?()[\]{}|]/g,K5=/^\[object .+?Constructor\]$/,Y5=Function.prototype,X5=Object.prototype,Z5=Y5.toString,Q5=X5.hasOwnProperty,J5=RegExp("^"+Z5.call(Q5).replace(j5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e3(e){if(!Ta(e)||W5(e))return!1;var t=bv(e)?J5:K5;return t.test(ka(e))}function t3(e,t){return e==null?void 0:e[t]}function _a(e,t){var r=t3(e,t);return e3(r)?r:void 0}var Os=_a(Object,"create");function r3(){this.__data__=Os?Os(null):{},this.size=0}function n3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var i3="__lodash_hash_undefined__",a3=Object.prototype,o3=a3.hasOwnProperty;function s3(e){var t=this.__data__;if(Os){var r=t[e];return r===i3?void 0:r}return o3.call(t,e)?t[e]:void 0}var l3=Object.prototype,u3=l3.hasOwnProperty;function c3(e){var t=this.__data__;return Os?t[e]!==void 0:u3.call(t,e)}var h3="__lodash_hash_undefined__";function f3(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Os&&t===void 0?h3:t,this}function ma(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ma.prototype.clear=r3;ma.prototype.delete=n3;ma.prototype.get=s3;ma.prototype.has=c3;ma.prototype.set=f3;function d3(){this.__data__=[],this.size=0}function Hc(e,t){return e===t||e!==e&&t!==t}function Wc(e,t){for(var r=e.length;r--;)if(Hc(e[r][0],t))return r;return-1}var p3=Array.prototype,v3=p3.splice;function g3(e){var t=this.__data__,r=Wc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():v3.call(t,r,1),--this.size,!0}function m3(e){var t=this.__data__,r=Wc(t,e);return r<0?void 0:t[r][1]}function y3(e){return Wc(this.__data__,e)>-1}function b3(e,t){var r=this.__data__,n=Wc(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ii(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ii.prototype.clear=d3;ii.prototype.delete=g3;ii.prototype.get=m3;ii.prototype.has=y3;ii.prototype.set=b3;var Ns=_a(On,"Map");function x3(){this.size=0,this.__data__={hash:new ma,map:new(Ns||ii),string:new ma}}function w3(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Uc(e,t){var r=e.__data__;return w3(t)?r[typeof t=="string"?"string":"hash"]:r.map}function C3(e){var t=Uc(this,e).delete(e);return this.size-=t?1:0,t}function T3(e){return Uc(this,e).get(e)}function k3(e){return Uc(this,e).has(e)}function _3(e,t){var r=Uc(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Oi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oi.prototype.clear=x3;Oi.prototype.delete=C3;Oi.prototype.get=T3;Oi.prototype.has=k3;Oi.prototype.set=_3;var S3="Expected a function";function sl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(S3);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(sl.Cache||Oi),r}sl.Cache=Oi;function E3(){this.__data__=new ii,this.size=0}function A3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function B3(e){return this.__data__.get(e)}function L3(e){return this.__data__.has(e)}var D3=200;function M3(e,t){var r=this.__data__;if(r instanceof ii){var n=r.__data__;if(!Ns||n.length<D3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Oi(n)}return r.set(e,t),this.size=r.size,this}function _o(e){var t=this.__data__=new ii(e);this.size=t.size}_o.prototype.clear=E3;_o.prototype.delete=A3;_o.prototype.get=B3;_o.prototype.has=L3;_o.prototype.set=M3;var Gu=(function(){try{var e=_a(Object,"defineProperty");return e({},"",{}),e}catch{}})();function xv(e,t,r){t=="__proto__"&&Gu?Gu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Qd(e,t,r){(r!==void 0&&!Hc(e[t],r)||r===void 0&&!(t in e))&&xv(e,t,r)}function F3(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return t}}var P3=F3(),IC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W0=IC&&typeof module=="object"&&module&&!module.nodeType&&module,R3=W0&&W0.exports===IC,U0=R3?On.Buffer:void 0,G0=U0?U0.allocUnsafe:void 0;function I3(e,t){if(t)return e.slice();var r=e.length,n=G0?G0(r):new e.constructor(r);return e.copy(n),n}var j0=On.Uint8Array;function O3(e){var t=new e.constructor(e.byteLength);return new j0(t).set(new j0(e)),t}function N3(e,t){var r=t?O3(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function $3(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var K0=Object.create,z3=(function(){function e(){}return function(t){if(!Ta(t))return{};if(K0)return K0(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function OC(e,t){return function(r){return e(t(r))}}var NC=OC(Object.getPrototypeOf,Object),q3=Object.prototype;function Gc(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||q3;return e===r}function V3(e){return typeof e.constructor=="function"&&!Gc(e)?z3(NC(e)):{}}function ll(e){return e!=null&&typeof e=="object"}var H3="[object Arguments]";function Y0(e){return ll(e)&&ko(e)==H3}var $C=Object.prototype,W3=$C.hasOwnProperty,U3=$C.propertyIsEnumerable,ju=Y0((function(){return arguments})())?Y0:function(e){return ll(e)&&W3.call(e,"callee")&&!U3.call(e,"callee")},Ku=Array.isArray,G3=9007199254740991;function zC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G3}function jc(e){return e!=null&&zC(e.length)&&!bv(e)}function j3(e){return ll(e)&&jc(e)}function K3(){return!1}var qC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X0=qC&&typeof module=="object"&&module&&!module.nodeType&&module,Y3=X0&&X0.exports===qC,Z0=Y3?On.Buffer:void 0,X3=Z0?Z0.isBuffer:void 0,wv=X3||K3,Z3="[object Object]",Q3=Function.prototype,J3=Object.prototype,VC=Q3.toString,eN=J3.hasOwnProperty,tN=VC.call(Object);function rN(e){if(!ll(e)||ko(e)!=Z3)return!1;var t=NC(e);if(t===null)return!0;var r=eN.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&VC.call(r)==tN}var nN="[object Arguments]",iN="[object Array]",aN="[object Boolean]",oN="[object Date]",sN="[object Error]",lN="[object Function]",uN="[object Map]",cN="[object Number]",hN="[object Object]",fN="[object RegExp]",dN="[object Set]",pN="[object String]",vN="[object WeakMap]",gN="[object ArrayBuffer]",mN="[object DataView]",yN="[object Float32Array]",bN="[object Float64Array]",xN="[object Int8Array]",wN="[object Int16Array]",CN="[object Int32Array]",TN="[object Uint8Array]",kN="[object Uint8ClampedArray]",_N="[object Uint16Array]",SN="[object Uint32Array]",Ct={};Ct[yN]=Ct[bN]=Ct[xN]=Ct[wN]=Ct[CN]=Ct[TN]=Ct[kN]=Ct[_N]=Ct[SN]=!0;Ct[nN]=Ct[iN]=Ct[gN]=Ct[aN]=Ct[mN]=Ct[oN]=Ct[sN]=Ct[lN]=Ct[uN]=Ct[cN]=Ct[hN]=Ct[fN]=Ct[dN]=Ct[pN]=Ct[vN]=!1;function EN(e){return ll(e)&&zC(e.length)&&!!Ct[ko(e)]}function AN(e){return function(t){return e(t)}}var HC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ds=HC&&typeof module=="object"&&module&&!module.nodeType&&module,BN=ds&&ds.exports===HC,td=BN&&PC.process,Q0=(function(){try{var e=ds&&ds.require&&ds.require("util").types;return e||td&&td.binding&&td.binding("util")}catch{}})(),J0=Q0&&Q0.isTypedArray,Cv=J0?AN(J0):EN;function Jd(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var LN=Object.prototype,DN=LN.hasOwnProperty;function MN(e,t,r){var n=e[t];(!(DN.call(e,t)&&Hc(n,r))||r===void 0&&!(t in e))&&xv(e,t,r)}function FN(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;l===void 0&&(l=e[s]),i?xv(r,s,l):MN(r,s,l)}return r}function PN(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var RN=9007199254740991,IN=/^(?:0|[1-9]\d*)$/;function WC(e,t){var r=typeof e;return t=t??RN,!!t&&(r=="number"||r!="symbol"&&IN.test(e))&&e>-1&&e%1==0&&e<t}var ON=Object.prototype,NN=ON.hasOwnProperty;function $N(e,t){var r=Ku(e),n=!r&&ju(e),i=!r&&!n&&wv(e),a=!r&&!n&&!i&&Cv(e),o=r||n||i||a,s=o?PN(e.length,String):[],l=s.length;for(var u in e)(t||NN.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||WC(u,l)))&&s.push(u);return s}function zN(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var qN=Object.prototype,VN=qN.hasOwnProperty;function HN(e){if(!Ta(e))return zN(e);var t=Gc(e),r=[];for(var n in e)n=="constructor"&&(t||!VN.call(e,n))||r.push(n);return r}function UC(e){return jc(e)?$N(e,!0):HN(e)}function WN(e){return FN(e,UC(e))}function UN(e,t,r,n,i,a,o){var s=Jd(e,r),l=Jd(t,r),u=o.get(l);if(u){Qd(e,r,u);return}var c=a?a(s,l,r+"",e,t,o):void 0,h=c===void 0;if(h){var f=Ku(l),d=!f&&wv(l),p=!f&&!d&&Cv(l);c=l,f||d||p?Ku(s)?c=s:j3(s)?c=$3(s):d?(h=!1,c=I3(l,!0)):p?(h=!1,c=N3(l,!0)):c=[]:rN(l)||ju(l)?(c=s,ju(s)?c=WN(s):(!Ta(s)||bv(s))&&(c=V3(l))):h=!1}h&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Qd(e,r,c)}function GC(e,t,r,n,i){e!==t&&P3(t,function(a,o){if(i||(i=new _o),Ta(a))UN(e,t,o,r,GC,n,i);else{var s=n?n(Jd(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),Qd(e,o,s)}},UC)}function jC(e){return e}function GN(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var eb=Math.max;function jN(e,t,r){return t=eb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=eb(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),GN(e,this,s)}}function KN(e){return function(){return e}}var YN=Gu?function(e,t){return Gu(e,"toString",{configurable:!0,enumerable:!1,value:KN(t),writable:!0})}:jC,XN=800,ZN=16,QN=Date.now;function JN(e){var t=0,r=0;return function(){var n=QN(),i=ZN-(n-r);if(r=n,i>0){if(++t>=XN)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var e$=JN(YN);function t$(e,t){return e$(jN(e,t,jC),e+"")}function r$(e,t,r){if(!Ta(r))return!1;var n=typeof t;return(n=="number"?jc(r)&&WC(t,r.length):n=="string"&&t in r)?Hc(r[t],e):!1}function n$(e){return t$(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&r$(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var i$=n$(function(e,t,r){GC(e,t,r)}),KC="comm",YC="rule",XC="decl",a$="@import",o$="@namespace",s$="@keyframes",l$="@layer",ZC=Math.abs,Tv=String.fromCharCode;function QC(e){return e.trim()}function au(e,t,r){return e.replace(t,r)}function u$(e,t,r){return e.indexOf(t,r)}function ro(e,t){return e.charCodeAt(t)|0}function co(e,t,r){return e.slice(t,r)}function wn(e){return e.length}function c$(e){return e.length}function Pl(e,t){return t.push(e),e}var Kc=1,ho=1,JC=0,Jr=0,zt=0,So="";function kv(e,t,r,n,i,a,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Kc,column:ho,length:o,return:"",siblings:s}}function h$(){return zt}function f$(){return zt=Jr>0?ro(So,--Jr):0,ho--,zt===10&&(ho=1,Kc--),zt}function hn(){return zt=Jr<JC?ro(So,Jr++):0,ho++,zt===10&&(ho=1,Kc++),zt}function gi(){return ro(So,Jr)}function ou(){return Jr}function Yc(e,t){return co(So,e,t)}function $s(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function d$(e){return Kc=ho=1,JC=wn(So=e),Jr=0,[]}function p$(e){return So="",e}function rd(e){return QC(Yc(Jr-1,ep(e===91?e+2:e===40?e+1:e)))}function v$(e){for(;(zt=gi())&&zt<33;)hn();return $s(e)>2||$s(zt)>3?"":" "}function g$(e,t){for(;--t&&hn()&&!(zt<48||zt>102||zt>57&&zt<65||zt>70&&zt<97););return Yc(e,ou()+(t<6&&gi()==32&&hn()==32))}function ep(e){for(;hn();)switch(zt){case e:return Jr;case 34:case 39:e!==34&&e!==39&&ep(zt);break;case 40:e===41&&ep(e);break;case 92:hn();break}return Jr}function m$(e,t){for(;hn()&&e+zt!==57;)if(e+zt===84&&gi()===47)break;return"/*"+Yc(t,Jr-1)+"*"+Tv(e===47?e:hn())}function y$(e){for(;!$s(gi());)hn();return Yc(e,Jr)}function b$(e){return p$(su("",null,null,null,[""],e=d$(e),0,[0],e))}function su(e,t,r,n,i,a,o,s,l){for(var u=0,c=0,h=o,f=0,d=0,p=0,m=1,v=1,y=1,g=0,b="",x=i,C=a,T=n,w=b;v;)switch(p=g,g=hn()){case 40:if(p!=108&&ro(w,h-1)==58){u$(w+=au(rd(g),"&","&\f"),"&\f",ZC(u?s[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:w+=rd(g);break;case 9:case 10:case 13:case 32:w+=v$(p);break;case 92:w+=g$(ou()-1,7);continue;case 47:switch(gi()){case 42:case 47:Pl(x$(m$(hn(),ou()),t,r,l),l),($s(p||1)==5||$s(gi()||1)==5)&&wn(w)&&co(w,-1,void 0)!==" "&&(w+=" ");break;default:w+="/"}break;case 123*m:s[u++]=wn(w)*y;case 125*m:case 59:case 0:switch(g){case 0:case 125:v=0;case 59+c:y==-1&&(w=au(w,/\f/g,"")),d>0&&(wn(w)-h||m===0&&p===47)&&Pl(d>32?rb(w+";",n,r,h-1,l):rb(au(w," ","")+";",n,r,h-2,l),l);break;case 59:w+=";";default:if(Pl(T=tb(w,t,r,u,c,i,s,b,x=[],C=[],h,a),a),g===123)if(c===0)su(w,t,T,T,x,a,h,s,C);else{switch(f){case 99:if(ro(w,3)===110)break;case 108:if(ro(w,2)===97)break;default:c=0;case 100:case 109:case 115:}c?su(e,T,T,n&&Pl(tb(e,T,T,0,0,i,s,b,i,x=[],h,C),C),i,C,h,s,n?x:C):su(w,T,T,T,[""],C,0,s,C)}}u=c=d=0,m=y=1,b=w="",h=o;break;case 58:h=1+wn(w),d=p;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&f$()==125)continue}switch(w+=Tv(g),g*m){case 38:y=c>0?1:(w+="\f",-1);break;case 44:s[u++]=(wn(w)-1)*y,y=1;break;case 64:gi()===45&&(w+=rd(hn())),f=gi(),c=h=wn(b=w+=y$(ou())),g++;break;case 45:p===45&&wn(w)==2&&(m=0)}}return a}function tb(e,t,r,n,i,a,o,s,l,u,c,h){for(var f=i-1,d=i===0?a:[""],p=c$(d),m=0,v=0,y=0;m<n;++m)for(var g=0,b=co(e,f+1,f=ZC(v=o[m])),x=e;g<p;++g)(x=QC(v>0?d[g]+" "+b:au(b,/&\f/g,d[g])))&&(l[y++]=x);return kv(e,t,r,i===0?YC:s,l,u,c,h)}function x$(e,t,r,n){return kv(e,t,r,KC,Tv(h$()),co(e,2,-2),0,n)}function rb(e,t,r,n,i){return kv(e,t,r,XC,co(e,0,n),co(e,n+1,-1),n,i)}function tp(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function w$(e,t,r,n){switch(e.type){case l$:if(e.children.length)break;case a$:case o$:case XC:return e.return=e.return||e.value;case KC:return"";case s$:return e.return=e.value+"{"+tp(e.children,n)+"}";case YC:if(!wn(e.value=e.props.join(",")))return""}return wn(r=tp(e.children,n))?e.return=e.value+"{"+r+"}":""}var C$=OC(Object.keys,Object),T$=Object.prototype,k$=T$.hasOwnProperty;function _$(e){if(!Gc(e))return C$(e);var t=[];for(var r in Object(e))k$.call(e,r)&&r!="constructor"&&t.push(r);return t}var rp=_a(On,"DataView"),np=_a(On,"Promise"),ip=_a(On,"Set"),ap=_a(On,"WeakMap"),nb="[object Map]",S$="[object Object]",ib="[object Promise]",ab="[object Set]",ob="[object WeakMap]",sb="[object DataView]",E$=ka(rp),A$=ka(Ns),B$=ka(np),L$=ka(ip),D$=ka(ap),Yi=ko;(rp&&Yi(new rp(new ArrayBuffer(1)))!=sb||Ns&&Yi(new Ns)!=nb||np&&Yi(np.resolve())!=ib||ip&&Yi(new ip)!=ab||ap&&Yi(new ap)!=ob)&&(Yi=function(e){var t=ko(e),r=t==S$?e.constructor:void 0,n=r?ka(r):"";if(n)switch(n){case E$:return sb;case A$:return nb;case B$:return ib;case L$:return ab;case D$:return ob}return t});var M$="[object Map]",F$="[object Set]",P$=Object.prototype,R$=P$.hasOwnProperty;function nd(e){if(e==null)return!0;if(jc(e)&&(Ku(e)||typeof e=="string"||typeof e.splice=="function"||wv(e)||Cv(e)||ju(e)))return!e.length;var t=Yi(e);if(t==M$||t==F$)return!e.size;if(Gc(e))return!_$(e).length;for(var r in e)if(R$.call(e,r))return!1;return!0}const qn={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ze={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},_v=function(e="fatal"){let t=qn.fatal;typeof e=="string"?(e=e.toLowerCase(),e in qn&&(t=qn[e])):typeof e=="number"&&(t=e),ze.trace=()=>{},ze.debug=()=>{},ze.info=()=>{},ze.warn=()=>{},ze.error=()=>{},ze.fatal=()=>{},t<=qn.fatal&&(ze.fatal=console.error?console.error.bind(console,Gr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Gr("FATAL"))),t<=qn.error&&(ze.error=console.error?console.error.bind(console,Gr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Gr("ERROR"))),t<=qn.warn&&(ze.warn=console.warn?console.warn.bind(console,Gr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Gr("WARN"))),t<=qn.info&&(ze.info=console.info?console.info.bind(console,Gr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Gr("INFO"))),t<=qn.debug&&(ze.debug=console.debug?console.debug.bind(console,Gr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Gr("DEBUG"))),t<=qn.trace&&(ze.trace=console.debug?console.debug.bind(console,Gr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Gr("TRACE")))},Gr=e=>`%c${CP().format("ss.SSS")} : ${e} : `,ul=/<br\s*\/?>/gi,I$=e=>e?tT(e).replace(/\\n/g,"#br#").split("#br#"):[""],O$=(()=>{let e=!1;return()=>{e||(N$(),e=!0)}})();function N$(){const e="data-temp-href-target";uo.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")||"")}),uo.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)||""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}const eT=e=>(O$(),uo.sanitize(e)),lb=(e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=eT(e):n!=="loose"&&(e=tT(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=V$(e))}return e},fo=(e,t)=>e&&(t.dompurifyConfig?e=uo.sanitize(lb(e,t),t.dompurifyConfig).toString():e=uo.sanitize(lb(e,t),{FORBID_TAGS:["style"]}).toString(),e),$$=(e,t)=>typeof e=="string"?fo(e,t):e.flat().map(r=>fo(r,t)),z$=e=>ul.test(e),q$=e=>e.split(ul),V$=e=>e.replace(/#br#/g,"<br/>"),tT=e=>e.replace(ul,"#br#"),H$=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},rT=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),W$=function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},U$=function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},L7=function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const a=t[n-1],o=t[n+1];G$(a,o)&&(i=a+","+o,n++,r.pop())}r.push(j$(i))}return r.join("")},op=(e,t)=>Math.max(0,e.split(t).length-1),G$=(e,t)=>{const r=op(e,"~"),n=op(t,"~");return r===1&&n===1},j$=e=>{const t=op(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},ub=()=>window.MathMLElement!==void 0,sp=/\$\$(.*)\$\$/g,cb=e=>{var t;return(((t=e.match(sp))==null?void 0:t.length)??0)>0},D7=async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Y$(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},K$=async(e,t)=>{if(!cb(e))return e;if(!ub()&&!t.legacyMathML)return e.replace(sp,"MathML is unsupported in this environment.");const{default:r}=await Lt(async()=>{const{default:n}=await import("./chunks/katex-ChWnQ-fc.js");return{default:n}},[]);return e.split(ul).map(n=>cb(n)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${n}
            </div>
          `:`<div>${n}</div>`).join("").replace(sp,(n,i)=>r.renderToString(i,{throwOnError:!0,displayMode:!0,output:ub()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},Y$=async(e,t)=>fo(await K$(e,t),t),Sv={getRows:I$,sanitizeText:fo,sanitizeTextOrArray:$$,hasBreaks:z$,splitBreaks:q$,lineBreakRegex:ul,removeScript:eT,getUrl:H$,evaluate:rT,getMax:W$,getMin:U$},Tr=(e,t)=>t?J(e,{s:-40,l:10}):J(e,{s:-40,l:-10}),Xc="#ffffff",Zc="#f2f2f2";let X$=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||J(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||J(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Tr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Tr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Tr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Tr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ke(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ke(this.tertiaryColor),this.lineColor=this.lineColor||ke(this.background),this.arrowheadColor=this.arrowheadColor||ke(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?qe(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||qe(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ke(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Oe(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330}),this.darkMode)for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=qe(this["cScale"+d],75);else for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=qe(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||ke(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||Oe(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||qe(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;const f=this.darkMode?-4:-1;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||J(this.mainBkg,{h:180,s:-15,l:f*(5+d*3)}),this["surfacePeer"+d]=this["surfacePeer"+d]||J(this.mainBkg,{h:180,s:-15,l:f*(8+d*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||J(this.primaryColor,{h:64}),this.fillType3=this.fillType3||J(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||J(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||J(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||J(this.primaryColor,{h:128}),this.fillType7=this.fillType7||J(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||J(this.primaryColor,{l:-10}),this.pie5=this.pie5||J(this.secondaryColor,{l:-10}),this.pie6=this.pie6||J(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||J(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||J(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||J(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||J(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||J(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||J(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ol(this.quadrant1Fill)?Oe(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?qe(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||J(this.primaryColor,{h:-30}),this.git4=this.git4||J(this.primaryColor,{h:-60}),this.git5=this.git5||J(this.primaryColor,{h:-90}),this.git6=this.git6||J(this.primaryColor,{h:60}),this.git7=this.git7||J(this.primaryColor,{h:120}),this.darkMode?(this.git0=Oe(this.git0,25),this.git1=Oe(this.git1,25),this.git2=Oe(this.git2,25),this.git3=Oe(this.git3,25),this.git4=Oe(this.git4,25),this.git5=Oe(this.git5,25),this.git6=Oe(this.git6,25),this.git7=Oe(this.git7,25)):(this.git0=qe(this.git0,25),this.git1=qe(this.git1,25),this.git2=qe(this.git2,25),this.git3=qe(this.git3,25),this.git4=qe(this.git4,25),this.git5=qe(this.git5,25),this.git6=qe(this.git6,25),this.git7=qe(this.git7,25)),this.gitInv0=this.gitInv0||ke(this.git0),this.gitInv1=this.gitInv1||ke(this.git1),this.gitInv2=this.gitInv2||ke(this.git2),this.gitInv3=this.gitInv3||ke(this.git3),this.gitInv4=this.gitInv4||ke(this.git4),this.gitInv5=this.gitInv5||ke(this.git5),this.gitInv6=this.gitInv6||ke(this.git6),this.gitInv7=this.gitInv7||ke(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xc,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zc}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const Z$=e=>{const t=new X$;return t.calculate(e),t};let Q$=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Oe(this.primaryColor,16),this.tertiaryColor=J(this.primaryColor,{h:-160}),this.primaryBorderColor=ke(this.background),this.secondaryBorderColor=Tr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Tr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ke(this.primaryColor),this.secondaryTextColor=ke(this.secondaryColor),this.tertiaryTextColor=ke(this.tertiaryColor),this.lineColor=ke(this.background),this.textColor=ke(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Oe(ke("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=fs(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=qe("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=qe(this.sectionBkgColor,10),this.taskBorderColor=fs(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=fs(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.secondBkg=Oe(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Oe(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Oe(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||ke(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScalePeer"+f]=this["cScalePeer"+f]||Oe(this["cScale"+f],10);for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{h:30,s:-30,l:-(-10+f*4)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{h:30,s:-30,l:-(-7+f*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ol(this.quadrant1Fill)?Oe(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?qe(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Oe(this.secondaryColor,20),this.git1=Oe(this.pie2||this.secondaryColor,20),this.git2=Oe(this.pie3||this.tertiaryColor,20),this.git3=Oe(this.pie4||J(this.primaryColor,{h:-30}),20),this.git4=Oe(this.pie5||J(this.primaryColor,{h:-60}),20),this.git5=Oe(this.pie6||J(this.primaryColor,{h:-90}),10),this.git6=Oe(this.pie7||J(this.primaryColor,{h:60}),10),this.git7=Oe(this.pie8||J(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ke(this.git0),this.gitInv1=this.gitInv1||ke(this.git1),this.gitInv2=this.gitInv2||ke(this.git2),this.gitInv3=this.gitInv3||ke(this.git3),this.gitInv4=this.gitInv4||ke(this.git4),this.gitInv5=this.gitInv5||ke(this.git5),this.gitInv6=this.gitInv6||ke(this.git6),this.gitInv7=this.gitInv7||ke(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ke(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ke(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Oe(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Oe(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const J$=e=>{const t=new Q$;return t.calculate(e),t};let e4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=J(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=J(this.primaryColor,{h:-160}),this.primaryBorderColor=Tr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Tr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Tr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ke(this.primaryColor),this.secondaryTextColor=ke(this.secondaryColor),this.tertiaryTextColor=ke(this.tertiaryColor),this.lineColor=ke(this.background),this.textColor=ke(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=fs(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||qe(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||qe(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=qe(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||qe(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||J(this["cScale"+f],{h:180});for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{h:30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{h:30,l:-(7+f*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ke(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ke(this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Oe(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||J(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||J(this.primaryColor,{l:-10}),this.pie5=this.pie5||J(this.secondaryColor,{l:-30}),this.pie6=this.pie6||J(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||J(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||J(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||J(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||J(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||J(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||J(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ol(this.quadrant1Fill)?Oe(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||J(this.primaryColor,{h:-30}),this.git4=this.git4||J(this.primaryColor,{h:-60}),this.git5=this.git5||J(this.primaryColor,{h:-90}),this.git6=this.git6||J(this.primaryColor,{h:60}),this.git7=this.git7||J(this.primaryColor,{h:120}),this.darkMode?(this.git0=Oe(this.git0,25),this.git1=Oe(this.git1,25),this.git2=Oe(this.git2,25),this.git3=Oe(this.git3,25),this.git4=Oe(this.git4,25),this.git5=Oe(this.git5,25),this.git6=Oe(this.git6,25),this.git7=Oe(this.git7,25)):(this.git0=qe(this.git0,25),this.git1=qe(this.git1,25),this.git2=qe(this.git2,25),this.git3=qe(this.git3,25),this.git4=qe(this.git4,25),this.git5=qe(this.git5,25),this.git6=qe(this.git6,25),this.git7=qe(this.git7,25)),this.gitInv0=this.gitInv0||qe(ke(this.git0),25),this.gitInv1=this.gitInv1||ke(this.git1),this.gitInv2=this.gitInv2||ke(this.git2),this.gitInv3=this.gitInv3||ke(this.git3),this.gitInv4=this.gitInv4||ke(this.git4),this.gitInv5=this.gitInv5||ke(this.git5),this.gitInv6=this.gitInv6||ke(this.git6),this.gitInv7=this.gitInv7||ke(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ke(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ke(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xc,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zc}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const t4=e=>{const t=new e4;return t.calculate(e),t};let r4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Oe("#cde498",10),this.primaryBorderColor=Tr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Tr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Tr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ke(this.primaryColor),this.secondaryTextColor=ke(this.secondaryColor),this.tertiaryTextColor=ke(this.primaryColor),this.lineColor=ke(this.background),this.textColor=ke(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.actorBorder=qe(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||qe(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||qe(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=qe(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||qe(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||J(this["cScale"+f],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{h:30,s:-30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{h:30,s:-30,l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||J(this.primaryColor,{l:-30}),this.pie5=this.pie5||J(this.secondaryColor,{l:-30}),this.pie6=this.pie6||J(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||J(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||J(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||J(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||J(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||J(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||J(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ol(this.quadrant1Fill)?Oe(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||J(this.primaryColor,{h:-30}),this.git4=this.git4||J(this.primaryColor,{h:-60}),this.git5=this.git5||J(this.primaryColor,{h:-90}),this.git6=this.git6||J(this.primaryColor,{h:60}),this.git7=this.git7||J(this.primaryColor,{h:120}),this.darkMode?(this.git0=Oe(this.git0,25),this.git1=Oe(this.git1,25),this.git2=Oe(this.git2,25),this.git3=Oe(this.git3,25),this.git4=Oe(this.git4,25),this.git5=Oe(this.git5,25),this.git6=Oe(this.git6,25),this.git7=Oe(this.git7,25)):(this.git0=qe(this.git0,25),this.git1=qe(this.git1,25),this.git2=qe(this.git2,25),this.git3=qe(this.git3,25),this.git4=qe(this.git4,25),this.git5=qe(this.git5,25),this.git6=qe(this.git6,25),this.git7=qe(this.git7,25)),this.gitInv0=this.gitInv0||ke(this.git0),this.gitInv1=this.gitInv1||ke(this.git1),this.gitInv2=this.gitInv2||ke(this.git2),this.gitInv3=this.gitInv3||ke(this.git3),this.gitInv4=this.gitInv4||ke(this.git4),this.gitInv5=this.gitInv5||ke(this.git5),this.gitInv6=this.gitInv6||ke(this.git6),this.gitInv7=this.gitInv7||ke(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ke(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ke(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xc,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zc}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const n4=e=>{const t=new r4;return t.calculate(e),t};class i4{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Oe(this.contrast,55),this.background="#ffffff",this.tertiaryColor=J(this.primaryColor,{h:-160}),this.primaryBorderColor=Tr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Tr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Tr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ke(this.primaryColor),this.secondaryTextColor=ke(this.secondaryColor),this.tertiaryTextColor=ke(this.tertiaryColor),this.lineColor=ke(this.background),this.textColor=ke(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.secondBkg=Oe(this.contrast,55),this.border2=this.contrast,this.actorBorder=Oe(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||ke(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Oe(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||qe(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Oe(this.contrast,30),this.sectionBkgColor2=Oe(this.contrast,30),this.taskBorderColor=qe(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Oe(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=qe(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ol(this.quadrant1Fill)?Oe(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=qe(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||J(this.primaryColor,{h:-30}),this.git4=this.pie5||J(this.primaryColor,{h:-60}),this.git5=this.pie6||J(this.primaryColor,{h:-90}),this.git6=this.pie7||J(this.primaryColor,{h:60}),this.git7=this.pie8||J(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ke(this.git0),this.gitInv1=this.gitInv1||ke(this.git1),this.gitInv2=this.gitInv2||ke(this.git2),this.gitInv3=this.gitInv3||ke(this.git3),this.gitInv4=this.gitInv4||ke(this.git4),this.gitInv5=this.gitInv5||ke(this.git5),this.gitInv6=this.gitInv6||ke(this.git6),this.gitInv7=this.gitInv7||ke(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xc,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zc}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const a4=e=>{const t=new i4;return t.calculate(e),t},Yn={base:{getThemeVariables:Z$},dark:{getThemeVariables:J$},default:{getThemeVariables:t4},forest:{getThemeVariables:n4},neutral:{getThemeVariables:a4}},Vn={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},nT={...Vn,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Yn.default.getThemeVariables(),sequence:{...Vn.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...Vn.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Vn.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...Vn.pie,useWidth:984},xyChart:{...Vn.xyChart,useWidth:void 0},requirement:{...Vn.requirement,useWidth:void 0},gitGraph:{...Vn.gitGraph,useMaxWidth:!1},sankey:{...Vn.sankey,useMaxWidth:!1}},iT=(e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...iT(e[n],"")]:[...r,t+n],[]),o4=new Set(iT(nT,"")),s4=nT,Yu=e=>{if(ze.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Yu(t));return}for(const t of Object.keys(e)){if(ze.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!o4.has(t)||e[t]==null){ze.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ze.debug("sanitizing object",t),Yu(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(ze.debug("sanitizing css option",t),e[t]=l4(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ze.debug("After sanitization",e)}},l4=e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},aT=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,ps=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,u4=/\s*%%.*\n/gm;class oT extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const po={},Qc=function(e,t){e=e.replace(aT,"").replace(ps,"").replace(u4,`
`);for(const[r,{detector:n}]of Object.entries(po))if(n(e,t))return r;throw new oT(`No diagram type detected matching given configuration for text: ${e}`)},sT=(...e)=>{for(const{id:t,detector:r,loader:n}of e)lT(t,r,n)},lT=(e,t,r)=>{po[e]?ze.error(`Detector with key ${e} already exists`):po[e]={detector:t,loader:r},ze.debug(`Detector with key ${e} added${r?" with loader":""}`)},c4=e=>po[e].loader,lp=(e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>lp(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=lp(e[a],t[a],{depth:r-1,clobber:n})):(n||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},hr=lp,h4="​",f4={curveBasis:VO,curveBasisClosed:HO,curveBasisOpen:WO,curveBumpX:zO,curveBumpY:qO,curveBundle:UO,curveCardinalClosed:jO,curveCardinalOpen:KO,curveCardinal:GO,curveCatmullRomClosed:XO,curveCatmullRomOpen:ZO,curveCatmullRom:YO,curveLinear:$O,curveLinearClosed:QO,curveMonotoneX:JO,curveMonotoneY:e5,curveNatural:t5,curveStep:r5,curveStepAfter:i5,curveStepBefore:n5},d4=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,p4=function(e,t){const r=uT(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(s=>s.args);Yu(o),n=hr(n,[...o])}else n=r.args;if(!n)return;let i=Qc(e,t);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},uT=function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${d4.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),ze.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const i=[];for(;(n=ps.exec(e))!==null;)if(n.index===ps.lastIndex&&ps.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){const a=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:a,args:o})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return ze.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},v4=function(e){return e.replace(ps,"")},g4=function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1};function m4(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return f4[r]??t}function y4(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?kP.sanitizeUrl(r):r}const b4=(e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let a=window;for(let o=0;o<n;o++)if(a=a[r[o]],!a){ze.error(`Function name: ${e} not found in window`);return}a[i](...t)};function cT(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function x4(e){let t,r=0;e.forEach(i=>{r+=cT(i,t),t=i});const n=r/2;return Ev(e,n)}function w4(e){return e.length===1?e[0]:x4(e)}const hb=(e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},Ev=(e,t)=>{let r,n=t;for(const i of e){if(r){const a=cT(i,r);if(a<n)n-=a;else{const o=n/a;if(o<=0)return r;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:hb((1-o)*r.x+o*i.x,5),y:hb((1-o)*r.y+o*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},C4=(e,t,r)=>{ze.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=Ev(t,25),a=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),s={x:0,y:0};return s.x=Math.sin(o)*a+(t[0].x+i.x)/2,s.y=-Math.cos(o)*a+(t[0].y+i.y)/2,s};function T4(e,t,r){const n=structuredClone(r);ze.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,a=Ev(n,i),o=10+e*.5,s=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*o+(n[0].x+a.x)/2,l.y=-Math.cos(s+Math.PI)*o+(n[0].y+a.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*o+(n[0].x+a.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(n[0].y+a.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*o+(n[0].x+a.x)/2-5,l.y=-Math.cos(s)*o+(n[0].y+a.y)/2-5):(l.x=Math.sin(s)*o+(n[0].x+a.x)/2,l.y=-Math.cos(s)*o+(n[0].y+a.y)/2),l}function k4(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}let fb=0;const _4=()=>(fb++,"id-"+Math.random().toString(36).substr(2,12)+"-"+fb);function S4(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}const E4=e=>S4(e.length),A4=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},B4=function(e,t){const r=t.text.replace(Sv.lineBreakRegex," "),[,n]=Bv(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(r),i},L4=sl((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Sv.lineBreakRegex.test(e)))return e;const n=e.split(" "),i=[];let a="";return n.forEach((o,s)=>{const l=Xu(`${o} `,r),u=Xu(a,r);if(l>t){const{hyphenatedStrings:f,remainingWord:d}=D4(o,t,"-",r);i.push(a,...f),a=d}else u+l>=t?(i.push(a),a=o):a=[a,o].filter(Boolean).join(" ");s+1===n.length&&i.push(a)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),D4=sl((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],a=[];let o="";return i.forEach((s,l)=>{const u=`${o}${s}`;if(Xu(u,n)>=t){const h=l+1,f=i.length===h,d=`${u}${r}`;a.push(f?u:d),o=""}else o=u}),{hyphenatedStrings:a,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function M4(e,t){return Av(e,t).height}function Xu(e,t){return Av(e,t).width}const Av=sl((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,a]=Bv(r),o=["sans-serif",n],s=e.split(Sv.lineBreakRegex),l=[],u=Kr("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const c=u.append("svg");for(const f of o){let d=0;const p={width:0,height:0,lineHeight:0};for(const m of s){const v=A4();v.text=m||h4;const y=B4(c,v).style("font-size",a).style("font-weight",i).style("font-family",f),g=(y._groups||y)[0][0].getBBox();if(g.width===0&&g.height===0)throw new Error("svg element not in render tree");p.width=Math.round(Math.max(p.width,g.width)),d=Math.round(g.height),p.height+=d,p.lineHeight=Math.round(Math.max(p.lineHeight,d))}l.push(p)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);class F4{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}}let Rl;const P4=function(e){return Rl=Rl||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Rl.innerHTML=e,unescape(Rl.textContent)};function hT(e){return"str"in e}const R4=(e,t,r,n)=>{var i;if(!n)return;const a=(i=e.node())==null?void 0:i.getBBox();a&&e.append("text").text(n).attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},Bv=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function fT(e,t){return i$({},e,t)}const vs={assignWithDepth:hr,wrapLabel:L4,calculateTextHeight:M4,calculateTextWidth:Xu,calculateTextDimensions:Av,cleanAndMerge:fT,detectInit:p4,detectDirective:uT,isSubstringInArray:g4,interpolateToCurve:m4,calcLabelPosition:w4,calcCardinalityPosition:C4,calcTerminalLabelPosition:T4,formatUrl:y4,getStylesFromArray:k4,generateId:_4,random:E4,runFunc:b4,entityDecode:P4,insertTitle:R4,parseFontSize:Bv,InitIDGenerator:F4},I4=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),t},O4=function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},db="10.9.4",vo=Object.freeze(s4);let Mr=hr({},vo),dT,go=[],gs=hr({},vo);const Jc=(e,t)=>{let r=hr({},e),n={};for(const i of t)gT(i),n=hr(n,i);if(r=hr(r,n),n.theme&&n.theme in Yn){const i=hr({},dT),a=hr(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Yn&&(r.themeVariables=Yn[r.theme].getThemeVariables(a))}return gs=r,mT(gs),gs},N4=e=>(Mr=hr({},vo),Mr=hr(Mr,e),e.theme&&Yn[e.theme]&&(Mr.themeVariables=Yn[e.theme].getThemeVariables(e.themeVariables)),Jc(Mr,go),Mr),$4=e=>{dT=hr({},e)},z4=e=>(Mr=hr(Mr,e),Jc(Mr,go),Mr),pT=()=>hr({},Mr),vT=e=>(mT(e),hr(gs,e),Fn()),Fn=()=>hr({},gs),gT=e=>{e&&(["secure",...Mr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ze.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&gT(e[t])}))},q4=e=>{Yu(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),go.push(e),Jc(Mr,go)},Zu=(e=Mr)=>{go=[],Jc(e,go)},V4={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},pb={},H4=e=>{pb[e]||(ze.warn(V4[e]),pb[e]=!0)},mT=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&H4("LAZY_LOAD_DEPRECATED")},yT="c4",W4=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),U4=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/c4Diagram-15b5d702-BtZobvnC.js");return{diagram:t}},__vite__mapDeps([0,1]));return{id:yT,diagram:e}},G4={id:yT,detector:W4,loader:U4},j4=G4,bT="flowchart",K4=(e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},Y4=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/flowDiagram-cbd28bf7-BBGv6jIm.js");return{diagram:t}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:bT,diagram:e}},X4={id:bT,detector:K4,loader:Y4},Z4=X4,xT="flowchart-v2",Q4=(e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},J4=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/flowDiagram-v2-ffc7f31a-9uzUqGLS.js");return{diagram:t}},__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:xT,diagram:e}},ez={id:xT,detector:Q4,loader:J4},tz=ez,wT="er",rz=e=>/^\s*erDiagram/.test(e),nz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/erDiagram-880f2ed8-DGu80oZn.js");return{diagram:t}},__vite__mapDeps([16,4,5,11,12,13]));return{id:wT,diagram:e}},iz={id:wT,detector:rz,loader:nz},az=iz,CT="gitGraph",oz=e=>/^\s*gitGraph/.test(e),sz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/gitGraphDiagram-21fc4d3e-B1MO5BMh.js");return{diagram:t}},[]);return{id:CT,diagram:e}},lz={id:CT,detector:oz,loader:sz},uz=lz,TT="gantt",cz=e=>/^\s*gantt/.test(e),hz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/ganttDiagram-04f9e578-BHgJNci-.js");return{diagram:t}},__vite__mapDeps([17,18,19]));return{id:TT,diagram:e}},fz={id:TT,detector:cz,loader:hz},dz=fz,kT="info",pz=e=>/^\s*info/.test(e),vz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/infoDiagram-4a4f5b27-B8l0jpZN.js");return{diagram:t}},[]);return{id:kT,diagram:e}},gz={id:kT,detector:pz,loader:vz},_T="pie",mz=e=>/^\s*pie/.test(e),yz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/pieDiagram-421022e6-Dv7vMdKC.js");return{diagram:t}},__vite__mapDeps([20,21,13,22,19,12]));return{id:_T,diagram:e}},bz={id:_T,detector:mz,loader:yz},ST="quadrantChart",xz=e=>/^\s*quadrantChart/.test(e),wz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/quadrantDiagram-0957ecba-CADpULQT.js");return{diagram:t}},__vite__mapDeps([23,18,19]));return{id:ST,diagram:e}},Cz={id:ST,detector:xz,loader:wz},Tz=Cz,ET="xychart",kz=e=>/^\s*xychart-beta/.test(e),_z=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/xychartDiagram-b6496bcd-C15EwDeW.js");return{diagram:t}},__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:ET,diagram:e}},Sz={id:ET,detector:kz,loader:_z},Ez=Sz,AT="requirement",Az=e=>/^\s*requirement(Diagram)?/.test(e),Bz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/requirementDiagram-23d650b8-fnGkM_1S.js");return{diagram:t}},__vite__mapDeps([25,4,5,11,12,13]));return{id:AT,diagram:e}},Lz={id:AT,detector:Az,loader:Bz},Dz=Lz,BT="sequence",Mz=e=>/^\s*sequenceDiagram/.test(e),Fz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/sequenceDiagram-17ac3bff-FpNbcy82.js");return{diagram:t}},__vite__mapDeps([26,1]));return{id:BT,diagram:e}},Pz={id:BT,detector:Mz,loader:Fz},Rz=Pz,LT="class",Iz=(e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},Oz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/classDiagram-d40c83e7-Cj-mRfxo.js");return{diagram:t}},__vite__mapDeps([27,28,4,5,11,12,13]));return{id:LT,diagram:e}},Nz={id:LT,detector:Iz,loader:Oz},$z=Nz,DT="classDiagram",zz=(e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},qz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/classDiagram-v2-d5a6b087-CR3m-0v5.js");return{diagram:t}},__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:DT,diagram:e}},Vz={id:DT,detector:zz,loader:qz},Hz=Vz,MT="state",Wz=(e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},Uz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/stateDiagram-9c5f0230-CBqKgsIg.js");return{diagram:t}},__vite__mapDeps([30,31,4,5,11,12,13]));return{id:MT,diagram:e}},Gz={id:MT,detector:Wz,loader:Uz},jz=Gz,FT="stateDiagram",Kz=(e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},Yz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/stateDiagram-v2-51a3dcff-Bug3r4RQ.js");return{diagram:t}},__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:FT,diagram:e}},Xz={id:FT,detector:Kz,loader:Yz},Zz=Xz,PT="journey",Qz=e=>/^\s*journey/.test(e),Jz=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/journeyDiagram-29694f62-BFvE3EY9.js");return{diagram:t}},__vite__mapDeps([33,1,21,13]));return{id:PT,diagram:e}},eq={id:PT,detector:Qz,loader:Jz},tq=eq,rq=function(e,t){for(let r of t)e.attr(r[0],r[1])},nq=function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},RT=function(e,t,r,n){const i=nq(t,r,n);rq(e,i)},iq=function(e,t,r,n){const i=t.node().getBBox(),a=i.width,o=i.height;ze.info(`SVG bounds: ${a}x${o}`,i);let s=0,l=0;ze.info(`Graph bounds: ${s}x${l}`,e),s=a+r*2,l=o+r*2,ze.info(`Calculated bounds: ${s}x${l}`),RT(t,l,s,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)},lu={},aq=(e,t,r)=>{let n="";return e in lu&&lu[e]?n=lu[e](r):ze.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},oq=(e,t)=>{t!==void 0&&(lu[e]=t)},sq=aq;let Lv="",Dv="",Mv="";const Fv=e=>fo(e,Fn()),lq=()=>{Lv="",Mv="",Dv=""},uq=e=>{Lv=Fv(e).replace(/^\s+/g,"")},cq=()=>Lv,hq=e=>{Mv=Fv(e).replace(/\n\s+/g,`
`)},fq=()=>Mv,dq=e=>{Dv=Fv(e)},pq=()=>Dv,vq=Object.freeze(Object.defineProperty({__proto__:null,clear:lq,getAccDescription:fq,getAccTitle:cq,getDiagramTitle:pq,setAccDescription:hq,setAccTitle:uq,setDiagramTitle:dq},Symbol.toStringTag,{value:"Module"})),gq=ze,mq=_v,Pv=Fn,I7=vT,O7=vo,yq=e=>fo(e,Pv()),bq=iq,xq=()=>vq,Qu={},Ju=(e,t,r)=>{var n;if(Qu[e])throw new Error(`Diagram ${e} already registered.`);Qu[e]=t,r&&lT(e,r),oq(e,t.styles),(n=t.injectUtils)==null||n.call(t,gq,mq,Pv,yq,bq,xq(),()=>{})},Rv=e=>{if(e in Qu)return Qu[e];throw new wq(e)};class wq extends Error{constructor(t){super(`Diagram ${t} not found.`)}}const Cq=e=>{var t;const{securityLevel:r}=Pv();let n=Kr("body");if(r==="sandbox"){const o=((t=Kr(`#i${e}`).node())==null?void 0:t.contentDocument)??document;n=Kr(o.body)}return n.select(`#${e}`)},Tq=(e,t,r)=>{ze.debug(`rendering svg for syntax error
`);const n=Cq(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),RT(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},IT={draw:Tq},kq=IT,_q={db:{},renderer:IT,parser:{parser:{yy:{}},parse:()=>{}}},Sq=_q,OT="flowchart-elk",Eq=(e,t)=>{var r;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk")},Aq=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/flowchart-elk-definition-36e2d292-DrgB5VCD.js");return{diagram:t}},__vite__mapDeps([34,3,9,10,11,12,13]));return{id:OT,diagram:e}},Bq={id:OT,detector:Eq,loader:Aq},Lq=Bq,NT="timeline",Dq=e=>/^\s*timeline/.test(e),Mq=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/timeline-definition-7e6b55e7-CJ1Wwb16.js");return{diagram:t}},__vite__mapDeps([35,21,13]));return{id:NT,diagram:e}},Fq={id:NT,detector:Dq,loader:Mq},Pq=Fq,$T="mindmap",Rq=e=>/^\s*mindmap/.test(e),Iq=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/mindmap-definition-ac74a2e8-CQsjJXmd.js");return{diagram:t}},__vite__mapDeps([36,10]));return{id:$T,diagram:e}},Oq={id:$T,detector:Rq,loader:Iq},Nq=Oq,zT="sankey",$q=e=>/^\s*sankey-beta/.test(e),zq=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/sankeyDiagram-23345273-C3k3szqQ.js");return{diagram:t}},__vite__mapDeps([37,22,19,38]));return{id:zT,diagram:e}},qq={id:zT,detector:$q,loader:zq},Vq=qq,qT="block",Hq=e=>/^\s*block-beta/.test(e),Wq=async()=>{const{diagram:e}=await Lt(async()=>{const{diagram:t}=await import("./chunks/blockDiagram-68f4deed-Cg9y_k4L.js");return{diagram:t}},__vite__mapDeps([39,8,4,9,10,11,12,13,14,22,19,38]));return{id:qT,diagram:e}},Uq={id:qT,detector:Hq,loader:Wq},Gq=Uq;let vb=!1;const Iv=()=>{vb||(vb=!0,Ju("error",Sq,e=>e.toLowerCase().trim()==="error"),Ju("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),sT(j4,Hz,$z,az,dz,gz,bz,Dz,Rz,Lq,tz,Z4,Nq,Pq,uz,Zz,jz,tq,Tz,Vq,Ez,Gq))};class VT{constructor(t,r={}){this.text=t,this.metadata=r,this.type="graph",this.text=I4(t),this.text+=`
`;const n=Fn();try{this.type=Qc(t,n)}catch(a){this.type="error",this.detectError=a}const i=Rv(this.type);ze.debug("Type "+this.type),this.db=i.db,this.renderer=i.renderer,this.parser=i.parser,this.parser.parser.yy=this.db,this.init=i.init,this.parse()}parse(){var t,r,n,i,a;if(this.detectError)throw this.detectError;(r=(t=this.db).clear)==null||r.call(t);const o=Fn();(n=this.init)==null||n.call(this,o),this.metadata.title&&((a=(i=this.db).setDiagramTitle)==null||a.call(i,this.metadata.title)),this.parser.parse(this.text)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}}const jq=async(e,t={})=>{const r=Qc(e,Fn());try{Rv(r)}catch{const i=c4(r);if(!i)throw new oT(`Diagram ${r} not found.`);const{id:a,diagram:o}=await i();Ju(a,o)}return new VT(e,t)};let gb=[];const Kq=()=>{gb.forEach(e=>{e()}),gb=[]},Yq="graphics-document document";function Xq(e,t){e.attr("role",Yq),t!==""&&e.attr("aria-roledescription",t)}function Zq(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}const Qq=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function HT(e){return typeof e>"u"||e===null}function Jq(e){return typeof e=="object"&&e!==null}function e6(e){return Array.isArray(e)?e:HT(e)?[]:[e]}function t6(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function r6(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function n6(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var i6=HT,a6=Jq,o6=e6,s6=r6,l6=n6,u6=t6,Cr={isNothing:i6,isObject:a6,toArray:o6,repeat:s6,isNegativeZero:l6,extend:u6};function WT(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function zs(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=WT(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}zs.prototype=Object.create(Error.prototype);zs.prototype.constructor=zs;zs.prototype.toString=function(t){return this.name+": "+WT(this,t)};var jn=zs;function id(e,t,r,n,i){var a="",o="",s=Math.floor(i/2)-1;return n-t>s&&(a=" ... ",t=n-s+a.length),r-n>s&&(o=" ...",r=n+s-o.length),{str:a+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+a.length}}function ad(e,t){return Cr.repeat(" ",t-e.length)+e}function c6(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,o=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var s="",l,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=id(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),h),s=Cr.repeat(" ",t.indent)+ad((e.line-l+1).toString(),c)+" | "+u.str+`
`+s;for(u=id(e.buffer,n[o],i[o],e.position,h),s+=Cr.repeat(" ",t.indent)+ad((e.line+1).toString(),c)+" | "+u.str+`
`,s+=Cr.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)u=id(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),h),s+=Cr.repeat(" ",t.indent)+ad((e.line+l+1).toString(),c)+" | "+u.str+`
`;return s.replace(/\n$/,"")}var h6=c6,f6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],d6=["scalar","sequence","mapping"];function p6(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function v6(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(f6.indexOf(r)===-1)throw new jn('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=p6(t.styleAliases||null),d6.indexOf(this.kind)===-1)throw new jn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var fr=v6;function mb(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,o){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=o)}),r[i]=n}),r}function g6(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function up(e){return this.extend(e)}up.prototype.extend=function(t){var r=[],n=[];if(t instanceof fr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new jn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof fr))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new jn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new jn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof fr))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(up.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=mb(i,"implicit"),i.compiledExplicit=mb(i,"explicit"),i.compiledTypeMap=g6(i.compiledImplicit,i.compiledExplicit),i};var m6=up,y6=new fr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),b6=new fr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),x6=new fr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),w6=new m6({explicit:[y6,b6,x6]});function C6(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function T6(){return null}function k6(e){return e===null}var _6=new fr("tag:yaml.org,2002:null",{kind:"scalar",resolve:C6,construct:T6,predicate:k6,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function S6(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function E6(e){return e==="true"||e==="True"||e==="TRUE"}function A6(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var B6=new fr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:S6,construct:E6,predicate:A6,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function L6(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function D6(e){return 48<=e&&e<=55}function M6(e){return 48<=e&&e<=57}function F6(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!L6(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!D6(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!M6(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function P6(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function R6(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Cr.isNegativeZero(e)}var I6=new fr("tag:yaml.org,2002:int",{kind:"scalar",resolve:F6,construct:P6,predicate:R6,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),O6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function N6(e){return!(e===null||!O6.test(e)||e[e.length-1]==="_")}function $6(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var z6=/^[-+]?[0-9]+e/;function q6(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Cr.isNegativeZero(e))return"-0.0";return r=e.toString(10),z6.test(r)?r.replace("e",".e"):r}function V6(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Cr.isNegativeZero(e))}var H6=new fr("tag:yaml.org,2002:float",{kind:"scalar",resolve:N6,construct:$6,predicate:V6,represent:q6,defaultStyle:"lowercase"}),UT=w6.extend({implicit:[_6,B6,I6,H6]}),W6=UT,GT=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),jT=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function U6(e){return e===null?!1:GT.exec(e)!==null||jT.exec(e)!==null}function G6(e){var t,r,n,i,a,o,s,l=0,u=null,c,h,f;if(t=GT.exec(e),t===null&&(t=jT.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],h=+(t[11]||0),u=(c*60+h)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,a,o,s,l)),u&&f.setTime(f.getTime()-u),f}function j6(e){return e.toISOString()}var K6=new fr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:U6,construct:G6,instanceOf:Date,represent:j6});function Y6(e){return e==="<<"||e===null}var X6=new fr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Y6}),Ov=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Z6(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=Ov;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Q6(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=Ov,o=0,s=[];for(t=0;t<i;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function J6(e){var t="",r=0,n,i,a=e.length,o=Ov;for(n=0;n<a;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function e8(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var t8=new fr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Z6,construct:Q6,predicate:e8,represent:J6}),r8=Object.prototype.hasOwnProperty,n8=Object.prototype.toString;function i8(e){if(e===null)return!0;var t=[],r,n,i,a,o,s=e;for(r=0,n=s.length;r<n;r+=1){if(i=s[r],o=!1,n8.call(i)!=="[object Object]")return!1;for(a in i)if(r8.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function a8(e){return e!==null?e:[]}var o8=new fr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i8,construct:a8}),s8=Object.prototype.toString;function l8(e){if(e===null)return!0;var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],s8.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function u8(e){if(e===null)return[];var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}var c8=new fr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:l8,construct:u8}),h8=Object.prototype.hasOwnProperty;function f8(e){if(e===null)return!0;var t,r=e;for(t in r)if(h8.call(r,t)&&r[t]!==null)return!1;return!0}function d8(e){return e!==null?e:{}}var p8=new fr("tag:yaml.org,2002:set",{kind:"mapping",resolve:f8,construct:d8}),v8=W6.extend({implicit:[K6,X6],explicit:[t8,o8,c8,p8]}),Li=Object.prototype.hasOwnProperty,ec=1,KT=2,YT=3,tc=4,od=1,g8=2,yb=3,m8=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y8=/[\x85\u2028\u2029]/,b8=/[,\[\]\{\}]/,XT=/^(?:!|!!|![a-z\-]+!)$/i,ZT=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bb(e){return Object.prototype.toString.call(e)}function An(e){return e===10||e===13}function oa(e){return e===9||e===32}function Rr(e){return e===9||e===32||e===10||e===13}function Va(e){return e===44||e===91||e===93||e===123||e===125}function x8(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function w8(e){return e===120?2:e===117?4:e===85?8:0}function C8(e){return 48<=e&&e<=57?e-48:-1}function xb(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function T8(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var QT=new Array(256),JT=new Array(256);for(var Ia=0;Ia<256;Ia++)QT[Ia]=xb(Ia)?1:0,JT[Ia]=xb(Ia);function k8(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||v8,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ek(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=h6(r),new jn(t,r)}function Ne(e,t){throw ek(e,t)}function rc(e,t){e.onWarning&&e.onWarning.call(null,ek(e,t))}var wb={YAML:function(t,r,n){var i,a,o;t.version!==null&&Ne(t,"duplication of %YAML directive"),n.length!==1&&Ne(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Ne(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&Ne(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&rc(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,a;n.length!==2&&Ne(t,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],XT.test(i)||Ne(t,"ill-formed tag handle (first argument) of the TAG directive"),Li.call(t.tagMap,i)&&Ne(t,'there is a previously declared suffix for "'+i+'" tag handle'),ZT.test(a)||Ne(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Ne(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function xi(e,t,r,n){var i,a,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,a=s.length;i<a;i+=1)o=s.charCodeAt(i),o===9||32<=o&&o<=1114111||Ne(e,"expected valid JSON character");else m8.test(s)&&Ne(e,"the stream contains non-printable characters");e.result+=s}}function Cb(e,t,r,n){var i,a,o,s;for(Cr.isObject(r)||Ne(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,s=i.length;o<s;o+=1)a=i[o],Li.call(t,a)||(t[a]=r[a],n[a]=!0)}function Ha(e,t,r,n,i,a,o,s,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Ne(e,"nested arrays are not supported inside keys"),typeof i=="object"&&bb(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&bb(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)Cb(e,t,a[u],r);else Cb(e,t,a,r);else!e.json&&!Li.call(r,i)&&Li.call(t,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,Ne(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function Nv(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ne(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function qt(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;oa(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(An(i))for(Nv(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&rc(e,"deficient indentation"),n}function eh(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Rr(r)))}function $v(e,t){t===1?e.result+=" ":t>1&&(e.result+=Cr.repeat(`
`,t-1))}function _8(e,t,r){var n,i,a,o,s,l,u,c,h=e.kind,f=e.result,d;if(d=e.input.charCodeAt(e.position),Rr(d)||Va(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=e.input.charCodeAt(e.position+1),Rr(i)||r&&Va(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;d!==0;){if(d===58){if(i=e.input.charCodeAt(e.position+1),Rr(i)||r&&Va(i))break}else if(d===35){if(n=e.input.charCodeAt(e.position-1),Rr(n))break}else{if(e.position===e.lineStart&&eh(e)||r&&Va(d))break;if(An(d))if(l=e.line,u=e.lineStart,c=e.lineIndent,qt(e,!1,-1),e.lineIndent>=t){s=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}s&&(xi(e,a,o,!1),$v(e,e.line-l),a=o=e.position,s=!1),oa(d)||(o=e.position+1),d=e.input.charCodeAt(++e.position)}return xi(e,a,o,!1),e.result?!0:(e.kind=h,e.result=f,!1)}function S8(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(xi(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else An(r)?(xi(e,n,i,!0),$v(e,qt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&eh(e)?Ne(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ne(e,"unexpected end of the stream within a single quoted scalar")}function E8(e,t){var r,n,i,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return xi(e,r,e.position,!0),e.position++,!0;if(s===92){if(xi(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),An(s))qt(e,!1,t);else if(s<256&&QT[s])e.result+=JT[s],e.position++;else if((o=w8(s))>0){for(i=o,a=0;i>0;i--)s=e.input.charCodeAt(++e.position),(o=x8(s))>=0?a=(a<<4)+o:Ne(e,"expected hexadecimal character");e.result+=T8(a),e.position++}else Ne(e,"unknown escape sequence");r=n=e.position}else An(s)?(xi(e,r,n,!0),$v(e,qt(e,!1,t)),r=n=e.position):e.position===e.lineStart&&eh(e)?Ne(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ne(e,"unexpected end of the stream within a double quoted scalar")}function A8(e,t){var r=!0,n,i,a,o=e.tag,s,l=e.anchor,u,c,h,f,d,p=Object.create(null),m,v,y,g;if(g=e.input.charCodeAt(e.position),g===91)c=93,d=!1,s=[];else if(g===123)c=125,d=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),g=e.input.charCodeAt(++e.position);g!==0;){if(qt(e,!0,t),g=e.input.charCodeAt(e.position),g===c)return e.position++,e.tag=o,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=s,!0;r?g===44&&Ne(e,"expected the node content, but found ','"):Ne(e,"missed comma between flow collection entries"),v=m=y=null,h=f=!1,g===63&&(u=e.input.charCodeAt(e.position+1),Rr(u)&&(h=f=!0,e.position++,qt(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,mo(e,t,ec,!1,!0),v=e.tag,m=e.result,qt(e,!0,t),g=e.input.charCodeAt(e.position),(f||e.line===n)&&g===58&&(h=!0,g=e.input.charCodeAt(++e.position),qt(e,!0,t),mo(e,t,ec,!1,!0),y=e.result),d?Ha(e,s,p,v,m,y,n,i,a):h?s.push(Ha(e,null,p,v,m,y,n,i,a)):s.push(m),qt(e,!0,t),g=e.input.charCodeAt(e.position),g===44?(r=!0,g=e.input.charCodeAt(++e.position)):r=!1}Ne(e,"unexpected end of the stream within a flow collection")}function B8(e,t){var r,n,i=od,a=!1,o=!1,s=t,l=0,u=!1,c,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)od===i?i=h===43?yb:g8:Ne(e,"repeat of a chomping mode identifier");else if((c=C8(h))>=0)c===0?Ne(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ne(e,"repeat of an indentation width identifier"):(s=t+c-1,o=!0);else break;if(oa(h)){do h=e.input.charCodeAt(++e.position);while(oa(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!An(h)&&h!==0)}for(;h!==0;){for(Nv(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),An(h)){l++;continue}if(e.lineIndent<s){i===yb?e.result+=Cr.repeat(`
`,a?1+l:l):i===od&&a&&(e.result+=`
`);break}for(n?oa(h)?(u=!0,e.result+=Cr.repeat(`
`,a?1+l:l)):u?(u=!1,e.result+=Cr.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=Cr.repeat(`
`,l):e.result+=Cr.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,r=e.position;!An(h)&&h!==0;)h=e.input.charCodeAt(++e.position);xi(e,r,e.position,!1)}return!0}function Tb(e,t){var r,n=e.tag,i=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Rr(o))));){if(s=!0,e.position++,qt(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,mo(e,t,YT,!1,!0),a.push(e.result),qt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)Ne(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function L8(e,t,r){var n,i,a,o,s,l,u=e.tag,c=e.anchor,h={},f=Object.create(null),d=null,p=null,m=null,v=!1,y=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),g=e.input.charCodeAt(e.position);g!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(g===63||g===58)&&Rr(n))g===63?(v&&(Ha(e,h,f,d,p,null,o,s,l),d=p=m=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):Ne(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=n;else{if(o=e.line,s=e.lineStart,l=e.position,!mo(e,r,KT,!1,!0))break;if(e.line===a){for(g=e.input.charCodeAt(e.position);oa(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),Rr(g)||Ne(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Ha(e,h,f,d,p,null,o,s,l),d=p=m=null),y=!0,v=!1,i=!1,d=e.tag,p=e.result;else if(y)Ne(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(y)Ne(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===a||e.lineIndent>t)&&(v&&(o=e.line,s=e.lineStart,l=e.position),mo(e,t,tc,!0,i)&&(v?p=e.result:m=e.result),v||(Ha(e,h,f,d,p,m,o,s,l),d=p=m=null),qt(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&g!==0)Ne(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Ha(e,h,f,d,p,null,o,s,l),y&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=h),y}function D8(e){var t,r=!1,n=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Ne(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Ne(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Rr(o);)o===33&&(n?Ne(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),XT.test(i)||Ne(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),b8.test(a)&&Ne(e,"tag suffix cannot contain flow indicator characters")}a&&!ZT.test(a)&&Ne(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Ne(e,"tag name is malformed: "+a)}return r?e.tag=a:Li.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:Ne(e,'undeclared tag handle "'+i+'"'),!0}function M8(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ne(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Rr(r)&&!Va(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function F8(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Rr(n)&&!Va(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Li.call(e.anchorMap,r)||Ne(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],qt(e,!0,-1),!0}function mo(e,t,r,n,i){var a,o,s,l=1,u=!1,c=!1,h,f,d,p,m,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=tc===r||YT===r,n&&qt(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;D8(e)||M8(e);)qt(e,!0,-1)?(u=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=u||i),(l===1||tc===r)&&(ec===r||KT===r?m=t:m=t+1,v=e.position-e.lineStart,l===1?s&&(Tb(e,v)||L8(e,v,m))||A8(e,m)?c=!0:(o&&B8(e,m)||S8(e,m)||E8(e,m)?c=!0:F8(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&Ne(e,"alias node should not have any properties")):_8(e,m,ec===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=s&&Tb(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ne(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(p=e.implicitTypes[h],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Li.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,d=e.typeMap.multi[e.kind||"fallback"],h=0,f=d.length;h<f;h+=1)if(e.tag.slice(0,d[h].tag.length)===d[h].tag){p=d[h];break}p||Ne(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&Ne(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ne(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function P8(e){var t=e.position,r,n,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(qt(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Rr(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Ne(e,"directive name must not be less than one character in length");o!==0;){for(;oa(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!An(o));break}if(An(o))break;for(r=e.position;o!==0&&!Rr(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Nv(e),Li.call(wb,n)?wb[n](e,n,i):rc(e,'unknown document directive "'+n+'"')}if(qt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,qt(e,!0,-1)):a&&Ne(e,"directives end mark is expected"),mo(e,e.lineIndent-1,tc,!1,!0),qt(e,!0,-1),e.checkLineBreaks&&y8.test(e.input.slice(t,e.position))&&rc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&eh(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,qt(e,!0,-1));return}if(e.position<e.length-1)Ne(e,"end of the stream or a document separator is expected");else return}function R8(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new k8(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Ne(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)P8(r);return r.documents}function I8(e,t){var r=R8(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new jn("expected a single document in the stream, but found more")}}var O8=I8,N8={load:O8},$8=UT,z8=N8.load;function q8(e){const t=e.match(aT);if(!t)return{text:e,metadata:{}};let r=z8(t[1],{schema:$8})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}const V8=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),H8=e=>{const{text:t,metadata:r}=q8(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},W8=e=>{const t=vs.detectInit(e)??{},r=vs.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>{}):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:v4(e),directive:t}};function tk(e){const t=V8(e),r=H8(t),n=W8(r.text),i=fT(r.config,n.directive);return e=Qq(n.text),{code:e,title:r.title,config:i}}const U8=5e4,G8="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",j8="sandbox",K8="loose",Y8="http://www.w3.org/2000/svg",X8="http://www.w3.org/1999/xlink",Z8="http://www.w3.org/1999/xhtml",Q8="100%",J8="100%",eV="border:0;margin:0;",tV="margin:0",rV="allow-top-navigation-by-user-activation allow-popups",nV='The "iframe" tag is not supported by your browser.',iV=["foreignobject"],aV=["dominant-baseline"];function rk(e){const t=tk(e);return Zu(),q4(t.config??{}),t}async function oV(e,t){Iv(),e=rk(e).code;try{await zv(e)}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}return!0}const kb=(e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,sV=(e,t={})=>{var r;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!nd(t)){const s=e.htmlLabels||((r=e.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in t){const u=t[l];nd(u.styles)||s.forEach(c=>{n+=kb(u.id,c,u.styles)}),nd(u.textStyles)||(n+=kb(u.id,"tspan",u.textStyles))}}return n},lV=(e,t,r,n)=>{const i=sV(e,r),a=sq(t,i,e.themeVariables);return tp(b$(`${n}{${a}}`),w$)},uV=(e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=O4(n),n=n.replace(/<br>/g,"<br/>"),n},cV=(e="",t)=>{var r,n;const i=(n=(r=t==null?void 0:t.viewBox)==null?void 0:r.baseVal)!=null&&n.height?t.viewBox.baseVal.height+"px":J8,a=btoa('<body style="'+tV+'">'+e+"</body>");return`<iframe style="width:${Q8};height:${i};${eV}" src="data:text/html;base64,${a}" sandbox="${rV}">
  ${nV}
</iframe>`},_b=(e,t,r,n,i)=>{const a=e.append("div");a.attr("id",r),n&&a.attr("style",n);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",Y8);return i&&o.attr("xmlns:xlink",i),o.append("g"),e};function Sb(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const hV=(e,t,r,n)=>{var i,a,o;(i=e.getElementById(t))==null||i.remove(),(a=e.getElementById(r))==null||a.remove(),(o=e.getElementById(n))==null||o.remove()},fV=async function(e,t,r){var n,i,a,o,s,l;Iv();const u=rk(t);t=u.code;const c=Fn();ze.debug(c),t.length>((c==null?void 0:c.maxTextSize)??U8)&&(t=G8);const h="#"+e,f="i"+e,d="#"+f,p="d"+e,m="#"+p;let v=Kr("body");const y=c.securityLevel===j8,g=c.securityLevel===K8,b=c.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const z=Sb(Kr(r),f);v=Kr(z.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=Kr(r);_b(v,e,p,`font-family: ${b}`,X8)}else{if(hV(document,e,p,f),y){const z=Sb(Kr("body"),f);v=Kr(z.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=Kr("body");_b(v,e,p)}let x,C;try{x=await zv(t,{title:u.title})}catch(z){x=new VT("error"),C=z}const T=v.select(m).node(),w=x.type,k=T.firstChild,E=k.firstChild,A=(i=(n=x.renderer).getClasses)==null?void 0:i.call(n,t,x),S=lV(c,w,A,h),B=document.createElement("style");B.innerHTML=S,k.insertBefore(B,E);try{await x.renderer.draw(t,e,db,x)}catch(z){throw kq.draw(t,e,db),z}const D=v.select(`${m} svg`),I=(o=(a=x.db).getAccTitle)==null?void 0:o.call(a),O=(l=(s=x.db).getAccDescription)==null?void 0:l.call(s);pV(w,D,I,O),v.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Z8);let F=v.select(m).node().innerHTML;if(ze.debug("config.arrowMarkerAbsolute",c.arrowMarkerAbsolute),F=uV(F,y,rT(c.arrowMarkerAbsolute)),y){const z=v.select(m+" svg").node();F=cV(F,z)}else g||(F=uo.sanitize(F,{ADD_TAGS:iV,ADD_ATTR:aV}));if(Kq(),C)throw C;const N=Kr(y?d:m).node();return N&&"remove"in N&&N.remove(),{svg:F,bindFunctions:x.db.bindFunctions}};function dV(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),$4(e),e!=null&&e.theme&&e.theme in Yn?e.themeVariables=Yn[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Yn.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?N4(e):pT();_v(r.logLevel),Iv()}const zv=(e,t={})=>{const{code:r}=tk(e);return jq(r,t)};function pV(e,t,r,n){Xq(t,e),Zq(t,r,n,t.attr("id"))}const ya=Object.freeze({render:fV,parse:oV,getDiagramFromText:zv,initialize:dV,getConfig:Fn,setConfig:vT,getSiteConfig:pT,updateSiteConfig:z4,reset:()=>{Zu()},globalReset:()=>{Zu(vo)},defaultConfig:vo});_v(Fn().logLevel);Zu(Fn());const vV=async()=>{ze.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(po).map(async([r,{detector:n,loader:i}])=>{if(i)try{Rv(r)}catch{try{const{diagram:o,id:s}=await i();Ju(s,o,n)}catch(o){throw ze.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete po[r],o}}}))).filter(r=>r.status==="rejected");if(t.length>0){ze.error(`Failed to load ${t.length} external diagrams`);for(const r of t)ze.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},gV=(e,t,r)=>{ze.warn(e),hT(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},nk=async function(e={querySelector:".mermaid"}){try{await mV(e)}catch(t){if(hT(t)&&ze.error(t.str),en.parseError&&en.parseError(t),!e.suppressErrors)throw ze.error("Use the suppressErrors option to suppress these errors"),t}},mV=async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=ya.getConfig();ze.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ze.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(ze.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),ya.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new vs.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const s=[];for(const l of Array.from(i)){ze.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;o=l.innerHTML,o=gP(vs.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const c=vs.detectInit(o);c&&ze.debug("Detected early reinit: ",c);try{const{svg:h,bindFunctions:f}=await sk(u,o,l);l.innerHTML=h,e&&await e(u),f&&f(l)}catch(h){gV(h,s,en.parseError)}}if(s.length>0)throw s[0]},ik=function(e){ya.initialize(e)},yV=async function(e,t,r){ze.warn("mermaid.init is deprecated. Please use run instead."),e&&ik(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await nk(n)},bV=async(e,{lazyLoad:t=!0}={})=>{sT(...e),t===!1&&await vV()},ak=function(){if(en.startOnLoad){const{startOnLoad:e}=ya.getConfig();e&&en.run().catch(t=>ze.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",ak,!1)}const xV=function(e){en.parseError=e},nc=[];let sd=!1;const ok=async()=>{if(!sd){for(sd=!0;nc.length>0;){const e=nc.shift();if(e)try{await e()}catch(t){ze.error("Error executing queue",t)}}sd=!1}},wV=async(e,t)=>new Promise((r,n)=>{const i=()=>new Promise((a,o)=>{ya.parse(e,t).then(s=>{a(s),r(s)},s=>{var l;ze.error("Error parsing",s),(l=en.parseError)==null||l.call(en,s),o(s),n(s)})});nc.push(i),ok().catch(n)}),sk=(e,t,r)=>new Promise((n,i)=>{const a=()=>new Promise((o,s)=>{ya.render(e,t,r).then(l=>{o(l),n(l)},l=>{var u;ze.error("Error parsing",l),(u=en.parseError)==null||u.call(en,l),s(l),i(l)})});nc.push(a),ok().catch(i)}),en={startOnLoad:!0,mermaidAPI:ya,parse:wV,render:sk,init:yV,run:nk,registerExternalDiagrams:bV,initialize:ik,parseError:void 0,contentLoaded:ak,setParseErrorHandler:xV,detectType:Qc};function CV(e){const t=e==="canyon"?{primaryColor:"#FF8C3B",primaryTextColor:"#FFDEAD",primaryBorderColor:"#DAA520",lineColor:"#CD5C5C",secondaryColor:"#5F9EA0",tertiaryColor:"#8A2BE2"}:{primaryColor:"#1FB6FF",primaryTextColor:"#FAEBD7",primaryBorderColor:"#06B6D4",lineColor:"#06B6D4",secondaryColor:"#E94560",tertiaryColor:"#8B5CF6"};en.initialize({startOnLoad:!1,theme:"dark",themeVariables:t})}async function TV(e){this.mermaidError="";try{const t=await QM(e,{refresh:!0});t&&t.mermaid?(this.mermaidCode=t.mermaid,this.$nextTick(()=>qv.call(this)),this.addTask("Diagram Generator",`Generated ${e} diagram`,"complete")):(!t||!t.mermaid)&&(this.mermaidError="No diagram content returned")}catch(t){console.error("Generate diagram failed",t),this.mermaidError=(t==null?void 0:t.message)||"Diagram generation failed",this.addTask("Diagram Generator","Diagram generation failed","complete")}}function kV(){let e=`graph TD
`;this.modules.forEach(t=>{e+=`    ${t.id.replace(/[^a-zA-Z0-9_]/g,"_")}[${t.name}]
`}),e+=`
`,this.moduleEdges.forEach(t=>{e+=`    ${t.source.replace(/[^a-zA-Z0-9_]/g,"_")} --> ${t.target.replace(/[^a-zA-Z0-9_]/g,"_")}
`}),this.mermaidCode=e,qv.call(this)}function qv(){const e=document.getElementById("mermaid-output");if(!e)return;const t=(this.mermaidCode||"").trim();this.mermaidError="",e.innerHTML="",e.removeAttribute("data-processed"),t&&en.render(`mermaid-${Date.now()}`,t).then(r=>{e.innerHTML=r.svg,this.mermaidError=""}).catch(r=>{this.mermaidError=(r==null?void 0:r.message)||"Failed to render diagram"})}async function lk(){this.addTask("Backend Architect","Scanning project structure","processing");try{const e=await RM({});this.modules=e.modules||[],this.moduleEdges=(e.edges||[]).filter(t=>this.modules.some(r=>r.id===t.source)&&this.modules.some(r=>r.id===t.target)),this.moduleSummary=e.summary||this.moduleSummary,this.refreshCanvas()}catch(e){console.error("Detect modules failed",e)}}async function _V(e,t,r){try{const n=await IM({source:e,target:t});n&&n.duplicate?this.addTask("Canvas",`Link ${e} → ${t} already exists`,"complete"):n&&n.source&&n.target?(this.addTask("Canvas",`Linked ${e} → ${t}`,"complete"),await lk.call(this)):console.error("Failed to persist link",n)}catch(n){console.error("Persist link error",n)}finally{r&&!r.destroyed()&&r.remove()}}function SV(){const e={modules:this.modules.length,dependencies:this.moduleEdges.length,externalDependencies:this.modules.reduce((t,r)=>t+(r.externalDependencies?r.externalDependencies.length:0),0)};console.table(e),this.addTask("Backend Architect","Canvas metrics computed","complete")}async function EV(){if(this.cy)try{const e=this.cy.png({full:!0}),t=await OM({format:"png",data:e});t.success&&(this.addTask("Canvas Export",`Saved ${t.filename}`,"complete"),typeof this.fetchExports=="function"&&await this.fetchExports())}catch(e){console.error("Canvas export failed",e)}}function AV(e){if(typeof document<"u"){const t=document.documentElement,r=document.body;t&&t.setAttribute("data-theme",e),r&&r.setAttribute("data-theme",e)}}function BV(e){if(typeof localStorage<"u")try{localStorage.setItem("opnix_theme",e)}catch{}}function LV(){if(typeof localStorage>"u")return null;try{return localStorage.getItem("opnix_theme")}catch{return null}}function uk(e){this.currentTheme=e,AV(e),BV(e),CV(e),this.cy&&this.cy.resize()}function DV({fallback:e="mole"}={}){const r=LV()||e;uk.call(this,r)}function MV(e){return e?e.split(/[\n,]/).map(t=>t.trim()).filter(Boolean).map(t=>t.replace(/\s+/g,"_").toUpperCase()):[]}async function FV(){const e=(this.tickets||[]).filter(a=>a&&a.priority==="high"&&a.status!=="finished"),t=(this.modules||[]).filter(a=>{const o=`${(a==null?void 0:a.name)||""} ${(a==null?void 0:a.id)||""}`,s=/python/i.test(o),l=((a==null?void 0:a.externalDependencies)||[]).some(u=>/python|py\b/i.test(u));return s||l}),r=new Set(t.map(a=>a.id)),n=(this.tickets||[]).filter(a=>Array.isArray(a==null?void 0:a.modules)&&a.modules.some(o=>r.has(o)));this.addTask("Python Agent","Activating Python diagnostic agent","processing");try{const a=await Aw("python-pro");if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"Agent activation failed");this.addTask("Python Agent",a.message||"Python agent activated","complete"),await this.fetchAgents()}catch(a){console.error("Python agent analysis failed",a),this.addTask("Python Agent",a.message||"Python agent activation failed","complete");return}const i=[];if(e.length?i.push(`${e.length} high-priority bug${e.length===1?"":"s"} still open`):i.push("No high-priority bugs open"),t.length&&i.push(`${t.length} module${t.length===1?"":"s"} with Python signals`),n.length){const a=n.slice(0,3).map(o=>`#${o.id} ${o.title}`).join(", ");i.push(`Python-linked bugs: ${n.length}${a?` (${a}${n.length>3?", ...":""})`:""}`)}this.addTask("Python Agent",i.join(" | "),"complete")}async function PV(){if(this.newBug.title.trim())try{const e=MV(this.newBug.tagsText),t=await LM({title:this.newBug.title,description:this.newBug.description,priority:this.newBug.priority,status:"reported",modules:this.newBug.modules,tags:e});this.tickets.push(t),this.showBugModal=!1,this.newBug={title:"",description:"",priority:"medium",modules:[],tagsText:""},this.addTask("Bug Tracker",`Ticket #${t.id} recorded`,"complete")}catch(e){console.error("Create bug failed",e)}}async function RV(e,t){const r=t.target.value;if(!r||r===e.status){t.target.value=e.status;return}if(r==="finished"){this.ticketBeingUpdated=e,this.ticketStatusElement=t.target,this.ticketCompletionSummary=e.completionSummary||"",this.ticketCompletionError="",this.showTicketCompletionModal=!0;return}try{await Vv.call(this,e,{status:r},t.target)}catch{}}async function Vv(e,t,r){try{const n=await DM(e.id,t),i=this.tickets.findIndex(a=>a.id===n.id);return i!==-1&&this.tickets.splice(i,1,n),await this.fetchStats(),this.addTask("Bug Tracker",`Ticket #${n.id} updated`,"complete"),n}catch(n){throw console.error("Persist ticket update failed",n),r&&(r.value=e.status),n}}function IV(){this.ticketStatusElement&&this.ticketBeingUpdated&&(this.ticketStatusElement.value=this.ticketBeingUpdated.status),this.showTicketCompletionModal=!1,this.ticketBeingUpdated=null,this.ticketStatusElement=null,this.ticketCompletionSummary="",this.ticketCompletionError=""}async function OV(){if(!this.ticketBeingUpdated){this.showTicketCompletionModal=!1;return}if(!this.ticketCompletionSummary||!this.ticketCompletionSummary.trim()){this.ticketCompletionError="Completion summary is required.";return}try{await Vv.call(this,this.ticketBeingUpdated,{status:"finished",completionSummary:this.ticketCompletionSummary.trim()},this.ticketStatusElement),this.showTicketCompletionModal=!1,this.ticketCompletionSummary="",this.ticketCompletionError="",this.ticketBeingUpdated=null,this.ticketStatusElement=null}catch{this.ticketCompletionError="Unable to update ticket. Check console for details."}}async function NV(){try{const e=await WM();Bw("opnix-tickets.md",e)}catch(e){console.error("Export bugs failed",e)}}const Eb={reported:"Reported",in_progress:"In Progress",finished:"Finished"};function $V(e,{fallback:t}={}){if(e==null)return t??null;const r=String(e).trim();if(!r)return t??null;const n=r.replace(/[\s_-]/g,"").toLowerCase();return n==="reported"||n==="open"?"reported":n==="inprogress"?"in_progress":n==="finished"||n==="resolved"||n==="complete"?"finished":t??r}function zV(e){const t=$V(e,{fallback:"reported"});return Eb[t]||Eb.reported}function qV(e){try{const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"Unknown date":t.toLocaleDateString()}catch(t){return console.error("Ticket date format error",t),"Unknown date"}}function VV(e=[],t=5){return e.slice(0,t).map(r=>({id:r.id,title:r.title,description:r.description,status:r.status,priority:r.priority,modules:r.modules||[],tags:r.tags||[]}))}function Ab(e=[],t=5){return e.slice(0,t).map(r=>({id:r.id,name:r.name,type:r.type,pathHints:r.pathHints||[],dependencies:r.dependencies||[],externalDependencies:r.externalDependencies||[]}))}function HV(e=[],t=5){return e.slice(0,t).map(r=>({id:r.id,title:r.title,description:r.description,moduleId:r.moduleId,status:r.status,priority:r.priority}))}function Hv(){var h,f;const e=Array.isArray(this.modules)?this.modules:[],t=Array.isArray(this.features)?this.features:[],r=Array.isArray(this.tickets)?this.tickets:[],n=((h=this.latestSpecMeta)==null?void 0:h.projectName)||((f=this.packageJson)==null?void 0:f.name)||"Opnix Project",i=[{url:"http://localhost:7337",description:"Local development"}],a={type:"object",required:["id","name"],properties:{id:{type:["string","number"]},name:{type:"string"},type:{type:"string"},pathHints:{type:"array",items:{type:"string"}},dependencies:{type:"array",items:{type:"string"}},externalDependencies:{type:"array",items:{type:"string"}},health:{type:"number"},coverage:{type:"number"}}},o={type:"object",required:["id","title","status","priority"],properties:{id:{type:["string","number"]},title:{type:"string"},description:{type:"string"},status:{type:"string",enum:["reported","in_progress","finished"]},priority:{type:"string",enum:["low","medium","high"]},modules:{type:"array",items:{type:"string"}},tags:{type:"array",items:{type:"string"}}}},s={type:"object",required:["id","title","status"],properties:{id:{type:["string","number"]},title:{type:"string"},description:{type:"string"},status:{type:"string",enum:["proposed","approved","inDevelopment","testing","deployed"]},moduleId:{type:["string","number","null"]},priority:{type:"string",enum:["low","medium","high"]}}},l=[{method:"GET",path:"/api/tickets",summary:"List tickets",description:"Returns the set of tickets recorded in data/tickets.json."},{method:"POST",path:"/api/tickets",summary:"Create a ticket",description:"Adds a new ticket and persists it to data/tickets.json."},{method:"GET",path:"/api/features",summary:"List features",description:"Fetches features tracked in data/features.json."},{method:"POST",path:"/api/features",summary:"Create a feature",description:"Creates a new feature proposal with optional acceptance criteria."},{method:"GET",path:"/api/modules/graph",summary:"Return module graph",description:"Returns the module graph combining detector output and manual links."},{method:"POST",path:"/api/modules/detect",summary:"Trigger module detection",description:"Runs the detector across the repository and returns module metadata."}],u={"/api/tickets":{get:{tags:["Tickets"],summary:"List tickets",responses:{200:{description:"Tickets found",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Ticket"}},examples:{default:{value:VV(r)}}}}}}},post:{tags:["Tickets"],summary:"Create ticket",requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Ticket"}}}},responses:{201:{description:"Ticket created"}}}},"/api/features":{get:{tags:["Features"],summary:"List features",responses:{200:{description:"Features found",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Feature"}},examples:{default:{value:HV(t)}}}}}}},post:{tags:["Features"],summary:"Create feature",requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Feature"}}}},responses:{201:{description:"Feature created"}}}},"/api/modules/graph":{get:{tags:["Modules"],summary:"Retrieve module graph",responses:{200:{description:"Module graph generated",content:{"application/json":{schema:{type:"object",properties:{modules:{type:"array",items:{$ref:"#/components/schemas/Module"}},edges:{type:"array",items:{type:"object"}}}},examples:{default:{value:{modules:Ab(e),edges:this.moduleEdges||[]}}}}}}}}},"/api/modules/detect":{post:{tags:["Modules"],summary:"Trigger module detection run",responses:{200:{description:"Detection complete",content:{"application/json":{schema:{type:"object",properties:{modules:{type:"array",items:{$ref:"#/components/schemas/Module"}},edges:{type:"array",items:{type:"object"}}}},examples:{default:{value:{modules:Ab(e),edges:this.moduleEdges||[]}}}}}}}}}},c={moduleCount:e.length,featureCount:t.length,ticketCount:r.length};return{openapi:"3.1.0",info:{title:`${n} API`,version:"1.0.0",description:"Draft OpenAPI specification generated from live Opnix data."},servers:i,tags:[{name:"Tickets",description:"Ticket management endpoints"},{name:"Features",description:"Feature lifecycle endpoints"},{name:"Modules",description:"Module detection and graph endpoints"}],paths:u,components:{schemas:{Module:a,Ticket:o,Feature:s}},"x-draft-endpoints":l,"x-draft-summary":c}}async function WV(){this.apiSpecWarnings=[];const e=Hv.call(this);this.apiSpecPayload=e,this.apiSpecContent=JSON.stringify(e,null,2),this.addTask("API Generator","Compiling API surface","processing");try{const t=await JM({spec:e,format:this.apiFormat});t!=null&&t.spec&&(this.apiSpecPayload=t.spec,this.apiSpecContent=t.preview||JSON.stringify(t.spec,null,2)),this.apiSpecWarnings=Array.isArray(t==null?void 0:t.warnings)?t.warnings:[],this.addTask("API Generator","API spec generated","complete")}catch(t){console.error("Generate API spec failed",t),this.apiSpecWarnings=[t.message||"API spec generation failed"],this.addTask("API Generator","API spec generation failed","complete")}}async function UV({format:e}={}){const t=this.apiSpecPayload||Hv.call(this);try{const r=await eF({spec:t,format:e||this.apiFormat});r!=null&&r.success&&(this.addTask("API Export",`Spec saved as ${r.filename}`,"complete"),typeof this.fetchExports=="function"&&await this.fetchExports()),Array.isArray(r==null?void 0:r.warnings)&&(this.apiSpecWarnings=r.warnings)}catch(r){console.error("Export API spec failed",r),this.apiSpecWarnings=[r.message||"API spec export failed"],this.addTask("API Export","API spec export failed","complete")}}async function GV({format:e}={}){try{const t=await tF({spec:this.apiSpecPayload,format:e||this.apiFormat}),r=Array.isArray(t==null?void 0:t.results)?t.results:[];if(r.length){const n=r.reduce((i,a)=>(i[a.check]=`${a.status}: ${a.detail}`,i),{});console.table(n)}this.apiSpecWarnings=Array.isArray(t==null?void 0:t.warnings)?t.warnings:[],this.addTask("API Tester",t!=null&&t.success?"API checks passed":"API checks reported warnings","complete")}catch(t){console.error("API spec tests failed",t),this.apiSpecWarnings=[t.message||"API tests failed"],this.addTask("API Tester","API tests failed","complete")}}function jV(e){return e?e.completed?"Completed":"In Progress":"Unknown"}function KV(e,t){if(!e||!Array.isArray(e.questions))return t;const r=e.questions.find(n=>n&&n.id===t);return r&&(r.prompt||r.title)||t}function YV(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function XV(e){const t=e&&e.diagnostics;if(!t)return"n/a";const r=t.contextUsed,n=t.contextLimit;return typeof r!="number"||typeof n!="number"||n<=0?"n/a":`${Math.round(r/n*100)}%`}function ZV(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}const QV=100;async function JV(){this.terminalLoading=!0,this.terminalError="";try{const e=await NM();this.terminalHistory=Array.isArray(e)?e:[]}catch(e){console.error("Terminal history load error",e),this.terminalError=e.message||"Failed to load terminal history"}finally{this.terminalLoading=!1}}async function e9(){const e=(this.terminalCommand||"").trim();if(!e)return;const t=(this.terminalWorkingDirectory||"").trim()||".";this.terminalRunning=!0,this.terminalError="";try{const r=await $M({command:e,cwd:t}),n={...r,command:r.command||e,cwd:r.cwd||t,ranAt:r.ranAt||new Date().toISOString()};this.terminalHistory=[...this.terminalHistory,n].slice(-QV),this.terminalCommand="",this.addTask("Terminal",`Executed: ${e}`,"complete")}catch(r){console.error("Terminal command failed",r),this.terminalError=r.message||"Command failed",this.addTask("Terminal","Command failed","complete")}finally{this.terminalRunning=!1}}async function t9(){this.terminalError="";try{await zM(),this.terminalHistory=[],this.addTask("Terminal","History cleared","complete")}catch(e){console.error("Terminal history clear error",e),this.terminalError=e.message||"Failed to clear terminal history"}}Ai.use(SM);const Bb={development:"⚙️","data-ai":"🧠",infrastructure:"🏗️",security:"🛡️","quality-testing":"🧪",specialization:"🎯",general:"🤖"},Lb={data(){return{currentTheme:"mole",activeTab:"canvas",mainTabs:[{id:"canvas",icon:"🕸️",label:"Canvas"},{id:"bugs",icon:"🐛",label:"Bugs"},{id:"features",icon:"✨",label:"Features"},{id:"modules",icon:"📦",label:"Modules"},{id:"specs",icon:"📋",label:"Specs"},{id:"diagrams",icon:"📊",label:"Diagrams"},{id:"api",icon:"🔌",label:"API"},{id:"storybook",icon:"📘",label:"Storybook"},{id:"docs",icon:"📚",label:"Docs"}],claudeCommand:"",claudeLastResponse:"",cy:null,edgeHandles:null,moduleEdges:[],moduleSummary:{moduleCount:0,dependencyCount:0,externalDependencyCount:0,totalLines:0},stats:null,agents:[],taskQueue:[],tickets:[],features:[],modules:[],exportsList:[],latestAudit:null,loading:{tickets:!1,features:!1,modules:!1,agents:!1,exports:!1,stats:!1},terminalHistory:[],terminalCommand:"",terminalWorkingDirectory:".",terminalLoading:!1,terminalRunning:!1,terminalError:"",bugFilter:{priority:"",status:""},featureFilter:{module:"",status:""},selectedModules:[],ticketStatusOptions:[{value:"reported",label:"Reported"},{value:"in_progress",label:"In Progress"},{value:"finished",label:"Finished"}],showTicketCompletionModal:!1,ticketBeingUpdated:null,ticketStatusElement:null,ticketCompletionSummary:"",ticketCompletionError:"",showBugModal:!1,showFeatureModal:!1,showAddModuleModal:!1,newBug:{title:"",description:"",priority:"medium",modules:[],tagsText:""},newFeature:{title:"",description:"",moduleId:"",priority:"medium",criteriaText:""},newModule:{name:"",id:"",path:"",depsString:"",type:"custom"},interviewBlueprint:null,baseSectionOrder:[],typeSectionMap:{},frameworkSectionMap:{},languageFrameworks:{},currentSectionOrder:[],activeSectionIndex:0,completedSections:[],currentQuestions:[],currentPhase:"initial",questionAnswers:{},generatedSpec:"",latestSpecMeta:null,latestSpecPayload:null,specExportFormat:"json",apiFormat:"openapi",apiSpecContent:"",apiSpecPayload:null,apiSpecWarnings:[],docType:"overview",docTitle:"Project Overview",generatedDocs:'<p class="loading">Select documentation type and click generate...</p>',runbookModalOpen:!1,runbookInterviewLoading:!1,runbookInterviewSubmitting:!1,runbookInterviewError:"",runbookSessionId:null,runbookCurrentQuestion:null,runbookDraftAnswer:"",runbookResponses:[],runbookHistory:[],runbookMessages:[],latestRunbook:null,latestRunbookContent:"",latestRunbookHtml:"",runbookGenerating:!1,runbookGenerationError:"",mermaidCode:"",mermaidError:"",cliSessions:[],cliSessionsLoading:!1,cliSessionsError:"",selectedCliSession:null,cliSessionDetails:null,cliSessionDetailsError:"",cliGateLog:[],cliSessionsRefreshHandle:null,storybookStatus:"",storybookFrameVersion:0}},computed:{filteredFeatures(){return this.features.filter(e=>!(this.featureFilter.module&&e.moduleId!==this.featureFilter.module||this.featureFilter.status&&e.status!==this.featureFilter.status||this.selectedModules.length>0&&!this.selectedModules.includes(e.moduleId)))},availableTags(){const e=new Set;return this.tickets.forEach(t=>{(t.tags||[]).forEach(r=>e.add(r))}),Array.from(e).sort()},moduleLookup(){return this.modules.reduce((e,t)=>(e[t.id]=t,e),{})},ticketProgress(){var l,u,c,h,f;const e=((l=this.stats)==null?void 0:l.reported)||0,t=((u=this.stats)==null?void 0:u.in_progress)||0,r=((c=this.stats)==null?void 0:c.finished)||0,n=((h=this.stats)==null?void 0:h.open)!==void 0?this.stats.open:e+t,i=((f=this.stats)==null?void 0:f.closed)!==void 0?this.stats.closed:r,a=n+i,o=a?Math.round(n/a*100):0,s=a?100-o:0;return{reported:e,inProgress:t,finished:r,open:n,closed:i,total:a,openPct:o,closedPct:s}}},methods:{async bootstrap(){await this.loadInterviewBlueprint(),this.initializeInterview(),await Promise.all([this.fetchAgents(),this.fetchTickets(),this.fetchFeatures(),this.fetchModulesGraph(),this.fetchExports(),this.fetchStats(),this.loadTerminalHistory()]),await this.fetchCliSessions(),this.activeTab==="canvas"&&this.$nextTick(()=>this.ensureCanvas())},async loadInterviewBlueprint(){if(!this.interviewBlueprint)try{const e=await HM();this.interviewBlueprint=e.sections||{},this.baseSectionOrder=e.baseOrder||Object.keys(this.interviewBlueprint),this.typeSectionMap=e.typeOrder||{},this.frameworkSectionMap=e.frameworkSectionMap||{},this.languageFrameworks=e.languageFrameworks||{}}catch(e){console.error("Interview blueprint load error",e),this.interviewBlueprint={},this.baseSectionOrder=[],this.typeSectionMap={},this.frameworkSectionMap={},this.languageFrameworks={}}},initializeInterview(){if(!this.interviewBlueprint||this.baseSectionOrder.length===0){this.currentQuestions=[],this.currentSectionOrder=[],this.currentPhase="initial";return}this.questionAnswers={},this.completedSections=[],this.currentSectionOrder=[...this.baseSectionOrder],this.activeSectionIndex=0,this.currentQuestions=[];const e=this.currentSectionOrder[0];e&&(this.enqueueSection(e),this.currentPhase=this.getSectionTitle(e))},getSection(e){return!e||!this.interviewBlueprint?null:this.interviewBlueprint[e]||null},getSectionTitle(e){const t=this.getSection(e);return t?t.title:"Interview"},cloneSectionQuestions(e){const t=this.getSection(e);return!t||!Array.isArray(t.questions)?[]:t.questions.map((r,n)=>({...r,answer:this.questionAnswers[r.id]||"",sectionId:e,sectionTitle:t.title,sectionDescription:t.description||"",isSectionFirst:n===0}))},enqueueSection(e){if(!e||this.currentQuestions.some(r=>r.sectionId===e))return;const t=this.cloneSectionQuestions(e);t.length&&this.currentQuestions.push(...t)},extendSectionsForProjectType(e){nF.call(this,e)},extendSectionsForFramework(e){iF.call(this,e)},updateFrameworkOptions(e){aF.call(this,e)},advanceSectionIfComplete(e){oF.call(this,e)},async fetchAgents(){try{this.loading.agents=!0;const t=((await AM()).agents||[]).map(r=>({id:r.id,name:r.name,category:r.category,path:r.path,icon:Bb[r.category]||Bb.general,status:"idle",taskCount:0}));this.agents=t}catch(e){console.error("Agent load error",e)}finally{this.loading.agents=!1}},async fetchTickets(){try{this.loading.tickets=!0;const e=await BM();this.tickets=Array.isArray(e)?e:[]}catch(e){console.error("Ticket load error",e)}finally{this.loading.tickets=!1}},async fetchFeatures(){try{this.loading.features=!0;const e=await MM();this.features=Array.isArray(e)?e:[]}catch(e){console.error("Feature load error",e)}finally{this.loading.features=!1}},async fetchModulesGraph(){try{this.loading.modules=!0;const e=await PM();this.modules=e.modules||[],this.moduleEdges=(e.edges||[]).filter(t=>this.modules.some(r=>r.id===t.source)&&this.modules.some(r=>r.id===t.target)),this.moduleSummary=e.summary||this.moduleSummary,this.ensureCanvas()}catch(e){console.error("Module graph error",e)}finally{this.loading.modules=!1}},async fetchExports(){try{this.loading.exports=!0;const e=await qM();this.exportsList=e.files||[]}catch(e){console.error("Exports load error",e)}finally{this.loading.exports=!1}},async fetchStats(){try{this.loading.stats=!0;const e=await VM();this.stats=e}catch(e){console.error("Stats load error",e)}finally{this.loading.stats=!1}},setTheme(e){uk.call(this,e),this.refreshStorybookFrame({reason:"theme-change"})},setTab(e){this.activeTab=e,e==="canvas"&&this.$nextTick(()=>this.ensureCanvas()),e==="specs"&&this.fetchCliSessions(),e==="diagrams"&&(this.mermaidCode?this.$nextTick(()=>this.renderMermaid()):this.generateDiagram("architecture")),e==="storybook"&&this.refreshStorybookFrame({reason:"tab-activate"})},updateBugFilter(e){this.bugFilter={...e}},updateFeatureFilter(e){this.featureFilter={...e}},updateSpecExportFormat(e){this.specExportFormat=e},updateMermaidCode(e){this.mermaidCode=e,this.mermaidError=""},updateApiFormat(e){this.apiFormat=e,this.apiSpecWarnings=[]},updateDocType(e){this.docType=e},async loadTerminalHistory(){await JV.call(this)},async runTerminalCommand(){await e9.call(this)},async clearTerminalHistory(){await t9.call(this)},async startStorybookInstance(){try{this.storybookStatus="Starting Storybook...";const e=await rF(),t=(e==null?void 0:e.message)||"Storybook start requested";this.storybookStatus=t,this.addTask("Storybook",t,"complete"),this.refreshStorybookFrame({reason:"start-storybook"})}catch(e){console.error("Storybook start failed",e);const t=(e==null?void 0:e.message)||"Failed to start Storybook";this.storybookStatus=t,this.addTask("Storybook",t,"complete")}},refreshStorybookFrame({reason:e}={}){this.storybookFrameVersion+=1,e==="theme-change"?this.storybookStatus=`Theme synced at ${new Date().toLocaleTimeString()}`:e==="manual-refresh"?this.storybookStatus=`Frame refreshed at ${new Date().toLocaleTimeString()}`:e==="tab-activate"&&!this.storybookStatus&&(this.storybookStatus="Storybook panel ready")},async analyzeWithPythonAgent(){await FV.call(this)},async executeClaudeCommand(){await nP.call(this)},async fetchCliSessions(){await iP.call(this)},async viewCliSession(e){await aP.call(this,e)},clearCliSessionDetails(){qw.call(this)},formatCliSessionStatus:jV,findCliQuestionPrompt:KV,formatGateTimestamp:YV,formatGateContext:XV,formatCliTimestamp:ZV,activateAgent(e){oP.call(this,e)},addTask(e,t,r="pending"){ea.call(this,e,t,r)},ensureCanvas(){pP.call(this)},refreshCanvas(){if(!this.cy)return;const e=[];this.modules.forEach(t=>{const r=[t.name];typeof t.health=="number"&&r.push(`💚 ${t.health}% health`),t.pathHints&&t.pathHints.length>0&&r.push(t.pathHints[0]),e.push({data:{id:t.id,label:r.join(`
`),health:t.health||60,coverage:t.coverage||0}})})},layoutCanvas(e){vP.call(this,e)},async detectModules(){await lk.call(this)},async persistModuleLink(e,t,r){await _V.call(this,e,t,r)},analyzeCanvas(){SV.call(this)},async exportCanvas(){await EV.call(this)},async addBug(){await PV.call(this)},async addFeature(){await eP.call(this)},generateFeatureReport(){tP.call(this)},toggleModule(e){rP.call(this,e)},analyzeModule(e){lP.call(this,e)},analyzeModuleDependencies(){uP.call(this)},getModuleBugCount(e){return cP.call(this,e)},getModuleFeatureCount(e){return hP.call(this,e)},getModuleName(e){return fP.call(this,e)},getHealthColor(e){return Vw(e)},getFeatureStatusColor(e){return dP(e)},async onTicketStatusChange(e,t){await RV.call(this,e,t)},async persistTicketUpdate(e,t,r){return Vv.call(this,e,t,r)},cancelTicketCompletion(){IV.call(this)},async confirmTicketCompletion(){await OV.call(this)},async exportBugs(){await NV.call(this)},buildApiSpecDraft(){return Hv.call(this)},async generateAPISpec(){await WV.call(this)},async exportAPISpec(){await UV.call(this,{format:this.apiFormat})},async testAPI(){await GV.call(this,{format:this.apiFormat})},generateDocs(){hF.call(this)},exportDocs(){fF.call(this)},resetRunbookInterviewState(){Rc.call(this)},async startRunbookInterview(){await KF.call(this)},async submitRunbookAnswer(){await YF.call(this)},async skipRunbookInterview(){await XF.call(this)},closeRunbookModal(){ZF.call(this)},async generateRunbook(e={}){await Ic.call(this,e)},async quickGenerateRunbook(){await QF.call(this)},async generateDiagram(e){await TV.call(this,e)},generateFromModules(){kV.call(this)},renderMermaid(){qv.call(this)},processAnswer(e){sF.call(this,e)},collectAnswers(){return lF.call(this)},buildSpecPayload(){return uF.call(this)},async generateSpec(){const e=this.buildSpecPayload();this.latestSpecPayload=e,this.generatedSpec=JSON.stringify(e,null,2);try{const t=this.specExportFormat==="github"?"github-spec-kit":this.specExportFormat,r=await XM({spec:e,format:t});r.success&&(this.latestSpecMeta=r,this.addTask("Spec Builder",`Spec saved as ${r.filename}`,"complete"),await this.fetchExports())}catch(t){console.error("Generate spec failed",t)}}},mounted(){DV.call(this,{fallback:"mole"}),this.bootstrap(),this.cliSessionsRefreshHandle=setInterval(()=>{this.activeTab==="specs"&&this.fetchCliSessions()},2e4)},beforeUnmount(){this.cliSessionsRefreshHandle&&(clearInterval(this.cliSessionsRefreshHandle),this.cliSessionsRefreshHandle=null)}},It=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},r9={name:"AppHeader",props:{currentTheme:{type:String,required:!0}},emits:["set-theme"],methods:{emitTheme(e){this.$emit("set-theme",e)}}},n9={class:"header"},i9={class:"theme-switcher"};function a9(e,t,r,n,i,a){return he(),de("header",n9,[R("div",i9,[R("button",{class:vt(["theme-btn",{active:r.currentTheme==="mole"}]),type:"button",onClick:t[0]||(t[0]=o=>a.emitTheme("mole"))}," MOLE ",2),R("button",{class:vt(["theme-btn",{active:r.currentTheme==="canyon"}]),type:"button",onClick:t[1]||(t[1]=o=>a.emitTheme("canyon"))}," CANYON ",2)]),t[2]||(t[2]=R("h1",null,"OTKIT",-1)),t[3]||(t[3]=R("p",{class:"subtitle"},"OPERATIONAL TOOLKIT // v1.0",-1))])}const o9=It(r9,[["render",a9]]),s9={name:"StatuslinePanel",props:{stats:{type:Object,default:null},ticketProgress:{type:Object,default:()=>({open:0,closed:0,total:0,openPct:0,closedPct:0,reported:0,inProgress:0,finished:0})},latestAudit:{type:Object,default:null}}},l9={key:0,class:"status-overview"},u9={class:"card status-card"},c9={class:"status-header"},h9={class:"status-counts"},f9={class:"status-metric"},d9={class:"status-value"},p9={class:"status-metric"},v9={class:"status-value"},g9={class:"status-metric"},m9={class:"status-value"},y9={class:"status-bar","aria-label":"Open vs closed work balance"},b9={class:"status-legend"},x9={class:"status-chip open"},w9={class:"status-chip closed"},C9={class:"status-chip reported"},T9={class:"status-chip progress"},k9={class:"status-chip finished"},_9={key:0,class:"status-footnote"},S9={key:0,class:"status-followups"};function E9(e,t,r,n,i,a){return r.stats?(he(),de("div",l9,[R("div",u9,[R("div",c9,[t[3]||(t[3]=R("div",null,[R("h3",{style:{color:"var(--accent-cyan)"}},"Ticket Pulse"),R("p",{style:{color:"var(--text-muted)","font-size":"0.8rem"}},"Live view of open vs closed work")],-1)),R("div",h9,[R("div",f9,[R("div",d9,be(r.ticketProgress.open),1),t[0]||(t[0]=R("div",{class:"status-label"},"Open",-1))]),R("div",p9,[R("div",v9,be(r.ticketProgress.closed),1),t[1]||(t[1]=R("div",{class:"status-label"},"Closed",-1))]),R("div",g9,[R("div",m9,be(r.ticketProgress.total),1),t[2]||(t[2]=R("div",{class:"status-label"},"Total",-1))])])]),R("div",y9,[R("div",{class:"status-bar-open",style:sa({width:r.ticketProgress.openPct+"%"})},null,4),R("div",{class:"status-bar-closed",style:sa({width:r.ticketProgress.closedPct+"%"})},null,4)]),R("div",b9,[R("span",x9,"Open "+be(r.ticketProgress.openPct)+"%",1),R("span",w9,"Closed "+be(r.ticketProgress.closedPct)+"%",1),R("span",C9,"Reported "+be(r.ticketProgress.reported),1),R("span",T9,"In Progress "+be(r.ticketProgress.inProgress),1),R("span",k9,"Finished "+be(r.ticketProgress.finished),1)]),r.latestAudit?(he(),de("div",_9,[ua(be(r.latestAudit.message)+" ",1),r.latestAudit.followUps&&r.latestAudit.followUps.length?(he(),de("ul",S9,[(he(!0),de(tt,null,Tt(r.latestAudit.followUps.slice(0,3),(o,s)=>(he(),de("li",{key:s},be(o),1))),128))])):Je("",!0)])):Je("",!0)])])):Je("",!0)}const A9=It(s9,[["render",E9]]),B9={name:"CommandCenter",components:{StatuslinePanel:A9},props:{claudeCommand:{type:String,default:""},taskQueue:{type:Array,default:()=>[]},stats:{type:Object,default:null},ticketProgress:{type:Object,default:()=>({open:0,closed:0,total:0,openPct:0,closedPct:0,reported:0,inProgress:0,finished:0})},latestAudit:{type:Object,default:null},placeholder:{type:String,default:"setup audit | analyze modules | detect dependencies | fix issue #123 | generate docs (auto --ultrathink)"},onExecute:{type:Function,default:null}},emits:["update:claudeCommand"],computed:{commandValue:{get(){return this.claudeCommand},set(e){this.$emit("update:claudeCommand",e)}}},methods:{runCommand(){typeof this.onExecute=="function"&&this.onExecute()}}},L9={class:"command-center"},D9={class:"claude-cli-bar"},M9={class:"claude-command"},F9=["placeholder"],P9={key:0,class:"task-queue"};function R9(e,t,r,n,i,a){const o=Ft("StatuslinePanel");return he(),de("div",L9,[R("div",D9,[R("div",M9,[t[3]||(t[3]=R("span",{style:{color:"var(--accent-cyan)"}},"claude$",-1)),mi(R("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>a.commandValue=s),onKeyup:t[1]||(t[1]=R1((...s)=>a.runCommand&&a.runCommand(...s),["enter"])),placeholder:r.placeholder},null,40,F9),[[xd,a.commandValue]]),R("button",{class:"btn",type:"button",onClick:t[2]||(t[2]=(...s)=>a.runCommand&&a.runCommand(...s))},"EXECUTE")])]),r.taskQueue.length?(he(),de("div",P9,[t[4]||(t[4]=R("h4",{style:{color:"var(--accent-orange)","margin-bottom":"0.5rem"}},"Activity",-1)),(he(!0),de(tt,null,Tt(r.taskQueue,s=>(he(),de("div",{key:s.id,class:"task-item"},[R("span",null,be(s.agent)+" → "+be(s.description),1),R("span",{class:vt(["task-status",s.status])},be(s.status),3)]))),128))])):Je("",!0),Qe(o,{stats:r.stats,"ticket-progress":r.ticketProgress,"latest-audit":r.latestAudit},null,8,["stats","ticket-progress","latest-audit"])])}const I9=It(B9,[["render",R9]]),O9={name:"TerminalPanel",props:{active:{type:Boolean,default:!1},history:{type:Array,default:()=>[]},command:{type:String,default:""},workingDirectory:{type:String,default:""},loading:{type:Boolean,default:!1},running:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:command","update:workingDirectory","run","clear"],data(){return{localCommand:this.command}},watch:{command(e){e!==this.localCommand&&(this.localCommand=e,this.syncInput())},history(){this.$nextTick(()=>{const e=this.$refs.logRef;e&&(e.scrollTop=e.scrollHeight)})}},computed:{promptIcon(){return this.running?"…$":"claude$"}},mounted(){this.syncInput()},methods:{prompt(e){return e&&e.command,"claude$"},formatTimestamp(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleTimeString()},syncInput(){const e=this.$refs.inputRef;e&&(e.textContent=this.localCommand)},onInput(e){this.localCommand=e.target.textContent,this.$emit("update:command",this.localCommand)},handleKeydown(e){if(this.running){e.preventDefault();return}e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.emitRun())},emitRun(){!this.localCommand||this.running||this.$emit("run")}}},N9={class:"terminal-panel-header"},$9={class:"terminal-header-controls"},z9=["value"],q9=["disabled"],V9={class:"terminal-window"},H9=["aria-busy"],W9={key:0,class:"terminal-log-empty"},U9={key:1,class:"terminal-log-empty"},G9={class:"terminal-line"},j9={class:"terminal-prompt"},K9={class:"terminal-command-text"},Y9={key:0,class:"terminal-output-block"},X9={key:1,class:"terminal-output-block terminal-output-error"},Z9={class:"terminal-meta"},Q9={class:"terminal-input-shell"},J9={class:"terminal-prompt"},eH=["data-placeholder","aria-disabled"],tH=["disabled"],rH={key:0,class:"terminal-error"};function nH(e,t,r,n,i,a){return he(),de("section",{class:vt(["terminal-section",{active:r.active}])},[R("header",N9,[t[6]||(t[6]=R("h3",{class:"terminal-title"},"Terminal",-1)),R("div",$9,[R("label",null,[t[5]||(t[5]=ua(" Working Directory ",-1)),R("input",{class:"terminal-cwd-input",type:"text",value:r.workingDirectory,onInput:t[0]||(t[0]=o=>e.$emit("update:workingDirectory",o.target.value)),placeholder:"./"},null,40,z9)]),R("button",{class:"btn secondary",type:"button",onClick:t[1]||(t[1]=o=>e.$emit("clear")),disabled:r.running},"Clear",8,q9)])]),R("div",V9,[R("div",{ref:"logRef",class:"terminal-log","aria-busy":r.loading},[r.loading?(he(),de("div",W9,"Loading terminal history…")):r.history.length?(he(!0),de(tt,{key:2},Tt(r.history,o=>(he(),de("article",{key:o.id,class:"terminal-entry"},[R("div",G9,[R("span",j9,be(a.prompt(o)),1),R("span",K9,be(o.command),1)]),o.stdout?(he(),de("pre",Y9,be(o.stdout),1)):Je("",!0),o.stderr?(he(),de("pre",X9,be(o.stderr),1)):Je("",!0),R("div",Z9,[R("span",null,"Exit: "+be(o.exitCode),1),R("span",null,"Dir: "+be(o.cwd),1),R("span",null,"Duration: "+be(o.durationMs)+" ms",1),R("span",null,"Ran: "+be(a.formatTimestamp(o.ranAt)),1)])]))),128)):(he(),de("div",U9,"No terminal history yet. Run a command to get started."))],8,H9),R("div",Q9,[R("span",J9,be(a.promptIcon),1),R("div",{class:"terminal-input",contenteditable:"",role:"textbox","data-placeholder":r.running?"Running command…":"Type a command and press Enter","aria-disabled":r.running,ref:"inputRef",onKeydown:t[2]||(t[2]=(...o)=>a.handleKeydown&&a.handleKeydown(...o)),onInput:t[3]||(t[3]=(...o)=>a.onInput&&a.onInput(...o))},null,40,eH),R("button",{class:"terminal-run",type:"button",onClick:t[4]||(t[4]=(...o)=>a.emitRun&&a.emitRun(...o)),disabled:r.running||!i.localCommand},"RUN",8,tH)]),r.error?(he(),de("p",rH,be(r.error),1)):Je("",!0)])],2)}const iH=It(O9,[["render",nH]]),aH={name:"TabNavigation",props:{mainTabs:{type:Array,required:!0},activeTab:{type:String,required:!0}},emits:["select-tab"],methods:{emitSelect(e){this.$emit("select-tab",e)}}},oH={class:"tabs"},sH=["onClick"],lH={class:"tab-icon"},uH={class:"tab-label"};function cH(e,t,r,n,i,a){return he(),de("div",oH,[(he(!0),de(tt,null,Tt(r.mainTabs,o=>(he(),de("div",{key:o.id,class:vt(["tab",{active:r.activeTab===o.id}]),onClick:s=>a.emitSelect(o.id)},[R("span",lH,be(o.icon),1),R("span",uH,be(o.label),1)],10,sH))),128))])}const hH=It(aH,[["render",cH]]),fH={name:"CanvasTab",props:{active:{type:Boolean,default:!1}},emits:["layout","detect","analyze","export"]},dH={class:"controls"};function pH(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",dH,[R("button",{class:"btn",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("layout","breadthfirst"))},"📊 Tree"),R("button",{class:"btn",type:"button",onClick:t[1]||(t[1]=o=>e.$emit("layout","circle"))},"⭕ Circle"),R("button",{class:"btn",type:"button",onClick:t[2]||(t[2]=o=>e.$emit("layout","cose"))},"🌐 Force"),R("button",{class:"btn secondary",type:"button",onClick:t[3]||(t[3]=o=>e.$emit("detect"))},"🔍 Detect"),R("button",{class:"btn feature",type:"button",onClick:t[4]||(t[4]=o=>e.$emit("analyze"))},"📈 Analyze"),R("button",{class:"btn doc",type:"button",onClick:t[5]||(t[5]=o=>e.$emit("export"))},"💾 Export")]),t[6]||(t[6]=R("div",{id:"canvas-container"},null,-1))],2)}const vH=It(fH,[["render",pH]]),gH={name:"TicketsBoard",props:{active:{type:Boolean,default:!1},tickets:{type:Array,default:()=>[]},ticketStatusOptions:{type:Array,default:()=>[]},filter:{type:Object,default:()=>({priority:"",status:""})}},emits:["create","analyze","export","status-change","update:filter"],data(){return{localFilter:{...this.filter}}},watch:{filter:{deep:!0,handler(e){this.localFilter={...e}}},localFilter:{deep:!0,handler(e){this.$emit("update:filter",e)}}},computed:{filtered(){return this.tickets.filter(e=>!(this.localFilter.priority&&e.priority!==this.localFilter.priority||this.localFilter.status&&e.status!==this.localFilter.status)).sort((e,t)=>new Date(e.created)-new Date(t.created))}},methods:{statusLabel(e){return zV(e)},formatDate(e){return qV(e)}}},mH={class:"controls"},yH=["value"],bH={class:"grid ticket-grid"},xH={class:"ticket-header"},wH={class:"ticket-id"},CH={class:"ticket-title"},TH={class:"ticket-description"},kH={class:"ticket-modules"},_H={key:0,class:"completion-summary"},SH={class:"ticket-status-row"},EH={class:"ticket-status-control"},AH=["value","onChange"],BH=["value"],LH={class:"ticket-date"};function DH(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",mH,[R("button",{class:"btn danger",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("create"))},"+ New Bug"),R("button",{class:"btn secondary",type:"button",onClick:t[1]||(t[1]=o=>e.$emit("analyze"))},"🐍 Python Analysis"),mi(R("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.localFilter.priority=o)},[...t[5]||(t[5]=[R("option",{value:""},"All Priorities",-1),R("option",{value:"high"},"High",-1),R("option",{value:"medium"},"Medium",-1),R("option",{value:"low"},"Low",-1)])],512),[[Cs,i.localFilter.priority]]),mi(R("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>i.localFilter.status=o)},[t[6]||(t[6]=R("option",{value:""},"All Status",-1)),(he(!0),de(tt,null,Tt(r.ticketStatusOptions,o=>(he(),de("option",{key:o.value,value:o.value},be(o.label),9,yH))),128))],512),[[Cs,i.localFilter.status]]),R("button",{class:"btn secondary",type:"button",onClick:t[4]||(t[4]=o=>e.$emit("export"))},"Export JSON")]),R("div",bH,[(he(!0),de(tt,null,Tt(a.filtered,o=>(he(),de("article",{key:o.id,class:vt(["ticket-card",{"high-priority":o.priority==="high"}])},[R("div",xH,[R("span",{class:vt(["badge",o.priority])},be(o.priority),3),R("span",wH,"#"+be(o.id),1)]),R("h3",CH,be(o.title),1),R("p",TH,be(o.description),1),R("div",kH,[(he(!0),de(tt,null,Tt(o.modules,s=>(he(),de("span",{key:s,class:"module-tag"},be(s),1))),128))]),o.completionSummary?(he(),de("div",_H,[t[7]||(t[7]=R("strong",null,"Completion Summary",-1)),R("p",null,be(o.completionSummary),1)])):Je("",!0),R("div",SH,[R("div",EH,[R("span",{class:vt(["badge",o.status])},be(a.statusLabel(o.status)),3),R("select",{class:"status-select",value:o.status,onChange:s=>e.$emit("status-change",o,s)},[(he(!0),de(tt,null,Tt(r.ticketStatusOptions,s=>(he(),de("option",{key:s.value,value:s.value},be(s.label),9,BH))),128))],40,AH)]),R("span",LH,be(a.formatDate(o.created)),1)])],2))),128))])],2)}const MH=It(gH,[["render",DH],["__scopeId","data-v-4083b39f"]]),FH={name:"FeaturesTab",props:{active:{type:Boolean,default:!1},features:{type:Array,default:()=>[]},modules:{type:Array,default:()=>[]},selectedModules:{type:Array,default:()=>[]},filter:{type:Object,default:()=>({module:"",status:""})},getModuleFeatureCount:{type:Function,required:!0},getModuleName:{type:Function,required:!0},getFeatureStatusColor:{type:Function,required:!0}},emits:["create","report","toggle-module","update:filter"],data(){return{localFilter:{...this.filter}}},watch:{filter:{deep:!0,handler(e){this.localFilter={...e}}},localFilter:{deep:!0,handler(e){this.$emit("update:filter",e)}}}},PH={class:"controls"},RH=["value"],IH={class:"tag-cloud"},OH=["onClick"],NH={class:"grid"},$H={style:{display:"flex","justify-content":"space-between","margin-bottom":"1rem"}},zH={style:{color:"var(--text-muted)"}},qH={style:{color:"var(--feature)","margin-bottom":"0.5rem"}},VH={style:{"margin-bottom":"1rem"}},HH={style:{"margin-bottom":"1rem"}},WH={key:0,style:{"margin-bottom":"1rem"}},UH={style:{"margin-left":"1.5rem","margin-top":"0.5rem"}},GH={style:{display:"flex","justify-content":"space-between"}},jH={style:{"text-align":"right"}},KH={style:{color:"var(--text-muted)","font-size":"0.8rem"}},YH={style:{color:"var(--text-muted)","font-size":"0.8rem"}};function XH(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",PH,[R("button",{class:"btn feature",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("create"))},"+ New Feature"),mi(R("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.localFilter.module=o)},[t[4]||(t[4]=R("option",{value:""},"All Modules",-1)),(he(!0),de(tt,null,Tt(r.modules,o=>(he(),de("option",{key:o.id,value:o.id},be(o.name),9,RH))),128))],512),[[Cs,i.localFilter.module]]),mi(R("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.localFilter.status=o)},[...t[5]||(t[5]=[D1('<option value="">All Status</option><option value="proposed">Proposed</option><option value="approved">Approved</option><option value="in-development">In Development</option><option value="testing">Testing</option><option value="deployed">Deployed</option>',6)])],512),[[Cs,i.localFilter.status]]),R("button",{class:"btn secondary",type:"button",onClick:t[3]||(t[3]=o=>e.$emit("report"))},"Generate Report")]),R("div",IH,[(he(!0),de(tt,null,Tt(r.modules,o=>(he(),de("div",{key:o.id,class:vt(["tag",{selected:r.selectedModules.includes(o.id)}]),onClick:s=>e.$emit("toggle-module",o.id)},be(o.name)+" ("+be(r.getModuleFeatureCount(o.id))+") ",11,OH))),128))]),R("div",NH,[(he(!0),de(tt,null,Tt(r.features,o=>(he(),de("div",{key:o.id,class:"card"},[R("div",$H,[t[6]||(t[6]=R("span",{class:"badge feature"},"FEATURE",-1)),R("span",zH,"#F-"+be(o.id),1)]),R("h3",qH,be(o.title),1),R("p",VH,be(o.description),1),R("div",HH,[t[7]||(t[7]=R("strong",{style:{color:"var(--accent-orange)"}},"Module:",-1)),ua(" "+be(r.getModuleName(o.moduleId)),1)]),o.acceptanceCriteria?(he(),de("div",WH,[t[8]||(t[8]=R("strong",{style:{color:"var(--accent-orange)"}},"Acceptance Criteria:",-1)),R("ul",UH,[(he(!0),de(tt,null,Tt(o.acceptanceCriteria,(s,l)=>(he(),de("li",{key:l},be(s),1))),128))])])):Je("",!0),R("div",GH,[R("span",{class:"badge",style:sa({background:r.getFeatureStatusColor(o.status)})},be(o.status),5),R("div",jH,[R("div",KH," Priority: "+be(o.priority),1),R("div",YH," Votes: "+be(o.votes),1)])])]))),128))])],2)}const ZH=It(FH,[["render",XH]]),QH={name:"SummaryMetric",props:{label:{type:String,required:!0},value:{type:[String,Number],required:!0},color:{type:String,default:"var(--text-bright)"}},template:`
    <div>
      <div :style="{ fontSize: '1.8rem', color, fontWeight: 'bold' }">{{ value }}</div>
      <div style="text-transform: uppercase; font-size: 0.75rem; color: var(--text-muted);">{{ label }}</div>
    </div>
  `},JH={name:"ModuleListSection",props:{title:{type:String,required:!0},items:{type:Array,default:()=>[]},itemClass:{type:String,default:""}},template:`
    <section class="module-dependencies">
      <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.5rem;">
        {{ title }} ({{ (items || []).length }}):
      </div>
      <div>
        <span
          v-for="item in items || []"
          :key="item"
          class="dependency-item"
          :class="itemClass"
        >
          {{ item }}
        </span>
      </div>
    </section>
  `},eW={name:"ModulesCanvas",components:{SummaryMetric:QH,ModuleListSection:JH},props:{active:{type:Boolean,default:!1},modules:{type:Array,default:()=>[]},summary:{type:Object,default:null},getModuleBugCount:{type:Function,required:!0},getModuleFeatureCount:{type:Function,required:!0},getHealthColor:{type:Function,required:!0}},emits:["create","detect","analyze","analyze-dependencies"]},tW={class:"controls"},rW={key:0,class:"card",style:{"margin-bottom":"1.5rem",display:"flex","flex-wrap":"wrap",gap:"2rem","align-items":"center"}},nW={style:{display:"flex",gap:"1.5rem","flex-wrap":"wrap"}},iW={class:"grid"},aW={class:"module-header"},oW={class:"module-name"},sW={class:"module-stats"},lW={style:{"margin-top":"1rem"}},uW=["onClick"];function cW(e,t,r,n,i,a){const o=Ft("SummaryMetric"),s=Ft("ModuleListSection");return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",tW,[R("button",{class:"btn",type:"button",onClick:t[0]||(t[0]=l=>e.$emit("create"))},"+ Add Module"),R("button",{class:"btn secondary",type:"button",onClick:t[1]||(t[1]=l=>e.$emit("detect"))},"🔍 Auto-Detect"),R("button",{class:"btn doc",type:"button",onClick:t[2]||(t[2]=l=>e.$emit("analyze-dependencies"))},"📊 Analyze Dependencies")]),r.summary&&r.summary.moduleCount?(he(),de("div",rW,[t[3]||(t[3]=R("div",null,[R("h3",{style:{color:"var(--accent-cyan)","margin-bottom":"0.5rem"}},"Detection Summary"),R("div",{style:{color:"var(--text-muted)","font-size":"0.9rem"}},"Based on live filesystem scan")],-1)),R("div",nW,[Qe(o,{label:"Modules",value:r.summary.moduleCount,color:"var(--accent-blue)"},null,8,["value"]),Qe(o,{label:"Links",value:r.summary.dependencyCount,color:"var(--accent-orange)"},null,8,["value"]),Qe(o,{label:"External",value:r.summary.externalDependencyCount,color:"var(--accent-cyan)"},null,8,["value"]),Qe(o,{label:"Lines",value:r.summary.totalLines,color:"var(--accent-pink)"},null,8,["value"])])])):Je("",!0),R("div",iW,[(he(!0),de(tt,null,Tt(r.modules,l=>(he(),de("article",{key:l.id,class:"module-card"},[R("header",aW,[R("div",oW,be(l.name),1),R("div",{class:"module-health",style:sa({background:r.getHealthColor(l.health)})},null,4)]),R("section",sW,[Qe(o,{label:"Bugs",value:r.getModuleBugCount(l.id)},null,8,["value"]),Qe(o,{label:"Features",value:r.getModuleFeatureCount(l.id)},null,8,["value"]),Qe(o,{label:"Health",value:`${l.health}%`},null,8,["value"])]),Qe(s,{title:"Dependencies",items:l.dependencies},null,8,["items"]),l.externalDependencies&&l.externalDependencies.length?(he(),md(s,{key:0,title:"External Packages",items:l.externalDependencies,"item-class":"external"},null,8,["items"])):Je("",!0),l.pathHints&&l.pathHints.length?(he(),md(s,{key:1,title:"Paths",items:l.pathHints,"item-class":"path"},null,8,["items"])):Je("",!0),R("footer",lW,[R("button",{class:"btn",style:{width:"100%",padding:"0.5rem"},type:"button",onClick:u=>e.$emit("analyze",l)}," Analyze Module ",8,uW)])]))),128))])],2)}const hW=It(eW,[["render",cW]]),fW={name:"SpecsTab",props:{active:{type:Boolean,default:!1},currentPhase:{type:String,default:"Interview"},questions:{type:Array,default:()=>[]},exportFormat:{type:String,default:"json"},generatedSpec:{type:String,default:""},latestSpecMeta:{type:Object,default:null},cliSessions:{type:Array,default:()=>[]},cliSessionsLoading:{type:Boolean,default:!1},cliSessionsError:{type:String,default:""},selectedSessionId:{type:String,default:null},sessionDetails:{type:Object,default:null},sessionDetailsError:{type:String,default:""},cliGateLog:{type:Array,default:()=>[]},findCliQuestionPrompt:{type:Function,required:!0},formatCliTimestamp:{type:Function,required:!0},formatCliSessionStatus:{type:Function,required:!0},formatGateTimestamp:{type:Function,required:!0},formatGateContext:{type:Function,required:!0}},emits:["generate","refresh-sessions","view-session","close-session","answer","update:export-format"],methods:{emitAnswer(e){this.$emit("answer",e)},onExportFormatChange(e){this.$emit("update:export-format",e)}}},dW={class:"specs-layout"},pW={class:"spec-builder"},vW={style:{"margin-bottom":"2rem"}},gW={style:{color:"var(--accent-orange)","font-weight":"bold"}},mW={key:0,class:"interview-section-header"},yW={key:0,class:"interview-section-description"},bW={class:"question-label"},xW=["onUpdate:modelValue","placeholder","onChange"],wW=["onUpdate:modelValue","placeholder","onChange"],CW=["onUpdate:modelValue","onChange"],TW=["value"],kW={key:4,class:"question-help"},_W={style:{display:"flex",gap:"1rem","flex-wrap":"wrap","align-items":"center","margin-top":"1rem"}},SW={style:{display:"flex","flex-direction":"column",gap:"0.4rem"}},EW=["value"],AW={key:0,style:{color:"var(--accent-cyan)","font-size":"0.85rem"}},BW={key:0,style:{"margin-top":"2rem"}},LW={class:"api-spec"},DW={class:"cli-sessions-panel"},MW={class:"cli-sessions-header"},FW=["disabled"],PW={key:0,class:"form-error"},RW={key:1,style:{color:"var(--text-muted)"}},IW={key:2,class:"cli-sessions-list"},OW=["onClick"],NW={class:"cli-session-meta"},$W={class:"cli-session-meta",style:{"font-size":"0.8rem",color:"var(--text-muted)"}},zW={key:3,class:"cli-session-detail"},qW={class:"cli-session-detail-header"},VW={style:{margin:"0",color:"var(--accent-cyan)"}},HW={style:{margin:"0","font-size":"0.8rem",color:"var(--text-muted)"}},WW={key:0,class:"form-error"},UW={key:1,style:{"font-size":"0.85rem",color:"var(--text-muted)"}},GW={class:"cli-session-section"},jW={key:0,style:{"font-size":"0.85rem",color:"var(--text-muted)"}},KW={style:{"font-weight":"600"}},YW={style:{"white-space":"pre-wrap"}},XW={key:0,class:"cli-session-section"},ZW={key:0},QW={key:4,class:"cli-gate-log"},JW={class:"gate-list"},eU={class:"gate-meta"},tU={class:"gate-diagnostics"};function rU(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",dW,[R("section",pW,[t[9]||(t[9]=R("h2",{style:{color:"var(--text-bright)","margin-bottom":"1.5rem"}},"Intelligent Spec Builder",-1)),R("div",vW,[t[4]||(t[4]=R("span",{style:{color:"var(--accent-cyan)"}},"Phase: ",-1)),R("span",gW,be(r.currentPhase),1)]),(he(!0),de(tt,null,Tt(r.questions,o=>(he(),de("article",{key:o.id,class:"question-card"},[o.isSectionFirst?(he(),de("header",mW,[R("h3",null,be(o.sectionTitle),1),o.sectionDescription?(he(),de("p",yW,be(o.sectionDescription),1)):Je("",!0)])):Je("",!0),R("div",bW,be(o.prompt),1),o.type==="text"?mi((he(),de("input",{key:1,"onUpdate:modelValue":s=>o.answer=s,placeholder:o.placeholder,onChange:s=>a.emitAnswer(o)},null,40,xW)),[[xd,o.answer]]):o.type==="textarea"?mi((he(),de("textarea",{key:2,"onUpdate:modelValue":s=>o.answer=s,rows:"4",placeholder:o.placeholder,onChange:s=>a.emitAnswer(o)},null,40,wW)),[[xd,o.answer]]):o.type==="select"?mi((he(),de("select",{key:3,"onUpdate:modelValue":s=>o.answer=s,onChange:s=>a.emitAnswer(o)},[t[5]||(t[5]=R("option",{value:""},"Choose...",-1)),(he(!0),de(tt,null,Tt(o.options||[],s=>(he(),de("option",{key:s,value:s},be(s),9,TW))),128))],40,CW)),[[Cs,o.answer]]):Je("",!0),o.help?(he(),de("div",kW,be(o.help),1)):Je("",!0)]))),128)),R("div",_W,[R("div",SW,[t[7]||(t[7]=R("label",{style:{"font-size":"0.8rem",color:"var(--text-muted)"}},"Export Format",-1)),R("select",{value:r.exportFormat,style:{"min-width":"180px"},onChange:t[0]||(t[0]=o=>a.onExportFormatChange(o.target.value))},[...t[6]||(t[6]=[R("option",{value:"json"},"JSON",-1),R("option",{value:"markdown"},"Markdown",-1),R("option",{value:"github"},"GitHub Spec Kit",-1)])],40,EW)]),R("button",{class:"btn feature",type:"button",onClick:t[1]||(t[1]=o=>e.$emit("generate"))},"Generate & Save Spec"),r.latestSpecMeta?(he(),de("div",AW," Saved as "+be(r.latestSpecMeta.filename),1)):Je("",!0)]),r.generatedSpec?(he(),de("div",BW,[t[8]||(t[8]=R("h3",{style:{color:"var(--text-bright)","margin-bottom":"1rem"}},"Generated Spec:",-1)),R("pre",LW,be(r.generatedSpec),1)])):Je("",!0)]),R("aside",DW,[R("header",MW,[t[10]||(t[10]=R("div",null,[R("h3",{style:{margin:"0",color:"var(--accent-cyan)"}},"CLI Sessions"),R("p",{style:{margin:"0","font-size":"0.85rem",color:"var(--text-muted)"}},"Terminal interviews mirrored in real time")],-1)),R("button",{class:"btn secondary",type:"button",disabled:r.cliSessionsLoading,onClick:t[2]||(t[2]=o=>e.$emit("refresh-sessions"))},be(r.cliSessionsLoading?"Refreshing…":"Refresh"),9,FW)]),r.cliSessionsError?(he(),de("p",PW,be(r.cliSessionsError),1)):!r.cliSessionsLoading&&!r.cliSessions.length?(he(),de("p",RW,"No CLI interviews recorded yet.")):Je("",!0),r.cliSessions.length?(he(),de("div",IW,[(he(!0),de(tt,null,Tt(r.cliSessions,o=>(he(),de("button",{key:o.sessionId,type:"button",class:"cli-session-item",onClick:s=>e.$emit("view-session",o.sessionId)},[R("div",NW,[R("strong",null,be(o.command||"/"+o.category),1),R("span",{class:vt(["cli-session-status",{complete:o.completed}])},be(r.formatCliSessionStatus(o)),3)]),R("div",$W,[R("span",null,"Updated "+be(r.formatCliTimestamp(o.updatedAt||o.createdAt)),1)])],8,OW))),128))])):Je("",!0),r.selectedSessionId||r.sessionDetails?(he(),de("section",zW,[R("header",qW,[R("div",null,[R("h4",VW," Session "+be(r.sessionDetails&&r.sessionDetails.sessionId||r.selectedSessionId),1),R("p",HW,be(r.sessionDetails&&(r.sessionDetails.command||"/"+r.sessionDetails.category)||"Loading…")+" · "+be(r.formatCliTimestamp(r.sessionDetails?r.sessionDetails.updatedAt||r.sessionDetails.createdAt:null)),1)]),R("button",{class:"btn secondary",type:"button",onClick:t[3]||(t[3]=o=>e.$emit("close-session"))},"Close")]),r.sessionDetailsError?(he(),de("div",WW,be(r.sessionDetailsError),1)):r.sessionDetails?(he(),de(tt,{key:2},[R("section",GW,[t[11]||(t[11]=R("h5",{style:{margin:"0 0 0.5rem",color:"var(--text-bright)"}},"Responses",-1)),!r.sessionDetails.responses||!r.sessionDetails.responses.length?(he(),de("div",jW," No responses recorded yet. ")):Je("",!0),(he(!0),de(tt,null,Tt(r.sessionDetails.responses||[],o=>(he(),de("div",{key:o.questionId,class:"cli-session-response"},[R("div",KW,be(r.findCliQuestionPrompt(r.sessionDetails,o.questionId)),1),R("div",YW,be(o.answer),1)]))),128))]),r.sessionDetails.artifacts&&r.sessionDetails.artifacts.length?(he(),de("section",XW,[t[12]||(t[12]=R("h5",{style:{margin:"1rem 0 0.5rem 0",color:"var(--accent-orange)"}},"Artifacts",-1)),(he(!0),de(tt,null,Tt(r.sessionDetails.artifacts,o=>(he(),de("div",{key:o.filename||o.path,class:"cli-session-artifact"},[R("div",null,be(o.filename||o.path),1),o.path?(he(),de("code",ZW,be(o.path),1)):Je("",!0)]))),128))])):Je("",!0)],64)):(he(),de("div",UW,"Loading session details…"))])):Je("",!0),r.cliGateLog.length?(he(),de("section",QW,[t[13]||(t[13]=R("h4",null,"Recent Alignment Gates",-1)),R("ul",JW,[(he(!0),de(tt,null,Tt(r.cliGateLog,o=>{var s,l;return he(),de("li",{key:o.timestamp},[R("div",eU,be(o.command)+" · "+be(r.formatGateTimestamp(o.timestamp)),1),R("div",tU," DAIC: "+be(((s=o.diagnostics)==null?void 0:s.daicState)||"unknown")+" · Context: "+be(r.formatGateContext(o))+" · Mode: "+be(((l=o.diagnostics)==null?void 0:l.ultraThinkMode)||"default"),1)])}),128))])])):Je("",!0)])])],2)}const nU=It(fW,[["render",rU]]),iU={name:"DiagramsTab",props:{active:{type:Boolean,default:!1},mermaidCode:{type:String,default:""},generateDiagram:{type:Function,default:null},generateFromModules:{type:Function,default:null},renderMermaid:{type:Function,default:null},updateMermaidCode:{type:Function,default:null},mermaidError:{type:String,default:""}},watch:{active(e){e&&this.mermaidCode&&typeof this.renderMermaid=="function"&&this.renderMermaid()}},methods:{forwardGenerateDiagram(e){typeof this.generateDiagram=="function"&&this.generateDiagram(e)},forwardGenerateFromModules(){typeof this.generateFromModules=="function"&&this.generateFromModules()},forwardRenderMermaid(){typeof this.renderMermaid=="function"&&this.renderMermaid()},onMermaidInput(e){typeof this.updateMermaidCode=="function"&&this.updateMermaidCode(e)}}},aU={class:"controls"},oU={key:0,class:"diagram-status diagram-status--error",role:"alert"},sU=["value"];function lU(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",aU,[R("button",{class:"btn",type:"button",onClick:t[0]||(t[0]=o=>a.forwardGenerateDiagram("architecture"))},"🏗️ Architecture"),R("button",{class:"btn",type:"button",onClick:t[1]||(t[1]=o=>a.forwardGenerateDiagram("flow"))},"🔄 Flow"),R("button",{class:"btn",type:"button",onClick:t[2]||(t[2]=o=>a.forwardGenerateDiagram("sequence"))},"📋 Sequence"),R("button",{class:"btn",type:"button",onClick:t[3]||(t[3]=o=>a.forwardGenerateDiagram("entity"))},"🗂️ Entity"),R("button",{class:"btn secondary",type:"button",onClick:t[4]||(t[4]=(...o)=>a.forwardGenerateFromModules&&a.forwardGenerateFromModules(...o))},"📦 From Modules")]),t[8]||(t[8]=R("div",{class:"mermaid-container"},[R("div",{id:"mermaid-output"})],-1)),r.mermaidError?(he(),de("div",oU,[t[7]||(t[7]=R("strong",null,"Mermaid Error",-1)),R("span",null,be(r.mermaidError),1)])):Je("",!0),R("textarea",{value:r.mermaidCode,style:{width:"100%","min-height":"200px","margin-top":"1rem"},placeholder:"Mermaid code...",onInput:t[5]||(t[5]=o=>a.onMermaidInput(o.target.value))},null,40,sU),R("button",{class:"btn",type:"button",onClick:t[6]||(t[6]=(...o)=>a.forwardRenderMermaid&&a.forwardRenderMermaid(...o))},"Render Diagram")],2)}const uU=It(iU,[["render",lU]]),cU={name:"ApiTab",props:{active:{type:Boolean,default:!1},apiFormat:{type:String,default:"openapi"},apiSpecContent:{type:String,default:""},apiSpecWarnings:{type:Array,default:()=>[]},generateApiSpec:{type:Function,default:null},exportApiSpec:{type:Function,default:null},testApi:{type:Function,default:null},updateApiFormat:{type:Function,default:null}},methods:{forwardGenerateApiSpec(){typeof this.generateApiSpec=="function"&&this.generateApiSpec()},forwardExportApiSpec(){typeof this.exportApiSpec=="function"&&this.exportApiSpec()},forwardTestApi(){typeof this.testApi=="function"&&this.testApi()},onFormatChange(e){typeof this.updateApiFormat=="function"&&this.updateApiFormat(e)}}},hU={class:"controls"},fU=["value"],dU={key:0,class:"diagram-status diagram-status--warning",role:"status"},pU={style:{margin:"0","padding-left":"1.25rem"}},vU={class:"api-spec"};function gU(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",hU,[R("button",{class:"btn",type:"button",onClick:t[0]||(t[0]=(...o)=>a.forwardGenerateApiSpec&&a.forwardGenerateApiSpec(...o))},"🔄 Generate API Spec"),R("select",{value:r.apiFormat,onChange:t[1]||(t[1]=o=>a.onFormatChange(o.target.value))},[...t[4]||(t[4]=[R("option",{value:"openapi"},"OpenAPI 3.0",-1),R("option",{value:"custom"},"Custom Lightweight",-1),R("option",{value:"json"},"JSON Schema",-1)])],40,fU),R("button",{class:"btn secondary",type:"button",onClick:t[2]||(t[2]=(...o)=>a.forwardExportApiSpec&&a.forwardExportApiSpec(...o))},"📥 Export"),R("button",{class:"btn feature",type:"button",onClick:t[3]||(t[3]=(...o)=>a.forwardTestApi&&a.forwardTestApi(...o))},"🧪 Test Endpoints")]),r.apiSpecWarnings&&r.apiSpecWarnings.length?(he(),de("div",dU,[t[5]||(t[5]=R("strong",null,"Warnings",-1)),R("ul",pU,[(he(!0),de(tt,null,Tt(r.apiSpecWarnings,(o,s)=>(he(),de("li",{key:"api-warning-"+s},be(o),1))),128))])])):Je("",!0),R("div",vU,be(r.apiSpecContent),1)],2)}const mU=It(cU,[["render",gU]]),yU={name:"StorybookFrame",props:{active:{type:Boolean,default:!1},theme:{type:String,default:"mole"},status:{type:String,default:""},frameVersion:{type:Number,default:0},onStart:{type:Function,default:null},onRefresh:{type:Function,default:null}},data(){return{starting:!1}},computed:{themeDisplay(){return this.theme.charAt(0).toUpperCase()+this.theme.slice(1)},iframeSrc(){const e="http://localhost:6006/",t=`globals=theme:${this.theme||"mole"}`;return`${e}?${t}`},frameKey(){return`${this.theme}-${this.frameVersion}`}},methods:{async triggerStart(){if(!this.starting){this.starting=!0;try{typeof this.onStart=="function"&&await this.onStart()}finally{this.starting=!1}}},triggerRefresh(){typeof this.onRefresh=="function"&&this.onRefresh({reason:"manual-refresh"})}}},bU={class:"controls"},xU=["disabled"],wU={key:0,class:"storybook-status"},CU={key:0,class:"storybook-shell"},TU=["src"],kU={class:"storybook-indicator"};function _U(e,t,r,n,i,a){return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",bU,[R("button",{class:"btn secondary",type:"button",onClick:t[0]||(t[0]=(...o)=>a.triggerStart&&a.triggerStart(...o)),disabled:i.starting},be(i.starting?"Starting…":"Start Storybook"),9,xU),R("button",{class:"btn doc",type:"button",onClick:t[1]||(t[1]=(...o)=>a.triggerRefresh&&a.triggerRefresh(...o))}," 🔄 Refresh Frame "),r.status?(he(),de("span",wU,be(r.status),1)):Je("",!0)]),r.active?(he(),de("div",CU,[(he(),de("iframe",{class:"storybook-frame",key:a.frameKey,src:a.iframeSrc,title:"Storybook"},null,8,TU)),R("div",kU," Theme: "+be(a.themeDisplay),1)])):Je("",!0)],2)}const SU=It(yU,[["render",_U]]),EU={name:"DocsViewer",props:{docTitle:{type:String,default:"Project Overview"},generatedDocs:{type:String,default:""},runbookGenerationError:{type:String,default:""},latestRunbook:{type:Object,default:null},latestRunbookContent:{type:String,default:""},latestRunbookHtml:{type:String,default:""},runbookMessages:{type:Array,default:()=>[]}}},AU={class:"docs-viewer"},BU={key:0,class:"form-error"},LU={class:"card"},DU={style:{color:"var(--doc)","margin-bottom":"1rem"}},MU=["innerHTML"],FU={key:1,class:"card runbook-card"},PU={class:"runbook-card-header"},RU={class:"runbook-filename"},IU={class:"runbook-meta"},OU={key:0,class:"runbook-messages"},NU=["innerHTML"];function $U(e,t,r,n,i,a){return he(),de("div",AU,[r.runbookGenerationError?(he(),de("p",BU,be(r.runbookGenerationError),1)):Je("",!0),R("div",LU,[R("h2",DU,be(r.docTitle),1),R("div",{innerHTML:r.generatedDocs},null,8,MU)]),r.latestRunbook?(he(),de("div",FU,[R("div",PU,[t[0]||(t[0]=R("h2",null,"Operational Runbook",-1)),R("span",RU,be(r.latestRunbook.filename),1)]),R("div",IU,[R("span",null,[t[1]||(t[1]=R("strong",null,"Workspace:",-1)),ua(" "+be(r.latestRunbook.workspacePath),1)]),R("span",null,[t[2]||(t[2]=R("strong",null,"Export:",-1)),ua(" "+be(r.latestRunbook.specRelativePath),1)])]),r.runbookMessages&&r.runbookMessages.length?(he(),de("div",OU,[t[3]||(t[3]=R("h4",null,"Interview Notes",-1)),R("ul",null,[(he(!0),de(tt,null,Tt(r.runbookMessages,(o,s)=>(he(),de("li",{key:"runbook-msg-"+s},be(o),1))),128))])])):Je("",!0),R("div",{class:"runbook-preview",innerHTML:r.latestRunbookHtml||r.latestRunbookContent},null,8,NU)])):Je("",!0)])}const zU=It(EU,[["render",$U]]),qU={name:"DocsTab",components:{DocsViewer:zU},props:{active:{type:Boolean,default:!1},docType:{type:String,default:"overview"},docTitle:{type:String,default:"Project Overview"},generatedDocs:{type:String,default:""},runbookGenerationError:{type:String,default:""},latestRunbook:{type:Object,default:null},latestRunbookContent:{type:String,default:""},latestRunbookHtml:{type:String,default:""},runbookMessages:{type:Array,default:()=>[]},generateDocs:{type:Function,default:null},exportDocs:{type:Function,default:null},updateDocType:{type:Function,default:null},startRunbookInterview:{type:Function,default:null},quickGenerateRunbook:{type:Function,default:null},runbookGenerating:{type:Boolean,default:!1},runbookInterviewLoading:{type:Boolean,default:!1}},computed:{runbookBusy(){return this.runbookGenerating||this.runbookInterviewLoading}},methods:{forwardGenerateDocs(){typeof this.generateDocs=="function"&&this.generateDocs()},forwardExportDocs(){typeof this.exportDocs=="function"&&this.exportDocs()},onDocTypeChange(e){typeof this.updateDocType=="function"&&this.updateDocType(e)},forwardStartRunbookInterview(){typeof this.startRunbookInterview=="function"&&this.startRunbookInterview()},forwardQuickGenerateRunbook(){typeof this.quickGenerateRunbook=="function"&&this.quickGenerateRunbook()}}},VU={class:"controls"},HU=["disabled"],WU=["disabled"],UU=["value"];function GU(e,t,r,n,i,a){const o=Ft("DocsViewer");return he(),de("div",{class:vt(["tab-content",{active:r.active}])},[R("div",VU,[R("button",{class:"btn feature",type:"button",onClick:t[0]||(t[0]=(...s)=>a.forwardStartRunbookInterview&&a.forwardStartRunbookInterview(...s)),disabled:a.runbookBusy},"🎯 Runbook Interview",8,HU),R("button",{class:"btn doc",type:"button",onClick:t[1]||(t[1]=(...s)=>a.forwardGenerateDocs&&a.forwardGenerateDocs(...s))},"📖 Generate Documentation"),R("button",{class:"btn secondary",type:"button",onClick:t[2]||(t[2]=(...s)=>a.forwardExportDocs&&a.forwardExportDocs(...s))},"📥 Export Markdown"),R("button",{class:"btn secondary",type:"button",onClick:t[3]||(t[3]=(...s)=>a.forwardQuickGenerateRunbook&&a.forwardQuickGenerateRunbook(...s)),disabled:a.runbookBusy},"⚡ Generate Runbook",8,WU),R("select",{value:r.docType,onChange:t[4]||(t[4]=s=>a.onDocTypeChange(s.target.value))},[...t[5]||(t[5]=[R("option",{value:"overview"},"Project Overview",-1),R("option",{value:"modules"},"Module Documentation",-1),R("option",{value:"api"},"API Documentation",-1),R("option",{value:"features"},"Feature Specifications",-1)])],40,UU)]),Qe(o,{"doc-title":r.docTitle,"generated-docs":r.generatedDocs,"runbook-generation-error":r.runbookGenerationError,"latest-runbook":r.latestRunbook,"latest-runbook-content":r.latestRunbookContent,"latest-runbook-html":r.latestRunbookHtml,"runbook-messages":r.runbookMessages},null,8,["doc-title","generated-docs","runbook-generation-error","latest-runbook","latest-runbook-content","latest-runbook-html","runbook-messages"])],2)}const jU=It(qU,[["render",GU]]),KU={name:"AddModuleModal",props:{active:{type:Boolean,default:!1},moduleDraft:{type:Object,default:()=>({name:"",id:"",path:"",depsString:"",type:"custom"})}},emits:["close","submit","update:moduleDraft"],methods:{update(e,t){const r={...this.moduleDraft,[e]:t};this.$emit("update:moduleDraft",r)}}},YU={class:"modal-content",style:{position:"relative"}},XU={class:"form-group"},ZU=["value"],QU={class:"form-group"},JU=["value"],eG={class:"form-group"},tG=["value"],rG={class:"form-group"},nG=["value"],iG={class:"form-group"},aG=["value"];function oG(e,t,r,n,i,a){return he(),de("div",{class:vt(["modal",{active:r.active}])},[R("div",YU,[R("button",{class:"close-modal",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("close"))},"×"),t[13]||(t[13]=R("h2",{style:{color:"var(--accent-orange)","margin-bottom":"1rem"}},"Add New Module",-1)),R("div",XU,[t[7]||(t[7]=R("label",null,"Module Name",-1)),R("input",{value:r.moduleDraft.name,placeholder:"Authentication",onInput:t[1]||(t[1]=o=>a.update("name",o.target.value))},null,40,ZU)]),R("div",QU,[t[8]||(t[8]=R("label",null,"Module ID",-1)),R("input",{value:r.moduleDraft.id,placeholder:"auth",onInput:t[2]||(t[2]=o=>a.update("id",o.target.value))},null,40,JU)]),R("div",eG,[t[9]||(t[9]=R("label",null,"Relative Path",-1)),R("input",{value:r.moduleDraft.path,placeholder:"src/auth",onInput:t[3]||(t[3]=o=>a.update("path",o.target.value))},null,40,tG)]),R("div",rG,[t[10]||(t[10]=R("label",null,"Dependencies (comma-separated)",-1)),R("input",{value:r.moduleDraft.depsString,placeholder:"database, crypto, utils",onInput:t[4]||(t[4]=o=>a.update("depsString",o.target.value))},null,40,nG)]),R("div",iG,[t[12]||(t[12]=R("label",null,"Module Type",-1)),R("select",{value:r.moduleDraft.type,onChange:t[5]||(t[5]=o=>a.update("type",o.target.value))},[...t[11]||(t[11]=[D1('<option value="custom">Custom</option><option value="frontend">Frontend</option><option value="backend">Backend</option><option value="service">Service</option><option value="documentation">Documentation</option>',5)])],40,aG)]),R("button",{class:"btn",type:"button",onClick:t[6]||(t[6]=o=>e.$emit("submit"))},"Add Module")])],2)}const sG=It(KU,[["render",oG]]),lG={name:"FeatureModal",props:{active:{type:Boolean,default:!1},feature:{type:Object,default:()=>({title:"",description:"",moduleId:"",priority:"medium",criteriaText:""})},modules:{type:Array,default:()=>[]}},emits:["close","submit","update:feature"],methods:{update(e,t){const r={...this.feature,[e]:t};this.$emit("update:feature",r)}}},uG={class:"modal-content",style:{position:"relative"}},cG={class:"form-group"},hG=["value"],fG={class:"form-group"},dG=["value"],pG={class:"form-group"},vG=["value"],gG=["value"],mG={class:"form-group"},yG=["value"],bG={class:"form-group"},xG=["value"];function wG(e,t,r,n,i,a){return he(),de("div",{class:vt(["modal",{active:r.active}])},[R("div",uG,[R("button",{class:"close-modal",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("close"))},"×"),t[13]||(t[13]=R("h2",{style:{color:"var(--feature)","margin-bottom":"1rem"}},"Propose New Feature",-1)),R("div",cG,[t[7]||(t[7]=R("label",null,"Title",-1)),R("input",{value:r.feature.title,type:"text",placeholder:"Feature title...",onInput:t[1]||(t[1]=o=>a.update("title",o.target.value))},null,40,hG)]),R("div",fG,[t[8]||(t[8]=R("label",null,"Description",-1)),R("textarea",{value:r.feature.description,rows:"4",placeholder:"Describe the feature...",onInput:t[2]||(t[2]=o=>a.update("description",o.target.value))},null,40,dG)]),R("div",pG,[t[9]||(t[9]=R("label",null,"Module",-1)),R("select",{value:r.feature.moduleId,onChange:t[3]||(t[3]=o=>a.update("moduleId",o.target.value))},[(he(!0),de(tt,null,Tt(r.modules,o=>(he(),de("option",{key:o.id,value:o.id},be(o.name),9,gG))),128))],40,vG)]),R("div",mG,[t[11]||(t[11]=R("label",null,"Priority",-1)),R("select",{value:r.feature.priority,onChange:t[4]||(t[4]=o=>a.update("priority",o.target.value))},[...t[10]||(t[10]=[R("option",{value:"critical"},"Critical",-1),R("option",{value:"high"},"High",-1),R("option",{value:"medium"},"Medium",-1),R("option",{value:"low"},"Low",-1)])],40,yG)]),R("div",bG,[t[12]||(t[12]=R("label",null,"Acceptance Criteria (one per line)",-1)),R("textarea",{value:r.feature.criteriaText,rows:"4",placeholder:`- User can do X
- System validates Y
- Data is saved to Z`,onInput:t[5]||(t[5]=o=>a.update("criteriaText",o.target.value))},null,40,xG)]),R("button",{class:"btn feature",type:"button",onClick:t[6]||(t[6]=o=>e.$emit("submit"))},"Submit Feature")])],2)}const CG=It(lG,[["render",wG]]),TG={name:"TicketCompletionModal",props:{active:{type:Boolean,default:!1},summary:{type:String,default:""},error:{type:String,default:""}},emits:["cancel","confirm","update:summary"]},kG={class:"modal-content",style:{position:"relative"}},_G={class:"form-group"},SG=["value"],EG={key:0,class:"form-error"},AG={class:"modal-actions"};function BG(e,t,r,n,i,a){return he(),de("div",{class:vt(["modal",{active:r.active}])},[R("div",kG,[R("button",{class:"close-modal",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("cancel"))},"×"),t[5]||(t[5]=R("h2",{style:{color:"var(--success)","margin-bottom":"1rem"}},"Wrap Up Ticket",-1)),t[6]||(t[6]=R("p",{style:{"margin-bottom":"1rem",color:"var(--text-muted)"}}," Provide a concise summary of what changed, how it was validated, and any follow-up actions before closing this ticket. ",-1)),R("div",_G,[t[4]||(t[4]=R("label",null,"Summary of Work Completed",-1)),R("textarea",{value:r.summary,rows:"5",placeholder:"Describe the fix, validation steps, and remaining follow-ups...",onInput:t[1]||(t[1]=o=>e.$emit("update:summary",o.target.value))},null,40,SG)]),r.error?(he(),de("p",EG,be(r.error),1)):Je("",!0),R("div",AG,[R("button",{class:"btn secondary",type:"button",onClick:t[2]||(t[2]=o=>e.$emit("cancel"))},"Cancel"),R("button",{class:"btn success",type:"button",onClick:t[3]||(t[3]=o=>e.$emit("confirm"))},"Mark as Finished")])])],2)}const LG=It(TG,[["render",BG]]),DG={name:"BugModal",props:{active:{type:Boolean,default:!1},bug:{type:Object,default:()=>({title:"",description:"",priority:"medium",modules:[],tagsText:""})},modules:{type:Array,default:()=>[]}},emits:["close","submit","update:bug"],methods:{update(e,t){const r={...this.bug,[e]:t};this.$emit("update:bug",r)},toggleModule(e,t){const r=new Set(this.bug.modules||[]);t?r.add(e):r.delete(e),this.update("modules",Array.from(r))}}},MG={class:"modal-content",style:{position:"relative"}},FG={class:"form-group"},PG=["value"],RG={class:"form-group"},IG=["value"],OG={class:"form-group"},NG=["value"],$G={class:"form-group"},zG={style:{display:"flex","flex-wrap":"wrap",gap:"0.5rem"}},qG=["value","checked","onChange"],VG={class:"form-group"},HG=["value"];function WG(e,t,r,n,i,a){return he(),de("div",{class:vt(["modal",{active:r.active}])},[R("div",MG,[R("button",{class:"close-modal",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("close"))},"×"),t[12]||(t[12]=R("h2",{style:{color:"var(--danger)","margin-bottom":"1rem"}},"Report New Bug",-1)),R("div",FG,[t[6]||(t[6]=R("label",null,"Title",-1)),R("input",{value:r.bug.title,type:"text",placeholder:"Bug title...",onInput:t[1]||(t[1]=o=>a.update("title",o.target.value))},null,40,PG)]),R("div",RG,[t[7]||(t[7]=R("label",null,"Description",-1)),R("textarea",{value:r.bug.description,rows:"4",placeholder:"Describe the bug...",onInput:t[2]||(t[2]=o=>a.update("description",o.target.value))},null,40,IG)]),R("div",OG,[t[9]||(t[9]=R("label",null,"Priority",-1)),R("select",{value:r.bug.priority,onChange:t[3]||(t[3]=o=>a.update("priority",o.target.value))},[...t[8]||(t[8]=[R("option",{value:"high"},"High",-1),R("option",{value:"medium"},"Medium",-1),R("option",{value:"low"},"Low",-1)])],40,NG)]),R("div",$G,[t[10]||(t[10]=R("label",null,"Modules (select multiple)",-1)),R("div",zG,[(he(!0),de(tt,null,Tt(r.modules,o=>(he(),de("label",{key:o.id,style:{display:"flex","align-items":"center"}},[R("input",{type:"checkbox",value:o.id,checked:r.bug.modules.includes(o.id),style:{"margin-right":"0.5rem",width:"auto"},onChange:s=>a.toggleModule(o.id,s.target.checked)},null,40,qG),ua(" "+be(o.name),1)]))),128))])]),R("div",VG,[t[11]||(t[11]=R("label",null,"Tags (comma separated)",-1)),R("input",{value:r.bug.tagsText,type:"text",placeholder:"BUG, AUTH, BACKEND",onInput:t[4]||(t[4]=o=>a.update("tagsText",o.target.value))},null,40,HG)]),R("button",{class:"btn danger",type:"button",onClick:t[5]||(t[5]=o=>e.$emit("submit"))},"Submit Bug")])],2)}const UG=It(DG,[["render",WG]]),GG={name:"RunbookModal",props:{active:{type:Boolean,default:!1},interviewError:{type:String,default:""},generating:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},submitting:{type:Boolean,default:!1},history:{type:Array,default:()=>[]},currentQuestion:{type:Object,default:null},draftAnswer:{type:String,default:""},latestRunbook:{type:Object,default:null},skipDisabled:{type:Boolean,default:!1}},emits:["close","update:draftAnswer","submit","skip"],methods:{onAnswerInput(e){this.$emit("update:draftAnswer",e)},submit(){this.$emit("submit")}}},jG={class:"modal-content runbook-modal",style:{position:"relative"}},KG={key:0,class:"form-error"},YG={key:1,class:"form-success"},XG={key:2,style:{color:"var(--text-muted)"}},ZG={key:3},QG={key:0,class:"runbook-history"},JG={key:1,class:"runbook-question"},e7={key:0,class:"question-help"},t7=["value","placeholder"],r7=["value","placeholder"],n7=["value"],i7=["value"],a7=["value","placeholder"],o7={class:"modal-actions"},s7=["disabled"],l7=["disabled"],u7={key:2,style:{color:"var(--accent-cyan)","font-weight":"600"}},c7={key:3,style:{color:"var(--success)"}};function h7(e,t,r,n,i,a){return he(),de("div",{class:vt(["modal",{active:r.active}])},[R("div",jG,[R("button",{class:"close-modal",type:"button",onClick:t[0]||(t[0]=o=>e.$emit("close"))},"×"),t[10]||(t[10]=R("h2",{style:{color:"var(--doc)","margin-bottom":"1rem"}},"Operational Runbook Interview",-1)),t[11]||(t[11]=R("p",{style:{"margin-bottom":"1rem",color:"var(--text-muted)"}}," Answer the targeted operational questions or skip directly to generation. Responses feed the shared runbook generator. ",-1)),r.interviewError?(he(),de("div",KG,be(r.interviewError),1)):Je("",!0),r.generating?(he(),de("div",YG,"Generating runbook artefact...")):Je("",!0),r.loading?(he(),de("div",XG,"Loading runbook question bank…")):(he(),de("div",ZG,[r.history&&r.history.length?(he(),de("div",QG,[t[8]||(t[8]=R("h4",null,"Answered",-1)),R("ul",null,[(he(!0),de(tt,null,Tt(r.history,(o,s)=>(he(),de("li",{key:"rb-history-"+s},[R("strong",null,be(o.prompt||o.questionId),1),R("span",null,be(o.answer),1)]))),128))])])):Je("",!0),r.currentQuestion?(he(),de("div",JG,[R("h3",null,be(r.currentQuestion.prompt),1),r.currentQuestion.help?(he(),de("p",e7,be(r.currentQuestion.help),1)):Je("",!0),r.currentQuestion.type==="text"?(he(),de("input",{key:1,value:r.draftAnswer,placeholder:r.currentQuestion.placeholder,onInput:t[1]||(t[1]=o=>a.onAnswerInput(o.target.value)),onKeyup:t[2]||(t[2]=R1(NS((...o)=>a.submit&&a.submit(...o),["prevent"]),["enter"]))},null,40,t7)):r.currentQuestion.type==="textarea"?(he(),de("textarea",{key:2,value:r.draftAnswer,placeholder:r.currentQuestion.placeholder,rows:"5",onInput:t[3]||(t[3]=o=>a.onAnswerInput(o.target.value))},null,40,r7)):r.currentQuestion.type==="select"?(he(),de("select",{key:3,value:r.draftAnswer,onChange:t[4]||(t[4]=o=>a.onAnswerInput(o.target.value))},[t[9]||(t[9]=R("option",{value:""},"Choose...",-1)),(he(!0),de(tt,null,Tt(r.currentQuestion.options||[],o=>(he(),de("option",{key:o,value:o},be(o),9,i7))),128))],40,n7)):(he(),de("input",{key:4,value:r.draftAnswer,placeholder:r.currentQuestion.placeholder,onInput:t[5]||(t[5]=o=>a.onAnswerInput(o.target.value))},null,40,a7)),R("div",o7,[R("button",{class:"btn",type:"button",disabled:r.submitting,onClick:t[6]||(t[6]=(...o)=>a.submit&&a.submit(...o))},be(r.submitting?"Submitting…":"Submit Answer"),9,s7),R("button",{class:"btn secondary",type:"button",disabled:r.skipDisabled,onClick:t[7]||(t[7]=o=>e.$emit("skip"))}," Skip & Generate ",8,l7)])])):r.generating?(he(),de("div",u7," Generating runbook from collected data… ")):r.latestRunbook?(he(),de("div",c7," Latest runbook saved as "+be(r.latestRunbook.filename)+". ",1)):Je("",!0)]))])],2)}const f7=It(GG,[["render",h7]]),d7={...Lb,components:{...Lb.components||{},AppHeader:o9,CommandCenter:I9,TerminalPanel:iH,TabNavigation:hH,CanvasTab:vH,TicketsBoard:MH,FeaturesTab:ZH,ModulesCanvas:hW,SpecsTab:nU,DiagramsTab:uU,ApiTab:mU,StorybookFrame:SU,DocsTab:jU,RunbookModal:f7,BugModal:UG,TicketCompletionModal:LG,FeatureModal:CG,AddModuleModal:sG}},p7={class:"app-container"};function v7(e,t,r,n,i,a){const o=Ft("AppHeader"),s=Ft("CommandCenter"),l=Ft("TerminalPanel"),u=Ft("TabNavigation"),c=Ft("CanvasTab"),h=Ft("TicketsBoard"),f=Ft("FeaturesTab"),d=Ft("ModulesCanvas"),p=Ft("SpecsTab"),m=Ft("DiagramsTab"),v=Ft("ApiTab"),y=Ft("StorybookFrame"),g=Ft("DocsTab"),b=Ft("RunbookModal"),x=Ft("BugModal"),C=Ft("TicketCompletionModal"),T=Ft("FeatureModal"),w=Ft("AddModuleModal");return he(),de("div",p7,[Qe(o,{"current-theme":e.currentTheme,onSetTheme:e.setTheme},null,8,["current-theme","onSetTheme"]),Qe(s,{"claude-command":e.claudeCommand,"task-queue":e.taskQueue,stats:e.stats,"ticket-progress":e.ticketProgress,"latest-audit":e.latestAudit,"on-execute":e.executeClaudeCommand,"onUpdate:claudeCommand":t[0]||(t[0]=k=>e.claudeCommand=k)},null,8,["claude-command","task-queue","stats","ticket-progress","latest-audit","on-execute"]),Qe(l,{history:e.terminalHistory,command:e.terminalCommand,"working-directory":e.terminalWorkingDirectory,loading:e.terminalLoading,running:e.terminalRunning,error:e.terminalError,"onUpdate:command":t[1]||(t[1]=k=>e.terminalCommand=k),"onUpdate:workingDirectory":t[2]||(t[2]=k=>e.terminalWorkingDirectory=k),onRun:e.runTerminalCommand,onClear:e.clearTerminalHistory},null,8,["history","command","working-directory","loading","running","error","onRun","onClear"]),Qe(u,{"main-tabs":e.mainTabs,"active-tab":e.activeTab,onSelectTab:e.setTab},null,8,["main-tabs","active-tab","onSelectTab"]),Qe(c,{active:e.activeTab==="canvas",onLayout:e.layoutCanvas,onDetect:e.detectModules,onAnalyze:e.analyzeCanvas,onExport:e.exportCanvas},null,8,["active","onLayout","onDetect","onAnalyze","onExport"]),Qe(h,{active:e.activeTab==="bugs",tickets:e.tickets,"ticket-status-options":e.ticketStatusOptions,filter:e.bugFilter,onCreate:t[3]||(t[3]=k=>e.showBugModal=!0),onAnalyze:e.analyzeWithPythonAgent,onExport:e.exportBugs,onStatusChange:e.onTicketStatusChange,"onUpdate:filter":e.updateBugFilter},null,8,["active","tickets","ticket-status-options","filter","onAnalyze","onExport","onStatusChange","onUpdate:filter"]),Qe(f,{active:e.activeTab==="features",features:e.filteredFeatures,modules:e.modules,"selected-modules":e.selectedModules,filter:e.featureFilter,"get-module-feature-count":e.getModuleFeatureCount,"get-module-name":e.getModuleName,"get-feature-status-color":e.getFeatureStatusColor,onCreate:t[4]||(t[4]=k=>e.showFeatureModal=!0),onReport:e.generateFeatureReport,onToggleModule:e.toggleModule,"onUpdate:filter":e.updateFeatureFilter},null,8,["active","features","modules","selected-modules","filter","get-module-feature-count","get-module-name","get-feature-status-color","onReport","onToggleModule","onUpdate:filter"]),Qe(d,{active:e.activeTab==="modules",modules:e.modules,summary:e.moduleSummary,"get-module-bug-count":e.getModuleBugCount,"get-module-feature-count":e.getModuleFeatureCount,"get-health-color":e.getHealthColor,onCreate:t[5]||(t[5]=k=>e.showAddModuleModal=!0),onDetect:e.detectModules,onAnalyzeDependencies:e.analyzeModuleDependencies,onAnalyze:e.analyzeModule},null,8,["active","modules","summary","get-module-bug-count","get-module-feature-count","get-health-color","onDetect","onAnalyzeDependencies","onAnalyze"]),Qe(p,{active:e.activeTab==="specs","current-phase":e.currentPhase,questions:e.currentQuestions,"export-format":e.specExportFormat,"generated-spec":e.generatedSpec,"latest-spec-meta":e.latestSpecMeta,"cli-sessions":e.cliSessions,"cli-sessions-loading":e.cliSessionsLoading,"cli-sessions-error":e.cliSessionsError,"selected-session-id":e.selectedCliSession,"session-details":e.cliSessionDetails,"session-details-error":e.cliSessionDetailsError,"cli-gate-log":e.cliGateLog,"find-cli-question-prompt":e.findCliQuestionPrompt,"format-cli-timestamp":e.formatCliTimestamp,"format-cli-session-status":e.formatCliSessionStatus,"format-gate-timestamp":e.formatGateTimestamp,"format-gate-context":e.formatGateContext,"onUpdate:exportFormat":e.updateSpecExportFormat,onGenerate:e.generateSpec,onRefreshSessions:e.fetchCliSessions,onViewSession:e.viewCliSession,onCloseSession:e.clearCliSessionDetails,onAnswer:e.processAnswer},null,8,["active","current-phase","questions","export-format","generated-spec","latest-spec-meta","cli-sessions","cli-sessions-loading","cli-sessions-error","selected-session-id","session-details","session-details-error","cli-gate-log","find-cli-question-prompt","format-cli-timestamp","format-cli-session-status","format-gate-timestamp","format-gate-context","onUpdate:exportFormat","onGenerate","onRefreshSessions","onViewSession","onCloseSession","onAnswer"]),Qe(m,{active:e.activeTab==="diagrams","mermaid-code":e.mermaidCode,"generate-diagram":e.generateDiagram,"generate-from-modules":e.generateFromModules,"render-mermaid":e.renderMermaid,"update-mermaid-code":e.updateMermaidCode,"mermaid-error":e.mermaidError},null,8,["active","mermaid-code","generate-diagram","generate-from-modules","render-mermaid","update-mermaid-code","mermaid-error"]),Qe(v,{active:e.activeTab==="api","api-format":e.apiFormat,"api-spec-content":e.apiSpecContent,"api-spec-warnings":e.apiSpecWarnings,"generate-api-spec":e.generateAPISpec,"export-api-spec":e.exportAPISpec,"test-api":e.testAPI,"update-api-format":e.updateApiFormat},null,8,["active","api-format","api-spec-content","api-spec-warnings","generate-api-spec","export-api-spec","test-api","update-api-format"]),Qe(y,{active:e.activeTab==="storybook",theme:e.currentTheme,status:e.storybookStatus,"frame-version":e.storybookFrameVersion,"on-start":e.startStorybookInstance,"on-refresh":e.refreshStorybookFrame},null,8,["active","theme","status","frame-version","on-start","on-refresh"]),Qe(g,{active:e.activeTab==="docs","doc-type":e.docType,"doc-title":e.docTitle,"generated-docs":e.generatedDocs,"runbook-generation-error":e.runbookGenerationError,"latest-runbook":e.latestRunbook,"latest-runbook-content":e.latestRunbookContent,"latest-runbook-html":e.latestRunbookHtml,"runbook-messages":e.runbookMessages,"generate-docs":e.generateDocs,"export-docs":e.exportDocs,"update-doc-type":e.updateDocType,"start-runbook-interview":e.startRunbookInterview,"quick-generate-runbook":e.quickGenerateRunbook,"runbook-generating":e.runbookGenerating,"runbook-interview-loading":e.runbookInterviewLoading},null,8,["active","doc-type","doc-title","generated-docs","runbook-generation-error","latest-runbook","latest-runbook-content","latest-runbook-html","runbook-messages","generate-docs","export-docs","update-doc-type","start-runbook-interview","quick-generate-runbook","runbook-generating","runbook-interview-loading"]),Qe(b,{active:e.runbookModalOpen,"interview-error":e.runbookInterviewError,generating:e.runbookGenerating,loading:e.runbookInterviewLoading,submitting:e.runbookInterviewSubmitting,history:e.runbookHistory,"current-question":e.runbookCurrentQuestion,"draft-answer":e.runbookDraftAnswer,"latest-runbook":e.latestRunbook,"skip-disabled":e.runbookGenerating,onClose:e.closeRunbookModal,"onUpdate:draftAnswer":t[6]||(t[6]=k=>e.runbookDraftAnswer=k),onSubmit:e.submitRunbookAnswer,onSkip:e.skipRunbookInterview},null,8,["active","interview-error","generating","loading","submitting","history","current-question","draft-answer","latest-runbook","skip-disabled","onClose","onSubmit","onSkip"]),Qe(x,{active:e.showBugModal,bug:e.newBug,modules:e.modules,onClose:t[7]||(t[7]=k=>e.showBugModal=!1),onSubmit:e.addBug,"onUpdate:bug":t[8]||(t[8]=k=>e.newBug=k)},null,8,["active","bug","modules","onSubmit"]),Qe(C,{active:e.showTicketCompletionModal,summary:e.ticketCompletionSummary,error:e.ticketCompletionError,onCancel:e.cancelTicketCompletion,onConfirm:e.confirmTicketCompletion,"onUpdate:summary":t[9]||(t[9]=k=>e.ticketCompletionSummary=k)},null,8,["active","summary","error","onCancel","onConfirm"]),Qe(T,{active:e.showFeatureModal,feature:e.newFeature,modules:e.modules,onClose:t[10]||(t[10]=k=>e.showFeatureModal=!1),onSubmit:e.addFeature,"onUpdate:feature":t[11]||(t[11]=k=>e.newFeature=k)},null,8,["active","feature","modules","onSubmit"]),Qe(w,{active:e.showAddModuleModal,"module-draft":e.newModule,onClose:t[12]||(t[12]=k=>e.showAddModuleModal=!1),onSubmit:e.addModule,"onUpdate:moduleDraft":t[13]||(t[13]=k=>e.newModule=k)},null,8,["active","module-draft","onSubmit"])])}const g7=It(d7,[["render",v7]]);VS(g7).mount("#app");export{hi as $,fs as A,vs as B,pq as C,dq as D,lq as E,VO as F,L7 as G,bq as H,E4 as I,vI as J,uv as K,rC as L,al as M,aC as N,b7 as O,Ew as P,CP as Q,Pr as R,qr as S,Cq as T,E7 as U,fT as V,Bv as W,s4 as X,t4 as Y,Fn as Z,cv as _,fq as a,_o as a$,C0 as a0,CI as a1,Rs as a2,cb as a3,D7 as a4,h4 as a5,_4 as a6,Ta as a7,e$ as a8,jN as a9,S7 as aA,k7 as aB,x7 as aC,w7 as aD,B7 as aE,T7 as aF,A7 as aG,Ai as aH,We as aI,Mn as aJ,ll as aK,ko as aL,Uu as aM,$N as aN,_$ as aO,sl as aP,ju as aQ,FN as aR,NC as aS,O3 as aT,N3 as aU,Yi as aV,Q0 as aW,$3 as aX,wv as aY,I3 as aZ,V3 as a_,t$ as aa,r$ as ab,UC as ac,Hc as ad,jc as ae,Ku as af,P3 as ag,xv as ah,jC as ai,WC as aj,MN as ak,AN as al,KN as am,i$ as an,ul as ao,vi as ap,O7 as aq,ol as ar,Oe as as,qe as at,vq as au,pv as av,C7 as aw,_7 as ax,B0 as ay,A0 as az,cq as b,Oi as b0,j0 as b1,Cv as b2,zC as b3,ip as b4,j3 as b5,nd as b6,O4 as b7,gP as b8,uq as c,Kr as d,RT as e,hr as f,Pv as g,Xu as h,fo as i,kP as j,Sv as k,ze as l,M4 as m,$O as n,iq as o,k4 as p,m4 as q,rT as r,hq as s,Y$ as t,I7 as u,tC as v,L4 as w,MP as x,rN as y,bv as z};
