const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/c4Diagram-15b5d702-BtZobvnC.js","chunks/svgDrawCommon-3ba9043b-CdWgl4OJ.js","chunks/flowDiagram-cbd28bf7-BBGv6jIm.js","chunks/flowDb-7c981674-Cs1P2e6z.js","chunks/graph-BOs-OnYd.js","chunks/layout-DNdojMHx.js","chunks/styles-2ab5d517-BUsbNVXW.js","chunks/index-6079d271-DLy-BH91.js","chunks/clone-mG0sv98h.js","chunks/edges-332bd1c7-tGtFQZh9.js","chunks/createText-d213de94-Odh7ubiJ.js","chunks/line-D3neg19C.js","chunks/array-BKyUJesY.js","chunks/path-CbwjOpE9.js","chunks/channel-U8UvE9Nt.js","chunks/flowDiagram-v2-ffc7f31a-9uzUqGLS.js","chunks/erDiagram-880f2ed8-DGu80oZn.js","chunks/ganttDiagram-04f9e578-BHgJNci-.js","chunks/linear-Y3Id5j6t.js","chunks/init-Gi6I4Gst.js","chunks/pieDiagram-421022e6-Dv7vMdKC.js","chunks/arc-cNGY3eV4.js","chunks/ordinal-Cboi1Yqb.js","chunks/quadrantDiagram-0957ecba-CADpULQT.js","chunks/xychartDiagram-b6496bcd-C15EwDeW.js","chunks/requirementDiagram-23d650b8-fnGkM_1S.js","chunks/sequenceDiagram-17ac3bff-FpNbcy82.js","chunks/classDiagram-d40c83e7-Cj-mRfxo.js","chunks/styles-5f03d8d2-C8F4gO-F.js","chunks/classDiagram-v2-d5a6b087-CR3m-0v5.js","chunks/stateDiagram-9c5f0230-CBqKgsIg.js","chunks/styles-edf9a4b0-BZzAVlQz.js","chunks/stateDiagram-v2-51a3dcff-Bug3r4RQ.js","chunks/journeyDiagram-29694f62-BFvE3EY9.js","chunks/flowchart-elk-definition-36e2d292-DrgB5VCD.js","chunks/timeline-definition-7e6b55e7-CJ1Wwb16.js","chunks/mindmap-definition-ac74a2e8-CQsjJXmd.js","chunks/sankeyDiagram-23345273-C3k3szqQ.js","chunks/Tableau10-B-NsZVaP.js","chunks/blockDiagram-68f4deed-Cg9y_k4L.js"])))=>i.map(i=>d[i]);
/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Md(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ft={},Ma=[],mn=()=>{},M0=()=>!1,Ru=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Pd=e=>e.startsWith("onUpdate:"),xr=Object.assign,Fd=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Qw=Object.prototype.hasOwnProperty,it=(e,t)=>Qw.call(e,t),He=Array.isArray,Pa=e=>ks(e)==="[object Map]",ao=e=>ks(e)==="[object Set]",np=e=>ks(e)==="[object Date]",Xe=e=>typeof e=="function",Ot=e=>typeof e=="string",Cn=e=>typeof e=="symbol",gt=e=>e!==null&&typeof e=="object",P0=e=>(gt(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),F0=Object.prototype.toString,ks=e=>F0.call(e),Jw=e=>ks(e).slice(8,-1),O0=e=>ks(e)==="[object Object]",Od=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qo=Md(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Iu=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},eT=/-\w/g,vi=Iu(e=>e.replace(eT,t=>t.slice(1).toUpperCase())),tT=/\B([A-Z])/g,Si=Iu(e=>e.replace(tT,"-$1").toLowerCase()),R0=Iu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ac=Iu(e=>e?`on${R0(e)}`:""),Xi=(e,t)=>!Object.is(e,t),yl=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},I0=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Gl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ip;const Nu=()=>ip||(ip=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gi(e){if(He(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Ot(n)?aT(n):Gi(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(Ot(e)||gt(e))return e}const rT=/;(?![^(]*\))/g,nT=/:([^]+)/,iT=/\/\*[^]*?\*\//g;function aT(e){const t={};return e.replace(iT,"").split(rT).forEach(r=>{if(r){const n=r.split(nT);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function rt(e){let t="";if(Ot(e))t=e;else if(He(e))for(let r=0;r<e.length;r++){const n=rt(e[r]);n&&(t+=n+" ")}else if(gt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const oT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sT=Md(oT);function N0(e){return!!e||e===""}function lT(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=As(e[n],t[n]);return r}function As(e,t){if(e===t)return!0;let r=np(e),n=np(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Cn(e),n=Cn(t),r||n)return e===t;if(r=He(e),n=He(t),r||n)return r&&n?lT(e,t):!1;if(r=gt(e),n=gt(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!As(e[o],t[o]))return!1}}return String(e)===String(t)}function Rd(e,t){return e.findIndex(r=>As(r,t))}const z0=e=>!!(e&&e.__v_isRef===!0),Ae=e=>Ot(e)?e:e==null?"":He(e)||gt(e)&&(e.toString===F0||!Xe(e.toString))?z0(e)?Ae(e.value):JSON.stringify(e,$0,2):String(e),$0=(e,t)=>z0(t)?$0(e,t.value):Pa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[Bc(n,a)+" =>"]=i,r),{})}:ao(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Bc(r))}:Cn(t)?Bc(t):gt(t)&&!He(t)&&!O0(t)?String(t):t,Bc=(e,t="")=>{var r;return Cn(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _r;class uT{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_r,!t&&_r&&(this.index=(_r.scopes||(_r.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=_r;try{return _r=this,t()}finally{_r=r}}}on(){++this._on===1&&(this.prevScope=_r,_r=this)}off(){this._on>0&&--this._on===0&&(_r=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function cT(){return _r}let pt;const Lc=new WeakSet;class q0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_r&&_r.active&&_r.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Lc.has(this)&&(Lc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||H0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ap(this),W0(this);const t=pt,r=tn;pt=this,tn=!0;try{return this.fn()}finally{U0(this),pt=t,tn=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)zd(t);this.deps=this.depsTail=void 0,ap(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Lc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ff(this)&&this.run()}get dirty(){return Ff(this)}}let V0=0,Vo,Ho;function H0(e,t=!1){if(e.flags|=8,t){e.next=Ho,Ho=e;return}e.next=Vo,Vo=e}function Id(){V0++}function Nd(){if(--V0>0)return;if(Ho){let t=Ho;for(Ho=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Vo;){let t=Vo;for(Vo=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function W0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function U0(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),zd(n),hT(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function Ff(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(G0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function G0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ns)||(e.globalVersion=ns,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ff(e))))return;e.flags|=2;const t=e.dep,r=pt,n=tn;pt=e,tn=!0;try{W0(e);const i=e.fn(e._value);(t.version===0||Xi(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{pt=r,tn=n,U0(e),e.flags&=-3}}function zd(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)zd(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function hT(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let tn=!0;const Y0=[];function Hn(){Y0.push(tn),tn=!1}function Wn(){const e=Y0.pop();tn=e===void 0?!0:e}function ap(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=pt;pt=void 0;try{t()}finally{pt=r}}}let ns=0;class fT{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class K0{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!pt||!tn||pt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==pt)r=this.activeLink=new fT(pt,this),pt.deps?(r.prevDep=pt.depsTail,pt.depsTail.nextDep=r,pt.depsTail=r):pt.deps=pt.depsTail=r,j0(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=pt.depsTail,r.nextDep=void 0,pt.depsTail.nextDep=r,pt.depsTail=r,pt.deps===r&&(pt.deps=n)}return r}trigger(t){this.version++,ns++,this.notify(t)}notify(t){Id();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Nd()}}}function j0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)j0(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Of=new WeakMap,Zi=Symbol(""),Rf=Symbol(""),is=Symbol("");function ir(e,t,r){if(tn&&pt){let n=Of.get(e);n||Of.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new K0),i.map=n,i.key=r),i.track()}}function In(e,t,r,n,i,a){const o=Of.get(e);if(!o){ns++;return}const s=l=>{l&&l.trigger()};if(Id(),t==="clear")o.forEach(s);else{const l=He(e),u=l&&Od(r);if(l&&r==="length"){const c=Number(n);o.forEach((h,f)=>{(f==="length"||f===is||!Cn(f)&&f>=c)&&s(h)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(is)),t){case"add":l?u&&s(o.get("length")):(s(o.get(Zi)),Pa(e)&&s(o.get(Rf)));break;case"delete":l||(s(o.get(Zi)),Pa(e)&&s(o.get(Rf)));break;case"set":Pa(e)&&s(o.get(Zi));break}}Nd()}function pa(e){const t=ht(e);return t===e?t:(ir(t,"iterate",is),rn(e)?t:t.map(vr))}function zu(e){return ir(e=ht(e),"iterate",is),e}const dT={__proto__:null,[Symbol.iterator](){return Dc(this,Symbol.iterator,vr)},concat(...e){return pa(this).concat(...e.map(t=>He(t)?pa(t):t))},entries(){return Dc(this,"entries",e=>(e[1]=vr(e[1]),e))},every(e,t){return Ln(this,"every",e,t,void 0,arguments)},filter(e,t){return Ln(this,"filter",e,t,r=>r.map(vr),arguments)},find(e,t){return Ln(this,"find",e,t,vr,arguments)},findIndex(e,t){return Ln(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ln(this,"findLast",e,t,vr,arguments)},findLastIndex(e,t){return Ln(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ln(this,"forEach",e,t,void 0,arguments)},includes(...e){return Mc(this,"includes",e)},indexOf(...e){return Mc(this,"indexOf",e)},join(e){return pa(this).join(e)},lastIndexOf(...e){return Mc(this,"lastIndexOf",e)},map(e,t){return Ln(this,"map",e,t,void 0,arguments)},pop(){return mo(this,"pop")},push(...e){return mo(this,"push",e)},reduce(e,...t){return op(this,"reduce",e,t)},reduceRight(e,...t){return op(this,"reduceRight",e,t)},shift(){return mo(this,"shift")},some(e,t){return Ln(this,"some",e,t,void 0,arguments)},splice(...e){return mo(this,"splice",e)},toReversed(){return pa(this).toReversed()},toSorted(e){return pa(this).toSorted(e)},toSpliced(...e){return pa(this).toSpliced(...e)},unshift(...e){return mo(this,"unshift",e)},values(){return Dc(this,"values",vr)}};function Dc(e,t,r){const n=zu(e),i=n[t]();return n!==e&&!rn(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=r(a.value)),a}),i}const vT=Array.prototype;function Ln(e,t,r,n,i,a){const o=zu(e),s=o!==e&&!rn(e),l=o[t];if(l!==vT[t]){const h=l.apply(e,a);return s?vr(h):h}let u=r;o!==e&&(s?u=function(h,f){return r.call(this,vr(h),f,e)}:r.length>2&&(u=function(h,f){return r.call(this,h,f,e)}));const c=l.call(o,u,n);return s&&i?i(c):c}function op(e,t,r,n){const i=zu(e);let a=r;return i!==e&&(rn(e)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,e)}):a=function(o,s,l){return r.call(this,o,vr(s),l,e)}),i[t](a,...n)}function Mc(e,t,r){const n=ht(e);ir(n,"iterate",is);const i=n[t](...r);return(i===-1||i===!1)&&Hd(r[0])?(r[0]=ht(r[0]),n[t](...r)):i}function mo(e,t,r=[]){Hn(),Id();const n=ht(e)[t].apply(e,r);return Nd(),Wn(),n}const pT=Md("__proto__,__v_isRef,__isVue"),X0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Cn));function gT(e){Cn(e)||(e=String(e));const t=ht(this);return ir(t,"has",e),t.hasOwnProperty(e)}class Z0{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?ET:tb:a?eb:J0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=He(t);if(!i){let l;if(o&&(l=dT[r]))return l;if(r==="hasOwnProperty")return gT}const s=Reflect.get(t,r,br(t)?t:n);if((Cn(r)?X0.has(r):pT(r))||(i||ir(t,"get",r),a))return s;if(br(s)){const l=o&&Od(r)?s:s.value;return i&&gt(l)?Nf(l):l}return gt(s)?i?Nf(s):qd(s):s}}class Q0 extends Z0{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=ea(a);if(!rn(n)&&!ea(n)&&(a=ht(a),n=ht(n)),!He(t)&&br(a)&&!br(n))return l||(a.value=n),!0}const o=He(t)&&Od(r)?Number(r)<t.length:it(t,r),s=Reflect.set(t,r,n,br(t)?t:i);return t===ht(i)&&(o?Xi(n,a)&&In(t,"set",r,n):In(t,"add",r,n)),s}deleteProperty(t,r){const n=it(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&In(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Cn(r)||!X0.has(r))&&ir(t,"has",r),n}ownKeys(t){return ir(t,"iterate",He(t)?"length":Zi),Reflect.ownKeys(t)}}class mT extends Z0{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const yT=new Q0,bT=new mT,xT=new Q0(!0);const If=e=>e,js=e=>Reflect.getPrototypeOf(e);function CT(e,t,r){return function(...n){const i=this.__v_raw,a=ht(i),o=Pa(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=r?If:t?Yl:vr;return!t&&ir(a,"iterate",l?Rf:Zi),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:s?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Xs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function wT(e,t){const r={get(i){const a=this.__v_raw,o=ht(a),s=ht(i);e||(Xi(i,s)&&ir(o,"get",i),ir(o,"get",s));const{has:l}=js(o),u=t?If:e?Yl:vr;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&ir(ht(i),"iterate",Zi),i.size},has(i){const a=this.__v_raw,o=ht(a),s=ht(i);return e||(Xi(i,s)&&ir(o,"has",i),ir(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=ht(s),u=t?If:e?Yl:vr;return!e&&ir(l,"iterate",Zi),s.forEach((c,h)=>i.call(a,u(c),u(h),o))}};return xr(r,e?{add:Xs("add"),set:Xs("set"),delete:Xs("delete"),clear:Xs("clear")}:{add(i){!t&&!rn(i)&&!ea(i)&&(i=ht(i));const a=ht(this);return js(a).has.call(a,i)||(a.add(i),In(a,"add",i,i)),this},set(i,a){!t&&!rn(a)&&!ea(a)&&(a=ht(a));const o=ht(this),{has:s,get:l}=js(o);let u=s.call(o,i);u||(i=ht(i),u=s.call(o,i));const c=l.call(o,i);return o.set(i,a),u?Xi(a,c)&&In(o,"set",i,a):In(o,"add",i,a),this},delete(i){const a=ht(this),{has:o,get:s}=js(a);let l=o.call(a,i);l||(i=ht(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&In(a,"delete",i,void 0),u},clear(){const i=ht(this),a=i.size!==0,o=i.clear();return a&&In(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=CT(i,e,t)}),r}function $d(e,t){const r=wT(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(it(r,i)&&i in n?r:n,i,a)}const TT={get:$d(!1,!1)},_T={get:$d(!1,!0)},ST={get:$d(!0,!1)};const J0=new WeakMap,eb=new WeakMap,tb=new WeakMap,ET=new WeakMap;function kT(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AT(e){return e.__v_skip||!Object.isExtensible(e)?0:kT(Jw(e))}function qd(e){return ea(e)?e:Vd(e,!1,yT,TT,J0)}function BT(e){return Vd(e,!1,xT,_T,eb)}function Nf(e){return Vd(e,!0,bT,ST,tb)}function Vd(e,t,r,n,i){if(!gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=AT(e);if(a===0)return e;const o=i.get(e);if(o)return o;const s=new Proxy(e,a===2?n:r);return i.set(e,s),s}function Fa(e){return ea(e)?Fa(e.__v_raw):!!(e&&e.__v_isReactive)}function ea(e){return!!(e&&e.__v_isReadonly)}function rn(e){return!!(e&&e.__v_isShallow)}function Hd(e){return e?!!e.__v_raw:!1}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function LT(e){return!it(e,"__v_skip")&&Object.isExtensible(e)&&I0(e,"__v_skip",!0),e}const vr=e=>gt(e)?qd(e):e,Yl=e=>gt(e)?Nf(e):e;function br(e){return e?e.__v_isRef===!0:!1}function DT(e){return br(e)?e.value:e}const MT={get:(e,t,r)=>t==="__v_raw"?e:DT(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return br(i)&&!br(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function rb(e){return Fa(e)?e:new Proxy(e,MT)}class PT{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new K0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ns-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&pt!==this)return H0(this,!0),!0}get value(){const t=this.dep.track();return G0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function FT(e,t,r=!1){let n,i;return Xe(e)?n=e:(n=e.get,i=e.set),new PT(n,i,r)}const Zs={},Kl=new WeakMap;let zi;function OT(e,t=!1,r=zi){if(r){let n=Kl.get(r);n||Kl.set(r,n=[]),n.push(e)}}function RT(e,t,r=ft){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=x=>i?x:rn(x)||i===!1||i===0?Nn(x,1):Nn(x);let c,h,f,d,v=!1,y=!1;if(br(e)?(h=()=>e.value,v=rn(e)):Fa(e)?(h=()=>u(e),v=!0):He(e)?(y=!0,v=e.some(x=>Fa(x)||rn(x)),h=()=>e.map(x=>{if(br(x))return x.value;if(Fa(x))return u(x);if(Xe(x))return l?l(x,2):x()})):Xe(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Hn();try{f()}finally{Wn()}}const x=zi;zi=c;try{return l?l(e,3,[d]):e(d)}finally{zi=x}}:h=mn,t&&i){const x=h,w=i===!0?1/0:i;h=()=>Nn(x(),w)}const p=cT(),m=()=>{c.stop(),p&&p.active&&Fd(p.effects,c)};if(a&&t){const x=t;t=(...w)=>{x(...w),m()}}let g=y?new Array(e.length).fill(Zs):Zs;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const w=c.run();if(i||v||(y?w.some((T,C)=>Xi(T,g[C])):Xi(w,g))){f&&f();const T=zi;zi=c;try{const C=[w,g===Zs?void 0:y&&g[0]===Zs?[]:g,d];g=w,l?l(t,3,C):t(...C)}finally{zi=T}}}else c.run()};return s&&s(b),c=new q0(h),c.scheduler=o?()=>o(b,!1):b,d=x=>OT(x,!1,c),f=c.onStop=()=>{const x=Kl.get(c);if(x){if(l)l(x,4);else for(const w of x)w();Kl.delete(c)}},t?n?b(!0):g=c.run():o?o(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Nn(e,t=1/0,r){if(t<=0||!gt(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,br(e))Nn(e.value,t,r);else if(He(e))for(let n=0;n<e.length;n++)Nn(e[n],t,r);else if(ao(e)||Pa(e))e.forEach(n=>{Nn(n,t,r)});else if(O0(e)){for(const n in e)Nn(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Nn(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bs(e,t,r,n){try{return n?e(...n):e()}catch(i){$u(i,t,r)}}function wn(e,t,r,n){if(Xe(e)){const i=Bs(e,t,r,n);return i&&P0(i)&&i.catch(a=>{$u(a,t,r)}),i}if(He(e)){const i=[];for(let a=0;a<e.length;a++)i.push(wn(e[a],t,r,n));return i}}function $u(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ft;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}s=s.parent}if(a){Hn(),Bs(a,null,10,[e,l,u]),Wn();return}}IT(e,r,i,n,o)}function IT(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const pr=[];let dn=-1;const Oa=[];let ti=null,Sa=0;const nb=Promise.resolve();let jl=null;function ib(e){const t=jl||nb;return e?t.then(this?e.bind(this):e):t}function NT(e){let t=dn+1,r=pr.length;for(;t<r;){const n=t+r>>>1,i=pr[n],a=as(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function Wd(e){if(!(e.flags&1)){const t=as(e),r=pr[pr.length-1];!r||!(e.flags&2)&&t>=as(r)?pr.push(e):pr.splice(NT(t),0,e),e.flags|=1,ab()}}function ab(){jl||(jl=nb.then(sb))}function zT(e){He(e)?Oa.push(...e):ti&&e.id===-1?ti.splice(Sa+1,0,e):e.flags&1||(Oa.push(e),e.flags|=1),ab()}function sp(e,t,r=dn+1){for(;r<pr.length;r++){const n=pr[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;pr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ob(e){if(Oa.length){const t=[...new Set(Oa)].sort((r,n)=>as(r)-as(n));if(Oa.length=0,ti){ti.push(...t);return}for(ti=t,Sa=0;Sa<ti.length;Sa++){const r=ti[Sa];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}ti=null,Sa=0}}const as=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sb(e){try{for(dn=0;dn<pr.length;dn++){const t=pr[dn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Bs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;dn<pr.length;dn++){const t=pr[dn];t&&(t.flags&=-2)}dn=-1,pr.length=0,ob(),jl=null,(pr.length||Oa.length)&&sb()}}let Wr=null,lb=null;function Xl(e){const t=Wr;return Wr=e,lb=e&&e.type.__scopeId||null,t}function $T(e,t=Wr,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&mp(-1);const a=Xl(t);let o;try{o=e(...i)}finally{Xl(a),n._d&&mp(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function lt(e,t){if(Wr===null)return e;const r=Wu(Wr),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=ft]=t[i];a&&(Xe(a)&&(a={mounted:a,updated:a}),a.deep&&Nn(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Oi(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(Hn(),wn(l,r,8,[e.el,s,e,t]),Wn())}}const qT=Symbol("_vte"),VT=e=>e.__isTeleport,HT=Symbol("_leaveCb");function Ud(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ud(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ub(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Zl=new WeakMap;function Wo(e,t,r,n,i=!1){if(He(e)){e.forEach((v,y)=>Wo(v,t&&(He(t)?t[y]:t),r,n,i));return}if(Uo(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Wo(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?Wu(n.component):n.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,c=s.refs===ft?s.refs={}:s.refs,h=s.setupState,f=ht(h),d=h===ft?M0:v=>it(f,v);if(u!=null&&u!==l){if(lp(t),Ot(u))c[u]=null,d(u)&&(h[u]=null);else if(br(u)){u.value=null;const v=t;v.k&&(c[v.k]=null)}}if(Xe(l))Bs(l,s,12,[o,c]);else{const v=Ot(l),y=br(l);if(v||y){const p=()=>{if(e.f){const m=v?d(l)?h[l]:c[l]:l.value;if(i)He(m)&&Fd(m,a);else if(He(m))m.includes(a)||m.push(a);else if(v)c[l]=[a],d(l)&&(h[l]=c[l]);else{const g=[a];l.value=g,e.k&&(c[e.k]=g)}}else v?(c[l]=o,d(l)&&(h[l]=o)):y&&(l.value=o,e.k&&(c[e.k]=o))};if(o){const m=()=>{p(),Zl.delete(e)};m.id=-1,Zl.set(e,m),Dr(m,r)}else lp(e),p()}}}function lp(e){const t=Zl.get(e);t&&(t.flags|=8,Zl.delete(e))}Nu().requestIdleCallback;Nu().cancelIdleCallback;const Uo=e=>!!e.type.__asyncLoader,cb=e=>e.type.__isKeepAlive;function WT(e,t){hb(e,"a",t)}function UT(e,t){hb(e,"da",t)}function hb(e,t,r=gr){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(qu(t,n,r),r){let i=r.parent;for(;i&&i.parent;)cb(i.parent.vnode)&&GT(n,t,r,i),i=i.parent}}function GT(e,t,r,n){const i=qu(t,e,n,!0);fb(()=>{Fd(n[t],i)},r)}function qu(e,t,r=gr,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Hn();const s=Ls(r),l=wn(t,r,e,o);return s(),Wn(),l});return n?i.unshift(a):i.push(a),a}}const Kn=e=>(t,r=gr)=>{(!ss||e==="sp")&&qu(e,(...n)=>t(...n),r)},YT=Kn("bm"),KT=Kn("m"),jT=Kn("bu"),XT=Kn("u"),ZT=Kn("bum"),fb=Kn("um"),QT=Kn("sp"),JT=Kn("rtg"),e_=Kn("rtc");function t_(e,t=gr){qu("ec",e,t)}const r_=Symbol.for("v-ndc");function Nt(e,t,r,n){let i;const a=r,o=He(e);if(o||Ot(e)){const s=o&&Fa(e);let l=!1,u=!1;s&&(l=!rn(e),u=ea(e),e=zu(e)),i=new Array(e.length);for(let c=0,h=e.length;c<h;c++)i[c]=t(l?u?Yl(vr(e[c])):vr(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(gt(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}const zf=e=>e?Pb(e)?Wu(e):zf(e.parent):null,Go=xr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zf(e.parent),$root:e=>zf(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vb(e),$forceUpdate:e=>e.f||(e.f=()=>{Wd(e.update)}),$nextTick:e=>e.n||(e.n=ib.bind(e.proxy)),$watch:e=>__.bind(e)}),Pc=(e,t)=>e!==ft&&!e.__isScriptSetup&&it(e,t),n_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(Pc(n,t))return o[t]=1,n[t];if(i!==ft&&it(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&it(u,t))return o[t]=3,a[t];if(r!==ft&&it(r,t))return o[t]=4,r[t];$f&&(o[t]=0)}}const c=Go[t];let h,f;if(c)return t==="$attrs"&&ir(e.attrs,"get",""),c(e);if((h=s.__cssModules)&&(h=h[t]))return h;if(r!==ft&&it(r,t))return o[t]=4,r[t];if(f=l.config.globalProperties,it(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return Pc(i,t)?(i[t]=r,!0):n!==ft&&it(n,t)?(n[t]=r,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a,type:o}},s){let l,u;return!!(r[s]||e!==ft&&s[0]!=="$"&&it(e,s)||Pc(t,s)||(l=a[0])&&it(l,s)||it(n,s)||it(Go,s)||it(i.config.globalProperties,s)||(u=o.__cssModules)&&u[s])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:it(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function up(e){return He(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let $f=!0;function i_(e){const t=vb(e),r=e.proxy,n=e.ctx;$f=!1,t.beforeCreate&&cp(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:v,activated:y,deactivated:p,beforeDestroy:m,beforeUnmount:g,destroyed:b,unmounted:x,render:w,renderTracked:T,renderTriggered:C,errorCaptured:S,serverPrefetch:k,expose:A,inheritAttrs:E,components:B,directives:D,filters:O}=t;if(u&&a_(u,n,null),o)for(const M in o){const I=o[M];Xe(I)&&(n[M]=I.bind(r))}if(i){const M=i.call(r,r);gt(M)&&(e.data=qd(M))}if($f=!0,a)for(const M in a){const I=a[M],$=Xe(I)?I.bind(r,r):Xe(I.get)?I.get.bind(r,r):mn,U=!Xe(I)&&Xe(I.set)?I.set.bind(r):mn,z=Y_({get:$,set:U});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>z.value,set:W=>z.value=W})}if(s)for(const M in s)db(s[M],n,r,M);if(l){const M=Xe(l)?l.call(r):l;Reflect.ownKeys(M).forEach(I=>{h_(I,M[I])})}c&&cp(c,e,"c");function P(M,I){He(I)?I.forEach($=>M($.bind(r))):I&&M(I.bind(r))}if(P(YT,h),P(KT,f),P(jT,d),P(XT,v),P(WT,y),P(UT,p),P(t_,S),P(e_,T),P(JT,C),P(ZT,g),P(fb,x),P(QT,k),He(A))if(A.length){const M=e.exposed||(e.exposed={});A.forEach(I=>{Object.defineProperty(M,I,{get:()=>r[I],set:$=>r[I]=$,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===mn&&(e.render=w),E!=null&&(e.inheritAttrs=E),B&&(e.components=B),D&&(e.directives=D),k&&ub(e)}function a_(e,t,r=mn){He(e)&&(e=qf(e));for(const n in e){const i=e[n];let a;gt(i)?"default"in i?a=bl(i.from||n,i.default,!0):a=bl(i.from||n):a=bl(i),br(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function cp(e,t,r){wn(He(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function db(e,t,r,n){let i=n.includes(".")?kb(r,n):()=>r[n];if(Ot(e)){const a=t[e];Xe(a)&&Oc(i,a)}else if(Xe(e))Oc(i,e.bind(r));else if(gt(e))if(He(e))e.forEach(a=>db(a,t,r,n));else{const a=Xe(e.handler)?e.handler.bind(r):t[e.handler];Xe(a)&&Oc(i,a,e)}}function vb(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>Ql(l,u,o,!0)),Ql(l,t,o)),gt(t)&&a.set(t,l),l}function Ql(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Ql(e,a,r,!0),i&&i.forEach(o=>Ql(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=o_[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const o_={data:hp,props:fp,emits:fp,methods:Po,computed:Po,beforeCreate:fr,created:fr,beforeMount:fr,mounted:fr,beforeUpdate:fr,updated:fr,beforeDestroy:fr,beforeUnmount:fr,destroyed:fr,unmounted:fr,activated:fr,deactivated:fr,errorCaptured:fr,serverPrefetch:fr,components:Po,directives:Po,watch:l_,provide:hp,inject:s_};function hp(e,t){return t?e?function(){return xr(Xe(e)?e.call(this,this):e,Xe(t)?t.call(this,this):t)}:t:e}function s_(e,t){return Po(qf(e),qf(t))}function qf(e){if(He(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function fr(e,t){return e?[...new Set([].concat(e,t))]:t}function Po(e,t){return e?xr(Object.create(null),e,t):t}function fp(e,t){return e?He(e)&&He(t)?[...new Set([...e,...t])]:xr(Object.create(null),up(e),up(t??{})):t}function l_(e,t){if(!e)return t;if(!t)return e;const r=xr(Object.create(null),e);for(const n in t)r[n]=fr(e[n],t[n]);return r}function pb(){return{app:null,config:{isNativeTag:M0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let u_=0;function c_(e,t){return function(n,i=null){Xe(n)||(n=xr({},n)),i!=null&&!gt(i)&&(i=null);const a=pb(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:u_++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:K_,get config(){return a.config},set config(c){},use(c,...h){return o.has(c)||(c&&Xe(c.install)?(o.add(c),c.install(u,...h)):Xe(c)&&(o.add(c),c(u,...h))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,h){return h?(a.components[c]=h,u):a.components[c]},directive(c,h){return h?(a.directives[c]=h,u):a.directives[c]},mount(c,h,f){if(!l){const d=u._ceVNode||yn(n,i);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(d,c,f),l=!0,u._container=c,c.__vue_app__=u,Wu(d.component)}},onUnmount(c){s.push(c)},unmount(){l&&(wn(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return a.provides[c]=h,u},runWithContext(c){const h=Ra;Ra=u;try{return c()}finally{Ra=h}}};return u}}let Ra=null;function h_(e,t){if(gr){let r=gr.provides;const n=gr.parent&&gr.parent.provides;n===r&&(r=gr.provides=Object.create(n)),r[e]=t}}function bl(e,t,r=!1){const n=q_();if(n||Ra){let i=Ra?Ra._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Xe(t)?t.call(n&&n.proxy):t}}const gb={},mb=()=>Object.create(gb),yb=e=>Object.getPrototypeOf(e)===gb;function f_(e,t,r,n=!1){const i={},a=mb();e.propsDefaults=Object.create(null),bb(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:BT(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function d_(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=ht(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Vu(e.emitsOptions,f))continue;const d=t[f];if(l)if(it(a,f))d!==a[f]&&(a[f]=d,u=!0);else{const v=vi(f);i[v]=Vf(l,s,v,d,e,!1)}else d!==a[f]&&(a[f]=d,u=!0)}}}else{bb(e,t,i,a)&&(u=!0);let c;for(const h in s)(!t||!it(t,h)&&((c=Si(h))===h||!it(t,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(i[h]=Vf(l,s,h,void 0,e,!0)):delete i[h]);if(a!==s)for(const h in a)(!t||!it(t,h))&&(delete a[h],u=!0)}u&&In(e.attrs,"set","")}function bb(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(qo(l))continue;const u=t[l];let c;i&&it(i,c=vi(l))?!a||!a.includes(c)?r[c]=u:(s||(s={}))[c]=u:Vu(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=ht(r),u=s||ft;for(let c=0;c<a.length;c++){const h=a[c];r[h]=Vf(i,l,h,u[h],e,!it(u,h))}}return o}function Vf(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=it(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Xe(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=Ls(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Si(r))&&(n=!0))}return n}const v_=new WeakMap;function xb(e,t,r=!1){const n=r?v_:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!Xe(e)){const c=h=>{l=!0;const[f,d]=xb(h,t,!0);xr(o,f),d&&s.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return gt(e)&&n.set(e,Ma),Ma;if(He(a))for(let c=0;c<a.length;c++){const h=vi(a[c]);dp(h)&&(o[h]=ft)}else if(a)for(const c in a){const h=vi(c);if(dp(h)){const f=a[c],d=o[h]=He(f)||Xe(f)?{type:f}:xr({},f),v=d.type;let y=!1,p=!0;if(He(v))for(let m=0;m<v.length;++m){const g=v[m],b=Xe(g)&&g.name;if(b==="Boolean"){y=!0;break}else b==="String"&&(p=!1)}else y=Xe(v)&&v.name==="Boolean";d[0]=y,d[1]=p,(y||it(d,"default"))&&s.push(h)}}const u=[o,s];return gt(e)&&n.set(e,u),u}function dp(e){return e[0]!=="$"&&!qo(e)}const Gd=e=>e==="_"||e==="_ctx"||e==="$stable",Yd=e=>He(e)?e.map(pn):[pn(e)],p_=(e,t,r)=>{if(t._n)return t;const n=$T((...i)=>Yd(t(...i)),r);return n._c=!1,n},Cb=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Gd(i))continue;const a=e[i];if(Xe(a))t[i]=p_(i,a,n);else if(a!=null){const o=Yd(a);t[i]=()=>o}}},wb=(e,t)=>{const r=Yd(t);e.slots.default=()=>r},Tb=(e,t,r)=>{for(const n in t)(r||!Gd(n))&&(e[n]=t[n])},g_=(e,t,r)=>{const n=e.slots=mb();if(e.vnode.shapeFlag&32){const i=t._;i?(Tb(n,t,r),r&&I0(n,"_",i,!0)):Cb(t,n)}else t&&wb(e,t)},m_=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=ft;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:Tb(i,t,r):(a=!t.$stable,Cb(t,i)),o=t}else t&&(wb(e,t),o={default:1});if(a)for(const s in i)!Gd(s)&&o[s]==null&&delete i[s]},Dr=M_;function y_(e){return b_(e)}function b_(e,t){const r=Nu();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=mn,insertStaticContent:v}=e,y=(_,F,V,ee=null,q=null,H=null,Z=void 0,ne=null,te=!!F.dynamicChildren)=>{if(_===F)return;_&&!yo(_,F)&&(ee=ce(_),W(_,q,H,!0),_=null),F.patchFlag===-2&&(te=!1,F.dynamicChildren=null);const{type:re,ref:ve,shapeFlag:fe}=F;switch(re){case Hu:p(_,F,V,ee);break;case pi:m(_,F,V,ee);break;case xl:_==null&&g(F,V,ee,Z);break;case ct:B(_,F,V,ee,q,H,Z,ne,te);break;default:fe&1?w(_,F,V,ee,q,H,Z,ne,te):fe&6?D(_,F,V,ee,q,H,Z,ne,te):(fe&64||fe&128)&&re.process(_,F,V,ee,q,H,Z,ne,te,G)}ve!=null&&q?Wo(ve,_&&_.ref,H,F||_,!F):ve==null&&_&&_.ref!=null&&Wo(_.ref,null,H,_,!0)},p=(_,F,V,ee)=>{if(_==null)n(F.el=s(F.children),V,ee);else{const q=F.el=_.el;F.children!==_.children&&u(q,F.children)}},m=(_,F,V,ee)=>{_==null?n(F.el=l(F.children||""),V,ee):F.el=_.el},g=(_,F,V,ee)=>{[_.el,_.anchor]=v(_.children,F,V,ee,_.el,_.anchor)},b=({el:_,anchor:F},V,ee)=>{let q;for(;_&&_!==F;)q=f(_),n(_,V,ee),_=q;n(F,V,ee)},x=({el:_,anchor:F})=>{let V;for(;_&&_!==F;)V=f(_),i(_),_=V;i(F)},w=(_,F,V,ee,q,H,Z,ne,te)=>{F.type==="svg"?Z="svg":F.type==="math"&&(Z="mathml"),_==null?T(F,V,ee,q,H,Z,ne,te):k(_,F,q,H,Z,ne,te)},T=(_,F,V,ee,q,H,Z,ne)=>{let te,re;const{props:ve,shapeFlag:fe,transition:pe,dirs:me}=_;if(te=_.el=o(_.type,H,ve&&ve.is,ve),fe&8?c(te,_.children):fe&16&&S(_.children,te,null,ee,q,Fc(_,H),Z,ne),me&&Oi(_,null,ee,"created"),C(te,_,_.scopeId,Z,ee),ve){for(const Fe in ve)Fe!=="value"&&!qo(Fe)&&a(te,Fe,null,ve[Fe],H,ee);"value"in ve&&a(te,"value",null,ve.value,H),(re=ve.onVnodeBeforeMount)&&un(re,ee,_)}me&&Oi(_,null,ee,"beforeMount");const we=x_(q,pe);we&&pe.beforeEnter(te),n(te,F,V),((re=ve&&ve.onVnodeMounted)||we||me)&&Dr(()=>{re&&un(re,ee,_),we&&pe.enter(te),me&&Oi(_,null,ee,"mounted")},q)},C=(_,F,V,ee,q)=>{if(V&&d(_,V),ee)for(let H=0;H<ee.length;H++)d(_,ee[H]);if(q){let H=q.subTree;if(F===H||Bb(H.type)&&(H.ssContent===F||H.ssFallback===F)){const Z=q.vnode;C(_,Z,Z.scopeId,Z.slotScopeIds,q.parent)}}},S=(_,F,V,ee,q,H,Z,ne,te=0)=>{for(let re=te;re<_.length;re++){const ve=_[re]=ne?ri(_[re]):pn(_[re]);y(null,ve,F,V,ee,q,H,Z,ne)}},k=(_,F,V,ee,q,H,Z)=>{const ne=F.el=_.el;let{patchFlag:te,dynamicChildren:re,dirs:ve}=F;te|=_.patchFlag&16;const fe=_.props||ft,pe=F.props||ft;let me;if(V&&Ri(V,!1),(me=pe.onVnodeBeforeUpdate)&&un(me,V,F,_),ve&&Oi(F,_,V,"beforeUpdate"),V&&Ri(V,!0),(fe.innerHTML&&pe.innerHTML==null||fe.textContent&&pe.textContent==null)&&c(ne,""),re?A(_.dynamicChildren,re,ne,V,ee,Fc(F,q),H):Z||I(_,F,ne,null,V,ee,Fc(F,q),H,!1),te>0){if(te&16)E(ne,fe,pe,V,q);else if(te&2&&fe.class!==pe.class&&a(ne,"class",null,pe.class,q),te&4&&a(ne,"style",fe.style,pe.style,q),te&8){const we=F.dynamicProps;for(let Fe=0;Fe<we.length;Fe++){const Be=we[Fe],We=fe[Be],Se=pe[Be];(Se!==We||Be==="value")&&a(ne,Be,We,Se,q,V)}}te&1&&_.children!==F.children&&c(ne,F.children)}else!Z&&re==null&&E(ne,fe,pe,V,q);((me=pe.onVnodeUpdated)||ve)&&Dr(()=>{me&&un(me,V,F,_),ve&&Oi(F,_,V,"updated")},ee)},A=(_,F,V,ee,q,H,Z)=>{for(let ne=0;ne<F.length;ne++){const te=_[ne],re=F[ne],ve=te.el&&(te.type===ct||!yo(te,re)||te.shapeFlag&198)?h(te.el):V;y(te,re,ve,null,ee,q,H,Z,!0)}},E=(_,F,V,ee,q)=>{if(F!==V){if(F!==ft)for(const H in F)!qo(H)&&!(H in V)&&a(_,H,F[H],null,q,ee);for(const H in V){if(qo(H))continue;const Z=V[H],ne=F[H];Z!==ne&&H!=="value"&&a(_,H,ne,Z,q,ee)}"value"in V&&a(_,"value",F.value,V.value,q)}},B=(_,F,V,ee,q,H,Z,ne,te)=>{const re=F.el=_?_.el:s(""),ve=F.anchor=_?_.anchor:s("");let{patchFlag:fe,dynamicChildren:pe,slotScopeIds:me}=F;me&&(ne=ne?ne.concat(me):me),_==null?(n(re,V,ee),n(ve,V,ee),S(F.children||[],V,ve,q,H,Z,ne,te)):fe>0&&fe&64&&pe&&_.dynamicChildren?(A(_.dynamicChildren,pe,V,q,H,Z,ne),(F.key!=null||q&&F===q.subTree)&&_b(_,F,!0)):I(_,F,V,ve,q,H,Z,ne,te)},D=(_,F,V,ee,q,H,Z,ne,te)=>{F.slotScopeIds=ne,_==null?F.shapeFlag&512?q.ctx.activate(F,V,ee,Z,te):O(F,V,ee,q,H,Z,te):R(_,F,te)},O=(_,F,V,ee,q,H,Z)=>{const ne=_.component=$_(_,ee,q);if(cb(_)&&(ne.ctx.renderer=G),V_(ne,!1,Z),ne.asyncDep){if(q&&q.registerDep(ne,P,Z),!_.el){const te=ne.subTree=yn(pi);m(null,te,F,V),_.placeholder=te.el}}else P(ne,_,F,V,q,H,Z)},R=(_,F,V)=>{const ee=F.component=_.component;if(L_(_,F,V))if(ee.asyncDep&&!ee.asyncResolved){M(ee,F,V);return}else ee.next=F,ee.update();else F.el=_.el,ee.vnode=F},P=(_,F,V,ee,q,H,Z)=>{const ne=()=>{if(_.isMounted){let{next:fe,bu:pe,u:me,parent:we,vnode:Fe}=_;{const ue=Sb(_);if(ue){fe&&(fe.el=Fe.el,M(_,fe,Z)),ue.asyncDep.then(()=>{_.isUnmounted||ne()});return}}let Be=fe,We;Ri(_,!1),fe?(fe.el=Fe.el,M(_,fe,Z)):fe=Fe,pe&&yl(pe),(We=fe.props&&fe.props.onVnodeBeforeUpdate)&&un(We,we,fe,Fe),Ri(_,!0);const Se=pp(_),xe=_.subTree;_.subTree=Se,y(xe,Se,h(xe.el),ce(xe),_,q,H),fe.el=Se.el,Be===null&&D_(_,Se.el),me&&Dr(me,q),(We=fe.props&&fe.props.onVnodeUpdated)&&Dr(()=>un(We,we,fe,Fe),q)}else{let fe;const{el:pe,props:me}=F,{bm:we,m:Fe,parent:Be,root:We,type:Se}=_,xe=Uo(F);Ri(_,!1),we&&yl(we),!xe&&(fe=me&&me.onVnodeBeforeMount)&&un(fe,Be,F),Ri(_,!0);{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(Se);const ue=_.subTree=pp(_);y(null,ue,V,ee,_,q,H),F.el=ue.el}if(Fe&&Dr(Fe,q),!xe&&(fe=me&&me.onVnodeMounted)){const ue=F;Dr(()=>un(fe,Be,ue),q)}(F.shapeFlag&256||Be&&Uo(Be.vnode)&&Be.vnode.shapeFlag&256)&&_.a&&Dr(_.a,q),_.isMounted=!0,F=V=ee=null}};_.scope.on();const te=_.effect=new q0(ne);_.scope.off();const re=_.update=te.run.bind(te),ve=_.job=te.runIfDirty.bind(te);ve.i=_,ve.id=_.uid,te.scheduler=()=>Wd(ve),Ri(_,!0),re()},M=(_,F,V)=>{F.component=_;const ee=_.vnode.props;_.vnode=F,_.next=null,d_(_,F.props,ee,V),m_(_,F.children,V),Hn(),sp(_),Wn()},I=(_,F,V,ee,q,H,Z,ne,te=!1)=>{const re=_&&_.children,ve=_?_.shapeFlag:0,fe=F.children,{patchFlag:pe,shapeFlag:me}=F;if(pe>0){if(pe&128){U(re,fe,V,ee,q,H,Z,ne,te);return}else if(pe&256){$(re,fe,V,ee,q,H,Z,ne,te);return}}me&8?(ve&16&&oe(re,q,H),fe!==re&&c(V,fe)):ve&16?me&16?U(re,fe,V,ee,q,H,Z,ne,te):oe(re,q,H,!0):(ve&8&&c(V,""),me&16&&S(fe,V,ee,q,H,Z,ne,te))},$=(_,F,V,ee,q,H,Z,ne,te)=>{_=_||Ma,F=F||Ma;const re=_.length,ve=F.length,fe=Math.min(re,ve);let pe;for(pe=0;pe<fe;pe++){const me=F[pe]=te?ri(F[pe]):pn(F[pe]);y(_[pe],me,V,null,q,H,Z,ne,te)}re>ve?oe(_,q,H,!0,!1,fe):S(F,V,ee,q,H,Z,ne,te,fe)},U=(_,F,V,ee,q,H,Z,ne,te)=>{let re=0;const ve=F.length;let fe=_.length-1,pe=ve-1;for(;re<=fe&&re<=pe;){const me=_[re],we=F[re]=te?ri(F[re]):pn(F[re]);if(yo(me,we))y(me,we,V,null,q,H,Z,ne,te);else break;re++}for(;re<=fe&&re<=pe;){const me=_[fe],we=F[pe]=te?ri(F[pe]):pn(F[pe]);if(yo(me,we))y(me,we,V,null,q,H,Z,ne,te);else break;fe--,pe--}if(re>fe){if(re<=pe){const me=pe+1,we=me<ve?F[me].el:ee;for(;re<=pe;)y(null,F[re]=te?ri(F[re]):pn(F[re]),V,we,q,H,Z,ne,te),re++}}else if(re>pe)for(;re<=fe;)W(_[re],q,H,!0),re++;else{const me=re,we=re,Fe=new Map;for(re=we;re<=pe;re++){const ae=F[re]=te?ri(F[re]):pn(F[re]);ae.key!=null&&Fe.set(ae.key,re)}let Be,We=0;const Se=pe-we+1;let xe=!1,ue=0;const L=new Array(Se);for(re=0;re<Se;re++)L[re]=0;for(re=me;re<=fe;re++){const ae=_[re];if(We>=Se){W(ae,q,H,!0);continue}let le;if(ae.key!=null)le=Fe.get(ae.key);else for(Be=we;Be<=pe;Be++)if(L[Be-we]===0&&yo(ae,F[Be])){le=Be;break}le===void 0?W(ae,q,H,!0):(L[le-we]=re+1,le>=ue?ue=le:xe=!0,y(ae,F[le],V,null,q,H,Z,ne,te),We++)}const Q=xe?C_(L):Ma;for(Be=Q.length-1,re=Se-1;re>=0;re--){const ae=we+re,le=F[ae],he=F[ae+1],_e=ae+1<ve?he.el||he.placeholder:ee;L[re]===0?y(null,le,V,_e,q,H,Z,ne,te):xe&&(Be<0||re!==Q[Be]?z(le,V,_e,2):Be--)}}},z=(_,F,V,ee,q=null)=>{const{el:H,type:Z,transition:ne,children:te,shapeFlag:re}=_;if(re&6){z(_.component.subTree,F,V,ee);return}if(re&128){_.suspense.move(F,V,ee);return}if(re&64){Z.move(_,F,V,G);return}if(Z===ct){n(H,F,V);for(let fe=0;fe<te.length;fe++)z(te[fe],F,V,ee);n(_.anchor,F,V);return}if(Z===xl){b(_,F,V);return}if(ee!==2&&re&1&&ne)if(ee===0)ne.beforeEnter(H),n(H,F,V),Dr(()=>ne.enter(H),q);else{const{leave:fe,delayLeave:pe,afterLeave:me}=ne,we=()=>{_.ctx.isUnmounted?i(H):n(H,F,V)},Fe=()=>{H._isLeaving&&H[HT](!0),fe(H,()=>{we(),me&&me()})};pe?pe(H,we,Fe):Fe()}else n(H,F,V)},W=(_,F,V,ee=!1,q=!1)=>{const{type:H,props:Z,ref:ne,children:te,dynamicChildren:re,shapeFlag:ve,patchFlag:fe,dirs:pe,cacheIndex:me}=_;if(fe===-2&&(q=!1),ne!=null&&(Hn(),Wo(ne,null,V,_,!0),Wn()),me!=null&&(F.renderCache[me]=void 0),ve&256){F.ctx.deactivate(_);return}const we=ve&1&&pe,Fe=!Uo(_);let Be;if(Fe&&(Be=Z&&Z.onVnodeBeforeUnmount)&&un(Be,F,_),ve&6)j(_.component,V,ee);else{if(ve&128){_.suspense.unmount(V,ee);return}we&&Oi(_,null,F,"beforeUnmount"),ve&64?_.type.remove(_,F,V,G,ee):re&&!re.hasOnce&&(H!==ct||fe>0&&fe&64)?oe(re,F,V,!1,!0):(H===ct&&fe&384||!q&&ve&16)&&oe(te,F,V),ee&&X(_)}(Fe&&(Be=Z&&Z.onVnodeUnmounted)||we)&&Dr(()=>{Be&&un(Be,F,_),we&&Oi(_,null,F,"unmounted")},V)},X=_=>{const{type:F,el:V,anchor:ee,transition:q}=_;if(F===ct){ie(V,ee);return}if(F===xl){x(_);return}const H=()=>{i(V),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(_.shapeFlag&1&&q&&!q.persisted){const{leave:Z,delayLeave:ne}=q,te=()=>Z(V,H);ne?ne(_.el,H,te):te()}else H()},ie=(_,F)=>{let V;for(;_!==F;)V=f(_),i(_),_=V;i(F)},j=(_,F,V)=>{const{bum:ee,scope:q,job:H,subTree:Z,um:ne,m:te,a:re}=_;vp(te),vp(re),ee&&yl(ee),q.stop(),H&&(H.flags|=8,W(Z,_,F,V)),ne&&Dr(ne,F),Dr(()=>{_.isUnmounted=!0},F)},oe=(_,F,V,ee=!1,q=!1,H=0)=>{for(let Z=H;Z<_.length;Z++)W(_[Z],F,V,ee,q)},ce=_=>{if(_.shapeFlag&6)return ce(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const F=f(_.anchor||_.el),V=F&&F[qT];return V?f(V):F};let de=!1;const se=(_,F,V)=>{_==null?F._vnode&&W(F._vnode,null,null,!0):y(F._vnode||null,_,F,null,null,null,V),F._vnode=_,de||(de=!0,sp(),ob(),de=!1)},G={p:y,um:W,m:z,r:X,mt:O,mc:S,pc:I,pbc:A,n:ce,o:e};return{render:se,hydrate:void 0,createApp:c_(se)}}function Fc({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Ri({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function x_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _b(e,t,r=!1){const n=e.children,i=t.children;if(He(n)&&He(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=ri(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&_b(o,s)),s.type===Hu&&s.patchFlag!==-1&&(s.el=o.el),s.type===pi&&!s.el&&(s.el=o.el)}}function C_(e){const t=e.slice(),r=[0];let n,i,a,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<u?a=s+1:o=s;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function Sb(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sb(t)}function vp(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const w_=Symbol.for("v-scx"),T_=()=>bl(w_);function Oc(e,t,r){return Eb(e,t,r)}function Eb(e,t,r=ft){const{immediate:n,deep:i,flush:a,once:o}=r,s=xr({},r),l=t&&n||!t&&a!=="post";let u;if(ss){if(a==="sync"){const d=T_();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=mn,d.resume=mn,d.pause=mn,d}}const c=gr;s.call=(d,v,y)=>wn(d,c,v,y);let h=!1;a==="post"?s.scheduler=d=>{Dr(d,c&&c.suspense)}:a!=="sync"&&(h=!0,s.scheduler=(d,v)=>{v?d():Wd(d)}),s.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const f=RT(e,t,s);return ss&&(u?u.push(f):l&&f()),f}function __(e,t,r){const n=this.proxy,i=Ot(e)?e.includes(".")?kb(n,e):()=>n[e]:e.bind(n,n);let a;Xe(t)?a=t:(a=t.handler,r=t);const o=Ls(this),s=Eb(i,a.bind(n),r);return o(),s}function kb(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const S_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${vi(t)}Modifiers`]||e[`${Si(t)}Modifiers`];function E_(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ft;let i=r;const a=t.startsWith("update:"),o=a&&S_(n,t.slice(7));o&&(o.trim&&(i=r.map(c=>Ot(c)?c.trim():c)),o.number&&(i=r.map(Gl)));let s,l=n[s=Ac(t)]||n[s=Ac(vi(t))];!l&&a&&(l=n[s=Ac(Si(t))]),l&&wn(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,wn(u,e,6,i)}}const k_=new WeakMap;function Ab(e,t,r=!1){const n=r?k_:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!Xe(e)){const l=u=>{const c=Ab(u,t,!0);c&&(s=!0,xr(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(gt(e)&&n.set(e,null),null):(He(a)?a.forEach(l=>o[l]=null):xr(o,a),gt(e)&&n.set(e,o),o)}function Vu(e,t){return!e||!Ru(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,Si(t))||it(e,t))}function pp(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:v,inheritAttrs:y}=e,p=Xl(e);let m,g;try{if(r.shapeFlag&4){const x=i||n,w=x;m=pn(u.call(w,x,c,h,d,f,v)),g=s}else{const x=t;m=pn(x.length>1?x(h,{attrs:s,slots:o,emit:l}):x(h,null)),g=t.props?s:A_(s)}}catch(x){Yo.length=0,$u(x,e,1),m=yn(pi)}let b=m;if(g&&y!==!1){const x=Object.keys(g),{shapeFlag:w}=b;x.length&&w&7&&(a&&x.some(Pd)&&(g=B_(g,a)),b=Wa(b,g,!1,!0))}return r.dirs&&(b=Wa(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Ud(b,r.transition),m=b,Xl(p),m}const A_=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ru(r))&&((t||(t={}))[r]=e[r]);return t},B_=(e,t)=>{const r={};for(const n in e)(!Pd(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function L_(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?gp(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==n[f]&&!Vu(u,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?gp(n,o,u):!0:!!o;return!1}function gp(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Vu(r,a))return!0}return!1}function D_({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Bb=e=>e.__isSuspense;function M_(e,t){t&&t.pendingBranch?He(e)?t.effects.push(...e):t.effects.push(e):zT(e)}const ct=Symbol.for("v-fgt"),Hu=Symbol.for("v-txt"),pi=Symbol.for("v-cmt"),xl=Symbol.for("v-stc"),Yo=[];let Mr=null;function Oe(e=!1){Yo.push(Mr=e?null:[])}function P_(){Yo.pop(),Mr=Yo[Yo.length-1]||null}let os=1;function mp(e,t=!1){os+=e,e<0&&Mr&&t&&(Mr.hasOnce=!0)}function Lb(e){return e.dynamicChildren=os>0?Mr||Ma:null,P_(),os>0&&Mr&&Mr.push(e),e}function Re(e,t,r,n,i,a){return Lb(N(e,t,r,n,i,a,!0))}function F_(e,t,r,n,i){return Lb(yn(e,t,r,n,i,!0))}function Db(e){return e?e.__v_isVNode===!0:!1}function yo(e,t){return e.type===t.type&&e.key===t.key}const Mb=({key:e})=>e??null,Cl=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||br(e)||Xe(e)?{i:Wr,r:e,k:t,f:!!r}:e:null);function N(e,t=null,r=null,n=0,i=null,a=e===ct?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mb(t),ref:t&&Cl(t),scopeId:lb,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Wr};return s?(Kd(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=Ot(r)?8:16),os>0&&!o&&Mr&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Mr.push(l),l}const yn=O_;function O_(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===r_)&&(e=pi),Db(e)){const s=Wa(e,t,!0);return r&&Kd(s,r),os>0&&!a&&Mr&&(s.shapeFlag&6?Mr[Mr.indexOf(e)]=s:Mr.push(s)),s.patchFlag=-2,s}if(G_(e)&&(e=e.__vccOpts),t){t=R_(t);let{class:s,style:l}=t;s&&!Ot(s)&&(t.class=rt(s)),gt(l)&&(Hd(l)&&!He(l)&&(l=xr({},l)),t.style=Gi(l))}const o=Ot(e)?1:Bb(e)?128:VT(e)?64:gt(e)?4:Xe(e)?2:0;return N(e,t,r,n,i,o,a,!0)}function R_(e){return e?Hd(e)||yb(e)?xr({},e):e:null}function Wa(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?I_(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Mb(u),ref:t&&t.ref?r&&a?He(a)?a.concat(Cl(t)):[a,Cl(t)]:Cl(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wa(e.ssContent),ssFallback:e.ssFallback&&Wa(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Ud(c,l.clone(c)),c}function wl(e=" ",t=0){return yn(Hu,null,e,t)}function yp(e,t){const r=yn(xl,null,e);return r.staticCount=t,r}function rr(e="",t=!1){return t?(Oe(),F_(pi,null,e)):yn(pi,null,e)}function pn(e){return e==null||typeof e=="boolean"?yn(pi):He(e)?yn(ct,null,e.slice()):Db(e)?ri(e):yn(Hu,null,String(e))}function ri(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wa(e)}function Kd(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(He(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Kd(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!yb(t)?t._ctx=Wr:i===3&&Wr&&(Wr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:Wr},r=32):(t=String(t),n&64?(r=16,t=[wl(t)]):r=8);e.children=t,e.shapeFlag|=r}function I_(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=rt([t.class,n.class]));else if(i==="style")t.style=Gi([t.style,n.style]);else if(Ru(i)){const a=t[i],o=n[i];o&&a!==o&&!(He(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function un(e,t,r,n=null){wn(e,t,7,[r,n])}const N_=pb();let z_=0;function $_(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||N_,a={uid:z_++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xb(n,i),emitsOptions:Ab(n,i),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:n.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=E_.bind(null,a),e.ce&&e.ce(a),a}let gr=null;const q_=()=>gr||Wr;let Jl,Hf;{const e=Nu(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Jl=t("__VUE_INSTANCE_SETTERS__",r=>gr=r),Hf=t("__VUE_SSR_SETTERS__",r=>ss=r)}const Ls=e=>{const t=gr;return Jl(e),e.scope.on(),()=>{e.scope.off(),Jl(t)}},bp=()=>{gr&&gr.scope.off(),Jl(null)};function Pb(e){return e.vnode.shapeFlag&4}let ss=!1;function V_(e,t=!1,r=!1){t&&Hf(t);const{props:n,children:i}=e.vnode,a=Pb(e);f_(e,n,a,t),g_(e,i,r||t);const o=a?H_(e,t):void 0;return t&&Hf(!1),o}function H_(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,n_);const{setup:n}=r;if(n){Hn();const i=e.setupContext=n.length>1?U_(e):null,a=Ls(e),o=Bs(n,e,0,[e.props,i]),s=P0(o);if(Wn(),a(),(s||e.sp)&&!Uo(e)&&ub(e),s){if(o.then(bp,bp),t)return o.then(l=>{xp(e,l)}).catch(l=>{$u(l,e,0)});e.asyncDep=o}else xp(e,o)}else Fb(e)}function xp(e,t,r){Xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gt(t)&&(e.setupState=rb(t)),Fb(e)}function Fb(e,t,r){const n=e.type;e.render||(e.render=n.render||mn);{const i=Ls(e);Hn();try{i_(e)}finally{Wn(),i()}}}const W_={get(e,t){return ir(e,"get",""),e[t]}};function U_(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,W_),slots:e.slots,emit:e.emit,expose:t}}function Wu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(rb(LT(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Go)return Go[r](e)},has(t,r){return r in t||r in Go}})):e.proxy}function G_(e){return Xe(e)&&"__vccOpts"in e}const Y_=(e,t)=>FT(e,t,ss),K_="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wf;const Cp=typeof window<"u"&&window.trustedTypes;if(Cp)try{Wf=Cp.createPolicy("vue",{createHTML:e=>e})}catch{}const Ob=Wf?e=>Wf.createHTML(e):e=>e,j_="http://www.w3.org/2000/svg",X_="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,wp=On&&On.createElement("template"),Z_={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?On.createElementNS(j_,e):t==="mathml"?On.createElementNS(X_,e):r?On.createElement(e,{is:r}):On.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>On.createTextNode(e),createComment:e=>On.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>On.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{wp.innerHTML=Ob(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const s=wp.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Q_=Symbol("_vtc");function J_(e,t,r){const n=e[Q_];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Tp=Symbol("_vod"),eS=Symbol("_vsh"),tS=Symbol(""),rS=/(?:^|;)\s*display\s*:/;function nS(e,t,r){const n=e.style,i=Ot(r);let a=!1;if(r&&!i){if(t)if(Ot(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&Tl(n,s,"")}else for(const o in t)r[o]==null&&Tl(n,o,"");for(const o in r)o==="display"&&(a=!0),Tl(n,o,r[o])}else if(i){if(t!==r){const o=n[tS];o&&(r+=";"+o),n.cssText=r,a=rS.test(r)}}else t&&e.removeAttribute("style");Tp in e&&(e[Tp]=a?n.display:"",e[eS]&&(n.display="none"))}const _p=/\s*!important$/;function Tl(e,t,r){if(He(r))r.forEach(n=>Tl(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=iS(e,t);_p.test(r)?e.setProperty(Si(n),r.replace(_p,""),"important"):e[n]=r}}const Sp=["Webkit","Moz","ms"],Rc={};function iS(e,t){const r=Rc[t];if(r)return r;let n=vi(t);if(n!=="filter"&&n in e)return Rc[t]=n;n=R0(n);for(let i=0;i<Sp.length;i++){const a=Sp[i]+n;if(a in e)return Rc[t]=a}return t}const Ep="http://www.w3.org/1999/xlink";function kp(e,t,r,n,i,a=sT(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Ep,t.slice(6,t.length)):e.setAttributeNS(Ep,t,r):r==null||a&&!N0(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Cn(r)?String(r):r)}function Ap(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Ob(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=N0(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function ai(e,t,r,n){e.addEventListener(t,r,n)}function aS(e,t,r,n){e.removeEventListener(t,r,n)}const Bp=Symbol("_vei");function oS(e,t,r,n,i=null){const a=e[Bp]||(e[Bp]={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=sS(t);if(n){const u=a[t]=cS(n,i);ai(e,s,u,l)}else o&&(aS(e,s,o,l),a[t]=void 0)}}const Lp=/(?:Once|Passive|Capture)$/;function sS(e){let t;if(Lp.test(e)){t={};let n;for(;n=e.match(Lp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Si(e.slice(2)),t]}let Ic=0;const lS=Promise.resolve(),uS=()=>Ic||(lS.then(()=>Ic=0),Ic=Date.now());function cS(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;wn(hS(n,r.value),t,5,[n])};return r.value=e,r.attached=uS(),r}function hS(e,t){if(He(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Dp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,fS=(e,t,r,n,i,a)=>{const o=i==="svg";t==="class"?J_(e,n,o):t==="style"?nS(e,r,n):Ru(t)?Pd(t)||oS(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dS(e,t,n,o))?(Ap(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&kp(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ot(n))?Ap(e,vi(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),kp(e,t,n,o))};function dS(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Dp(t)&&Xe(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Dp(t)&&Ot(r)?!1:t in e}const Ua=e=>{const t=e.props["onUpdate:modelValue"]||!1;return He(t)?r=>yl(t,r):t};function vS(e){e.target.composing=!0}function Mp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qn=Symbol("_assign"),cr={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[qn]=Ua(i);const a=n||i.props&&i.props.type==="number";ai(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;r&&(s=s.trim()),a&&(s=Gl(s)),e[qn](s)}),r&&ai(e,"change",()=>{e.value=e.value.trim()}),t||(ai(e,"compositionstart",vS),ai(e,"compositionend",Mp),ai(e,"change",Mp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},o){if(e[qn]=Ua(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?Gl(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},pS={deep:!0,created(e,t,r){e[qn]=Ua(r),ai(e,"change",()=>{const n=e._modelValue,i=ls(e),a=e.checked,o=e[qn];if(He(n)){const s=Rd(n,i),l=s!==-1;if(a&&!l)o(n.concat(i));else if(!a&&l){const u=[...n];u.splice(s,1),o(u)}}else if(ao(n)){const s=new Set(n);a?s.add(i):s.delete(i),o(s)}else o(Rb(e,a))})},mounted:Pp,beforeUpdate(e,t,r){e[qn]=Ua(r),Pp(e,t,r)}};function Pp(e,{value:t,oldValue:r},n){e._modelValue=t;let i;if(He(t))i=Rd(t,n.props.value)>-1;else if(ao(t))i=t.has(n.props.value);else{if(t===r)return;i=As(t,Rb(e,!0))}e.checked!==i&&(e.checked=i)}const zr={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const i=ao(t);ai(e,"change",()=>{const a=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Gl(ls(o)):ls(o));e[qn](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,ib(()=>{e._assigning=!1})}),e[qn]=Ua(n)},mounted(e,{value:t}){Fp(e,t)},beforeUpdate(e,t,r){e[qn]=Ua(r)},updated(e,{value:t}){e._assigning||Fp(e,t)}};function Fp(e,t){const r=e.multiple,n=He(t);if(!(r&&!n&&!ao(t))){for(let i=0,a=e.options.length;i<a;i++){const o=e.options[i],s=ls(o);if(r)if(n){const l=typeof s;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(s)):o.selected=Rd(t,s)>-1}else o.selected=t.has(s);else if(As(ls(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ls(e){return"_value"in e?e._value:e.value}function Rb(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const gS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},mS=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=(i=>{if(!("key"in i))return;const a=Si(i.key);if(t.some(o=>o===a||gS[o]===a))return e(i)}))},yS=xr({patchProp:fS},Z_);let Op;function bS(){return Op||(Op=y_(yS))}const xS=((...e)=>{const t=bS().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=wS(n);if(!i)return;const a=t._component;!Xe(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,CS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function CS(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function wS(e){return Ot(e)?document.querySelector(e):e}function TS(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(s,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?s.concat(u.map(function(c){var h,f;return(f=(h=c.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):s},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(s){return s.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(s,l){var u=o.match(/(?:^|\n)( *)$/),c=u?u[1]:"",h=s;typeof s=="string"&&s.includes(`
`)&&(h=String(s).split(`
`).map(function(f,d){return d===0?f:""+c+f}).join(`
`)),o+=h+n[l+1]}),o}const _S="modulepreload",SS=function(e){return"/"+e},Rp={},St=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(r.map(u=>{if(u=SS(u),u in Rp)return;Rp[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":_S,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,v)=>{f.addEventListener("load",d),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ib(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _l={exports:{}},ES=_l.exports,Ip;function kS(){return Ip||(Ip=1,(function(e,t){(function(r,n){e.exports=n()})(ES,(function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",c="week",h="month",f="quarter",d="year",v="date",y="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var R=["th","st","nd","rd"],P=O%100;return"["+O+(R[(P-20)%10]||R[P]||R[0])+"]"}},b=function(O,R,P){var M=String(O);return!M||M.length>=R?O:""+Array(R+1-M.length).join(P)+O},x={s:b,z:function(O){var R=-O.utcOffset(),P=Math.abs(R),M=Math.floor(P/60),I=P%60;return(R<=0?"+":"-")+b(M,2,"0")+":"+b(I,2,"0")},m:function O(R,P){if(R.date()<P.date())return-O(P,R);var M=12*(P.year()-R.year())+(P.month()-R.month()),I=R.clone().add(M,h),$=P-I<0,U=R.clone().add(M+($?-1:1),h);return+(-(M+(P-I)/($?I-U:U-I))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:d,w:c,d:u,D:v,h:l,m:s,s:o,ms:a,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},w="en",T={};T[w]=g;var C="$isDayjsObject",S=function(O){return O instanceof B||!(!O||!O[C])},k=function O(R,P,M){var I;if(!R)return w;if(typeof R=="string"){var $=R.toLowerCase();T[$]&&(I=$),P&&(T[$]=P,I=$);var U=R.split("-");if(!I&&U.length>1)return O(U[0])}else{var z=R.name;T[z]=R,I=z}return!M&&I&&(w=I),I||!M&&w},A=function(O,R){if(S(O))return O.clone();var P=typeof R=="object"?R:{};return P.date=O,P.args=arguments,new B(P)},E=x;E.l=k,E.i=S,E.w=function(O,R){return A(O,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var B=(function(){function O(P){this.$L=k(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[C]=!0}var R=O.prototype;return R.parse=function(P){this.$d=(function(M){var I=M.date,$=M.utc;if(I===null)return new Date(NaN);if(E.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var U=I.match(p);if(U){var z=U[2]-1||0,W=(U[7]||"0").substring(0,3);return $?new Date(Date.UTC(U[1],z,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)):new Date(U[1],z,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)}}return new Date(I)})(P),this.init()},R.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==y},R.isSame=function(P,M){var I=A(P);return this.startOf(M)<=I&&I<=this.endOf(M)},R.isAfter=function(P,M){return A(P)<this.startOf(M)},R.isBefore=function(P,M){return this.endOf(M)<A(P)},R.$g=function(P,M,I){return E.u(P)?this[M]:this.set(I,P)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(P,M){var I=this,$=!!E.u(M)||M,U=E.p(P),z=function(se,G){var K=E.w(I.$u?Date.UTC(I.$y,G,se):new Date(I.$y,G,se),I);return $?K:K.endOf(u)},W=function(se,G){return E.w(I.toDate()[se].apply(I.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(G)),I)},X=this.$W,ie=this.$M,j=this.$D,oe="set"+(this.$u?"UTC":"");switch(U){case d:return $?z(1,0):z(31,11);case h:return $?z(1,ie):z(0,ie+1);case c:var ce=this.$locale().weekStart||0,de=(X<ce?X+7:X)-ce;return z($?j-de:j+(6-de),ie);case u:case v:return W(oe+"Hours",0);case l:return W(oe+"Minutes",1);case s:return W(oe+"Seconds",2);case o:return W(oe+"Milliseconds",3);default:return this.clone()}},R.endOf=function(P){return this.startOf(P,!1)},R.$set=function(P,M){var I,$=E.p(P),U="set"+(this.$u?"UTC":""),z=(I={},I[u]=U+"Date",I[v]=U+"Date",I[h]=U+"Month",I[d]=U+"FullYear",I[l]=U+"Hours",I[s]=U+"Minutes",I[o]=U+"Seconds",I[a]=U+"Milliseconds",I)[$],W=$===u?this.$D+(M-this.$W):M;if($===h||$===d){var X=this.clone().set(v,1);X.$d[z](W),X.init(),this.$d=X.set(v,Math.min(this.$D,X.daysInMonth())).$d}else z&&this.$d[z](W);return this.init(),this},R.set=function(P,M){return this.clone().$set(P,M)},R.get=function(P){return this[E.p(P)]()},R.add=function(P,M){var I,$=this;P=Number(P);var U=E.p(M),z=function(ie){var j=A($);return E.w(j.date(j.date()+Math.round(ie*P)),$)};if(U===h)return this.set(h,this.$M+P);if(U===d)return this.set(d,this.$y+P);if(U===u)return z(1);if(U===c)return z(7);var W=(I={},I[s]=n,I[l]=i,I[o]=r,I)[U]||1,X=this.$d.getTime()+P*W;return E.w(X,this)},R.subtract=function(P,M){return this.add(-1*P,M)},R.format=function(P){var M=this,I=this.$locale();if(!this.isValid())return I.invalidDate||y;var $=P||"YYYY-MM-DDTHH:mm:ssZ",U=E.z(this),z=this.$H,W=this.$m,X=this.$M,ie=I.weekdays,j=I.months,oe=I.meridiem,ce=function(G,K,_,F){return G&&(G[K]||G(M,$))||_[K].slice(0,F)},de=function(G){return E.s(z%12||12,G,"0")},se=oe||function(G,K,_){var F=G<12?"AM":"PM";return _?F.toLowerCase():F};return $.replace(m,(function(G,K){return K||(function(_){switch(_){case"YY":return String(M.$y).slice(-2);case"YYYY":return E.s(M.$y,4,"0");case"M":return X+1;case"MM":return E.s(X+1,2,"0");case"MMM":return ce(I.monthsShort,X,j,3);case"MMMM":return ce(j,X);case"D":return M.$D;case"DD":return E.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return ce(I.weekdaysMin,M.$W,ie,2);case"ddd":return ce(I.weekdaysShort,M.$W,ie,3);case"dddd":return ie[M.$W];case"H":return String(z);case"HH":return E.s(z,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return se(z,W,!0);case"A":return se(z,W,!1);case"m":return String(W);case"mm":return E.s(W,2,"0");case"s":return String(M.$s);case"ss":return E.s(M.$s,2,"0");case"SSS":return E.s(M.$ms,3,"0");case"Z":return U}return null})(G)||U.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(P,M,I){var $,U=this,z=E.p(M),W=A(P),X=(W.utcOffset()-this.utcOffset())*n,ie=this-W,j=function(){return E.m(U,W)};switch(z){case d:$=j()/12;break;case h:$=j();break;case f:$=j()/3;break;case c:$=(ie-X)/6048e5;break;case u:$=(ie-X)/864e5;break;case l:$=ie/i;break;case s:$=ie/n;break;case o:$=ie/r;break;default:$=ie}return I?$:E.a($)},R.daysInMonth=function(){return this.endOf(h).$D},R.$locale=function(){return T[this.$L]},R.locale=function(P,M){if(!P)return this.$L;var I=this.clone(),$=k(P,M,!0);return $&&(I.$L=$),I},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},O})(),D=B.prototype;return A.prototype=D,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",h],["$y",d],["$D",v]].forEach((function(O){D[O[1]]=function(R){return this.$g(R,O[0],O[1])}})),A.extend=function(O,R){return O.$i||(O(R,B,A),O.$i=!0),A},A.locale=k,A.isDayjs=S,A.unix=function(O){return A(1e3*O)},A.en=T[w],A.Ls=T,A.p={},A}))})(_l)),_l.exports}var AS=kS();const BS=Ib(AS);var Nc={},Np;function LS(){return Np||(Np=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,n=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,o=[".","/"];e.BLANK_URL="about:blank";function s(c){return o.indexOf(c[0])>-1}function l(c){var h=c.replace(i,"");return h.replace(r,function(f,d){return String.fromCharCode(d)})}function u(c){if(!c)return e.BLANK_URL;var h=l(c).replace(n,"").replace(i,"").trim();if(!h)return e.BLANK_URL;if(s(h))return h;var f=h.match(a);if(!f)return h;var d=f[0];return t.test(d)?e.BLANK_URL:h}e.sanitizeUrl=u})(Nc)),Nc}var DS=LS(),MS={value:()=>{}};function Nb(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Sl(r)}function Sl(e){this._=e}function PS(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Sl.prototype=Nb.prototype={constructor:Sl,on:function(e,t){var r=this._,n=PS(e+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=FS(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)r[i]=zp(r[i],e.name,t);else if(t==null)for(i in r)r[i]=zp(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Sl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function FS(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function zp(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=MS,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Uf="http://www.w3.org/1999/xhtml";const $p={svg:"http://www.w3.org/2000/svg",xhtml:Uf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uu(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),$p.hasOwnProperty(t)?{space:$p[t],local:e}:e}function OS(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Uf&&t.documentElement.namespaceURI===Uf?t.createElement(e):t.createElementNS(r,e)}}function RS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zb(e){var t=Uu(e);return(t.local?RS:OS)(t)}function IS(){}function jd(e){return e==null?IS:function(){return this.querySelector(e)}}function NS(e){typeof e!="function"&&(e=jd(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Fr(n,this._parents)}function zS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $S(){return[]}function $b(e){return e==null?$S:function(){return this.querySelectorAll(e)}}function qS(e){return function(){return zS(e.apply(this,arguments))}}function VS(e){typeof e=="function"?e=qS(e):e=$b(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(n.push(e.call(l,l.__data__,u,o)),i.push(l));return new Fr(n,i)}function qb(e){return function(){return this.matches(e)}}function Vb(e){return function(t){return t.matches(e)}}var HS=Array.prototype.find;function WS(e){return function(){return HS.call(this.children,e)}}function US(){return this.firstElementChild}function GS(e){return this.select(e==null?US:WS(typeof e=="function"?e:Vb(e)))}var YS=Array.prototype.filter;function KS(){return Array.from(this.children)}function jS(e){return function(){return YS.call(this.children,e)}}function XS(e){return this.selectAll(e==null?KS:jS(typeof e=="function"?e:Vb(e)))}function ZS(e){typeof e!="function"&&(e=qb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Fr(n,this._parents)}function Hb(e){return new Array(e.length)}function QS(){return new Fr(this._enter||this._groups.map(Hb),this._parents)}function eu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}eu.prototype={constructor:eu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function JS(e){return function(){return e}}function eE(e,t,r,n,i,a){for(var o=0,s,l=t.length,u=a.length;o<u;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new eu(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function tE(e,t,r,n,i,a,o){var s,l,u=new Map,c=t.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=t[s])&&(f[s]=d=o.call(l,l.__data__,s,t)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(e,a[s],s,a)+"",(l=u.get(d))?(n[s]=l,l.__data__=a[s],u.delete(d)):r[s]=new eu(e,a[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(f[s])===l&&(i[s]=l)}function rE(e){return e.__data__}function nE(e,t){if(!arguments.length)return Array.from(this,rE);var r=t?tE:eE,n=this._parents,i=this._groups;typeof e!="function"&&(e=JS(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=n[u],h=i[u],f=h.length,d=iE(e.call(c,c&&c.__data__,u,n)),v=d.length,y=s[u]=new Array(v),p=o[u]=new Array(v),m=l[u]=new Array(f);r(c,h,y,p,m,d,t);for(var g=0,b=0,x,w;g<v;++g)if(x=y[g]){for(g>=b&&(b=g+1);!(w=p[b])&&++b<v;);x._next=w||null}}return o=new Fr(o,n),o._enter=s,o._exit=l,o}function iE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aE(){return new Fr(this._exit||this._groups.map(Hb),this._parents)}function oE(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function sE(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=r[l],c=n[l],h=u.length,f=s[l]=new Array(h),d,v=0;v<h;++v)(d=u[v]||c[v])&&(f[v]=d);for(;l<i;++l)s[l]=r[l];return new Fr(s,this._parents)}function lE(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function uE(e){e||(e=cE);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Fr(i,this._parents).order()}function cE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hE(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fE(){return Array.from(this)}function dE(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function vE(){let e=0;for(const t of this)++e;return e}function pE(){return!this.node()}function gE(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function mE(e){return function(){this.removeAttribute(e)}}function yE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bE(e,t){return function(){this.setAttribute(e,t)}}function xE(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function CE(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function wE(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function TE(e,t){var r=Uu(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?yE:mE:typeof t=="function"?r.local?wE:CE:r.local?xE:bE)(r,t))}function Wb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _E(e){return function(){this.style.removeProperty(e)}}function SE(e,t,r){return function(){this.style.setProperty(e,t,r)}}function EE(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function kE(e,t,r){return arguments.length>1?this.each((t==null?_E:typeof t=="function"?EE:SE)(e,t,r??"")):Ga(this.node(),e)}function Ga(e,t){return e.style.getPropertyValue(t)||Wb(e).getComputedStyle(e,null).getPropertyValue(t)}function AE(e){return function(){delete this[e]}}function BE(e,t){return function(){this[e]=t}}function LE(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function DE(e,t){return arguments.length>1?this.each((t==null?AE:typeof t=="function"?LE:BE)(e,t)):this.node()[e]}function Ub(e){return e.trim().split(/^|\s+/)}function Xd(e){return e.classList||new Gb(e)}function Gb(e){this._node=e,this._names=Ub(e.getAttribute("class")||"")}Gb.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Yb(e,t){for(var r=Xd(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Kb(e,t){for(var r=Xd(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function ME(e){return function(){Yb(this,e)}}function PE(e){return function(){Kb(this,e)}}function FE(e,t){return function(){(t.apply(this,arguments)?Yb:Kb)(this,e)}}function OE(e,t){var r=Ub(e+"");if(arguments.length<2){for(var n=Xd(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?FE:t?ME:PE)(r,t))}function RE(){this.textContent=""}function IE(e){return function(){this.textContent=e}}function NE(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zE(e){return arguments.length?this.each(e==null?RE:(typeof e=="function"?NE:IE)(e)):this.node().textContent}function $E(){this.innerHTML=""}function qE(e){return function(){this.innerHTML=e}}function VE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HE(e){return arguments.length?this.each(e==null?$E:(typeof e=="function"?VE:qE)(e)):this.node().innerHTML}function WE(){this.nextSibling&&this.parentNode.appendChild(this)}function UE(){return this.each(WE)}function GE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YE(){return this.each(GE)}function KE(e){var t=typeof e=="function"?e:zb(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jE(){return null}function XE(e,t){var r=typeof e=="function"?e:zb(e),n=t==null?jE:typeof t=="function"?t:jd(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function ZE(){var e=this.parentNode;e&&e.removeChild(this)}function QE(){return this.each(ZE)}function JE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ek(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tk(e){return this.select(e?ek:JE)}function rk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nk(e){return function(t){e.call(this,t,this.__data__)}}function ik(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function ak(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function ok(e,t,r){return function(){var n=this.__on,i,a=nk(t);if(n){for(var o=0,s=n.length;o<s;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function sk(e,t,r){var n=ik(e+""),i,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?ok:ak,i=0;i<a;++i)this.each(s(n[i],t,r));return this}function jb(e,t,r){var n=Wb(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lk(e,t){return function(){return jb(this,e,t)}}function uk(e,t){return function(){return jb(this,e,t.apply(this,arguments))}}function ck(e,t){return this.each((typeof t=="function"?uk:lk)(e,t))}function*hk(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var Xb=[null];function Fr(e,t){this._groups=e,this._parents=t}function Ds(){return new Fr([[document.documentElement]],Xb)}function fk(){return this}Fr.prototype=Ds.prototype={constructor:Fr,select:NS,selectAll:VS,selectChild:GS,selectChildren:XS,filter:ZS,data:nE,enter:QS,exit:aE,join:oE,merge:sE,selection:fk,order:lE,sort:uE,call:hE,nodes:fE,node:dE,size:vE,empty:pE,each:gE,attr:TE,style:kE,property:DE,classed:OE,text:zE,html:HE,raise:UE,lower:YE,append:KE,insert:XE,remove:QE,clone:tk,datum:rk,on:sk,dispatch:ck,[Symbol.iterator]:hk};function Vr(e){return typeof e=="string"?new Fr([[document.querySelector(e)]],[document.documentElement]):new Fr([[e]],Xb)}function Zd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Zb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ms(){}var us=.7,tu=1/us,Ia="\\s*([+-]?\\d+)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dk=/^#([0-9a-f]{3,8})$/,vk=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),pk=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),gk=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${cs}\\)$`),mk=new RegExp(`^rgba\\(${bn},${bn},${bn},${cs}\\)$`),yk=new RegExp(`^hsl\\(${cs},${bn},${bn}\\)$`),bk=new RegExp(`^hsla\\(${cs},${bn},${bn},${cs}\\)$`),qp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zd(Ms,hs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vp,formatHex:Vp,formatHex8:xk,formatHsl:Ck,formatRgb:Hp,toString:Hp});function Vp(){return this.rgb().formatHex()}function xk(){return this.rgb().formatHex8()}function Ck(){return Qb(this).formatHsl()}function Hp(){return this.rgb().formatRgb()}function hs(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dk.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Wp(t):r===3?new Ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vk.exec(e))?new Ar(t[1],t[2],t[3],1):(t=pk.exec(e))?new Ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gk.exec(e))?Qs(t[1],t[2],t[3],t[4]):(t=mk.exec(e))?Qs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yk.exec(e))?Yp(t[1],t[2]/100,t[3]/100,1):(t=bk.exec(e))?Yp(t[1],t[2]/100,t[3]/100,t[4]):qp.hasOwnProperty(e)?Wp(qp[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function Wp(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function Qs(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ar(e,t,r,n)}function wk(e){return e instanceof Ms||(e=hs(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function Gf(e,t,r,n){return arguments.length===1?wk(e):new Ar(e,t,r,n??1)}function Ar(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Zd(Ar,Gf,Zb(Ms,{brighter(e){return e=e==null?tu:Math.pow(tu,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?us:Math.pow(us,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(Qi(this.r),Qi(this.g),Qi(this.b),ru(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Up,formatHex:Up,formatHex8:Tk,formatRgb:Gp,toString:Gp}));function Up(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}`}function Tk(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}${Yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gp(){const e=ru(this.opacity);return`${e===1?"rgb(":"rgba("}${Qi(this.r)}, ${Qi(this.g)}, ${Qi(this.b)}${e===1?")":`, ${e})`}`}function ru(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yi(e){return e=Qi(e),(e<16?"0":"")+e.toString(16)}function Yp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function Qb(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof Ms||(e=hs(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new en(o,s,l,e.opacity)}function _k(e,t,r,n){return arguments.length===1?Qb(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Zd(en,_k,Zb(Ms,{brighter(e){return e=e==null?tu:Math.pow(tu,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?us:Math.pow(us,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ar(zc(e>=240?e-240:e+120,i,n),zc(e,i,n),zc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new en(Kp(this.h),Js(this.s),Js(this.l),ru(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ru(this.opacity);return`${e===1?"hsl(":"hsla("}${Kp(this.h)}, ${Js(this.s)*100}%, ${Js(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kp(e){return e=(e||0)%360,e<0?e+360:e}function Js(e){return Math.max(0,Math.min(1,e||0))}function zc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Qd=e=>()=>e;function Jb(e,t){return function(r){return e+r*t}}function Sk(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function K8(e,t){var r=t-e;return r?Jb(e,r>180||r<-180?r-360*Math.round(r/360):r):Qd(isNaN(e)?t:e)}function Ek(e){return(e=+e)==1?e1:function(t,r){return r-t?Sk(t,r,e):Qd(isNaN(t)?r:t)}}function e1(e,t){var r=t-e;return r?Jb(e,r):Qd(isNaN(e)?t:e)}const jp=(function e(t){var r=Ek(t);function n(i,a){var o=r((i=Gf(i)).r,(a=Gf(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=e1(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n})(1);function ni(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Yf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$c=new RegExp(Yf.source,"g");function kk(e){return function(){return e}}function Ak(e){return function(t){return e(t)+""}}function Bk(e,t){var r=Yf.lastIndex=$c.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Yf.exec(e))&&(i=$c.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ni(n,i)})),r=$c.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Ak(l[0].x):kk(t):(t=l.length,function(u){for(var c=0,h;c<t;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}var Xp=180/Math.PI,Kf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function t1(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Xp,skewX:Math.atan(l)*Xp,scaleX:o,scaleY:s}}var el;function Lk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Kf:t1(t.a,t.b,t.c,t.d,t.e,t.f)}function Dk(e){return e==null||(el||(el=document.createElementNS("http://www.w3.org/2000/svg","g")),el.setAttribute("transform",e),!(e=el.transform.baseVal.consolidate()))?Kf:(e=e.matrix,t1(e.a,e.b,e.c,e.d,e.e,e.f))}function r1(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,v){if(u!==h||c!==f){var y=d.push("translate(",null,t,null,r);v.push({i:y-4,x:ni(u,h)},{i:y-2,x:ni(c,f)})}else(h||f)&&d.push("translate("+h+t+f+r)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:ni(u,c)})):c&&h.push(i(h)+"rotate("+c+n)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:ni(u,c)}):c&&h.push(i(h)+"skewX("+c+n)}function l(u,c,h,f,d,v){if(u!==h||c!==f){var y=d.push(i(d)+"scale(",null,",",null,")");v.push({i:y-4,x:ni(u,h)},{i:y-2,x:ni(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var v=-1,y=f.length,p;++v<y;)h[(p=f[v]).i]=p.x(d);return h.join("")}}}var Mk=r1(Lk,"px, ","px)","deg)"),Pk=r1(Dk,", ",")",")"),Ya=0,Fo=0,bo=0,n1=1e3,nu,Oo,iu=0,ta=0,Gu=0,fs=typeof performance=="object"&&performance.now?performance:Date,i1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Jd(){return ta||(i1(Fk),ta=fs.now()+Gu)}function Fk(){ta=0}function au(){this._call=this._time=this._next=null}au.prototype=a1.prototype={constructor:au,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Jd():+r)+(t==null?0:+t),!this._next&&Oo!==this&&(Oo?Oo._next=this:nu=this,Oo=this),this._call=e,this._time=r,jf()},stop:function(){this._call&&(this._call=null,this._time=1/0,jf())}};function a1(e,t,r){var n=new au;return n.restart(e,t,r),n}function Ok(){Jd(),++Ya;for(var e=nu,t;e;)(t=ta-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ya}function Zp(){ta=(iu=fs.now())+Gu,Ya=Fo=0;try{Ok()}finally{Ya=0,Ik(),ta=0}}function Rk(){var e=fs.now(),t=e-iu;t>n1&&(Gu-=t,iu=e)}function Ik(){for(var e,t=nu,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:nu=r);Oo=e,jf(n)}function jf(e){if(!Ya){Fo&&(Fo=clearTimeout(Fo));var t=e-ta;t>24?(e<1/0&&(Fo=setTimeout(Zp,e-fs.now()-Gu)),bo&&(bo=clearInterval(bo))):(bo||(iu=fs.now(),bo=setInterval(Rk,n1)),Ya=1,i1(Zp))}}function Qp(e,t,r){var n=new au;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var Nk=Nb("start","end","cancel","interrupt"),zk=[],o1=0,Jp=1,Xf=2,El=3,eg=4,Zf=5,kl=6;function Yu(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;$k(e,r,{name:t,index:n,group:i,on:Nk,tween:zk,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:o1})}function ev(e,t){var r=sn(e,t);if(r.state>o1)throw new Error("too late; already scheduled");return r}function En(e,t){var r=sn(e,t);if(r.state>El)throw new Error("too late; already running");return r}function sn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function $k(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=a1(a,0,r.time);function a(u){r.state=Jp,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var c,h,f,d;if(r.state!==Jp)return l();for(c in n)if(d=n[c],d.name===r.name){if(d.state===El)return Qp(o);d.state===eg?(d.state=kl,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[c]):+c<t&&(d.state=kl,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[c])}if(Qp(function(){r.state===El&&(r.state=eg,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=Xf,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Xf){for(r.state=El,i=new Array(f=r.tween.length),c=0,h=-1;c<f;++c)(d=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=Zf,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);r.state===Zf&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=kl,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function qk(e,t){var r=e.__transition,n,i,a=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>Xf&&n.state<Zf,n.state=kl,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function Vk(e){return this.each(function(){qk(this,e)})}function Hk(e,t){var r,n;return function(){var i=En(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function Wk(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=En(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function Uk(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=sn(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?Hk:Wk)(r,e,t))}function tv(e,t,r){var n=e._id;return e.each(function(){var i=En(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return sn(i,n).value[t]}}function s1(e,t){var r;return(typeof t=="number"?ni:t instanceof hs?jp:(r=hs(t))?(t=r,jp):Bk)(e,t)}function Gk(e){return function(){this.removeAttribute(e)}}function Yk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kk(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function jk(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function Xk(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function Zk(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function Qk(e,t){var r=Uu(e),n=r==="transform"?Pk:s1;return this.attrTween(e,typeof t=="function"?(r.local?Zk:Xk)(r,n,tv(this,"attr."+e,t)):t==null?(r.local?Yk:Gk)(r):(r.local?jk:Kk)(r,n,t))}function Jk(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function e2(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function t2(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&e2(e,a)),r}return i._value=t,i}function r2(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Jk(e,a)),r}return i._value=t,i}function n2(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Uu(e);return this.tween(r,(n.local?t2:r2)(n,t))}function i2(e,t){return function(){ev(this,e).delay=+t.apply(this,arguments)}}function a2(e,t){return t=+t,function(){ev(this,e).delay=t}}function o2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?i2:a2)(t,e)):sn(this.node(),t).delay}function s2(e,t){return function(){En(this,e).duration=+t.apply(this,arguments)}}function l2(e,t){return t=+t,function(){En(this,e).duration=t}}function u2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?s2:l2)(t,e)):sn(this.node(),t).duration}function c2(e,t){if(typeof t!="function")throw new Error;return function(){En(this,e).ease=t}}function h2(e){var t=this._id;return arguments.length?this.each(c2(t,e)):sn(this.node(),t).ease}function f2(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;En(this,e).ease=r}}function d2(e){if(typeof e!="function")throw new Error;return this.each(f2(this._id,e))}function v2(e){typeof e!="function"&&(e=qb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Un(n,this._parents,this._name,this._id)}function p2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l=t[s],u=r[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<n;++s)o[s]=t[s];return new Un(o,this._parents,this._name,this._id)}function g2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function m2(e,t,r){var n,i,a=g2(t)?ev:En;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}function y2(e,t){var r=this._id;return arguments.length<2?sn(this.node(),r).on.on(e):this.each(m2(r,e,t))}function b2(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function x2(){return this.on("end.remove",b2(this._id))}function C2(e){var t=this._name,r=this._id;typeof e!="function"&&(e=jd(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s=n[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Yu(u[f],t,r,f,u,sn(c,r)));return new Un(a,this._parents,t,r)}function w2(e){var t=this._name,r=this._id;typeof e!="function"&&(e=$b(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l=n[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=e.call(c,c.__data__,h,l),d,v=sn(c,r),y=0,p=f.length;y<p;++y)(d=f[y])&&Yu(d,t,r,y,f,v);a.push(f),o.push(c)}return new Un(a,o,t,r)}var T2=Ds.prototype.constructor;function _2(){return new T2(this._groups,this._parents)}function S2(e,t){var r,n,i;return function(){var a=Ga(this,e),o=(this.style.removeProperty(e),Ga(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function l1(e){return function(){this.style.removeProperty(e)}}function E2(e,t,r){var n,i=r+"",a;return function(){var o=Ga(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function k2(e,t,r){var n,i,a;return function(){var o=Ga(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Ga(this,e))),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}function A2(e,t){var r,n,i,a="style."+t,o="end."+a,s;return function(){var l=En(this,e),u=l.on,c=l.value[a]==null?s||(s=l1(t)):void 0;(u!==r||i!==c)&&(n=(r=u).copy()).on(o,i=c),l.on=n}}function B2(e,t,r){var n=(e+="")=="transform"?Mk:s1;return t==null?this.styleTween(e,S2(e,n)).on("end.style."+e,l1(e)):typeof t=="function"?this.styleTween(e,k2(e,n,tv(this,"style."+e,t))).each(A2(this._id,e)):this.styleTween(e,E2(e,n,t),r).on("end.style."+e,null)}function L2(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function D2(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&L2(e,o,r)),n}return a._value=t,a}function M2(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,D2(e,t,r??""))}function P2(e){return function(){this.textContent=e}}function F2(e){return function(){var t=e(this);this.textContent=t??""}}function O2(e){return this.tween("text",typeof e=="function"?F2(tv(this,"text",e)):P2(e==null?"":e+""))}function R2(e){return function(t){this.textContent=e.call(this,t)}}function I2(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&R2(i)),t}return n._value=e,n}function N2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,I2(e))}function z2(){for(var e=this._name,t=this._id,r=u1(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=sn(l,t);Yu(l,e,r,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Un(n,this._parents,e,r)}function $2(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};r.each(function(){var u=En(this,n),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&a()})}var q2=0;function Un(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function u1(){return++q2}var Dn=Ds.prototype;Un.prototype={constructor:Un,select:C2,selectAll:w2,selectChild:Dn.selectChild,selectChildren:Dn.selectChildren,filter:v2,merge:p2,selection:_2,transition:z2,call:Dn.call,nodes:Dn.nodes,node:Dn.node,size:Dn.size,empty:Dn.empty,each:Dn.each,on:y2,attr:Qk,attrTween:n2,style:B2,styleTween:M2,text:O2,textTween:N2,remove:x2,tween:Uk,delay:o2,duration:u2,ease:h2,easeVarying:d2,end:$2,[Symbol.iterator]:Dn[Symbol.iterator]};function V2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var H2={time:null,delay:0,duration:250,ease:V2};function W2(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function U2(e){var t,r;e instanceof Un?(t=e._id,e=e._name):(t=u1(),(r=H2).time=Jd(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Yu(l,e,t,u,o,r||W2(l,t));return new Un(n,this._parents,e,t)}Ds.prototype.interrupt=Vk;Ds.prototype.transition=U2;const j8=Math.abs,X8=Math.atan2,Z8=Math.cos,Q8=Math.max,J8=Math.min,eV=Math.sin,tV=Math.sqrt,tg=1e-12,rv=Math.PI,rg=rv/2,rV=2*rv;function nV(e){return e>1?0:e<-1?rv:Math.acos(e)}function iV(e){return e>=1?rg:e<=-1?-rg:Math.asin(e)}function c1(e){this._context=e}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function G2(e){return new c1(e)}class h1{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Y2(e){return new h1(e,!0)}function K2(e){return new h1(e,!1)}function gi(){}function ou(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ku(e){this._context=e}Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ou(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ou(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j2(e){return new Ku(e)}function f1(e){this._context=e}f1.prototype={areaStart:gi,areaEnd:gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ou(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X2(e){return new f1(e)}function d1(e){this._context=e}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ou(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z2(e){return new d1(e)}function v1(e,t){this._basis=new Ku(e),this._beta=t}v1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],a=e[r]-n,o=t[r]-i,s=-1,l;++s<=r;)l=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Q2=(function e(t){function r(n){return t===1?new Ku(n):new v1(n,t)}return r.beta=function(n){return e(+n)},r})(.85);function su(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function nv(e,t){this._context=e,this._k=(1-t)/6}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:su(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:su(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const J2=(function e(t){function r(n){return new nv(n,t)}return r.tension=function(n){return e(+n)},r})(0);function iv(e,t){this._context=e,this._k=(1-t)/6}iv.prototype={areaStart:gi,areaEnd:gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:su(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const eA=(function e(t){function r(n){return new iv(n,t)}return r.tension=function(n){return e(+n)},r})(0);function av(e,t){this._context=e,this._k=(1-t)/6}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:su(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tA=(function e(t){function r(n){return new av(n,t)}return r.tension=function(n){return e(+n)},r})(0);function ov(e,t,r){var n=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>tg){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>tg){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,a,o,e._x2,e._y2)}function p1(e,t){this._context=e,this._alpha=t}p1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ov(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rA=(function e(t){function r(n){return t?new p1(n,t):new nv(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function g1(e,t){this._context=e,this._alpha=t}g1.prototype={areaStart:gi,areaEnd:gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ov(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nA=(function e(t){function r(n){return t?new g1(n,t):new iv(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function m1(e,t){this._context=e,this._alpha=t}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ov(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const iA=(function e(t){function r(n){return t?new m1(n,t):new av(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function y1(e){this._context=e}y1.prototype={areaStart:gi,areaEnd:gi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aA(e){return new y1(e)}function ng(e){return e<0?-1:1}function ig(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(ng(a)+ng(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ag(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qc(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function lu(e){this._context=e}lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qc(this,this._t0,ag(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qc(this,ag(this,r=ig(this,e,t)),r);break;default:qc(this,this._t0,r=ig(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function b1(e){this._context=new x1(e)}(b1.prototype=Object.create(lu.prototype)).point=function(e,t){lu.prototype.point.call(this,t,e)};function x1(e){this._context=e}x1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function oA(e){return new lu(e)}function sA(e){return new b1(e)}function C1(e){this._context=e}C1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=og(e),i=og(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function og(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function lA(e){return new C1(e)}function ju(e,t){this._context=e,this._t=t}ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uA(e){return new ju(e,.5)}function cA(e){return new ju(e,0)}function hA(e){return new ju(e,1)}function Ro(e,t,r){this.k=e,this.x=t,this.y=r}Ro.prototype={constructor:Ro,scale:function(e){return e===1?this:new Ro(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ro(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ro.prototype;/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:w1,setPrototypeOf:sg,isFrozen:fA,getPrototypeOf:dA,getOwnPropertyDescriptor:vA}=Object;let{freeze:Cr,seal:Gr,create:T1}=Object,{apply:Qf,construct:Jf}=typeof Reflect<"u"&&Reflect;Cr||(Cr=function(t){return t});Gr||(Gr=function(t){return t});Qf||(Qf=function(t,r,n){return t.apply(r,n)});Jf||(Jf=function(t,r){return new t(...r)});const tl=Or(Array.prototype.forEach),lg=Or(Array.prototype.pop),xo=Or(Array.prototype.push),Al=Or(String.prototype.toLowerCase),Vc=Or(String.prototype.toString),ug=Or(String.prototype.match),Co=Or(String.prototype.replace),pA=Or(String.prototype.indexOf),gA=Or(String.prototype.trim),Qr=Or(Object.prototype.hasOwnProperty),hr=Or(RegExp.prototype.test),wo=mA(TypeError);function Or(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Qf(e,t,n)}}function mA(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jf(e,r)}}function Qe(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Al;sg&&sg(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&(fA(t)||(t[n]=a),i=a)}e[i]=!0}return e}function yA(e){for(let t=0;t<e.length;t++)Qr(e,t)||(e[t]=null);return e}function $i(e){const t=T1(null);for(const[r,n]of w1(e))Qr(e,r)&&(Array.isArray(n)?t[r]=yA(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=$i(n):t[r]=n);return t}function To(e,t){for(;e!==null;){const n=vA(e,t);if(n){if(n.get)return Or(n.get);if(typeof n.value=="function")return Or(n.value)}e=dA(e)}function r(){return null}return r}const cg=Cr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hc=Cr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wc=Cr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bA=Cr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Uc=Cr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xA=Cr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hg=Cr(["#text"]),fg=Cr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Gc=Cr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),dg=Cr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rl=Cr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),CA=Gr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wA=Gr(/<%[\w\W]*|[\w\W]*%>/gm),TA=Gr(/\${[\w\W]*}/gm),_A=Gr(/^data-[\-\w.\u00B7-\uFFFF]/),SA=Gr(/^aria-[\-\w]+$/),_1=Gr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),EA=Gr(/^(?:\w+script|data):/i),kA=Gr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),S1=Gr(/^html$/i),AA=Gr(/^[a-z][.\w]*(-[.\w]+)+$/i);var vg=Object.freeze({__proto__:null,MUSTACHE_EXPR:CA,ERB_EXPR:wA,TMPLIT_EXPR:TA,DATA_ATTR:_A,ARIA_ATTR:SA,IS_ALLOWED_URI:_1,IS_SCRIPT_OR_DATA:EA,ATTR_WHITESPACE:kA,DOCTYPE_NAME:S1,CUSTOM_ELEMENT:AA});const _o={element:1,text:3,progressingInstruction:7,comment:8,document:9},BA=function(){return typeof window>"u"?null:window},LA=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function E1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BA();const t=De=>E1(De);if(t.version="3.1.6",t.removed=[],!e||!e.document||e.document.nodeType!==_o.document)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=e,v=l.prototype,y=To(v,"cloneNode"),p=To(v,"remove"),m=To(v,"nextSibling"),g=To(v,"childNodes"),b=To(v,"parentNode");if(typeof o=="function"){const De=r.createElement("template");De.content&&De.content.ownerDocument&&(r=De.content.ownerDocument)}let x,w="";const{implementation:T,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:k}=r,{importNode:A}=n;let E={};t.isSupported=typeof w1=="function"&&typeof b=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:D,TMPLIT_EXPR:O,DATA_ATTR:R,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:$}=vg;let{IS_ALLOWED_URI:U}=vg,z=null;const W=Qe({},[...cg,...Hc,...Wc,...Uc,...hg]);let X=null;const ie=Qe({},[...fg,...Gc,...dg,...rl]);let j=Object.seal(T1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,ce=null,de=!0,se=!0,G=!1,K=!0,_=!1,F=!0,V=!1,ee=!1,q=!1,H=!1,Z=!1,ne=!1,te=!0,re=!1;const ve="user-content-";let fe=!0,pe=!1,me={},we=null;const Fe=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Be=null;const We=Qe({},["audio","video","img","source","image","track"]);let Se=null;const xe=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",L="http://www.w3.org/2000/svg",Q="http://www.w3.org/1999/xhtml";let ae=Q,le=!1,he=null;const _e=Qe({},[ue,L,Q],Vc);let ge=null;const Pe=["application/xhtml+xml","text/html"],ke="text/html";let Te=null,Ge=null;const Ye=r.createElement("form"),Le=function(Y){return Y instanceof RegExp||Y instanceof Function},Ke=function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ge&&Ge===Y)){if((!Y||typeof Y!="object")&&(Y={}),Y=$i(Y),ge=Pe.indexOf(Y.PARSER_MEDIA_TYPE)===-1?ke:Y.PARSER_MEDIA_TYPE,Te=ge==="application/xhtml+xml"?Vc:Al,z=Qr(Y,"ALLOWED_TAGS")?Qe({},Y.ALLOWED_TAGS,Te):W,X=Qr(Y,"ALLOWED_ATTR")?Qe({},Y.ALLOWED_ATTR,Te):ie,he=Qr(Y,"ALLOWED_NAMESPACES")?Qe({},Y.ALLOWED_NAMESPACES,Vc):_e,Se=Qr(Y,"ADD_URI_SAFE_ATTR")?Qe($i(xe),Y.ADD_URI_SAFE_ATTR,Te):xe,Be=Qr(Y,"ADD_DATA_URI_TAGS")?Qe($i(We),Y.ADD_DATA_URI_TAGS,Te):We,we=Qr(Y,"FORBID_CONTENTS")?Qe({},Y.FORBID_CONTENTS,Te):Fe,oe=Qr(Y,"FORBID_TAGS")?Qe({},Y.FORBID_TAGS,Te):{},ce=Qr(Y,"FORBID_ATTR")?Qe({},Y.FORBID_ATTR,Te):{},me=Qr(Y,"USE_PROFILES")?Y.USE_PROFILES:!1,de=Y.ALLOW_ARIA_ATTR!==!1,se=Y.ALLOW_DATA_ATTR!==!1,G=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,K=Y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=Y.SAFE_FOR_TEMPLATES||!1,F=Y.SAFE_FOR_XML!==!1,V=Y.WHOLE_DOCUMENT||!1,H=Y.RETURN_DOM||!1,Z=Y.RETURN_DOM_FRAGMENT||!1,ne=Y.RETURN_TRUSTED_TYPE||!1,q=Y.FORCE_BODY||!1,te=Y.SANITIZE_DOM!==!1,re=Y.SANITIZE_NAMED_PROPS||!1,fe=Y.KEEP_CONTENT!==!1,pe=Y.IN_PLACE||!1,U=Y.ALLOWED_URI_REGEXP||_1,ae=Y.NAMESPACE||Q,j=Y.CUSTOM_ELEMENT_HANDLING||{},Y.CUSTOM_ELEMENT_HANDLING&&Le(Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&Le(Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&typeof Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(se=!1),Z&&(H=!0),me&&(z=Qe({},hg),X=[],me.html===!0&&(Qe(z,cg),Qe(X,fg)),me.svg===!0&&(Qe(z,Hc),Qe(X,Gc),Qe(X,rl)),me.svgFilters===!0&&(Qe(z,Wc),Qe(X,Gc),Qe(X,rl)),me.mathMl===!0&&(Qe(z,Uc),Qe(X,dg),Qe(X,rl))),Y.ADD_TAGS&&(z===W&&(z=$i(z)),Qe(z,Y.ADD_TAGS,Te)),Y.ADD_ATTR&&(X===ie&&(X=$i(X)),Qe(X,Y.ADD_ATTR,Te)),Y.ADD_URI_SAFE_ATTR&&Qe(Se,Y.ADD_URI_SAFE_ATTR,Te),Y.FORBID_CONTENTS&&(we===Fe&&(we=$i(we)),Qe(we,Y.FORBID_CONTENTS,Te)),fe&&(z["#text"]=!0),V&&Qe(z,["html","head","body"]),z.table&&(Qe(z,["tbody"]),delete oe.tbody),Y.TRUSTED_TYPES_POLICY){if(typeof Y.TRUSTED_TYPES_POLICY.createHTML!="function")throw wo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=Y.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else x===void 0&&(x=LA(d,i)),x!==null&&typeof w=="string"&&(w=x.createHTML(""));Cr&&Cr(Y),Ge=Y}},je=Qe({},["mi","mo","mn","ms","mtext"]),Et=Qe({},["foreignobject","annotation-xml"]),xt=Qe({},["title","style","font","a","script"]),Ht=Qe({},[...Hc,...Wc,...bA]),wt=Qe({},[...Uc,...xA]),Lt=function(Y){let ye=b(Y);(!ye||!ye.tagName)&&(ye={namespaceURI:ae,tagName:"template"});const Me=Al(Y.tagName),st=Al(ye.tagName);return he[Y.namespaceURI]?Y.namespaceURI===L?ye.namespaceURI===Q?Me==="svg":ye.namespaceURI===ue?Me==="svg"&&(st==="annotation-xml"||je[st]):!!Ht[Me]:Y.namespaceURI===ue?ye.namespaceURI===Q?Me==="math":ye.namespaceURI===L?Me==="math"&&Et[st]:!!wt[Me]:Y.namespaceURI===Q?ye.namespaceURI===L&&!Et[st]||ye.namespaceURI===ue&&!je[st]?!1:!wt[Me]&&(xt[Me]||!Ht[Me]):!!(ge==="application/xhtml+xml"&&he[Y.namespaceURI]):!1},nt=function(Y){xo(t.removed,{element:Y});try{b(Y).removeChild(Y)}catch{p(Y)}},kt=function(Y,ye){try{xo(t.removed,{attribute:ye.getAttributeNode(Y),from:ye})}catch{xo(t.removed,{attribute:null,from:ye})}if(ye.removeAttribute(Y),Y==="is"&&!X[Y])if(H||Z)try{nt(ye)}catch{}else try{ye.setAttribute(Y,"")}catch{}},jr=function(Y){let ye=null,Me=null;if(q)Y="<remove></remove>"+Y;else{const It=ug(Y,/^[\r\n\t ]+/);Me=It&&It[0]}ge==="application/xhtml+xml"&&ae===Q&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");const st=x?x.createHTML(Y):Y;if(ae===Q)try{ye=new f().parseFromString(st,ge)}catch{}if(!ye||!ye.documentElement){ye=T.createDocument(ae,"template",null);try{ye.documentElement.innerHTML=le?w:st}catch{}}const Wt=ye.body||ye.documentElement;return Y&&Me&&Wt.insertBefore(r.createTextNode(Me),Wt.childNodes[0]||null),ae===Q?k.call(ye,V?"html":"body")[0]:V?ye.documentElement:Wt},Tt=function(Y){return C.call(Y.ownerDocument||Y,Y,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Rr=function(Y){return Y instanceof h&&(typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof c)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"||typeof Y.hasChildNodes!="function")},Ir=function(Y){return typeof s=="function"&&Y instanceof s},Jt=function(Y,ye,Me){E[Y]&&tl(E[Y],st=>{st.call(t,ye,Me,Ge)})},Mi=function(Y){let ye=null;if(Jt("beforeSanitizeElements",Y,null),Rr(Y))return nt(Y),!0;const Me=Te(Y.nodeName);if(Jt("uponSanitizeElement",Y,{tagName:Me,allowedTags:z}),Y.hasChildNodes()&&!Ir(Y.firstElementChild)&&hr(/<[/\w]/g,Y.innerHTML)&&hr(/<[/\w]/g,Y.textContent)||Y.nodeType===_o.progressingInstruction||F&&Y.nodeType===_o.comment&&hr(/<[/\w]/g,Y.data))return nt(Y),!0;if(!z[Me]||oe[Me]){if(!oe[Me]&&Kt(Me)&&(j.tagNameCheck instanceof RegExp&&hr(j.tagNameCheck,Me)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Me)))return!1;if(fe&&!we[Me]){const st=b(Y)||Y.parentNode,Wt=g(Y)||Y.childNodes;if(Wt&&st){const It=Wt.length;for(let tr=It-1;tr>=0;--tr){const Nr=y(Wt[tr],!0);Nr.__removalCount=(Y.__removalCount||0)+1,st.insertBefore(Nr,m(Y))}}}return nt(Y),!0}return Y instanceof l&&!Lt(Y)||(Me==="noscript"||Me==="noembed"||Me==="noframes")&&hr(/<\/no(script|embed|frames)/i,Y.innerHTML)?(nt(Y),!0):(_&&Y.nodeType===_o.text&&(ye=Y.textContent,tl([B,D,O],st=>{ye=Co(ye,st," ")}),Y.textContent!==ye&&(xo(t.removed,{element:Y.cloneNode()}),Y.textContent=ye)),Jt("afterSanitizeElements",Y,null),!1)},ln=function(Y,ye,Me){if(te&&(ye==="id"||ye==="name")&&(Me in r||Me in Ye))return!1;if(!(se&&!ce[ye]&&hr(R,ye))){if(!(de&&hr(P,ye))){if(!X[ye]||ce[ye]){if(!(Kt(Y)&&(j.tagNameCheck instanceof RegExp&&hr(j.tagNameCheck,Y)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Y))&&(j.attributeNameCheck instanceof RegExp&&hr(j.attributeNameCheck,ye)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(ye))||ye==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&hr(j.tagNameCheck,Me)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Me))))return!1}else if(!Se[ye]){if(!hr(U,Co(Me,I,""))){if(!((ye==="src"||ye==="xlink:href"||ye==="href")&&Y!=="script"&&pA(Me,"data:")===0&&Be[Y])){if(!(G&&!hr(M,Co(Me,I,"")))){if(Me)return!1}}}}}}return!0},Kt=function(Y){return Y!=="annotation-xml"&&ug(Y,$)},Rt=function(Y){Jt("beforeSanitizeAttributes",Y,null);const{attributes:ye}=Y;if(!ye)return;const Me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X};let st=ye.length;for(;st--;){const Wt=ye[st],{name:It,namespaceURI:tr,value:Nr}=Wt,Pi=Te(It);let Bt=It==="value"?Nr:gA(Nr);if(Me.attrName=Pi,Me.attrValue=Bt,Me.keepAttr=!0,Me.forceKeepAttr=void 0,Jt("uponSanitizeAttribute",Y,Me),Bt=Me.attrValue,F&&hr(/((--!?|])>)|<\/(style|title)/i,Bt)){kt(It,Y);continue}if(Me.forceKeepAttr||(kt(It,Y),!Me.keepAttr))continue;if(!K&&hr(/\/>/i,Bt)){kt(It,Y);continue}_&&tl([B,D,O],Fi=>{Bt=Co(Bt,Fi," ")});const va=Te(Y.nodeName);if(ln(va,Pi,Bt)){if(re&&(Pi==="id"||Pi==="name")&&(kt(It,Y),Bt=ve+Bt),x&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!tr)switch(d.getAttributeType(va,Pi)){case"TrustedHTML":{Bt=x.createHTML(Bt);break}case"TrustedScriptURL":{Bt=x.createScriptURL(Bt);break}}try{tr?Y.setAttributeNS(tr,It,Bt):Y.setAttribute(It,Bt),Rr(Y)?nt(Y):lg(t.removed)}catch{}}}Jt("afterSanitizeAttributes",Y,null)},er=function De(Y){let ye=null;const Me=Tt(Y);for(Jt("beforeSanitizeShadowDOM",Y,null);ye=Me.nextNode();)Jt("uponSanitizeShadowNode",ye,null),!Mi(ye)&&(ye.content instanceof a&&De(ye.content),Rt(ye));Jt("afterSanitizeShadowDOM",Y,null)};return t.sanitize=function(De){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=null,Me=null,st=null,Wt=null;if(le=!De,le&&(De="<!-->"),typeof De!="string"&&!Ir(De))if(typeof De.toString=="function"){if(De=De.toString(),typeof De!="string")throw wo("dirty is not a string, aborting")}else throw wo("toString is not a function");if(!t.isSupported)return De;if(ee||Ke(Y),t.removed=[],typeof De=="string"&&(pe=!1),pe){if(De.nodeName){const Nr=Te(De.nodeName);if(!z[Nr]||oe[Nr])throw wo("root node is forbidden and cannot be sanitized in-place")}}else if(De instanceof s)ye=jr("<!---->"),Me=ye.ownerDocument.importNode(De,!0),Me.nodeType===_o.element&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?ye=Me:ye.appendChild(Me);else{if(!H&&!_&&!V&&De.indexOf("<")===-1)return x&&ne?x.createHTML(De):De;if(ye=jr(De),!ye)return H?null:ne?w:""}ye&&q&&nt(ye.firstChild);const It=Tt(pe?De:ye);for(;st=It.nextNode();)Mi(st)||(st.content instanceof a&&er(st.content),Rt(st));if(pe)return De;if(H){if(Z)for(Wt=S.call(ye.ownerDocument);ye.firstChild;)Wt.appendChild(ye.firstChild);else Wt=ye;return(X.shadowroot||X.shadowrootmode)&&(Wt=A.call(n,Wt,!0)),Wt}let tr=V?ye.outerHTML:ye.innerHTML;return V&&z["!doctype"]&&ye.ownerDocument&&ye.ownerDocument.doctype&&ye.ownerDocument.doctype.name&&hr(S1,ye.ownerDocument.doctype.name)&&(tr="<!DOCTYPE "+ye.ownerDocument.doctype.name+`>
`+tr),_&&tl([B,D,O],Nr=>{tr=Co(tr,Nr," ")}),x&&ne?x.createHTML(tr):tr},t.setConfig=function(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke(De),ee=!0},t.clearConfig=function(){Ge=null,ee=!1},t.isValidAttribute=function(De,Y,ye){Ge||Ke({});const Me=Te(De),st=Te(Y);return ln(Me,st,ye)},t.addHook=function(De,Y){typeof Y=="function"&&(E[De]=E[De]||[],xo(E[De],Y))},t.removeHook=function(De){if(E[De])return lg(E[De])},t.removeHooks=function(De){E[De]&&(E[De]=[])},t.removeAllHooks=function(){E={}},t}var Ka=E1();const Bl={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return Bl.hue2rgb(a,i,e+1/3)*255;case"g":return Bl.hue2rgb(a,i,e)*255;case"b":return Bl.hue2rgb(a,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),a=Math.min(e,t,r),o=(i+a)/2;if(n==="l")return o*100;if(i===a)return 0;const s=i-a,l=o>.5?s/(2-i-a):s/(i+a);if(n==="s")return l*100;switch(i){case e:return((t-r)/s+(t<r?6:0))*60;case t:return((r-e)/s+2)*60;case r:return((e-t)/s+4)*60;default:return-1}}},DA={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},MA={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Ue={channel:Bl,lang:DA,unit:MA},ei={};for(let e=0;e<=255;e++)ei[e]=Ue.unit.dec2hex(e);const nr={ALL:0,RGB:1,HSL:2};let PA=class{constructor(){this.type=nr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=nr.ALL}is(t){return this.type===t}};class FA{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new PA}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=nr.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Ue.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Ue.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Ue.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Ue.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Ue.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Ue.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(nr.HSL)&&r!==void 0?r:(this._ensureHSL(),Ue.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(nr.HSL)&&r!==void 0?r:(this._ensureHSL(),Ue.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(nr.HSL)&&r!==void 0?r:(this._ensureHSL(),Ue.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(nr.RGB)&&r!==void 0?r:(this._ensureRGB(),Ue.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(nr.RGB)&&r!==void 0?r:(this._ensureRGB(),Ue.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(nr.RGB)&&r!==void 0?r:(this._ensureRGB(),Ue.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(nr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(nr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(nr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(nr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(nr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(nr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Xu=new FA({r:0,g:0,b:0,a:0},"transparent"),Na={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Na.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,a=i%4===0,o=i>4,s=o?1:17,l=o?8:4,u=a?0:-1,c=o?255:15;return Xu.set({r:(n>>l*(u+3)&c)*s,g:(n>>l*(u+2)&c)*s,b:(n>>l*(u+1)&c)*s,a:a?(n&c)*s/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${ei[Math.round(t)]}${ei[Math.round(r)]}${ei[Math.round(n)]}${ei[Math.round(i*255)]}`:`#${ei[Math.round(t)]}${ei[Math.round(r)]}${ei[Math.round(n)]}`}},Ki={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Ki.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return Ue.channel.clamp.h(parseFloat(r)*.9);case"rad":return Ue.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Ue.channel.clamp.h(parseFloat(r)*360)}}return Ue.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Ki.re);if(!r)return;const[,n,i,a,o,s]=r;return Xu.set({h:Ki._hue2deg(n),s:Ue.channel.clamp.s(parseFloat(i)),l:Ue.channel.clamp.l(parseFloat(a)),a:o?Ue.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Ue.lang.round(t)}, ${Ue.lang.round(r)}%, ${Ue.lang.round(n)}%, ${i})`:`hsl(${Ue.lang.round(t)}, ${Ue.lang.round(r)}%, ${Ue.lang.round(n)}%)`}},Ko={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Ko.colors[e];if(t)return Na.parse(t)},stringify:e=>{const t=Na.stringify(e);for(const r in Ko.colors)if(Ko.colors[r]===t)return r}},Io={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(Io.re);if(!r)return;const[,n,i,a,o,s,l,u,c]=r;return Xu.set({r:Ue.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Ue.channel.clamp.g(o?parseFloat(a)*2.55:parseFloat(a)),b:Ue.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:u?Ue.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Ue.lang.round(t)}, ${Ue.lang.round(r)}, ${Ue.lang.round(n)}, ${Ue.lang.round(i)})`:`rgb(${Ue.lang.round(t)}, ${Ue.lang.round(r)}, ${Ue.lang.round(n)})`}},Tn={format:{keyword:Ko,hex:Na,rgb:Io,rgba:Io,hsl:Ki,hsla:Ki},parse:e=>{if(typeof e!="string")return e;const t=Na.parse(e)||Io.parse(e)||Ki.parse(e)||Ko.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(nr.HSL)||e.data.r===void 0?Ki.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Io.stringify(e):Na.stringify(e)},k1=(e,t)=>{const r=Tn.parse(e);for(const n in t)r[n]=Ue.channel.clamp[n](t[n]);return Tn.stringify(r)},jo=(e,t,r=0,n=1)=>{if(typeof e!="number")return k1(e,{a:t});const i=Xu.set({r:Ue.channel.clamp.r(e),g:Ue.channel.clamp.g(t),b:Ue.channel.clamp.b(r),a:Ue.channel.clamp.a(n)});return Tn.stringify(i)},OA=e=>{const{r:t,g:r,b:n}=Tn.parse(e),i=.2126*Ue.channel.toLinear(t)+.7152*Ue.channel.toLinear(r)+.0722*Ue.channel.toLinear(n);return Ue.lang.round(i)},RA=e=>OA(e)>=.5,Ps=e=>!RA(e),A1=(e,t,r)=>{const n=Tn.parse(e),i=n[t],a=Ue.channel.clamp[t](i+r);return i!==a&&(n[t]=a),Tn.stringify(n)},Ie=(e,t)=>A1(e,"l",t),qe=(e,t)=>A1(e,"l",-t),J=(e,t)=>{const r=Tn.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return k1(e,n)},IA=(e,t,r=50)=>{const{r:n,g:i,b:a,a:o}=Tn.parse(e),{r:s,g:l,b:u,a:c}=Tn.parse(t),h=r/100,f=h*2-1,d=o-c,y=((f*d===-1?f:(f+d)/(1+f*d))+1)/2,p=1-y,m=n*y+s*p,g=i*y+l*p,b=a*y+u*p,x=o*h+c*(1-h);return jo(m,g,b,x)},Ce=(e,t=100)=>{const r=Tn.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,IA(r,e,t)};var B1=typeof global=="object"&&global&&global.Object===Object&&global,NA=typeof self=="object"&&self&&self.Object===Object&&self,kn=B1||NA||Function("return this")(),uu=kn.Symbol,L1=Object.prototype,zA=L1.hasOwnProperty,$A=L1.toString,So=uu?uu.toStringTag:void 0;function qA(e){var t=zA.call(e,So),r=e[So];try{e[So]=void 0;var n=!0}catch{}var i=$A.call(e);return n&&(t?e[So]=r:delete e[So]),i}var VA=Object.prototype,HA=VA.toString;function WA(e){return HA.call(e)}var UA="[object Null]",GA="[object Undefined]",pg=uu?uu.toStringTag:void 0;function oo(e){return e==null?e===void 0?GA:UA:pg&&pg in Object(e)?qA(e):WA(e)}function ua(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var YA="[object AsyncFunction]",KA="[object Function]",jA="[object GeneratorFunction]",XA="[object Proxy]";function sv(e){if(!ua(e))return!1;var t=oo(e);return t==KA||t==jA||t==YA||t==XA}var Yc=kn["__core-js_shared__"],gg=(function(){var e=/[^.]+$/.exec(Yc&&Yc.keys&&Yc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function ZA(e){return!!gg&&gg in e}var QA=Function.prototype,JA=QA.toString;function ca(e){if(e!=null){try{return JA.call(e)}catch{}try{return e+""}catch{}}return""}var eB=/[\\^$.*+?()[\]{}|]/g,tB=/^\[object .+?Constructor\]$/,rB=Function.prototype,nB=Object.prototype,iB=rB.toString,aB=nB.hasOwnProperty,oB=RegExp("^"+iB.call(aB).replace(eB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sB(e){if(!ua(e)||ZA(e))return!1;var t=sv(e)?oB:tB;return t.test(ca(e))}function lB(e,t){return e==null?void 0:e[t]}function ha(e,t){var r=lB(e,t);return sB(r)?r:void 0}var ds=ha(Object,"create");function uB(){this.__data__=ds?ds(null):{},this.size=0}function cB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hB="__lodash_hash_undefined__",fB=Object.prototype,dB=fB.hasOwnProperty;function vB(e){var t=this.__data__;if(ds){var r=t[e];return r===hB?void 0:r}return dB.call(t,e)?t[e]:void 0}var pB=Object.prototype,gB=pB.hasOwnProperty;function mB(e){var t=this.__data__;return ds?t[e]!==void 0:gB.call(t,e)}var yB="__lodash_hash_undefined__";function bB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ds&&t===void 0?yB:t,this}function ra(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ra.prototype.clear=uB;ra.prototype.delete=cB;ra.prototype.get=vB;ra.prototype.has=mB;ra.prototype.set=bB;function xB(){this.__data__=[],this.size=0}function Zu(e,t){return e===t||e!==e&&t!==t}function Qu(e,t){for(var r=e.length;r--;)if(Zu(e[r][0],t))return r;return-1}var CB=Array.prototype,wB=CB.splice;function TB(e){var t=this.__data__,r=Qu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():wB.call(t,r,1),--this.size,!0}function _B(e){var t=this.__data__,r=Qu(t,e);return r<0?void 0:t[r][1]}function SB(e){return Qu(this.__data__,e)>-1}function EB(e,t){var r=this.__data__,n=Qu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function jn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jn.prototype.clear=xB;jn.prototype.delete=TB;jn.prototype.get=_B;jn.prototype.has=SB;jn.prototype.set=EB;var vs=ha(kn,"Map");function kB(){this.size=0,this.__data__={hash:new ra,map:new(vs||jn),string:new ra}}function AB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ju(e,t){var r=e.__data__;return AB(t)?r[typeof t=="string"?"string":"hash"]:r.map}function BB(e){var t=Ju(this,e).delete(e);return this.size-=t?1:0,t}function LB(e){return Ju(this,e).get(e)}function DB(e){return Ju(this,e).has(e)}function MB(e,t){var r=Ju(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ei(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ei.prototype.clear=kB;Ei.prototype.delete=BB;Ei.prototype.get=LB;Ei.prototype.has=DB;Ei.prototype.set=MB;var PB="Expected a function";function Fs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(PB);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Fs.Cache||Ei),r}Fs.Cache=Ei;function FB(){this.__data__=new jn,this.size=0}function OB(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function RB(e){return this.__data__.get(e)}function IB(e){return this.__data__.has(e)}var NB=200;function zB(e,t){var r=this.__data__;if(r instanceof jn){var n=r.__data__;if(!vs||n.length<NB-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ei(n)}return r.set(e,t),this.size=r.size,this}function so(e){var t=this.__data__=new jn(e);this.size=t.size}so.prototype.clear=FB;so.prototype.delete=OB;so.prototype.get=RB;so.prototype.has=IB;so.prototype.set=zB;var cu=(function(){try{var e=ha(Object,"defineProperty");return e({},"",{}),e}catch{}})();function lv(e,t,r){t=="__proto__"&&cu?cu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ed(e,t,r){(r!==void 0&&!Zu(e[t],r)||r===void 0&&!(t in e))&&lv(e,t,r)}function $B(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return t}}var qB=$B(),D1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mg=D1&&typeof module=="object"&&module&&!module.nodeType&&module,VB=mg&&mg.exports===D1,yg=VB?kn.Buffer:void 0,bg=yg?yg.allocUnsafe:void 0;function HB(e,t){if(t)return e.slice();var r=e.length,n=bg?bg(r):new e.constructor(r);return e.copy(n),n}var xg=kn.Uint8Array;function WB(e){var t=new e.constructor(e.byteLength);return new xg(t).set(new xg(e)),t}function UB(e,t){var r=t?WB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function GB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Cg=Object.create,YB=(function(){function e(){}return function(t){if(!ua(t))return{};if(Cg)return Cg(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function M1(e,t){return function(r){return e(t(r))}}var P1=M1(Object.getPrototypeOf,Object),KB=Object.prototype;function ec(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||KB;return e===r}function jB(e){return typeof e.constructor=="function"&&!ec(e)?YB(P1(e)):{}}function Os(e){return e!=null&&typeof e=="object"}var XB="[object Arguments]";function wg(e){return Os(e)&&oo(e)==XB}var F1=Object.prototype,ZB=F1.hasOwnProperty,QB=F1.propertyIsEnumerable,hu=wg((function(){return arguments})())?wg:function(e){return Os(e)&&ZB.call(e,"callee")&&!QB.call(e,"callee")},fu=Array.isArray,JB=9007199254740991;function O1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JB}function tc(e){return e!=null&&O1(e.length)&&!sv(e)}function eL(e){return Os(e)&&tc(e)}function tL(){return!1}var R1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tg=R1&&typeof module=="object"&&module&&!module.nodeType&&module,rL=Tg&&Tg.exports===R1,_g=rL?kn.Buffer:void 0,nL=_g?_g.isBuffer:void 0,uv=nL||tL,iL="[object Object]",aL=Function.prototype,oL=Object.prototype,I1=aL.toString,sL=oL.hasOwnProperty,lL=I1.call(Object);function uL(e){if(!Os(e)||oo(e)!=iL)return!1;var t=P1(e);if(t===null)return!0;var r=sL.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&I1.call(r)==lL}var cL="[object Arguments]",hL="[object Array]",fL="[object Boolean]",dL="[object Date]",vL="[object Error]",pL="[object Function]",gL="[object Map]",mL="[object Number]",yL="[object Object]",bL="[object RegExp]",xL="[object Set]",CL="[object String]",wL="[object WeakMap]",TL="[object ArrayBuffer]",_L="[object DataView]",SL="[object Float32Array]",EL="[object Float64Array]",kL="[object Int8Array]",AL="[object Int16Array]",BL="[object Int32Array]",LL="[object Uint8Array]",DL="[object Uint8ClampedArray]",ML="[object Uint16Array]",PL="[object Uint32Array]",yt={};yt[SL]=yt[EL]=yt[kL]=yt[AL]=yt[BL]=yt[LL]=yt[DL]=yt[ML]=yt[PL]=!0;yt[cL]=yt[hL]=yt[TL]=yt[fL]=yt[_L]=yt[dL]=yt[vL]=yt[pL]=yt[gL]=yt[mL]=yt[yL]=yt[bL]=yt[xL]=yt[CL]=yt[wL]=!1;function FL(e){return Os(e)&&O1(e.length)&&!!yt[oo(e)]}function OL(e){return function(t){return e(t)}}var N1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xo=N1&&typeof module=="object"&&module&&!module.nodeType&&module,RL=Xo&&Xo.exports===N1,Kc=RL&&B1.process,Sg=(function(){try{var e=Xo&&Xo.require&&Xo.require("util").types;return e||Kc&&Kc.binding&&Kc.binding("util")}catch{}})(),Eg=Sg&&Sg.isTypedArray,cv=Eg?OL(Eg):FL;function td(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var IL=Object.prototype,NL=IL.hasOwnProperty;function zL(e,t,r){var n=e[t];(!(NL.call(e,t)&&Zu(n,r))||r===void 0&&!(t in e))&&lv(e,t,r)}function $L(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;l===void 0&&(l=e[s]),i?lv(r,s,l):zL(r,s,l)}return r}function qL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var VL=9007199254740991,HL=/^(?:0|[1-9]\d*)$/;function z1(e,t){var r=typeof e;return t=t??VL,!!t&&(r=="number"||r!="symbol"&&HL.test(e))&&e>-1&&e%1==0&&e<t}var WL=Object.prototype,UL=WL.hasOwnProperty;function GL(e,t){var r=fu(e),n=!r&&hu(e),i=!r&&!n&&uv(e),a=!r&&!n&&!i&&cv(e),o=r||n||i||a,s=o?qL(e.length,String):[],l=s.length;for(var u in e)(t||UL.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||z1(u,l)))&&s.push(u);return s}function YL(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var KL=Object.prototype,jL=KL.hasOwnProperty;function XL(e){if(!ua(e))return YL(e);var t=ec(e),r=[];for(var n in e)n=="constructor"&&(t||!jL.call(e,n))||r.push(n);return r}function $1(e){return tc(e)?GL(e,!0):XL(e)}function ZL(e){return $L(e,$1(e))}function QL(e,t,r,n,i,a,o){var s=td(e,r),l=td(t,r),u=o.get(l);if(u){ed(e,r,u);return}var c=a?a(s,l,r+"",e,t,o):void 0,h=c===void 0;if(h){var f=fu(l),d=!f&&uv(l),v=!f&&!d&&cv(l);c=l,f||d||v?fu(s)?c=s:eL(s)?c=GB(s):d?(h=!1,c=HB(l,!0)):v?(h=!1,c=UB(l,!0)):c=[]:uL(l)||hu(l)?(c=s,hu(s)?c=ZL(s):(!ua(s)||sv(s))&&(c=jB(l))):h=!1}h&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),ed(e,r,c)}function q1(e,t,r,n,i){e!==t&&qB(t,function(a,o){if(i||(i=new so),ua(a))QL(e,t,o,r,q1,n,i);else{var s=n?n(td(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),ed(e,o,s)}},$1)}function V1(e){return e}function JL(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var kg=Math.max;function eD(e,t,r){return t=kg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=kg(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),JL(e,this,s)}}function tD(e){return function(){return e}}var rD=cu?function(e,t){return cu(e,"toString",{configurable:!0,enumerable:!1,value:tD(t),writable:!0})}:V1,nD=800,iD=16,aD=Date.now;function oD(e){var t=0,r=0;return function(){var n=aD(),i=iD-(n-r);if(r=n,i>0){if(++t>=nD)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sD=oD(rD);function lD(e,t){return sD(eD(e,t,V1),e+"")}function uD(e,t,r){if(!ua(r))return!1;var n=typeof t;return(n=="number"?tc(r)&&z1(t,r.length):n=="string"&&t in r)?Zu(r[t],e):!1}function cD(e){return lD(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&uD(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var hD=cD(function(e,t,r){q1(e,t,r)}),H1="comm",W1="rule",U1="decl",fD="@import",dD="@namespace",vD="@keyframes",pD="@layer",G1=Math.abs,hv=String.fromCharCode;function Y1(e){return e.trim()}function Ll(e,t,r){return e.replace(t,r)}function gD(e,t,r){return e.indexOf(t,r)}function za(e,t){return e.charCodeAt(t)|0}function ja(e,t,r){return e.slice(t,r)}function vn(e){return e.length}function mD(e){return e.length}function nl(e,t){return t.push(e),e}var rc=1,Xa=1,K1=0,Yr=0,Pt=0,lo="";function fv(e,t,r,n,i,a,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:rc,column:Xa,length:o,return:"",siblings:s}}function yD(){return Pt}function bD(){return Pt=Yr>0?za(lo,--Yr):0,Xa--,Pt===10&&(Xa=1,rc--),Pt}function nn(){return Pt=Yr<K1?za(lo,Yr++):0,Xa++,Pt===10&&(Xa=1,rc++),Pt}function si(){return za(lo,Yr)}function Dl(){return Yr}function nc(e,t){return ja(lo,e,t)}function ps(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xD(e){return rc=Xa=1,K1=vn(lo=e),Yr=0,[]}function CD(e){return lo="",e}function jc(e){return Y1(nc(Yr-1,rd(e===91?e+2:e===40?e+1:e)))}function wD(e){for(;(Pt=si())&&Pt<33;)nn();return ps(e)>2||ps(Pt)>3?"":" "}function TD(e,t){for(;--t&&nn()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return nc(e,Dl()+(t<6&&si()==32&&nn()==32))}function rd(e){for(;nn();)switch(Pt){case e:return Yr;case 34:case 39:e!==34&&e!==39&&rd(Pt);break;case 40:e===41&&rd(e);break;case 92:nn();break}return Yr}function _D(e,t){for(;nn()&&e+Pt!==57;)if(e+Pt===84&&si()===47)break;return"/*"+nc(t,Yr-1)+"*"+hv(e===47?e:nn())}function SD(e){for(;!ps(si());)nn();return nc(e,Yr)}function ED(e){return CD(Ml("",null,null,null,[""],e=xD(e),0,[0],e))}function Ml(e,t,r,n,i,a,o,s,l){for(var u=0,c=0,h=o,f=0,d=0,v=0,y=1,p=1,m=1,g=0,b="",x=i,w=a,T=n,C=b;p;)switch(v=g,g=nn()){case 40:if(v!=108&&za(C,h-1)==58){gD(C+=Ll(jc(g),"&","&\f"),"&\f",G1(u?s[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:C+=jc(g);break;case 9:case 10:case 13:case 32:C+=wD(v);break;case 92:C+=TD(Dl()-1,7);continue;case 47:switch(si()){case 42:case 47:nl(kD(_D(nn(),Dl()),t,r,l),l),(ps(v||1)==5||ps(si()||1)==5)&&vn(C)&&ja(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*y:s[u++]=vn(C)*m;case 125*y:case 59:case 0:switch(g){case 0:case 125:p=0;case 59+c:m==-1&&(C=Ll(C,/\f/g,"")),d>0&&(vn(C)-h||y===0&&v===47)&&nl(d>32?Bg(C+";",n,r,h-1,l):Bg(Ll(C," ","")+";",n,r,h-2,l),l);break;case 59:C+=";";default:if(nl(T=Ag(C,t,r,u,c,i,s,b,x=[],w=[],h,a),a),g===123)if(c===0)Ml(C,t,T,T,x,a,h,s,w);else{switch(f){case 99:if(za(C,3)===110)break;case 108:if(za(C,2)===97)break;default:c=0;case 100:case 109:case 115:}c?Ml(e,T,T,n&&nl(Ag(e,T,T,0,0,i,s,b,i,x=[],h,w),w),i,w,h,s,n?x:w):Ml(C,T,T,T,[""],w,0,s,w)}}u=c=d=0,y=m=1,b=C="",h=o;break;case 58:h=1+vn(C),d=v;default:if(y<1){if(g==123)--y;else if(g==125&&y++==0&&bD()==125)continue}switch(C+=hv(g),g*y){case 38:m=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(vn(C)-1)*m,m=1;break;case 64:si()===45&&(C+=jc(nn())),f=si(),c=h=vn(b=C+=SD(Dl())),g++;break;case 45:v===45&&vn(C)==2&&(y=0)}}return a}function Ag(e,t,r,n,i,a,o,s,l,u,c,h){for(var f=i-1,d=i===0?a:[""],v=mD(d),y=0,p=0,m=0;y<n;++y)for(var g=0,b=ja(e,f+1,f=G1(p=o[y])),x=e;g<v;++g)(x=Y1(p>0?d[g]+" "+b:Ll(b,/&\f/g,d[g])))&&(l[m++]=x);return fv(e,t,r,i===0?W1:s,l,u,c,h)}function kD(e,t,r,n){return fv(e,t,r,H1,hv(yD()),ja(e,2,-2),0,n)}function Bg(e,t,r,n,i){return fv(e,t,r,U1,ja(e,0,n),ja(e,n+1,-1),n,i)}function nd(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function AD(e,t,r,n){switch(e.type){case pD:if(e.children.length)break;case fD:case dD:case U1:return e.return=e.return||e.value;case H1:return"";case vD:return e.return=e.value+"{"+nd(e.children,n)+"}";case W1:if(!vn(e.value=e.props.join(",")))return""}return vn(r=nd(e.children,n))?e.return=e.value+"{"+r+"}":""}var BD=M1(Object.keys,Object),LD=Object.prototype,DD=LD.hasOwnProperty;function MD(e){if(!ec(e))return BD(e);var t=[];for(var r in Object(e))DD.call(e,r)&&r!="constructor"&&t.push(r);return t}var id=ha(kn,"DataView"),ad=ha(kn,"Promise"),od=ha(kn,"Set"),sd=ha(kn,"WeakMap"),Lg="[object Map]",PD="[object Object]",Dg="[object Promise]",Mg="[object Set]",Pg="[object WeakMap]",Fg="[object DataView]",FD=ca(id),OD=ca(vs),RD=ca(ad),ID=ca(od),ND=ca(sd),qi=oo;(id&&qi(new id(new ArrayBuffer(1)))!=Fg||vs&&qi(new vs)!=Lg||ad&&qi(ad.resolve())!=Dg||od&&qi(new od)!=Mg||sd&&qi(new sd)!=Pg)&&(qi=function(e){var t=oo(e),r=t==PD?e.constructor:void 0,n=r?ca(r):"";if(n)switch(n){case FD:return Fg;case OD:return Lg;case RD:return Dg;case ID:return Mg;case ND:return Pg}return t});var zD="[object Map]",$D="[object Set]",qD=Object.prototype,VD=qD.hasOwnProperty;function Xc(e){if(e==null)return!0;if(tc(e)&&(fu(e)||typeof e=="string"||typeof e.splice=="function"||uv(e)||cv(e)||hu(e)))return!e.length;var t=qi(e);if(t==zD||t==$D)return!e.size;if(ec(e))return!MD(e).length;for(var r in e)if(VD.call(e,r))return!1;return!0}const Mn={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},$e={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},dv=function(e="fatal"){let t=Mn.fatal;typeof e=="string"?(e=e.toLowerCase(),e in Mn&&(t=Mn[e])):typeof e=="number"&&(t=e),$e.trace=()=>{},$e.debug=()=>{},$e.info=()=>{},$e.warn=()=>{},$e.error=()=>{},$e.fatal=()=>{},t<=Mn.fatal&&($e.fatal=console.error?console.error.bind(console,$r("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",$r("FATAL"))),t<=Mn.error&&($e.error=console.error?console.error.bind(console,$r("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",$r("ERROR"))),t<=Mn.warn&&($e.warn=console.warn?console.warn.bind(console,$r("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",$r("WARN"))),t<=Mn.info&&($e.info=console.info?console.info.bind(console,$r("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",$r("INFO"))),t<=Mn.debug&&($e.debug=console.debug?console.debug.bind(console,$r("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",$r("DEBUG"))),t<=Mn.trace&&($e.trace=console.debug?console.debug.bind(console,$r("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",$r("TRACE")))},$r=e=>`%c${BS().format("ss.SSS")} : ${e} : `,Rs=/<br\s*\/?>/gi,HD=e=>e?X1(e).replace(/\\n/g,"#br#").split("#br#"):[""],WD=(()=>{let e=!1;return()=>{e||(UD(),e=!0)}})();function UD(){const e="data-temp-href-target";Ka.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")||"")}),Ka.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)||""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}const j1=e=>(WD(),Ka.sanitize(e)),Og=(e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=j1(e):n!=="loose"&&(e=X1(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=jD(e))}return e},Za=(e,t)=>e&&(t.dompurifyConfig?e=Ka.sanitize(Og(e,t),t.dompurifyConfig).toString():e=Ka.sanitize(Og(e,t),{FORBID_TAGS:["style"]}).toString(),e),GD=(e,t)=>typeof e=="string"?Za(e,t):e.flat().map(r=>Za(r,t)),YD=e=>Rs.test(e),KD=e=>e.split(Rs),jD=e=>e.replace(/#br#/g,"<br/>"),X1=e=>e.replace(Rs,"#br#"),XD=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},Z1=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),ZD=function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},QD=function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},oV=function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const a=t[n-1],o=t[n+1];JD(a,o)&&(i=a+","+o,n++,r.pop())}r.push(eM(i))}return r.join("")},ld=(e,t)=>Math.max(0,e.split(t).length-1),JD=(e,t)=>{const r=ld(e,"~"),n=ld(t,"~");return r===1&&n===1},eM=e=>{const t=ld(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},Rg=()=>window.MathMLElement!==void 0,ud=/\$\$(.*)\$\$/g,Ig=e=>{var t;return(((t=e.match(ud))==null?void 0:t.length)??0)>0},sV=async(e,t)=>{const r=document.createElement("div");r.innerHTML=await rM(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},tM=async(e,t)=>{if(!Ig(e))return e;if(!Rg()&&!t.legacyMathML)return e.replace(ud,"MathML is unsupported in this environment.");const{default:r}=await St(async()=>{const{default:n}=await import("./chunks/katex-ChWnQ-fc.js");return{default:n}},[]);return e.split(Rs).map(n=>Ig(n)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${n}
            </div>
          `:`<div>${n}</div>`).join("").replace(ud,(n,i)=>r.renderToString(i,{throwOnError:!0,displayMode:!0,output:Rg()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},rM=async(e,t)=>Za(await tM(e,t),t),vv={getRows:HD,sanitizeText:Za,sanitizeTextOrArray:GD,hasBreaks:YD,splitBreaks:KD,lineBreakRegex:Rs,removeScript:j1,getUrl:XD,evaluate:Z1,getMax:ZD,getMin:QD},yr=(e,t)=>t?J(e,{s:-40,l:10}):J(e,{s:-40,l:-10}),ic="#ffffff",ac="#f2f2f2";let nM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||J(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||J(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||yr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||yr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||yr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||yr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ce(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ce(this.tertiaryColor),this.lineColor=this.lineColor||Ce(this.background),this.arrowheadColor=this.arrowheadColor||Ce(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?qe(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||qe(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ce(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ie(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330}),this.darkMode)for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=qe(this["cScale"+d],75);else for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=qe(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Ce(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||Ie(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||qe(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;const f=this.darkMode?-4:-1;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||J(this.mainBkg,{h:180,s:-15,l:f*(5+d*3)}),this["surfacePeer"+d]=this["surfacePeer"+d]||J(this.mainBkg,{h:180,s:-15,l:f*(8+d*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||J(this.primaryColor,{h:64}),this.fillType3=this.fillType3||J(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||J(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||J(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||J(this.primaryColor,{h:128}),this.fillType7=this.fillType7||J(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||J(this.primaryColor,{l:-10}),this.pie5=this.pie5||J(this.secondaryColor,{l:-10}),this.pie6=this.pie6||J(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||J(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||J(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||J(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||J(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||J(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||J(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ps(this.quadrant1Fill)?Ie(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?qe(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||J(this.primaryColor,{h:-30}),this.git4=this.git4||J(this.primaryColor,{h:-60}),this.git5=this.git5||J(this.primaryColor,{h:-90}),this.git6=this.git6||J(this.primaryColor,{h:60}),this.git7=this.git7||J(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)):(this.git0=qe(this.git0,25),this.git1=qe(this.git1,25),this.git2=qe(this.git2,25),this.git3=qe(this.git3,25),this.git4=qe(this.git4,25),this.git5=qe(this.git5,25),this.git6=qe(this.git6,25),this.git7=qe(this.git7,25)),this.gitInv0=this.gitInv0||Ce(this.git0),this.gitInv1=this.gitInv1||Ce(this.git1),this.gitInv2=this.gitInv2||Ce(this.git2),this.gitInv3=this.gitInv3||Ce(this.git3),this.gitInv4=this.gitInv4||Ce(this.git4),this.gitInv5=this.gitInv5||Ce(this.git5),this.gitInv6=this.gitInv6||Ce(this.git6),this.gitInv7=this.gitInv7||Ce(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ic,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ac}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const iM=e=>{const t=new nM;return t.calculate(e),t};let aM=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ie(this.primaryColor,16),this.tertiaryColor=J(this.primaryColor,{h:-160}),this.primaryBorderColor=Ce(this.background),this.secondaryBorderColor=yr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ce(this.primaryColor),this.secondaryTextColor=Ce(this.secondaryColor),this.tertiaryTextColor=Ce(this.tertiaryColor),this.lineColor=Ce(this.background),this.textColor=Ce(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ie(Ce("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=jo(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=qe("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=qe(this.sectionBkgColor,10),this.taskBorderColor=jo(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=jo(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.secondBkg=Ie(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ie(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ie(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Ce(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScalePeer"+f]=this["cScalePeer"+f]||Ie(this["cScale"+f],10);for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{h:30,s:-30,l:-(-10+f*4)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{h:30,s:-30,l:-(-7+f*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ps(this.quadrant1Fill)?Ie(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?qe(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ie(this.secondaryColor,20),this.git1=Ie(this.pie2||this.secondaryColor,20),this.git2=Ie(this.pie3||this.tertiaryColor,20),this.git3=Ie(this.pie4||J(this.primaryColor,{h:-30}),20),this.git4=Ie(this.pie5||J(this.primaryColor,{h:-60}),20),this.git5=Ie(this.pie6||J(this.primaryColor,{h:-90}),10),this.git6=Ie(this.pie7||J(this.primaryColor,{h:60}),10),this.git7=Ie(this.pie8||J(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ce(this.git0),this.gitInv1=this.gitInv1||Ce(this.git1),this.gitInv2=this.gitInv2||Ce(this.git2),this.gitInv3=this.gitInv3||Ce(this.git3),this.gitInv4=this.gitInv4||Ce(this.git4),this.gitInv5=this.gitInv5||Ce(this.git5),this.gitInv6=this.gitInv6||Ce(this.git6),this.gitInv7=this.gitInv7||Ce(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ce(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ce(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ie(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ie(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const oM=e=>{const t=new aM;return t.calculate(e),t};let sM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=J(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=J(this.primaryColor,{h:-160}),this.primaryBorderColor=yr(this.primaryColor,this.darkMode),this.secondaryBorderColor=yr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ce(this.primaryColor),this.secondaryTextColor=Ce(this.secondaryColor),this.tertiaryTextColor=Ce(this.tertiaryColor),this.lineColor=Ce(this.background),this.textColor=Ce(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=jo(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||qe(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||qe(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=qe(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||qe(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||J(this["cScale"+f],{h:180});for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{h:30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{h:30,l:-(7+f*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ce(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ce(this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ie(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||J(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||J(this.primaryColor,{l:-10}),this.pie5=this.pie5||J(this.secondaryColor,{l:-30}),this.pie6=this.pie6||J(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||J(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||J(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||J(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||J(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||J(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||J(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ps(this.quadrant1Fill)?Ie(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||J(this.primaryColor,{h:-30}),this.git4=this.git4||J(this.primaryColor,{h:-60}),this.git5=this.git5||J(this.primaryColor,{h:-90}),this.git6=this.git6||J(this.primaryColor,{h:60}),this.git7=this.git7||J(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)):(this.git0=qe(this.git0,25),this.git1=qe(this.git1,25),this.git2=qe(this.git2,25),this.git3=qe(this.git3,25),this.git4=qe(this.git4,25),this.git5=qe(this.git5,25),this.git6=qe(this.git6,25),this.git7=qe(this.git7,25)),this.gitInv0=this.gitInv0||qe(Ce(this.git0),25),this.gitInv1=this.gitInv1||Ce(this.git1),this.gitInv2=this.gitInv2||Ce(this.git2),this.gitInv3=this.gitInv3||Ce(this.git3),this.gitInv4=this.gitInv4||Ce(this.git4),this.gitInv5=this.gitInv5||Ce(this.git5),this.gitInv6=this.gitInv6||Ce(this.git6),this.gitInv7=this.gitInv7||Ce(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ce(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ce(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ic,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ac}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const lM=e=>{const t=new sM;return t.calculate(e),t};let uM=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ie("#cde498",10),this.primaryBorderColor=yr(this.primaryColor,this.darkMode),this.secondaryBorderColor=yr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ce(this.primaryColor),this.secondaryTextColor=Ce(this.secondaryColor),this.tertiaryTextColor=Ce(this.primaryColor),this.lineColor=Ce(this.background),this.textColor=Ce(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.actorBorder=qe(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||J(this.primaryColor,{h:30}),this.cScale4=this.cScale4||J(this.primaryColor,{h:60}),this.cScale5=this.cScale5||J(this.primaryColor,{h:90}),this.cScale6=this.cScale6||J(this.primaryColor,{h:120}),this.cScale7=this.cScale7||J(this.primaryColor,{h:150}),this.cScale8=this.cScale8||J(this.primaryColor,{h:210}),this.cScale9=this.cScale9||J(this.primaryColor,{h:270}),this.cScale10=this.cScale10||J(this.primaryColor,{h:300}),this.cScale11=this.cScale11||J(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||qe(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||qe(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=qe(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||qe(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||J(this["cScale"+f],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{h:30,s:-30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{h:30,s:-30,l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||J(this.primaryColor,{l:-30}),this.pie5=this.pie5||J(this.secondaryColor,{l:-30}),this.pie6=this.pie6||J(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||J(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||J(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||J(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||J(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||J(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||J(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ps(this.quadrant1Fill)?Ie(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||J(this.primaryColor,{h:-30}),this.git4=this.git4||J(this.primaryColor,{h:-60}),this.git5=this.git5||J(this.primaryColor,{h:-90}),this.git6=this.git6||J(this.primaryColor,{h:60}),this.git7=this.git7||J(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)):(this.git0=qe(this.git0,25),this.git1=qe(this.git1,25),this.git2=qe(this.git2,25),this.git3=qe(this.git3,25),this.git4=qe(this.git4,25),this.git5=qe(this.git5,25),this.git6=qe(this.git6,25),this.git7=qe(this.git7,25)),this.gitInv0=this.gitInv0||Ce(this.git0),this.gitInv1=this.gitInv1||Ce(this.git1),this.gitInv2=this.gitInv2||Ce(this.git2),this.gitInv3=this.gitInv3||Ce(this.git3),this.gitInv4=this.gitInv4||Ce(this.git4),this.gitInv5=this.gitInv5||Ce(this.git5),this.gitInv6=this.gitInv6||Ce(this.git6),this.gitInv7=this.gitInv7||Ce(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ce(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ce(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ic,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ac}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}};const cM=e=>{const t=new uM;return t.calculate(e),t};class hM{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ie(this.contrast,55),this.background="#ffffff",this.tertiaryColor=J(this.primaryColor,{h:-160}),this.primaryBorderColor=yr(this.primaryColor,this.darkMode),this.secondaryBorderColor=yr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ce(this.primaryColor),this.secondaryTextColor=Ce(this.secondaryColor),this.tertiaryTextColor=Ce(this.tertiaryColor),this.lineColor=Ce(this.background),this.textColor=Ce(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,o,s,l,u,c,h;this.secondBkg=Ie(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ie(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Ce(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Ie(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||qe(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||J(this.mainBkg,{l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||J(this.mainBkg,{l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ie(this.contrast,30),this.sectionBkgColor2=Ie(this.contrast,30),this.taskBorderColor=qe(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ie(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=qe(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=J(this.primaryColor,{h:64}),this.fillType3=J(this.secondaryColor,{h:64}),this.fillType4=J(this.primaryColor,{h:-64}),this.fillType5=J(this.secondaryColor,{h:-64}),this.fillType6=J(this.primaryColor,{h:128}),this.fillType7=J(this.secondaryColor,{h:128});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||J(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||J(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||J(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||J(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||J(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||J(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ps(this.quadrant1Fill)?Ie(this.quadrant1Fill):qe(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=qe(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||J(this.primaryColor,{h:-30}),this.git4=this.pie5||J(this.primaryColor,{h:-60}),this.git5=this.pie6||J(this.primaryColor,{h:-90}),this.git6=this.pie7||J(this.primaryColor,{h:60}),this.git7=this.pie8||J(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ce(this.git0),this.gitInv1=this.gitInv1||Ce(this.git1),this.gitInv2=this.gitInv2||Ce(this.git2),this.gitInv3=this.gitInv3||Ce(this.git3),this.gitInv4=this.gitInv4||Ce(this.git4),this.gitInv5=this.gitInv5||Ce(this.git5),this.gitInv6=this.gitInv6||Ce(this.git6),this.gitInv7=this.gitInv7||Ce(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ic,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ac}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const fM=e=>{const t=new hM;return t.calculate(e),t},Vn={base:{getThemeVariables:iM},dark:{getThemeVariables:oM},default:{getThemeVariables:lM},forest:{getThemeVariables:cM},neutral:{getThemeVariables:fM}},Pn={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},Q1={...Pn,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Vn.default.getThemeVariables(),sequence:{...Pn.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...Pn.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Pn.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...Pn.pie,useWidth:984},xyChart:{...Pn.xyChart,useWidth:void 0},requirement:{...Pn.requirement,useWidth:void 0},gitGraph:{...Pn.gitGraph,useMaxWidth:!1},sankey:{...Pn.sankey,useMaxWidth:!1}},J1=(e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...J1(e[n],"")]:[...r,t+n],[]),dM=new Set(J1(Q1,"")),vM=Q1,du=e=>{if($e.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>du(t));return}for(const t of Object.keys(e)){if($e.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!dM.has(t)||e[t]==null){$e.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){$e.debug("sanitizing object",t),du(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&($e.debug("sanitizing css option",t),e[t]=pM(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}$e.debug("After sanitization",e)}},pM=e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},ex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Zo=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,gM=/\s*%%.*\n/gm;class tx extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const Qa={},oc=function(e,t){e=e.replace(ex,"").replace(Zo,"").replace(gM,`
`);for(const[r,{detector:n}]of Object.entries(Qa))if(n(e,t))return r;throw new tx(`No diagram type detected matching given configuration for text: ${e}`)},rx=(...e)=>{for(const{id:t,detector:r,loader:n}of e)nx(t,r,n)},nx=(e,t,r)=>{Qa[e]?$e.error(`Detector with key ${e} already exists`):Qa[e]={detector:t,loader:r},$e.debug(`Detector with key ${e} added${r?" with loader":""}`)},mM=e=>Qa[e].loader,cd=(e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>cd(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=cd(e[a],t[a],{depth:r-1,clobber:n})):(n||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},ar=cd,yM="​",bM={curveBasis:j2,curveBasisClosed:X2,curveBasisOpen:Z2,curveBumpX:Y2,curveBumpY:K2,curveBundle:Q2,curveCardinalClosed:eA,curveCardinalOpen:tA,curveCardinal:J2,curveCatmullRomClosed:nA,curveCatmullRomOpen:iA,curveCatmullRom:rA,curveLinear:G2,curveLinearClosed:aA,curveMonotoneX:oA,curveMonotoneY:sA,curveNatural:lA,curveStep:uA,curveStepAfter:hA,curveStepBefore:cA},xM=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,CM=function(e,t){const r=ix(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(s=>s.args);du(o),n=ar(n,[...o])}else n=r.args;if(!n)return;let i=oc(e,t);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},ix=function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${xM.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),$e.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const i=[];for(;(n=Zo.exec(e))!==null;)if(n.index===Zo.lastIndex&&Zo.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){const a=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:a,args:o})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return $e.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},wM=function(e){return e.replace(Zo,"")},TM=function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1};function _M(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return bM[r]??t}function SM(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?DS.sanitizeUrl(r):r}const EM=(e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let a=window;for(let o=0;o<n;o++)if(a=a[r[o]],!a){$e.error(`Function name: ${e} not found in window`);return}a[i](...t)};function ax(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function kM(e){let t,r=0;e.forEach(i=>{r+=ax(i,t),t=i});const n=r/2;return pv(e,n)}function AM(e){return e.length===1?e[0]:kM(e)}const Ng=(e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},pv=(e,t)=>{let r,n=t;for(const i of e){if(r){const a=ax(i,r);if(a<n)n-=a;else{const o=n/a;if(o<=0)return r;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:Ng((1-o)*r.x+o*i.x,5),y:Ng((1-o)*r.y+o*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},BM=(e,t,r)=>{$e.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=pv(t,25),a=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),s={x:0,y:0};return s.x=Math.sin(o)*a+(t[0].x+i.x)/2,s.y=-Math.cos(o)*a+(t[0].y+i.y)/2,s};function LM(e,t,r){const n=structuredClone(r);$e.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,a=pv(n,i),o=10+e*.5,s=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*o+(n[0].x+a.x)/2,l.y=-Math.cos(s+Math.PI)*o+(n[0].y+a.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*o+(n[0].x+a.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(n[0].y+a.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*o+(n[0].x+a.x)/2-5,l.y=-Math.cos(s)*o+(n[0].y+a.y)/2-5):(l.x=Math.sin(s)*o+(n[0].x+a.x)/2,l.y=-Math.cos(s)*o+(n[0].y+a.y)/2),l}function DM(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}let zg=0;const MM=()=>(zg++,"id-"+Math.random().toString(36).substr(2,12)+"-"+zg);function PM(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}const FM=e=>PM(e.length),OM=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},RM=function(e,t){const r=t.text.replace(vv.lineBreakRegex," "),[,n]=mv(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(r),i},IM=Fs((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),vv.lineBreakRegex.test(e)))return e;const n=e.split(" "),i=[];let a="";return n.forEach((o,s)=>{const l=vu(`${o} `,r),u=vu(a,r);if(l>t){const{hyphenatedStrings:f,remainingWord:d}=NM(o,t,"-",r);i.push(a,...f),a=d}else u+l>=t?(i.push(a),a=o):a=[a,o].filter(Boolean).join(" ");s+1===n.length&&i.push(a)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),NM=Fs((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],a=[];let o="";return i.forEach((s,l)=>{const u=`${o}${s}`;if(vu(u,n)>=t){const h=l+1,f=i.length===h,d=`${u}${r}`;a.push(f?u:d),o=""}else o=u}),{hyphenatedStrings:a,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function zM(e,t){return gv(e,t).height}function vu(e,t){return gv(e,t).width}const gv=Fs((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,a]=mv(r),o=["sans-serif",n],s=e.split(vv.lineBreakRegex),l=[],u=Vr("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const c=u.append("svg");for(const f of o){let d=0;const v={width:0,height:0,lineHeight:0};for(const y of s){const p=OM();p.text=y||yM;const m=RM(c,p).style("font-size",a).style("font-weight",i).style("font-family",f),g=(m._groups||m)[0][0].getBBox();if(g.width===0&&g.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,g.width)),d=Math.round(g.height),v.height+=d,v.lineHeight=Math.round(Math.max(v.lineHeight,d))}l.push(v)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);class $M{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}}let il;const qM=function(e){return il=il||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),il.innerHTML=e,unescape(il.textContent)};function ox(e){return"str"in e}const VM=(e,t,r,n)=>{var i;if(!n)return;const a=(i=e.node())==null?void 0:i.getBBox();a&&e.append("text").text(n).attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},mv=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function sx(e,t){return hD({},e,t)}const Qo={assignWithDepth:ar,wrapLabel:IM,calculateTextHeight:zM,calculateTextWidth:vu,calculateTextDimensions:gv,cleanAndMerge:sx,detectInit:CM,detectDirective:ix,isSubstringInArray:TM,interpolateToCurve:_M,calcLabelPosition:AM,calcCardinalityPosition:BM,calcTerminalLabelPosition:LM,formatUrl:SM,getStylesFromArray:DM,generateId:MM,random:FM,runFunc:EM,entityDecode:qM,insertTitle:VM,parseFontSize:mv,InitIDGenerator:$M},HM=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),t},WM=function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},$g="10.9.4",Ja=Object.freeze(vM);let Sr=ar({},Ja),lx,eo=[],Jo=ar({},Ja);const sc=(e,t)=>{let r=ar({},e),n={};for(const i of t)hx(i),n=ar(n,i);if(r=ar(r,n),n.theme&&n.theme in Vn){const i=ar({},lx),a=ar(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Vn&&(r.themeVariables=Vn[r.theme].getThemeVariables(a))}return Jo=r,fx(Jo),Jo},UM=e=>(Sr=ar({},Ja),Sr=ar(Sr,e),e.theme&&Vn[e.theme]&&(Sr.themeVariables=Vn[e.theme].getThemeVariables(e.themeVariables)),sc(Sr,eo),Sr),GM=e=>{lx=ar({},e)},YM=e=>(Sr=ar(Sr,e),sc(Sr,eo),Sr),ux=()=>ar({},Sr),cx=e=>(fx(e),ar(Jo,e),_n()),_n=()=>ar({},Jo),hx=e=>{e&&(["secure",...Sr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&($e.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&hx(e[t])}))},KM=e=>{du(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),eo.push(e),sc(Sr,eo)},pu=(e=Sr)=>{eo=[],sc(e,eo)},jM={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},qg={},XM=e=>{qg[e]||($e.warn(jM[e]),qg[e]=!0)},fx=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&XM("LAZY_LOAD_DEPRECATED")},dx="c4",ZM=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),QM=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/c4Diagram-15b5d702-BtZobvnC.js");return{diagram:t}},__vite__mapDeps([0,1]));return{id:dx,diagram:e}},JM={id:dx,detector:ZM,loader:QM},eP=JM,vx="flowchart",tP=(e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},rP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/flowDiagram-cbd28bf7-BBGv6jIm.js");return{diagram:t}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:vx,diagram:e}},nP={id:vx,detector:tP,loader:rP},iP=nP,px="flowchart-v2",aP=(e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},oP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/flowDiagram-v2-ffc7f31a-9uzUqGLS.js");return{diagram:t}},__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:px,diagram:e}},sP={id:px,detector:aP,loader:oP},lP=sP,gx="er",uP=e=>/^\s*erDiagram/.test(e),cP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/erDiagram-880f2ed8-DGu80oZn.js");return{diagram:t}},__vite__mapDeps([16,4,5,11,12,13]));return{id:gx,diagram:e}},hP={id:gx,detector:uP,loader:cP},fP=hP,mx="gitGraph",dP=e=>/^\s*gitGraph/.test(e),vP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/gitGraphDiagram-21fc4d3e-B1MO5BMh.js");return{diagram:t}},[]);return{id:mx,diagram:e}},pP={id:mx,detector:dP,loader:vP},gP=pP,yx="gantt",mP=e=>/^\s*gantt/.test(e),yP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/ganttDiagram-04f9e578-BHgJNci-.js");return{diagram:t}},__vite__mapDeps([17,18,19]));return{id:yx,diagram:e}},bP={id:yx,detector:mP,loader:yP},xP=bP,bx="info",CP=e=>/^\s*info/.test(e),wP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/infoDiagram-4a4f5b27-B8l0jpZN.js");return{diagram:t}},[]);return{id:bx,diagram:e}},TP={id:bx,detector:CP,loader:wP},xx="pie",_P=e=>/^\s*pie/.test(e),SP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/pieDiagram-421022e6-Dv7vMdKC.js");return{diagram:t}},__vite__mapDeps([20,21,13,22,19,12]));return{id:xx,diagram:e}},EP={id:xx,detector:_P,loader:SP},Cx="quadrantChart",kP=e=>/^\s*quadrantChart/.test(e),AP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/quadrantDiagram-0957ecba-CADpULQT.js");return{diagram:t}},__vite__mapDeps([23,18,19]));return{id:Cx,diagram:e}},BP={id:Cx,detector:kP,loader:AP},LP=BP,wx="xychart",DP=e=>/^\s*xychart-beta/.test(e),MP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/xychartDiagram-b6496bcd-C15EwDeW.js");return{diagram:t}},__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:wx,diagram:e}},PP={id:wx,detector:DP,loader:MP},FP=PP,Tx="requirement",OP=e=>/^\s*requirement(Diagram)?/.test(e),RP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/requirementDiagram-23d650b8-fnGkM_1S.js");return{diagram:t}},__vite__mapDeps([25,4,5,11,12,13]));return{id:Tx,diagram:e}},IP={id:Tx,detector:OP,loader:RP},NP=IP,_x="sequence",zP=e=>/^\s*sequenceDiagram/.test(e),$P=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/sequenceDiagram-17ac3bff-FpNbcy82.js");return{diagram:t}},__vite__mapDeps([26,1]));return{id:_x,diagram:e}},qP={id:_x,detector:zP,loader:$P},VP=qP,Sx="class",HP=(e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},WP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/classDiagram-d40c83e7-Cj-mRfxo.js");return{diagram:t}},__vite__mapDeps([27,28,4,5,11,12,13]));return{id:Sx,diagram:e}},UP={id:Sx,detector:HP,loader:WP},GP=UP,Ex="classDiagram",YP=(e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},KP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/classDiagram-v2-d5a6b087-CR3m-0v5.js");return{diagram:t}},__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:Ex,diagram:e}},jP={id:Ex,detector:YP,loader:KP},XP=jP,kx="state",ZP=(e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},QP=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/stateDiagram-9c5f0230-CBqKgsIg.js");return{diagram:t}},__vite__mapDeps([30,31,4,5,11,12,13]));return{id:kx,diagram:e}},JP={id:kx,detector:ZP,loader:QP},eF=JP,Ax="stateDiagram",tF=(e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},rF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/stateDiagram-v2-51a3dcff-Bug3r4RQ.js");return{diagram:t}},__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:Ax,diagram:e}},nF={id:Ax,detector:tF,loader:rF},iF=nF,Bx="journey",aF=e=>/^\s*journey/.test(e),oF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/journeyDiagram-29694f62-BFvE3EY9.js");return{diagram:t}},__vite__mapDeps([33,1,21,13]));return{id:Bx,diagram:e}},sF={id:Bx,detector:aF,loader:oF},lF=sF,uF=function(e,t){for(let r of t)e.attr(r[0],r[1])},cF=function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},Lx=function(e,t,r,n){const i=cF(t,r,n);uF(e,i)},hF=function(e,t,r,n){const i=t.node().getBBox(),a=i.width,o=i.height;$e.info(`SVG bounds: ${a}x${o}`,i);let s=0,l=0;$e.info(`Graph bounds: ${s}x${l}`,e),s=a+r*2,l=o+r*2,$e.info(`Calculated bounds: ${s}x${l}`),Lx(t,l,s,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)},Pl={},fF=(e,t,r)=>{let n="";return e in Pl&&Pl[e]?n=Pl[e](r):$e.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},dF=(e,t)=>{t!==void 0&&(Pl[e]=t)},vF=fF;let yv="",bv="",xv="";const Cv=e=>Za(e,_n()),pF=()=>{yv="",xv="",bv=""},gF=e=>{yv=Cv(e).replace(/^\s+/g,"")},mF=()=>yv,yF=e=>{xv=Cv(e).replace(/\n\s+/g,`
`)},bF=()=>xv,xF=e=>{bv=Cv(e)},CF=()=>bv,wF=Object.freeze(Object.defineProperty({__proto__:null,clear:pF,getAccDescription:bF,getAccTitle:mF,getDiagramTitle:CF,setAccDescription:yF,setAccTitle:gF,setDiagramTitle:xF},Symbol.toStringTag,{value:"Module"})),TF=$e,_F=dv,wv=_n,fV=cx,dV=Ja,SF=e=>Za(e,wv()),EF=hF,kF=()=>wF,gu={},mu=(e,t,r)=>{var n;if(gu[e])throw new Error(`Diagram ${e} already registered.`);gu[e]=t,r&&nx(e,r),dF(e,t.styles),(n=t.injectUtils)==null||n.call(t,TF,_F,wv,SF,EF,kF(),()=>{})},Tv=e=>{if(e in gu)return gu[e];throw new AF(e)};class AF extends Error{constructor(t){super(`Diagram ${t} not found.`)}}const BF=e=>{var t;const{securityLevel:r}=wv();let n=Vr("body");if(r==="sandbox"){const o=((t=Vr(`#i${e}`).node())==null?void 0:t.contentDocument)??document;n=Vr(o.body)}return n.select(`#${e}`)},LF=(e,t,r)=>{$e.debug(`rendering svg for syntax error
`);const n=BF(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Lx(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},Dx={draw:LF},DF=Dx,MF={db:{},renderer:Dx,parser:{parser:{yy:{}},parse:()=>{}}},PF=MF,Mx="flowchart-elk",FF=(e,t)=>{var r;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk")},OF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/flowchart-elk-definition-36e2d292-DrgB5VCD.js");return{diagram:t}},__vite__mapDeps([34,3,9,10,11,12,13]));return{id:Mx,diagram:e}},RF={id:Mx,detector:FF,loader:OF},IF=RF,Px="timeline",NF=e=>/^\s*timeline/.test(e),zF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/timeline-definition-7e6b55e7-CJ1Wwb16.js");return{diagram:t}},__vite__mapDeps([35,21,13]));return{id:Px,diagram:e}},$F={id:Px,detector:NF,loader:zF},qF=$F,Fx="mindmap",VF=e=>/^\s*mindmap/.test(e),HF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/mindmap-definition-ac74a2e8-CQsjJXmd.js");return{diagram:t}},__vite__mapDeps([36,10]));return{id:Fx,diagram:e}},WF={id:Fx,detector:VF,loader:HF},UF=WF,Ox="sankey",GF=e=>/^\s*sankey-beta/.test(e),YF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/sankeyDiagram-23345273-C3k3szqQ.js");return{diagram:t}},__vite__mapDeps([37,22,19,38]));return{id:Ox,diagram:e}},KF={id:Ox,detector:GF,loader:YF},jF=KF,Rx="block",XF=e=>/^\s*block-beta/.test(e),ZF=async()=>{const{diagram:e}=await St(async()=>{const{diagram:t}=await import("./chunks/blockDiagram-68f4deed-Cg9y_k4L.js");return{diagram:t}},__vite__mapDeps([39,8,4,9,10,11,12,13,14,22,19,38]));return{id:Rx,diagram:e}},QF={id:Rx,detector:XF,loader:ZF},JF=QF;let Vg=!1;const _v=()=>{Vg||(Vg=!0,mu("error",PF,e=>e.toLowerCase().trim()==="error"),mu("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),rx(eP,XP,GP,fP,xP,TP,EP,NP,VP,IF,lP,iP,UF,qF,gP,iF,eF,lF,LP,jF,FP,JF))};class Ix{constructor(t,r={}){this.text=t,this.metadata=r,this.type="graph",this.text=HM(t),this.text+=`
`;const n=_n();try{this.type=oc(t,n)}catch(a){this.type="error",this.detectError=a}const i=Tv(this.type);$e.debug("Type "+this.type),this.db=i.db,this.renderer=i.renderer,this.parser=i.parser,this.parser.parser.yy=this.db,this.init=i.init,this.parse()}parse(){var t,r,n,i,a;if(this.detectError)throw this.detectError;(r=(t=this.db).clear)==null||r.call(t);const o=_n();(n=this.init)==null||n.call(this,o),this.metadata.title&&((a=(i=this.db).setDiagramTitle)==null||a.call(i,this.metadata.title)),this.parser.parse(this.text)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}}const eO=async(e,t={})=>{const r=oc(e,_n());try{Tv(r)}catch{const i=mM(r);if(!i)throw new tx(`Diagram ${r} not found.`);const{id:a,diagram:o}=await i();mu(a,o)}return new Ix(e,t)};let Hg=[];const tO=()=>{Hg.forEach(e=>{e()}),Hg=[]},rO="graphics-document document";function nO(e,t){e.attr("role",rO),t!==""&&e.attr("aria-roledescription",t)}function iO(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}const aO=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Nx(e){return typeof e>"u"||e===null}function oO(e){return typeof e=="object"&&e!==null}function sO(e){return Array.isArray(e)?e:Nx(e)?[]:[e]}function lO(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function uO(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function cO(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var hO=Nx,fO=oO,dO=sO,vO=uO,pO=cO,gO=lO,mr={isNothing:hO,isObject:fO,toArray:dO,repeat:vO,isNegativeZero:pO,extend:gO};function zx(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function gs(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=zx(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}gs.prototype=Object.create(Error.prototype);gs.prototype.constructor=gs;gs.prototype.toString=function(t){return this.name+": "+zx(this,t)};var zn=gs;function Zc(e,t,r,n,i){var a="",o="",s=Math.floor(i/2)-1;return n-t>s&&(a=" ... ",t=n-s+a.length),r-n>s&&(o=" ...",r=n+s-o.length),{str:a+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+a.length}}function Qc(e,t){return mr.repeat(" ",t-e.length)+e}function mO(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,o=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var s="",l,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=Zc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),h),s=mr.repeat(" ",t.indent)+Qc((e.line-l+1).toString(),c)+" | "+u.str+`
`+s;for(u=Zc(e.buffer,n[o],i[o],e.position,h),s+=mr.repeat(" ",t.indent)+Qc((e.line+1).toString(),c)+" | "+u.str+`
`,s+=mr.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)u=Zc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),h),s+=mr.repeat(" ",t.indent)+Qc((e.line+l+1).toString(),c)+" | "+u.str+`
`;return s.replace(/\n$/,"")}var yO=mO,bO=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],xO=["scalar","sequence","mapping"];function CO(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function wO(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(bO.indexOf(r)===-1)throw new zn('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=CO(t.styleAliases||null),xO.indexOf(this.kind)===-1)throw new zn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var or=wO;function Wg(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,o){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=o)}),r[i]=n}),r}function TO(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function hd(e){return this.extend(e)}hd.prototype.extend=function(t){var r=[],n=[];if(t instanceof or)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new zn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof or))throw new zn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new zn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new zn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof or))throw new zn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(hd.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Wg(i,"implicit"),i.compiledExplicit=Wg(i,"explicit"),i.compiledTypeMap=TO(i.compiledImplicit,i.compiledExplicit),i};var _O=hd,SO=new or("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),EO=new or("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),kO=new or("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),AO=new _O({explicit:[SO,EO,kO]});function BO(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function LO(){return null}function DO(e){return e===null}var MO=new or("tag:yaml.org,2002:null",{kind:"scalar",resolve:BO,construct:LO,predicate:DO,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function PO(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function FO(e){return e==="true"||e==="True"||e==="TRUE"}function OO(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var RO=new or("tag:yaml.org,2002:bool",{kind:"scalar",resolve:PO,construct:FO,predicate:OO,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function IO(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function NO(e){return 48<=e&&e<=55}function zO(e){return 48<=e&&e<=57}function $O(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!IO(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!NO(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!zO(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function qO(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function VO(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!mr.isNegativeZero(e)}var HO=new or("tag:yaml.org,2002:int",{kind:"scalar",resolve:$O,construct:qO,predicate:VO,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),WO=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function UO(e){return!(e===null||!WO.test(e)||e[e.length-1]==="_")}function GO(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var YO=/^[-+]?[0-9]+e/;function KO(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(mr.isNegativeZero(e))return"-0.0";return r=e.toString(10),YO.test(r)?r.replace("e",".e"):r}function jO(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||mr.isNegativeZero(e))}var XO=new or("tag:yaml.org,2002:float",{kind:"scalar",resolve:UO,construct:GO,predicate:jO,represent:KO,defaultStyle:"lowercase"}),$x=AO.extend({implicit:[MO,RO,HO,XO]}),ZO=$x,qx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Vx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function QO(e){return e===null?!1:qx.exec(e)!==null||Vx.exec(e)!==null}function JO(e){var t,r,n,i,a,o,s,l=0,u=null,c,h,f;if(t=qx.exec(e),t===null&&(t=Vx.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],h=+(t[11]||0),u=(c*60+h)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,a,o,s,l)),u&&f.setTime(f.getTime()-u),f}function eR(e){return e.toISOString()}var tR=new or("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:QO,construct:JO,instanceOf:Date,represent:eR});function rR(e){return e==="<<"||e===null}var nR=new or("tag:yaml.org,2002:merge",{kind:"scalar",resolve:rR}),Sv=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function iR(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=Sv;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function aR(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=Sv,o=0,s=[];for(t=0;t<i;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function oR(e){var t="",r=0,n,i,a=e.length,o=Sv;for(n=0;n<a;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function sR(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var lR=new or("tag:yaml.org,2002:binary",{kind:"scalar",resolve:iR,construct:aR,predicate:sR,represent:oR}),uR=Object.prototype.hasOwnProperty,cR=Object.prototype.toString;function hR(e){if(e===null)return!0;var t=[],r,n,i,a,o,s=e;for(r=0,n=s.length;r<n;r+=1){if(i=s[r],o=!1,cR.call(i)!=="[object Object]")return!1;for(a in i)if(uR.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function fR(e){return e!==null?e:[]}var dR=new or("tag:yaml.org,2002:omap",{kind:"sequence",resolve:hR,construct:fR}),vR=Object.prototype.toString;function pR(e){if(e===null)return!0;var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],vR.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function gR(e){if(e===null)return[];var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}var mR=new or("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:pR,construct:gR}),yR=Object.prototype.hasOwnProperty;function bR(e){if(e===null)return!0;var t,r=e;for(t in r)if(yR.call(r,t)&&r[t]!==null)return!1;return!0}function xR(e){return e!==null?e:{}}var CR=new or("tag:yaml.org,2002:set",{kind:"mapping",resolve:bR,construct:xR}),wR=ZO.extend({implicit:[tR,nR],explicit:[lR,dR,mR,CR]}),mi=Object.prototype.hasOwnProperty,yu=1,Hx=2,Wx=3,bu=4,Jc=1,TR=2,Ug=3,_R=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,SR=/[\x85\u2028\u2029]/,ER=/[,\[\]\{\}]/,Ux=/^(?:!|!!|![a-z\-]+!)$/i,Gx=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Gg(e){return Object.prototype.toString.call(e)}function xn(e){return e===10||e===13}function Ji(e){return e===9||e===32}function Br(e){return e===9||e===32||e===10||e===13}function ka(e){return e===44||e===91||e===93||e===123||e===125}function kR(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function AR(e){return e===120?2:e===117?4:e===85?8:0}function BR(e){return 48<=e&&e<=57?e-48:-1}function Yg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function LR(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Yx=new Array(256),Kx=new Array(256);for(var ga=0;ga<256;ga++)Yx[ga]=Yg(ga)?1:0,Kx[ga]=Yg(ga);function DR(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||wR,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function jx(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=yO(r),new zn(t,r)}function Ne(e,t){throw jx(e,t)}function xu(e,t){e.onWarning&&e.onWarning.call(null,jx(e,t))}var Kg={YAML:function(t,r,n){var i,a,o;t.version!==null&&Ne(t,"duplication of %YAML directive"),n.length!==1&&Ne(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Ne(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&Ne(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&xu(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,a;n.length!==2&&Ne(t,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],Ux.test(i)||Ne(t,"ill-formed tag handle (first argument) of the TAG directive"),mi.call(t.tagMap,i)&&Ne(t,'there is a previously declared suffix for "'+i+'" tag handle'),Gx.test(a)||Ne(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Ne(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function hi(e,t,r,n){var i,a,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,a=s.length;i<a;i+=1)o=s.charCodeAt(i),o===9||32<=o&&o<=1114111||Ne(e,"expected valid JSON character");else _R.test(s)&&Ne(e,"the stream contains non-printable characters");e.result+=s}}function jg(e,t,r,n){var i,a,o,s;for(mr.isObject(r)||Ne(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,s=i.length;o<s;o+=1)a=i[o],mi.call(t,a)||(t[a]=r[a],n[a]=!0)}function Aa(e,t,r,n,i,a,o,s,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Ne(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Gg(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Gg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)jg(e,t,a[u],r);else jg(e,t,a,r);else!e.json&&!mi.call(r,i)&&mi.call(t,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,Ne(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function Ev(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ne(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ft(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ji(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(xn(i))for(Ev(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&xu(e,"deficient indentation"),n}function lc(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Br(r)))}function kv(e,t){t===1?e.result+=" ":t>1&&(e.result+=mr.repeat(`
`,t-1))}function MR(e,t,r){var n,i,a,o,s,l,u,c,h=e.kind,f=e.result,d;if(d=e.input.charCodeAt(e.position),Br(d)||ka(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=e.input.charCodeAt(e.position+1),Br(i)||r&&ka(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;d!==0;){if(d===58){if(i=e.input.charCodeAt(e.position+1),Br(i)||r&&ka(i))break}else if(d===35){if(n=e.input.charCodeAt(e.position-1),Br(n))break}else{if(e.position===e.lineStart&&lc(e)||r&&ka(d))break;if(xn(d))if(l=e.line,u=e.lineStart,c=e.lineIndent,Ft(e,!1,-1),e.lineIndent>=t){s=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}s&&(hi(e,a,o,!1),kv(e,e.line-l),a=o=e.position,s=!1),Ji(d)||(o=e.position+1),d=e.input.charCodeAt(++e.position)}return hi(e,a,o,!1),e.result?!0:(e.kind=h,e.result=f,!1)}function PR(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(hi(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else xn(r)?(hi(e,n,i,!0),kv(e,Ft(e,!1,t)),n=i=e.position):e.position===e.lineStart&&lc(e)?Ne(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ne(e,"unexpected end of the stream within a single quoted scalar")}function FR(e,t){var r,n,i,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return hi(e,r,e.position,!0),e.position++,!0;if(s===92){if(hi(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),xn(s))Ft(e,!1,t);else if(s<256&&Yx[s])e.result+=Kx[s],e.position++;else if((o=AR(s))>0){for(i=o,a=0;i>0;i--)s=e.input.charCodeAt(++e.position),(o=kR(s))>=0?a=(a<<4)+o:Ne(e,"expected hexadecimal character");e.result+=LR(a),e.position++}else Ne(e,"unknown escape sequence");r=n=e.position}else xn(s)?(hi(e,r,n,!0),kv(e,Ft(e,!1,t)),r=n=e.position):e.position===e.lineStart&&lc(e)?Ne(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ne(e,"unexpected end of the stream within a double quoted scalar")}function OR(e,t){var r=!0,n,i,a,o=e.tag,s,l=e.anchor,u,c,h,f,d,v=Object.create(null),y,p,m,g;if(g=e.input.charCodeAt(e.position),g===91)c=93,d=!1,s=[];else if(g===123)c=125,d=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),g=e.input.charCodeAt(++e.position);g!==0;){if(Ft(e,!0,t),g=e.input.charCodeAt(e.position),g===c)return e.position++,e.tag=o,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=s,!0;r?g===44&&Ne(e,"expected the node content, but found ','"):Ne(e,"missed comma between flow collection entries"),p=y=m=null,h=f=!1,g===63&&(u=e.input.charCodeAt(e.position+1),Br(u)&&(h=f=!0,e.position++,Ft(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,to(e,t,yu,!1,!0),p=e.tag,y=e.result,Ft(e,!0,t),g=e.input.charCodeAt(e.position),(f||e.line===n)&&g===58&&(h=!0,g=e.input.charCodeAt(++e.position),Ft(e,!0,t),to(e,t,yu,!1,!0),m=e.result),d?Aa(e,s,v,p,y,m,n,i,a):h?s.push(Aa(e,null,v,p,y,m,n,i,a)):s.push(y),Ft(e,!0,t),g=e.input.charCodeAt(e.position),g===44?(r=!0,g=e.input.charCodeAt(++e.position)):r=!1}Ne(e,"unexpected end of the stream within a flow collection")}function RR(e,t){var r,n,i=Jc,a=!1,o=!1,s=t,l=0,u=!1,c,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Jc===i?i=h===43?Ug:TR:Ne(e,"repeat of a chomping mode identifier");else if((c=BR(h))>=0)c===0?Ne(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ne(e,"repeat of an indentation width identifier"):(s=t+c-1,o=!0);else break;if(Ji(h)){do h=e.input.charCodeAt(++e.position);while(Ji(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!xn(h)&&h!==0)}for(;h!==0;){for(Ev(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),xn(h)){l++;continue}if(e.lineIndent<s){i===Ug?e.result+=mr.repeat(`
`,a?1+l:l):i===Jc&&a&&(e.result+=`
`);break}for(n?Ji(h)?(u=!0,e.result+=mr.repeat(`
`,a?1+l:l)):u?(u=!1,e.result+=mr.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=mr.repeat(`
`,l):e.result+=mr.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,r=e.position;!xn(h)&&h!==0;)h=e.input.charCodeAt(++e.position);hi(e,r,e.position,!1)}return!0}function Xg(e,t){var r,n=e.tag,i=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Br(o))));){if(s=!0,e.position++,Ft(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,to(e,t,Wx,!1,!0),a.push(e.result),Ft(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)Ne(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function IR(e,t,r){var n,i,a,o,s,l,u=e.tag,c=e.anchor,h={},f=Object.create(null),d=null,v=null,y=null,p=!1,m=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),g=e.input.charCodeAt(e.position);g!==0;){if(!p&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(g===63||g===58)&&Br(n))g===63?(p&&(Aa(e,h,f,d,v,null,o,s,l),d=v=y=null),m=!0,p=!0,i=!0):p?(p=!1,i=!0):Ne(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=n;else{if(o=e.line,s=e.lineStart,l=e.position,!to(e,r,Hx,!1,!0))break;if(e.line===a){for(g=e.input.charCodeAt(e.position);Ji(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),Br(g)||Ne(e,"a whitespace character is expected after the key-value separator within a block mapping"),p&&(Aa(e,h,f,d,v,null,o,s,l),d=v=y=null),m=!0,p=!1,i=!1,d=e.tag,v=e.result;else if(m)Ne(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(m)Ne(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===a||e.lineIndent>t)&&(p&&(o=e.line,s=e.lineStart,l=e.position),to(e,t,bu,!0,i)&&(p?v=e.result:y=e.result),p||(Aa(e,h,f,d,v,y,o,s,l),d=v=y=null),Ft(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&g!==0)Ne(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return p&&Aa(e,h,f,d,v,null,o,s,l),m&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=h),m}function NR(e){var t,r=!1,n=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Ne(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Ne(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Br(o);)o===33&&(n?Ne(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Ux.test(i)||Ne(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),ER.test(a)&&Ne(e,"tag suffix cannot contain flow indicator characters")}a&&!Gx.test(a)&&Ne(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Ne(e,"tag name is malformed: "+a)}return r?e.tag=a:mi.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:Ne(e,'undeclared tag handle "'+i+'"'),!0}function zR(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ne(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Br(r)&&!ka(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function $R(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Br(n)&&!ka(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),mi.call(e.anchorMap,r)||Ne(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ft(e,!0,-1),!0}function to(e,t,r,n,i){var a,o,s,l=1,u=!1,c=!1,h,f,d,v,y,p;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=bu===r||Wx===r,n&&Ft(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;NR(e)||zR(e);)Ft(e,!0,-1)?(u=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=u||i),(l===1||bu===r)&&(yu===r||Hx===r?y=t:y=t+1,p=e.position-e.lineStart,l===1?s&&(Xg(e,p)||IR(e,p,y))||OR(e,y)?c=!0:(o&&RR(e,y)||PR(e,y)||FR(e,y)?c=!0:$R(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&Ne(e,"alias node should not have any properties")):MR(e,y,yu===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=s&&Xg(e,p))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ne(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(v=e.implicitTypes[h],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(mi.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,d=e.typeMap.multi[e.kind||"fallback"],h=0,f=d.length;h<f;h+=1)if(e.tag.slice(0,d[h].tag.length)===d[h].tag){v=d[h];break}v||Ne(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&Ne(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ne(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function qR(e){var t=e.position,r,n,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Ft(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Br(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Ne(e,"directive name must not be less than one character in length");o!==0;){for(;Ji(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!xn(o));break}if(xn(o))break;for(r=e.position;o!==0&&!Br(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Ev(e),mi.call(Kg,n)?Kg[n](e,n,i):xu(e,'unknown document directive "'+n+'"')}if(Ft(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ft(e,!0,-1)):a&&Ne(e,"directives end mark is expected"),to(e,e.lineIndent-1,bu,!1,!0),Ft(e,!0,-1),e.checkLineBreaks&&SR.test(e.input.slice(t,e.position))&&xu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&lc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ft(e,!0,-1));return}if(e.position<e.length-1)Ne(e,"end of the stream or a document separator is expected");else return}function VR(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new DR(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Ne(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)qR(r);return r.documents}function HR(e,t){var r=VR(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new zn("expected a single document in the stream, but found more")}}var WR=HR,UR={load:WR},GR=$x,YR=UR.load;function KR(e){const t=e.match(ex);if(!t)return{text:e,metadata:{}};let r=YR(t[1],{schema:GR})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}const jR=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),XR=e=>{const{text:t,metadata:r}=KR(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},ZR=e=>{const t=Qo.detectInit(e)??{},r=Qo.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>{}):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:wM(e),directive:t}};function Xx(e){const t=jR(e),r=XR(t),n=ZR(r.text),i=sx(r.config,n.directive);return e=aO(n.text),{code:e,title:r.title,config:i}}const QR=5e4,JR="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",e5="sandbox",t5="loose",r5="http://www.w3.org/2000/svg",n5="http://www.w3.org/1999/xlink",i5="http://www.w3.org/1999/xhtml",a5="100%",o5="100%",s5="border:0;margin:0;",l5="margin:0",u5="allow-top-navigation-by-user-activation allow-popups",c5='The "iframe" tag is not supported by your browser.',h5=["foreignobject"],f5=["dominant-baseline"];function Zx(e){const t=Xx(e);return pu(),KM(t.config??{}),t}async function d5(e,t){_v(),e=Zx(e).code;try{await Av(e)}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}return!0}const Zg=(e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,v5=(e,t={})=>{var r;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!Xc(t)){const s=e.htmlLabels||((r=e.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in t){const u=t[l];Xc(u.styles)||s.forEach(c=>{n+=Zg(u.id,c,u.styles)}),Xc(u.textStyles)||(n+=Zg(u.id,"tspan",u.textStyles))}}return n},p5=(e,t,r,n)=>{const i=v5(e,r),a=vF(t,i,e.themeVariables);return nd(ED(`${n}{${a}}`),AD)},g5=(e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=WM(n),n=n.replace(/<br>/g,"<br/>"),n},m5=(e="",t)=>{var r,n;const i=(n=(r=t==null?void 0:t.viewBox)==null?void 0:r.baseVal)!=null&&n.height?t.viewBox.baseVal.height+"px":o5,a=btoa('<body style="'+l5+'">'+e+"</body>");return`<iframe style="width:${a5};height:${i};${s5}" src="data:text/html;base64,${a}" sandbox="${u5}">
  ${c5}
</iframe>`},Qg=(e,t,r,n,i)=>{const a=e.append("div");a.attr("id",r),n&&a.attr("style",n);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",r5);return i&&o.attr("xmlns:xlink",i),o.append("g"),e};function Jg(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const y5=(e,t,r,n)=>{var i,a,o;(i=e.getElementById(t))==null||i.remove(),(a=e.getElementById(r))==null||a.remove(),(o=e.getElementById(n))==null||o.remove()},b5=async function(e,t,r){var n,i,a,o,s,l;_v();const u=Zx(t);t=u.code;const c=_n();$e.debug(c),t.length>((c==null?void 0:c.maxTextSize)??QR)&&(t=JR);const h="#"+e,f="i"+e,d="#"+f,v="d"+e,y="#"+v;let p=Vr("body");const m=c.securityLevel===e5,g=c.securityLevel===t5,b=c.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),m){const $=Jg(Vr(r),f);p=Vr($.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Vr(r);Qg(p,e,v,`font-family: ${b}`,n5)}else{if(y5(document,e,v,f),m){const $=Jg(Vr("body"),f);p=Vr($.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Vr("body");Qg(p,e,v)}let x,w;try{x=await Av(t,{title:u.title})}catch($){x=new Ix("error"),w=$}const T=p.select(y).node(),C=x.type,S=T.firstChild,k=S.firstChild,A=(i=(n=x.renderer).getClasses)==null?void 0:i.call(n,t,x),E=p5(c,C,A,h),B=document.createElement("style");B.innerHTML=E,S.insertBefore(B,k);try{await x.renderer.draw(t,e,$g,x)}catch($){throw DF.draw(t,e,$g),$}const D=p.select(`${y} svg`),O=(o=(a=x.db).getAccTitle)==null?void 0:o.call(a),R=(l=(s=x.db).getAccDescription)==null?void 0:l.call(s);C5(C,D,O,R),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",i5);let P=p.select(y).node().innerHTML;if($e.debug("config.arrowMarkerAbsolute",c.arrowMarkerAbsolute),P=g5(P,m,Z1(c.arrowMarkerAbsolute)),m){const $=p.select(y+" svg").node();P=m5(P,$)}else g||(P=Ka.sanitize(P,{ADD_TAGS:h5,ADD_ATTR:f5}));if(tO(),w)throw w;const I=Vr(m?d:y).node();return I&&"remove"in I&&I.remove(),{svg:P,bindFunctions:x.db.bindFunctions}};function x5(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),GM(e),e!=null&&e.theme&&e.theme in Vn?e.themeVariables=Vn[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Vn.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?UM(e):ux();dv(r.logLevel),_v()}const Av=(e,t={})=>{const{code:r}=Xx(e);return eO(r,t)};function C5(e,t,r,n){nO(t,e),iO(t,r,n,t.attr("id"))}const na=Object.freeze({render:b5,parse:d5,getDiagramFromText:Av,initialize:x5,getConfig:_n,setConfig:cx,getSiteConfig:ux,updateSiteConfig:YM,reset:()=>{pu()},globalReset:()=>{pu(Ja)},defaultConfig:Ja});dv(_n().logLevel);pu(_n());const w5=async()=>{$e.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Qa).map(async([r,{detector:n,loader:i}])=>{if(i)try{Tv(r)}catch{try{const{diagram:o,id:s}=await i();mu(s,o,n)}catch(o){throw $e.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Qa[r],o}}}))).filter(r=>r.status==="rejected");if(t.length>0){$e.error(`Failed to load ${t.length} external diagrams`);for(const r of t)$e.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},T5=(e,t,r)=>{$e.warn(e),ox(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},Qx=async function(e={querySelector:".mermaid"}){try{await _5(e)}catch(t){if(ox(t)&&$e.error(t.str),Kr.parseError&&Kr.parseError(t),!e.suppressErrors)throw $e.error("Use the suppressErrors option to suppress these errors"),t}},_5=async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=na.getConfig();$e.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");$e.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&($e.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),na.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Qo.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const s=[];for(const l of Array.from(i)){$e.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;o=l.innerHTML,o=TS(Qo.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const c=Qo.detectInit(o);c&&$e.debug("Detected early reinit: ",c);try{const{svg:h,bindFunctions:f}=await rC(u,o,l);l.innerHTML=h,e&&await e(u),f&&f(l)}catch(h){T5(h,s,Kr.parseError)}}if(s.length>0)throw s[0]},Jx=function(e){na.initialize(e)},S5=async function(e,t,r){$e.warn("mermaid.init is deprecated. Please use run instead."),e&&Jx(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await Qx(n)},E5=async(e,{lazyLoad:t=!0}={})=>{rx(...e),t===!1&&await w5()},eC=function(){if(Kr.startOnLoad){const{startOnLoad:e}=na.getConfig();e&&Kr.run().catch(t=>$e.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",eC,!1)}const k5=function(e){Kr.parseError=e},Cu=[];let eh=!1;const tC=async()=>{if(!eh){for(eh=!0;Cu.length>0;){const e=Cu.shift();if(e)try{await e()}catch(t){$e.error("Error executing queue",t)}}eh=!1}},A5=async(e,t)=>new Promise((r,n)=>{const i=()=>new Promise((a,o)=>{na.parse(e,t).then(s=>{a(s),r(s)},s=>{var l;$e.error("Error parsing",s),(l=Kr.parseError)==null||l.call(Kr,s),o(s),n(s)})});Cu.push(i),tC().catch(n)}),rC=(e,t,r)=>new Promise((n,i)=>{const a=()=>new Promise((o,s)=>{na.render(e,t,r).then(l=>{o(l),n(l)},l=>{var u;$e.error("Error parsing",l),(u=Kr.parseError)==null||u.call(Kr,l),s(l),i(l)})});Cu.push(a),tC().catch(i)}),Kr={startOnLoad:!0,mermaidAPI:na,parse:A5,render:rC,init:S5,run:Qx,registerExternalDiagrams:E5,initialize:Jx,parseError:void 0,contentLoaded:eC,setParseErrorHandler:k5,detectType:oc};function fd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function B5(e){if(Array.isArray(e))return e}function L5(e){if(Array.isArray(e))return fd(e)}function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function Ai(e,t,r){return t&&D5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lr(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Bv(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||r.return==null||r.return()}finally{if(s)throw a}}}}function nC(e,t,r){return(t=iC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function F5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mt(e,t){return B5(e)||P5(e,t)||Bv(e,t)||F5()}function wu(e){return L5(e)||M5(e)||Bv(e)||O5()}function R5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iC(e){var t=R5(e,"string");return typeof t=="symbol"?t:t+""}function qt(e){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(e)}function Bv(e,t){if(e){if(typeof e=="string")return fd(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fd(e,t):void 0}}var zt=typeof window>"u"?null:window,em=zt?zt.navigator:null;zt&&zt.document;var I5=qt(""),aC=qt({}),N5=qt(function(){}),z5=typeof HTMLElement>"u"?"undefined":qt(HTMLElement),Is=function(t){return t&&t.instanceString&&_t(t.instanceString)?t.instanceString():null},ze=function(t){return t!=null&&qt(t)==I5},_t=function(t){return t!=null&&qt(t)===N5},dt=function(t){return!Pr(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},et=function(t){return t!=null&&qt(t)===aC&&!dt(t)&&t.constructor===Object},$5=function(t){return t!=null&&qt(t)===aC},be=function(t){return t!=null&&qt(t)===qt(1)&&!isNaN(t)},q5=function(t){return be(t)&&Math.floor(t)===t},Tu=function(t){if(z5!=="undefined")return t!=null&&t instanceof HTMLElement},Pr=function(t){return Ns(t)||oC(t)},Ns=function(t){return Is(t)==="collection"&&t._private.single},oC=function(t){return Is(t)==="collection"&&!t._private.single},Lv=function(t){return Is(t)==="core"},sC=function(t){return Is(t)==="stylesheet"},V5=function(t){return Is(t)==="event"},yi=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},H5=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},W5=function(t){return et(t)&&be(t.x1)&&be(t.x2)&&be(t.y1)&&be(t.y2)},U5=function(t){return $5(t)&&_t(t.then)},G5=function(){return em&&em.userAgent.match(/msie|trident|edge/i)},ro=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function(){var a=this,o=arguments,s,l=r.apply(a,o),u=n.cache;return(s=u[l])||(s=u[l]=t.apply(a,o)),s};return n.cache={},n},Dv=ro(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),uc=ro(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),lC=ro(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),tm=function(t){return yi(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},li=function(t,r){return t.slice(-1*r.length)===r},$t="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Y5="rgb[a]?\\(("+$t+"[%]?)\\s*,\\s*("+$t+"[%]?)\\s*,\\s*("+$t+"[%]?)(?:\\s*,\\s*("+$t+"))?\\)",K5="rgb[a]?\\((?:"+$t+"[%]?)\\s*,\\s*(?:"+$t+"[%]?)\\s*,\\s*(?:"+$t+"[%]?)(?:\\s*,\\s*(?:"+$t+"))?\\)",j5="hsl[a]?\\(("+$t+")\\s*,\\s*("+$t+"[%])\\s*,\\s*("+$t+"[%])(?:\\s*,\\s*("+$t+"))?\\)",X5="hsl[a]?\\((?:"+$t+")\\s*,\\s*(?:"+$t+"[%])\\s*,\\s*(?:"+$t+"[%])(?:\\s*,\\s*(?:"+$t+"))?\\)",Z5="\\#[0-9a-fA-F]{3}",Q5="\\#[0-9a-fA-F]{6}",uC=function(t,r){return t<r?-1:t>r?1:0},J5=function(t,r){return-1*uC(t,r)},Ve=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];e[o]=n[o]}}return e},eI=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,i,a,o=16;return r?(n=parseInt(t[1]+t[1],o),i=parseInt(t[2]+t[2],o),a=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),i=parseInt(t[3]+t[4],o),a=parseInt(t[5]+t[6],o)),[n,i,a]}},tI=function(t){var r,n,i,a,o,s,l,u;function c(v,y,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?v+(y-v)*6*p:p<1/2?y:p<2/3?v+(y-v)*(2/3-p)*6:v}var h=new RegExp("^"+j5+"$").exec(t);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,a=parseFloat(h[3]),a<0||a>100)||(a=a/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=l=u=Math.round(a*255);else{var f=a<.5?a*(1+i):a+i-a*i,d=2*a-f;s=Math.round(255*c(d,f,n+1/3)),l=Math.round(255*c(d,f,n)),u=Math.round(255*c(d,f,n-1/3))}r=[s,l,u,o]}return r},rI=function(t){var r,n=new RegExp("^"+Y5+"$").exec(t);if(n){r=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},nI=function(t){return iI[t.toLowerCase()]},cC=function(t){return(dt(t)?t:null)||nI(t)||eI(t)||rI(t)||tI(t)},iI={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hC=function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(et(o))throw Error("Tried to set map with object key");a<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},fC=function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(et(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var th,rm;function $s(){if(rm)return th;rm=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return th=e,th}var rh,nm;function aI(){if(nm)return rh;nm=1;var e=typeof al=="object"&&al&&al.Object===Object&&al;return rh=e,rh}var nh,im;function cc(){if(im)return nh;im=1;var e=aI(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return nh=r,nh}var ih,am;function oI(){if(am)return ih;am=1;var e=cc(),t=function(){return e.Date.now()};return ih=t,ih}var ah,om;function sI(){if(om)return ah;om=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ah=t,ah}var oh,sm;function lI(){if(sm)return oh;sm=1;var e=sI(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return oh=r,oh}var sh,lm;function Mv(){if(lm)return sh;lm=1;var e=cc(),t=e.Symbol;return sh=t,sh}var lh,um;function uI(){if(um)return lh;um=1;var e=Mv(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=n.call(o);return u&&(s?o[i]=l:delete o[i]),c}return lh=a,lh}var uh,cm;function cI(){if(cm)return uh;cm=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return uh=r,uh}var ch,hm;function dC(){if(hm)return ch;hm=1;var e=Mv(),t=uI(),r=cI(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return ch=o,ch}var hh,fm;function hI(){if(fm)return hh;fm=1;function e(t){return t!=null&&typeof t=="object"}return hh=e,hh}var fh,dm;function qs(){if(dm)return fh;dm=1;var e=dC(),t=hI(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return fh=n,fh}var dh,vm;function fI(){if(vm)return dh;vm=1;var e=lI(),t=$s(),r=qs(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=a.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?n:+u}return dh=l,dh}var vh,pm;function dI(){if(pm)return vh;pm=1;var e=$s(),t=oI(),r=fI(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var c,h,f,d,v,y,p=0,m=!1,g=!1,b=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(m=!!u.leading,g="maxWait"in u,f=g?i(r(u.maxWait)||0,l):f,b="trailing"in u?!!u.trailing:b);function x(D){var O=c,R=h;return c=h=void 0,p=D,d=s.apply(R,O),d}function w(D){return p=D,v=setTimeout(S,l),m?x(D):d}function T(D){var O=D-y,R=D-p,P=l-O;return g?a(P,f-R):P}function C(D){var O=D-y,R=D-p;return y===void 0||O>=l||O<0||g&&R>=f}function S(){var D=t();if(C(D))return k(D);v=setTimeout(S,T(D))}function k(D){return v=void 0,b&&c?x(D):(c=h=void 0,d)}function A(){v!==void 0&&clearTimeout(v),p=0,c=y=h=v=void 0}function E(){return v===void 0?d:k(t())}function B(){var D=t(),O=C(D);if(c=arguments,h=this,y=D,O){if(v===void 0)return w(y);if(g)return clearTimeout(v),v=setTimeout(S,l),x(y)}return v===void 0&&(v=setTimeout(S,l)),d}return B.cancel=A,B.flush=E,B}return vh=o,vh}var vI=dI(),Vs=zs(vI),ph=zt?zt.performance:null,vC=ph&&ph.now?function(){return ph.now()}:function(){return Date.now()},pI=(function(){if(zt){if(zt.requestAnimationFrame)return function(e){zt.requestAnimationFrame(e)};if(zt.mozRequestAnimationFrame)return function(e){zt.mozRequestAnimationFrame(e)};if(zt.webkitRequestAnimationFrame)return function(e){zt.webkitRequestAnimationFrame(e)};if(zt.msRequestAnimationFrame)return function(e){zt.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(vC())},1e3/60)}})(),_u=function(t){return pI(t)},Gn=vC,Wi=9261,pC=65599,Ea=5381,gC=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wi,n=r,i;i=t.next(),!i.done;)n=n*pC+i.value|0;return n},ms=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wi;return r*pC+t|0},ys=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ea;return(r<<5)+r+t|0},gI=function(t,r){return t*2097152+r},Qn=function(t){return t[0]*2097152+t[1]},ol=function(t,r){return[ms(t[0],r[0]),ys(t[1],r[1])]},gm=function(t,r){var n={value:0,done:!1},i=0,a=t.length,o={next:function(){return i<a?n.value=t[i++]:n.done=!0,n}};return gC(o,r)},ia=function(t,r){var n={value:0,done:!1},i=0,a=t.length,o={next:function(){return i<a?n.value=t.charCodeAt(i++):n.done=!0,n}};return gC(o,r)},mC=function(){return mI(arguments)},mI=function(t){for(var r,n=0;n<t.length;n++){var i=t[n];n===0?r=ia(i):r=ia(i,r)}return r};function yI(e,t,r,n,i){var a=i*Math.PI/180,o=Math.cos(a)*(e-r)-Math.sin(a)*(t-n)+r,s=Math.sin(a)*(e-r)+Math.cos(a)*(t-n)+n;return{x:o,y:s}}var bI=function(t,r,n,i,a,o){return{x:(t-n)*a+n,y:(r-i)*o+i}};function xI(e,t,r){if(r===0)return e;var n=(t.x1+t.x2)/2,i=(t.y1+t.y2)/2,a=t.w/t.h,o=1/a,s=yI(e.x,e.y,n,i,r),l=bI(s.x,s.y,n,i,a,o);return{x:l.x,y:l.y}}var mm=!0,CI=console.warn!=null,wI=console.trace!=null,Pv=Number.MAX_SAFE_INTEGER||9007199254740991,yC=function(){return!0},Su=function(){return!1},ym=function(){return 0},Fv=function(){},Ct=function(t){throw new Error(t)},bC=function(t){if(t!==void 0)mm=!!t;else return mm},ot=function(t){bC()&&(CI?console.warn(t):(console.log(t),wI&&console.trace()))},TI=function(t){return Ve({},t)},gn=function(t){return t==null?t:dt(t)?t.slice():et(t)?TI(t):t},_I=function(t){return t.slice()},xC=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},SI={},CC=function(){return SI},Zt=function(t){var r=Object.keys(t);return function(n){for(var i={},a=0;a<r.length;a++){var o=r[a],s=n==null?void 0:n[o];i[o]=s===void 0?t[o]:s}return i}},bi=function(t,r,n){for(var i=t.length-1;i>=0;i--)t[i]===r&&t.splice(i,1)},Ov=function(t){t.splice(0,t.length)},EI=function(t,r){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}},Er=function(t,r,n){return n&&(r=lC(n,r)),t[r]},Rn=function(t,r,n,i){n&&(r=lC(n,r)),t[r]=i},kI=(function(){function e(){ki(this,e),this._obj={}}return Ai(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),$n=typeof Map<"u"?Map:kI,AI="undefined",BI=(function(){function e(t){if(ki(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return Ai(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),uo=(typeof Set>"u"?"undefined":qt(Set))!==AI?Set:BI,hc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!Lv(t)){Ct("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Ct("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new uo,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=t.pan(),l=t.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];dt(r.classes)?u=r.classes:ze(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,h=u.length;c<h;c++){var f=u[c];!f||f===""||a.classes.add(f)}this.createEmitter(),(n===void 0||n)&&this.restore();var d=r.style||r.css;d&&(ot("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},bm=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,i,a){var o;et(n)&&!Pr(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!_t(i)?i:a,i=_t(i)?i:function(){};for(var s=this._private.cy,l=n=ze(n)?this.filter(n):n,u=[],c=[],h={},f={},d={},v=0,y,p=this.byGroup(),m=p.nodes,g=p.edges,b=0;b<l.length;b++){var x=l[b],w=x.id();x.isNode()&&(u.unshift(x),t.bfs&&(d[w]=!0,c.push(x)),f[w]=0)}for(var T=function(){var D=t.bfs?u.shift():u.pop(),O=D.id();if(t.dfs){if(d[O])return 0;d[O]=!0,c.push(D)}var R=f[O],P=h[O],M=P!=null?P.source():null,I=P!=null?P.target():null,$=P==null?void 0:D.same(M)?I[0]:M[0],U;if(U=i(D,P,$,v++,R),U===!0)return y=D,1;if(U===!1)return 1;for(var z=D.connectedEdges().filter(function(oe){return(!a||oe.source().same(D))&&g.has(oe)}),W=0;W<z.length;W++){var X=z[W],ie=X.connectedNodes().filter(function(oe){return!oe.same(D)&&m.has(oe)}),j=ie.id();ie.length!==0&&!d[j]&&(ie=ie[0],u.push(ie),t.bfs&&(d[j]=!0,c.push(ie)),h[j]=X,f[j]=f[O]+1)}},C;u.length!==0&&(C=T(),!(C!==0&&C===1)););for(var S=s.collection(),k=0;k<c.length;k++){var A=c[k],E=h[A.id()];E!=null&&S.push(E),S.push(A)}return{path:s.collection(S),found:s.collection(y)}}},bs={breadthFirstSearch:bm({bfs:!0}),depthFirstSearch:bm({dfs:!0})};bs.bfs=bs.breadthFirstSearch;bs.dfs=bs.depthFirstSearch;var Fl={exports:{}},LI=Fl.exports,xm;function DI(){return xm||(xm=1,(function(e,t){(function(){var r,n,i,a,o,s,l,u,c,h,f,d,v,y,p;i=Math.floor,h=Math.min,n=function(m,g){return m<g?-1:m>g?1:0},c=function(m,g,b,x,w){var T;if(b==null&&(b=0),w==null&&(w=n),b<0)throw new Error("lo must be non-negative");for(x==null&&(x=m.length);b<x;)T=i((b+x)/2),w(g,m[T])<0?x=T:b=T+1;return[].splice.apply(m,[b,b-b].concat(g)),g},s=function(m,g,b){return b==null&&(b=n),m.push(g),y(m,0,m.length-1,b)},o=function(m,g){var b,x;return g==null&&(g=n),b=m.pop(),m.length?(x=m[0],m[0]=b,p(m,0,g)):x=b,x},u=function(m,g,b){var x;return b==null&&(b=n),x=m[0],m[0]=g,p(m,0,b),x},l=function(m,g,b){var x;return b==null&&(b=n),m.length&&b(m[0],g)<0&&(x=[m[0],g],g=x[0],m[0]=x[1],p(m,0,b)),g},a=function(m,g){var b,x,w,T,C,S;for(g==null&&(g=n),T=(function(){S=[];for(var k=0,A=i(m.length/2);0<=A?k<A:k>A;0<=A?k++:k--)S.push(k);return S}).apply(this).reverse(),C=[],x=0,w=T.length;x<w;x++)b=T[x],C.push(p(m,b,g));return C},v=function(m,g,b){var x;if(b==null&&(b=n),x=m.indexOf(g),x!==-1)return y(m,0,x,b),p(m,x,b)},f=function(m,g,b){var x,w,T,C,S;if(b==null&&(b=n),w=m.slice(0,g),!w.length)return w;for(a(w,b),S=m.slice(g),T=0,C=S.length;T<C;T++)x=S[T],l(w,x,b);return w.sort(b).reverse()},d=function(m,g,b){var x,w,T,C,S,k,A,E,B;if(b==null&&(b=n),g*10<=m.length){if(T=m.slice(0,g).sort(b),!T.length)return T;for(w=T[T.length-1],A=m.slice(g),C=0,k=A.length;C<k;C++)x=A[C],b(x,w)<0&&(c(T,x,0,null,b),T.pop(),w=T[T.length-1]);return T}for(a(m,b),B=[],S=0,E=h(g,m.length);0<=E?S<E:S>E;0<=E?++S:--S)B.push(o(m,b));return B},y=function(m,g,b,x){var w,T,C;for(x==null&&(x=n),w=m[b];b>g;){if(C=b-1>>1,T=m[C],x(w,T)<0){m[b]=T,b=C;continue}break}return m[b]=w},p=function(m,g,b){var x,w,T,C,S;for(b==null&&(b=n),w=m.length,S=g,T=m[g],x=2*g+1;x<w;)C=x+1,C<w&&!(b(m[x],m[C])<0)&&(x=C),m[g]=m[x],g=x,x=2*g+1;return m[g]=T,y(m,S,g,b)},r=(function(){m.push=s,m.pop=o,m.replace=u,m.pushpop=l,m.heapify=a,m.updateItem=v,m.nlargest=f,m.nsmallest=d;function m(g){this.cmp=g??n,this.nodes=[]}return m.prototype.push=function(g){return s(this.nodes,g,this.cmp)},m.prototype.pop=function(){return o(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(g){return this.nodes.indexOf(g)!==-1},m.prototype.replace=function(g){return u(this.nodes,g,this.cmp)},m.prototype.pushpop=function(g){return l(this.nodes,g,this.cmp)},m.prototype.heapify=function(){return a(this.nodes,this.cmp)},m.prototype.updateItem=function(g){return v(this.nodes,g,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var g;return g=new m,g.nodes=this.nodes.slice(0),g},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m})(),(function(m,g){return e.exports=g()})(this,function(){return r})}).call(LI)})(Fl)),Fl.exports}var gh,Cm;function MI(){return Cm||(Cm=1,gh=DI()),gh}var PI=MI(),Hs=zs(PI),FI=Zt({root:null,weight:function(t){return 1},directed:!1}),OI={dijkstra:function(t){if(!et(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=FI(t),i=n.root,a=n.weight,o=n.directed,s=this,l=a,u=ze(i)?this.filter(i)[0]:i[0],c={},h={},f={},d=this.byGroup(),v=d.nodes,y=d.edges;y.unmergeBy(function(R){return R.isLoop()});for(var p=function(P){return c[P.id()]},m=function(P,M){c[P.id()]=M,g.updateItem(P)},g=new Hs(function(R,P){return p(R)-p(P)}),b=0;b<v.length;b++){var x=v[b];c[x.id()]=x.same(u)?0:1/0,g.push(x)}for(var w=function(P,M){for(var I=(o?P.edgesTo(M):P.edgesWith(M)).intersect(y),$=1/0,U,z=0;z<I.length;z++){var W=I[z],X=l(W);(X<$||!U)&&($=X,U=W)}return{edge:U,dist:$}};g.size()>0;){var T=g.pop(),C=p(T),S=T.id();if(f[S]=C,C!==1/0)for(var k=T.neighborhood().intersect(v),A=0;A<k.length;A++){var E=k[A],B=E.id(),D=w(T,E),O=C+D.dist;O<p(E)&&(m(E,O),h[B]={node:T,edge:D.edge})}}return{distanceTo:function(P){var M=ze(P)?v.filter(P)[0]:P[0];return f[M.id()]},pathTo:function(P){var M=ze(P)?v.filter(P)[0]:P[0],I=[],$=M,U=$.id();if(M.length>0)for(I.unshift(M);h[U];){var z=h[U];I.unshift(z.edge),I.unshift(z.node),$=z.node,U=$.id()}return s.spawn(I)}}}},RI={kruskal:function(t){t=t||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,o=new Array(a),s=n,l=function(x){for(var w=0;w<o.length;w++){var T=o[w];if(T.has(x))return w}},u=0;u<a;u++)o[u]=this.spawn(n[u]);for(var c=i.sort(function(b,x){return t(b)-t(x)}),h=0;h<c.length;h++){var f=c[h],d=f.source()[0],v=f.target()[0],y=l(d),p=l(v),m=o[y],g=o[p];y!==p&&(s.merge(f),m.merge(g),o.splice(p,1))}return s}},II=Zt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),NI={aStar:function(t){var r=this.cy(),n=II(t),i=n.root,a=n.goal,o=n.heuristic,s=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),c=a.id(),h={},f={},d={},v=new Hs(function(U,z){return f[U.id()]-f[z.id()]}),y=new uo,p={},m={},g=function(z,W){v.push(z),y.add(W)},b,x,w=function(){b=v.pop(),x=b.id(),y.delete(x)},T=function(z){return y.has(z)};g(i,u),h[u]=0,f[u]=o(i);for(var C=0;v.size()>0;){if(w(),C++,x===c){for(var S=[],k=a,A=c,E=m[A];S.unshift(k),E!=null&&S.unshift(E),k=p[A],k!=null;)A=k.id(),E=m[A];return{found:!0,distance:h[x],path:this.spawn(S),steps:C}}d[x]=!0;for(var B=b._private.edges,D=0;D<B.length;D++){var O=B[D];if(this.hasElementWithId(O.id())&&!(s&&O.data("source")!==x)){var R=O.source(),P=O.target(),M=R.id()!==x?R:P,I=M.id();if(this.hasElementWithId(I)&&!d[I]){var $=h[x]+l(O);if(!T(I)){h[I]=$,f[I]=$+o(M),g(M,I),p[I]=b,m[I]=O;continue}$<h[I]&&(h[I]=$,f[I]=$+o(M),p[I]=b,m[I]=O)}}}}return{found:!1,distance:void 0,path:void 0,steps:C}}},zI=Zt({weight:function(t){return 1},directed:!1}),$I={floydWarshall:function(t){for(var r=this.cy(),n=zI(t),i=n.weight,a=n.directed,o=i,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=c*c,f=function(X){return l.indexOf(X)},d=function(X){return l[X]},v=new Array(h),y=0;y<h;y++){var p=y%c,m=(y-p)/c;m===p?v[y]=0:v[y]=1/0}for(var g=new Array(h),b=new Array(h),x=0;x<u.length;x++){var w=u[x],T=w.source()[0],C=w.target()[0];if(T!==C){var S=f(T),k=f(C),A=S*c+k,E=o(w);if(v[A]>E&&(v[A]=E,g[A]=k,b[A]=w),!a){var B=k*c+S;!a&&v[B]>E&&(v[B]=E,g[B]=S,b[B]=w)}}}for(var D=0;D<c;D++)for(var O=0;O<c;O++)for(var R=O*c+D,P=0;P<c;P++){var M=O*c+P,I=D*c+P;v[R]+v[I]<v[M]&&(v[M]=v[R]+v[I],g[M]=g[R])}var $=function(X){return(ze(X)?r.filter(X):X)[0]},U=function(X){return f($(X))},z={distance:function(X,ie){var j=U(X),oe=U(ie);return v[j*c+oe]},path:function(X,ie){var j=U(X),oe=U(ie),ce=d(j);if(j===oe)return ce.collection();if(g[j*c+oe]==null)return r.collection();var de=r.collection(),se=j,G;for(de.merge(ce);j!==oe;)se=j,j=g[j*c+oe],G=b[se*c+j],de.merge(G),de.merge(d(j));return de}};return z}},qI=Zt({weight:function(t){return 1},directed:!1,root:null}),VI={bellmanFord:function(t){var r=this,n=qI(t),i=n.weight,a=n.directed,o=n.root,s=i,l=this,u=this.cy(),c=this.byGroup(),h=c.edges,f=c.nodes,d=f.length,v=new $n,y=!1,p=[];o=u.collection(o)[0],h.unmergeBy(function(H){return H.isLoop()});for(var m=h.length,g=function(Z){var ne=v.get(Z.id());return ne||(ne={},v.set(Z.id(),ne)),ne},b=function(Z){return(ze(Z)?u.$(Z):Z)[0]},x=function(Z){return g(b(Z)).dist},w=function(Z){for(var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,te=b(Z),re=[],ve=te;;){if(ve==null)return r.spawn();var fe=g(ve),pe=fe.edge,me=fe.pred;if(re.unshift(ve[0]),ve.same(ne)&&re.length>0)break;pe!=null&&re.unshift(pe),ve=me}return l.spawn(re)},T=0;T<d;T++){var C=f[T],S=g(C);C.same(o)?S.dist=0:S.dist=1/0,S.pred=null,S.edge=null}for(var k=!1,A=function(Z,ne,te,re,ve,fe){var pe=re.dist+fe;pe<ve.dist&&!te.same(re.edge)&&(ve.dist=pe,ve.pred=Z,ve.edge=te,k=!0)},E=1;E<d;E++){k=!1;for(var B=0;B<m;B++){var D=h[B],O=D.source(),R=D.target(),P=s(D),M=g(O),I=g(R);A(O,R,D,M,I,P),a||A(R,O,D,I,M,P)}if(!k)break}if(k)for(var $=[],U=0;U<m;U++){var z=h[U],W=z.source(),X=z.target(),ie=s(z),j=g(W).dist,oe=g(X).dist;if(j+ie<oe||!a&&oe+ie<j)if(y||(ot("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),t.findNegativeWeightCycles!==!1){var ce=[];j+ie<oe&&ce.push(W),!a&&oe+ie<j&&ce.push(X);for(var de=ce.length,se=0;se<de;se++){var G=ce[se],K=[G];K.push(g(G).edge);for(var _=g(G).pred;K.indexOf(_)===-1;)K.push(_),K.push(g(_).edge),_=g(_).pred;K=K.slice(K.indexOf(_));for(var F=K[0].id(),V=0,ee=2;ee<K.length;ee+=2)K[ee].id()<F&&(F=K[ee].id(),V=ee);K=K.slice(V).concat(K.slice(0,V)),K.push(K[0]);var q=K.map(function(H){return H.id()}).join(",");$.indexOf(q)===-1&&(p.push(l.spawn(K)),$.push(q))}}else break}return{distanceTo:x,pathTo:w,hasNegativeWeightCycle:y,negativeWeightCycles:p}}},HI=Math.sqrt(2),WI=function(t,r,n){n.length===0&&Ct("Karger-Stein must be run on a connected (sub)graph");for(var i=n[t],a=i[1],o=i[2],s=r[a],l=r[o],u=n,c=u.length-1;c>=0;c--){var h=u[c],f=h[1],d=h[2];(r[f]===s&&r[d]===l||r[f]===l&&r[d]===s)&&u.splice(c,1)}for(var v=0;v<u.length;v++){var y=u[v];y[1]===l?(u[v]=y.slice(),u[v][1]=s):y[2]===l&&(u[v]=y.slice(),u[v][2]=s)}for(var p=0;p<r.length;p++)r[p]===l&&(r[p]=s);return u},mh=function(t,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=WI(a,t,r),n--}return r},UI={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(I){return I.isLoop()});var a=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/HI);if(a<2){Ct("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var h=i[c];u.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var f=1/0,d=[],v=new Array(a),y=new Array(a),p=new Array(a),m=function($,U){for(var z=0;z<a;z++)U[z]=$[z]},g=0;g<=s;g++){for(var b=0;b<a;b++)y[b]=b;var x=mh(y,u.slice(),a,l),w=x.slice();m(y,p);var T=mh(y,x,l,2),C=mh(p,w,l,2);T.length<=C.length&&T.length<f?(f=T.length,d=T,m(y,v)):C.length<=T.length&&C.length<f&&(f=C.length,d=C,m(p,v))}for(var S=this.spawn(d.map(function(I){return i[I[0]]})),k=this.spawn(),A=this.spawn(),E=v[0],B=0;B<v.length;B++){var D=v[B],O=n[B];D===E?k.merge(O):A.merge(O)}var R=function($){var U=t.spawn();return $.forEach(function(z){U.merge(z),z.connectedEdges().forEach(function(W){t.contains(W)&&!S.contains(W)&&U.merge(W)})}),U},P=[R(k),R(A)],M={cut:S,components:P,partition1:k,partition2:A};return M}},yh,GI=function(t){return{x:t.x,y:t.y}},fc=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},wC=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},Ba=function(t){return{x:t[0],y:t[1]}},YI=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=1/0,a=r;a<n;a++){var o=t[a];isFinite(o)&&(i=Math.min(o,i))}return i},KI=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=-1/0,a=r;a<n;a++){var o=t[a];isFinite(o)&&(i=Math.max(o,i))}return i},jI=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=0,a=0,o=r;o<n;o++){var s=t[o];isFinite(s)&&(i+=s,a++)}return i/a},XI=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var s=0,l=t.length-1;l>=0;l--){var u=t[l];o?isFinite(u)||(t[l]=-1/0,s++):t.splice(l,1)}a&&t.sort(function(f,d){return f-d});var c=t.length,h=Math.floor(c/2);return c%2!==0?t[h+1+s]:(t[h-1+s]+t[h+s])/2},ZI=function(t){return Math.PI*t/180},sl=function(t,r){return Math.atan2(r,t)-Math.PI/2},Rv=Math.log2||function(e){return Math.log(e)/Math.log(2)},Iv=function(t){return t>0?1:t<0?-1:0},aa=function(t,r){return Math.sqrt(Vi(t,r))},Vi=function(t,r){var n=r.x-t.x,i=r.y-t.y;return n*n+i*i},QI=function(t){for(var r=t.length,n=0,i=0;i<r;i++)n+=t[i];for(var a=0;a<r;a++)t[a]=t[a]/n;return t},Ut=function(t,r,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*r+i*i*n},$a=function(t,r,n,i){return{x:Ut(t.x,r.x,n.x,i),y:Ut(t.y,r.y,n.y,i)}},JI=function(t,r,n,i){var a={x:r.x-t.x,y:r.y-t.y},o=aa(t,r),s={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:t.x+s.x*i,y:t.y+s.y*i}},xs=function(t,r,n){return Math.max(t,Math.min(n,r))},wr=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},eN=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},tN=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},rN=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},TC=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},Ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(r.length===1)n=i=a=o=r[0];else if(r.length===2)n=a=r[0],o=i=r[1];else if(r.length===4){var s=Mt(r,4);n=s[0],i=s[1],a=s[2],o=s[3]}return t.x1-=o,t.x2+=i,t.y1-=n,t.y2+=a,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},wm=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Nv=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},ui=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},Tm=function(t,r){return ui(t,r.x,r.y)},_C=function(t,r){return ui(t,r.x1,r.y1)&&ui(t,r.x2,r.y2)},nN=(yh=Math.hypot)!==null&&yh!==void 0?yh:function(e,t){return Math.sqrt(e*e+t*t)};function iN(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(S,k){return{x:S.x+k.x,y:S.y+k.y}},n=function(S,k){return{x:S.x-k.x,y:S.y-k.y}},i=function(S,k){return{x:S.x*k,y:S.y*k}},a=function(S,k){return S.x*k.y-S.y*k.x},o=function(S){var k=nN(S.x,S.y);return k===0?{x:0,y:0}:{x:S.x/k,y:S.y/k}},s=function(S){for(var k=0,A=0;A<S.length;A++){var E=S[A],B=S[(A+1)%S.length];k+=E.x*B.y-B.x*E.y}return k/2},l=function(S,k,A,E){var B=n(k,S),D=n(E,A),O=a(B,D);if(Math.abs(O)<1e-9)return r(S,i(B,.5));var R=a(n(A,S),D)/O;return r(S,i(B,R))},u=e.map(function(C){return{x:C.x,y:C.y}});s(u)<0&&u.reverse();for(var c=u.length,h=[],f=0;f<c;f++){var d=u[f],v=u[(f+1)%c],y=n(v,d),p=o({x:y.y,y:-y.x});h.push(p)}for(var m=h.map(function(C,S){var k=r(u[S],i(C,t)),A=r(u[(S+1)%c],i(C,t));return{p1:k,p2:A}}),g=[],b=0;b<c;b++){var x=m[(b-1+c)%c],w=m[b],T=l(x.p1,x.p2,w.p1,w.p2);g.push(T)}return g}function aN(e,t,r,n,i,a){var o=vN(e,t,r,n,i),s=iN(o,a),l=wr();return s.forEach(function(u){return TC(l,u.x,u.y)}),l}var SC=function(t,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?xi(a,o):l,c=a/2,h=o/2;u=Math.min(u,c,h);var f=u!==c,d=u!==h,v;if(f){var y=n-c+u-s,p=i-h-s,m=n+c-u+s,g=p;if(v=ci(t,r,n,i,y,p,m,g,!1),v.length>0)return v}if(d){var b=n+c+s,x=i-h+u-s,w=b,T=i+h-u+s;if(v=ci(t,r,n,i,b,x,w,T,!1),v.length>0)return v}if(f){var C=n-c+u-s,S=i+h+s,k=n+c-u+s,A=S;if(v=ci(t,r,n,i,C,S,k,A,!1),v.length>0)return v}if(d){var E=n-c-s,B=i-h+u-s,D=E,O=i+h-u+s;if(v=ci(t,r,n,i,E,B,D,O,!1),v.length>0)return v}var R;{var P=n-c+u,M=i-h+u;if(R=No(t,r,n,i,P,M,u+s),R.length>0&&R[0]<=P&&R[1]<=M)return[R[0],R[1]]}{var I=n+c-u,$=i-h+u;if(R=No(t,r,n,i,I,$,u+s),R.length>0&&R[0]>=I&&R[1]<=$)return[R[0],R[1]]}{var U=n+c-u,z=i+h-u;if(R=No(t,r,n,i,U,z,u+s),R.length>0&&R[0]>=U&&R[1]>=z)return[R[0],R[1]]}{var W=n-c+u,X=i+h-u;if(R=No(t,r,n,i,W,X,u+s),R.length>0&&R[0]<=W&&R[1]>=X)return[R[0],R[1]]}return[]},oN=function(t,r,n,i,a,o,s){var l=s,u=Math.min(n,a),c=Math.max(n,a),h=Math.min(i,o),f=Math.max(i,o);return u-l<=t&&t<=c+l&&h-l<=r&&r<=f+l},sN=function(t,r,n,i,a,o,s,l,u){var c={x1:Math.min(n,s,a)-u,x2:Math.max(n,s,a)+u,y1:Math.min(i,l,o)-u,y2:Math.max(i,l,o)+u};return!(t<c.x1||t>c.x2||r<c.y1||r>c.y2)},lN=function(t,r,n,i){n-=i;var a=r*r-4*t*n;if(a<0)return[];var o=Math.sqrt(a),s=2*t,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},uN=function(t,r,n,i,a){var o=1e-5;t===0&&(t=o),r/=t,n/=t,i/=t;var s,l,u,c,h,f,d,v;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,a[1]=0,d=r/3,s>0){h=u+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),f=u-Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),a[0]=-d+h+f,d+=(h+f)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-f+h)/2,a[3]=d,a[5]=-d;return}if(a[5]=a[3]=0,s===0){v=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-d+2*v,a[4]=a[2]=-(v+d);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),v=2*Math.sqrt(l),a[0]=-d+v*Math.cos(c/3),a[2]=-d+v*Math.cos((c+2*Math.PI)/3),a[4]=-d+v*Math.cos((c+4*Math.PI)/3)},cN=function(t,r,n,i,a,o,s,l){var u=1*n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*l+4*o*o-4*o*l+l*l,c=9*n*a-3*n*n-3*n*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*l-6*o*o+3*o*l,h=3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t+3*i*i-6*i*o+i*l-i*r+2*o*o+2*o*r-l*r,f=1*n*a-n*n+n*t-a*t+i*o-i*i+i*r-o*r,d=[];uN(u,c,h,f,d);for(var v=1e-7,y=[],p=0;p<6;p+=2)Math.abs(d[p+1])<v&&d[p]>=0&&d[p]<=1&&y.push(d[p]);y.push(1),y.push(0);for(var m=-1,g,b,x,w=0;w<y.length;w++)g=Math.pow(1-y[w],2)*n+2*(1-y[w])*y[w]*a+y[w]*y[w]*s,b=Math.pow(1-y[w],2)*i+2*(1-y[w])*y[w]*o+y[w]*y[w]*l,x=Math.pow(g-t,2)+Math.pow(b-r,2),m>=0?x<m&&(m=x):m=x;return m},hN=function(t,r,n,i,a,o){var s=[t-n,r-i],l=[a-n,o-i],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],h=s[0]*l[0]+s[1]*l[1],f=h*h/u;return h<0?c:f>u?(t-a)*(t-a)+(r-o)*(r-o):c-f},kr=function(t,r,n){for(var i,a,o,s,l,u=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(i==t&&o==t))if(i>=t&&t>=o||i<=t&&t<=o)l=(t-i)/(o-i)*(s-a)+a,l>r&&u++;else continue;return u%2!==0},Yn=function(t,r,n,i,a,o,s,l,u){var c=new Array(n.length),h;l[0]!=null?(h=Math.atan(l[1]/l[0]),l[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=l;for(var f=Math.cos(-h),d=Math.sin(-h),v=0;v<c.length/2;v++)c[v*2]=o/2*(n[v*2]*f-n[v*2+1]*d),c[v*2+1]=s/2*(n[v*2+1]*f+n[v*2]*d),c[v*2]+=i,c[v*2+1]+=a;var y;if(u>0){var p=ku(c,-u);y=Eu(p)}else y=c;return kr(t,r,y)},fN=function(t,r,n,i,a,o,s,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var h=l[c];u[c*4+0]=h.startX,u[c*4+1]=h.startY,u[c*4+2]=h.stopX,u[c*4+3]=h.stopY;var f=Math.pow(h.cx-t,2)+Math.pow(h.cy-r,2);if(f<=Math.pow(h.radius,2))return!0}return kr(t,r,u)},Eu=function(t){for(var r=new Array(t.length/2),n,i,a,o,s,l,u,c,h=0;h<t.length/4;h++){n=t[h*4],i=t[h*4+1],a=t[h*4+2],o=t[h*4+3],h<t.length/4-1?(s=t[(h+1)*4],l=t[(h+1)*4+1],u=t[(h+1)*4+2],c=t[(h+1)*4+3]):(s=t[0],l=t[1],u=t[2],c=t[3]);var f=ci(n,i,a,o,s,l,u,c,!0);r[h*2]=f[0],r[h*2+1]=f[1]}return r},ku=function(t,r){for(var n=new Array(t.length*2),i,a,o,s,l=0;l<t.length/2;l++){i=t[l*2],a=t[l*2+1],l<t.length/2-1?(o=t[(l+1)*2],s=t[(l+1)*2+1]):(o=t[0],s=t[1]);var u=s-a,c=-(o-i),h=Math.sqrt(u*u+c*c),f=u/h,d=c/h;n[l*4]=i+f*r,n[l*4+1]=a+d*r,n[l*4+2]=o+f*r,n[l*4+3]=s+d*r}return n},dN=function(t,r,n,i,a,o){var s=n-t,l=i-r;s/=a,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var h=c/u;return[(n-t)*h+t,(i-r)*h+r]},ji=function(t,r,n,i,a,o,s){return t-=a,r-=o,t/=n/2+s,r/=i/2+s,t*t+r*r<=1},No=function(t,r,n,i,a,o,s){var l=[n-t,i-r],u=[t-a,r-o],c=l[0]*l[0]+l[1]*l[1],h=2*(u[0]*l[0]+u[1]*l[1]),f=u[0]*u[0]+u[1]*u[1]-s*s,d=h*h-4*c*f;if(d<0)return[];var v=(-h+Math.sqrt(d))/(2*c),y=(-h-Math.sqrt(d))/(2*c),p=Math.min(v,y),m=Math.max(v,y),g=[];if(p>=0&&p<=1&&g.push(p),m>=0&&m<=1&&g.push(m),g.length===0)return[];var b=g[0]*l[0]+t,x=g[0]*l[1]+r;if(g.length>1){if(g[0]==g[1])return[b,x];var w=g[1]*l[0]+t,T=g[1]*l[1]+r;return[b,x,w,T]}else return[b,x]},bh=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},ci=function(t,r,n,i,a,o,s,l,u){var c=t-a,h=n-t,f=s-a,d=r-o,v=i-r,y=l-o,p=f*d-y*c,m=h*d-v*c,g=y*h-f*v;if(g!==0){var b=p/g,x=m/g,w=.001,T=0-w,C=1+w;return T<=b&&b<=C&&T<=x&&x<=C?[t+b*h,r+b*v]:u?[t+b*h,r+b*v]:[]}else return p===0||m===0?bh(t,n,s)===s?[s,l]:bh(t,n,a)===a?[a,o]:bh(a,s,n)===n?[n,i]:[]:[]},vN=function(t,r,n,i,a){var o=[],s=i/2,l=a/2,u=r,c=n;o.push({x:u+s*t[0],y:c+l*t[1]});for(var h=1;h<t.length/2;h++)o.push({x:u+s*t[h*2],y:c+l*t[h*2+1]});return o},Cs=function(t,r,n,i,a,o,s,l){var u=[],c,h=new Array(n.length),f=!0;o==null&&(f=!1);var d;if(f){for(var v=0;v<h.length/2;v++)h[v*2]=n[v*2]*o+i,h[v*2+1]=n[v*2+1]*s+a;if(l>0){var y=ku(h,-l);d=Eu(y)}else d=h}else d=n;for(var p,m,g,b,x=0;x<d.length/2;x++)p=d[x*2],m=d[x*2+1],x<d.length/2-1?(g=d[(x+1)*2],b=d[(x+1)*2+1]):(g=d[0],b=d[1]),c=ci(t,r,i,a,p,m,g,b),c.length!==0&&u.push(c[0],c[1]);return u},pN=function(t,r,n,i,a,o,s,l,u){var c=[],h,f=new Array(n.length*2);u.forEach(function(g,b){b===0?(f[f.length-2]=g.startX,f[f.length-1]=g.startY):(f[b*4-2]=g.startX,f[b*4-1]=g.startY),f[b*4]=g.stopX,f[b*4+1]=g.stopY,h=No(t,r,i,a,g.cx,g.cy,g.radius),h.length!==0&&c.push(h[0],h[1])});for(var d=0;d<f.length/4;d++)h=ci(t,r,i,a,f[d*4],f[d*4+1],f[d*4+2],f[d*4+3],!1),h.length!==0&&c.push(h[0],h[1]);if(c.length>2){for(var v=[c[0],c[1]],y=Math.pow(v[0]-t,2)+Math.pow(v[1]-r,2),p=1;p<c.length/2;p++){var m=Math.pow(c[p*2]-t,2)+Math.pow(c[p*2+1]-r,2);m<=y&&(v[0]=c[p*2],v[1]=c[p*2+1],y=m)}return v}return c},ll=function(t,r,n){var i=[t[0]-r[0],t[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[r[0]+o*i[0],r[1]+o*i[1]]},dr=function(t,r){var n=dd(t,r);return n=EC(n),n},EC=function(t){for(var r,n,i=t.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i;u++)r=t[2*u],n=t[2*u+1],a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var c=2/(s-a),h=2/(l-o),f=0;f<i;f++)r=t[2*f]=t[2*f]*c,n=t[2*f+1]=t[2*f+1]*h,a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var d=0;d<i;d++)n=t[2*d+1]=t[2*d+1]+(-1-o);return t},dd=function(t,r){var n=1/t*2*Math.PI,i=t%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(t*2),o,s=0;s<t;s++)o=s*n+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},xi=function(t,r){return Math.min(t/4,r/4,8)},kC=function(t,r){return Math.min(t/10,r/10,8)},zv=function(){return 8},gN=function(t,r,n){return[t-2*r+n,2*(r-t),t]},vd=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};function xh(e,t){function r(h){for(var f=[],d=0;d<h.length;d++){var v=h[d],y=h[(d+1)%h.length],p={x:y.x-v.x,y:y.y-v.y},m={x:-p.y,y:p.x},g=Math.sqrt(m.x*m.x+m.y*m.y);f.push({x:m.x/g,y:m.y/g})}return f}function n(h,f){var d=1/0,v=-1/0,y=Lr(h),p;try{for(y.s();!(p=y.n()).done;){var m=p.value,g=m.x*f.x+m.y*f.y;d=Math.min(d,g),v=Math.max(v,g)}}catch(b){y.e(b)}finally{y.f()}return{min:d,max:v}}function i(h,f){return!(h.max<f.min||f.max<h.min)}var a=[].concat(wu(r(e)),wu(r(t))),o=Lr(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n(e,l),c=n(t,l);if(!i(u,c))return!1}}catch(h){o.e(h)}finally{o.f()}return!0}var mN=Zt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),yN={pageRank:function(t){for(var r=mN(t),n=r.dampingFactor,i=r.precision,a=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,h=u.length,f=h*h,d=c.length,v=new Array(f),y=new Array(h),p=(1-n)/h,m=0;m<h;m++){for(var g=0;g<h;g++){var b=m*h+g;v[b]=0}y[m]=0}for(var x=0;x<d;x++){var w=c[x],T=w.data("source"),C=w.data("target");if(T!==C){var S=u.indexOfId(T),k=u.indexOfId(C),A=o(w),E=k*h+S;v[E]+=A,y[S]+=A}}for(var B=1/h+p,D=0;D<h;D++)if(y[D]===0)for(var O=0;O<h;O++){var R=O*h+D;v[R]=B}else for(var P=0;P<h;P++){var M=P*h+D;v[M]=v[M]/y[D]+p}for(var I=new Array(h),$=new Array(h),U,z=0;z<h;z++)I[z]=1;for(var W=0;W<a;W++){for(var X=0;X<h;X++)$[X]=0;for(var ie=0;ie<h;ie++)for(var j=0;j<h;j++){var oe=ie*h+j;$[ie]+=v[oe]*I[j]}QI($),U=I,I=$,$=U;for(var ce=0,de=0;de<h;de++){var se=U[de]-I[de];ce+=se*se}if(ce<i)break}var G={rank:function(_){return _=s.collection(_)[0],I[u.indexOf(_)]}};return G}},_m=Zt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),qa={degreeCentralityNormalized:function(t){t=_m(t);var r=this.cy(),n=this.nodes(),i=n.length;if(t.directed){for(var c={},h={},f=0,d=0,v=0;v<i;v++){var y=n[v],p=y.id();t.root=y;var m=this.degreeCentrality(t);f<m.indegree&&(f=m.indegree),d<m.outdegree&&(d=m.outdegree),c[p]=m.indegree,h[p]=m.outdegree}return{indegree:function(b){return f==0?0:(ze(b)&&(b=r.filter(b)),c[b.id()]/f)},outdegree:function(b){return d===0?0:(ze(b)&&(b=r.filter(b)),h[b.id()]/d)}}}else{for(var a={},o=0,s=0;s<i;s++){var l=n[s];t.root=l;var u=this.degreeCentrality(t);o<u.degree&&(o=u.degree),a[l.id()]=u.degree}return{degree:function(b){return o===0?0:(ze(b)&&(b=r.filter(b)),a[b.id()]/o)}}}},degreeCentrality:function(t){t=_m(t);var r=this.cy(),n=this,i=t,a=i.root,o=i.weight,s=i.directed,l=i.alpha;if(a=r.collection(a)[0],s){for(var d=a.connectedEdges(),v=d.filter(function(T){return T.target().same(a)&&n.has(T)}),y=d.filter(function(T){return T.source().same(a)&&n.has(T)}),p=v.length,m=y.length,g=0,b=0,x=0;x<v.length;x++)g+=o(v[x]);for(var w=0;w<y.length;w++)b+=o(y[w]);return{indegree:Math.pow(p,1-l)*Math.pow(g,l),outdegree:Math.pow(m,1-l)*Math.pow(b,l)}}else{for(var u=a.connectedEdges().intersection(n),c=u.length,h=0,f=0;f<u.length;f++)h+=o(u[f]);return{degree:Math.pow(c,1-l)*Math.pow(h,l)}}}};qa.dc=qa.degreeCentrality;qa.dcn=qa.degreeCentralityNormalised=qa.degreeCentralityNormalized;var Sm=Zt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Va={closenessCentralityNormalized:function(t){for(var r=Sm(t),n=r.harmonic,i=r.weight,a=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),h=0;h<u.length;h++){for(var f=0,d=u[h],v=0;v<u.length;v++)if(h!==v){var y=c.distance(d,u[v]);n?f+=1/y:f+=y}n||(f=1/f),l<f&&(l=f),s[d.id()]=f}return{closeness:function(m){return l==0?0:(ze(m)?m=o.filter(m)[0].id():m=m.id(),s[m]/l)}}},closenessCentrality:function(t){var r=Sm(t),n=r.root,i=r.weight,a=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var h=u[c];if(!h.same(n)){var f=s.distanceTo(h);o?l+=1/f:l+=f}}return o?l:1/l}};Va.cc=Va.closenessCentrality;Va.ccn=Va.closenessCentralityNormalised=Va.closenessCentralityNormalized;var bN=Zt({weight:null,directed:!1}),pd={betweennessCentrality:function(t){for(var r=bN(t),n=r.directed,i=r.weight,a=i!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,h={set:function(b,x){u[b]=x,x>c&&(c=x)},get:function(b){return u[b]}},f=0;f<s.length;f++){var d=s[f],v=d.id();n?l[v]=d.outgoers().nodes():l[v]=d.openNeighborhood().nodes(),h.set(v,0)}for(var y=function(){for(var b=s[p].id(),x=[],w={},T={},C={},S=new Hs(function(ie,j){return C[ie]-C[j]}),k=0;k<s.length;k++){var A=s[k].id();w[A]=[],T[A]=0,C[A]=1/0}for(T[b]=1,C[b]=0,S.push(b);!S.empty();){var E=S.pop();if(x.push(E),a)for(var B=0;B<l[E].length;B++){var D=l[E][B],O=o.getElementById(E),R=void 0;O.edgesTo(D).length>0?R=O.edgesTo(D)[0]:R=D.edgesTo(O)[0];var P=i(R);D=D.id(),C[D]>C[E]+P&&(C[D]=C[E]+P,S.nodes.indexOf(D)<0?S.push(D):S.updateItem(D),T[D]=0,w[D]=[]),C[D]==C[E]+P&&(T[D]=T[D]+T[E],w[D].push(E))}else for(var M=0;M<l[E].length;M++){var I=l[E][M].id();C[I]==1/0&&(S.push(I),C[I]=C[E]+1),C[I]==C[E]+1&&(T[I]=T[I]+T[E],w[I].push(E))}}for(var $={},U=0;U<s.length;U++)$[s[U].id()]=0;for(;x.length>0;){for(var z=x.pop(),W=0;W<w[z].length;W++){var X=w[z][W];$[X]=$[X]+T[X]/T[z]*(1+$[z])}z!=s[p].id()&&h.set(z,h.get(z)+$[z])}},p=0;p<s.length;p++)y();var m={betweenness:function(b){var x=o.collection(b).id();return h.get(x)},betweennessNormalized:function(b){if(c==0)return 0;var x=o.collection(b).id();return h.get(x)/c}};return m.betweennessNormalised=m.betweennessNormalized,m}};pd.bc=pd.betweennessCentrality;var xN=Zt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),CN=function(t){return xN(t)},wN=function(t,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](t);return n},TN=function(t,r,n){for(var i=0;i<r;i++)t[i*r+i]=n},AC=function(t,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=t[a*r+i];for(var o=0;o<r;o++)t[o*r+i]=t[o*r+i]/n}},_N=function(t,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)i[a*n+l]+=t[a*n+s]*r[s*n+l]}return i},SN=function(t,r,n){for(var i=t.slice(0),a=1;a<n;a++)t=_N(t,i,r);return t},EN=function(t,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(t[a],n);return AC(i,r),i},kN=function(t,r,n,i){for(var a=0;a<n;a++){var o=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},AN=function(t,r,n,i){for(var a=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(t[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&a.push(i.collection(s))}return a},BN=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},LN=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&BN(t[r],t[n])&&t.splice(n,1);return t},Em=function(t){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=CN(t),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,c=new Array(u),h,f=0;f<u;f++)c[f]=0;for(var d=0;d<n.length;d++){var v=n[d],y=o[v.source().id()],p=o[v.target().id()],m=wN(v,a.attributes);c[y*l+p]+=m,c[p*l+y]+=m}TN(c,l,a.multFactor),AC(c,l);for(var g=!0,b=0;g&&b<a.maxIterations;)g=!1,h=SN(c,l,a.expandFactor),c=EN(h,l,a.inflateFactor),kN(c,h,u,4)||(g=!0),b++;var x=AN(c,l,r,i);return x=LN(x),x},DN={markovClustering:Em,mcl:Em},MN=function(t){return t},BC=function(t,r){return Math.abs(r-t)},km=function(t,r,n){return t+BC(r,n)},Am=function(t,r,n){return t+Math.pow(n-r,2)},PN=function(t){return Math.sqrt(t)},FN=function(t,r,n){return Math.max(t,BC(r,n))},Eo=function(t,r,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:MN,s=i,l,u,c=0;c<t;c++)l=r(c),u=n(c),s=a(s,l,u);return o(s)},no={euclidean:function(t,r,n){return t>=2?Eo(t,r,n,0,Am,PN):Eo(t,r,n,0,km)},squaredEuclidean:function(t,r,n){return Eo(t,r,n,0,Am)},manhattan:function(t,r,n){return Eo(t,r,n,0,km)},max:function(t,r,n){return Eo(t,r,n,-1/0,FN)}};no["squared-euclidean"]=no.squaredEuclidean;no.squaredeuclidean=no.squaredEuclidean;function dc(e,t,r,n,i,a){var o;return _t(e)?o=e:o=no[e]||no.euclidean,t===0&&_t(e)?o(i,a):o(t,r,n,i,a)}var ON=Zt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),$v=function(t){return ON(t)},Au=function(t,r,n,i,a){var o=a!=="kMedoids",s=o?function(h){return n[h]}:function(h){return i[h](n)},l=function(f){return i[f](r)},u=n,c=r;return dc(t,i.length,s,l,u,c)},Ch=function(t,r,n){for(var i=n.length,a=new Array(i),o=new Array(i),s=new Array(r),l=null,u=0;u<i;u++)a[u]=t.min(n[u]).value,o[u]=t.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var h=0;h<i;h++)l[h]=Math.random()*(o[h]-a[h])+a[h];s[c]=l}return s},LC=function(t,r,n,i,a){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=Au(n,t,r[l],i,a);u<o&&(o=u,s=l)}return s},DC=function(t,r,n){for(var i=[],a=null,o=0;o<r.length;o++)a=r[o],n[a.id()]===t&&i.push(a);return i},RN=function(t,r,n){return Math.abs(r-t)<=n},IN=function(t,r,n){for(var i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){var o=Math.abs(t[i][a]-r[i][a]);if(o>n)return!1}return!0},NN=function(t,r,n){for(var i=0;i<n;i++)if(t===r[i])return!0;return!1},Bm=function(t,r){var n=new Array(r);if(t.length<50)for(var i=0;i<r;i++){for(var a=t[Math.floor(Math.random()*t.length)];NN(a,n,i);)a=t[Math.floor(Math.random()*t.length)];n[i]=a}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},Lm=function(t,r,n){for(var i=0,a=0;a<r.length;a++)i+=Au("manhattan",r[a],t,n,"kMedoids");return i},zN=function(t){var r=this.cy(),n=this.nodes(),i=null,a=$v(t),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=Ch(n,a.k,a.attributes)):qt(a.testCentroids)==="object"?l=a.testCentroids:l=Ch(n,a.k,a.attributes):l=Ch(n,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],s[i.id()]=LC(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var f=0;f<a.k;f++){var d=DC(f,n,s);if(d.length!==0){for(var v=a.attributes.length,y=l[f],p=new Array(v),m=new Array(v),g=0;g<v;g++){m[g]=0;for(var b=0;b<d.length;b++)i=d[b],m[g]+=a.attributes[g](i);p[g]=m[g]/d.length,RN(p[g],y[g],a.sensitivityThreshold)||(u=!0)}l[f]=p,o[f]=r.collection(d)}}c++}return o},$N=function(t){var r=this.cy(),n=this.nodes(),i=null,a=$v(t),o=new Array(a.k),s,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(qt(a.testCentroids)==="object"?s=a.testCentroids:s=Bm(n,a.k)):s=Bm(n,a.k);for(var h=!0,f=0;h&&f<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],l[i.id()]=LC(i,s,a.distance,a.attributes,"kMedoids");h=!1;for(var v=0;v<s.length;v++){var y=DC(v,n,l);if(y.length!==0){c[v]=Lm(s[v],y,a.attributes);for(var p=0;p<y.length;p++)u=Lm(y[p],y,a.attributes),u<c[v]&&(c[v]=u,s[v]=y[p],h=!0);o[v]=r.collection(y)}}f++}return o},qN=function(t,r,n,i,a){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<t.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var c=0;c<t.length;c++)for(var h=0;h<a.attributes.length;h++){o=0,s=0;for(var f=0;f<r.length;f++)o+=i[f][c]*a.attributes[h](r[f]),s+=i[f][c];t[c][h]=o/s}},VN=function(t,r,n,i,a){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var s,l,u,c=2/(a.m-1),h=0;h<n.length;h++)for(var f=0;f<i.length;f++){s=0;for(var d=0;d<n.length;d++)l=Au(a.distance,i[f],n[h],a.attributes,"cmeans"),u=Au(a.distance,i[f],n[d],a.attributes,"cmeans"),s+=Math.pow(l/u,c);t[f][h]=1/s}},HN=function(t,r,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>s&&(s=r[u][c],l=c);a[l].push(t[u])}for(var h=0;h<a.length;h++)a[h]=i.collection(a[h]);return a},Dm=function(t){var r=this.cy(),n=this.nodes(),i=$v(t),a,o,s,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(i.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(i.k);for(var f=0;f<n.length;f++){for(var d=0,v=0;v<i.k;v++)s[f][v]=Math.random(),d+=s[f][v];for(var y=0;y<i.k;y++)s[f][y]=s[f][y]/d}o=new Array(i.k);for(var p=0;p<i.k;p++)o[p]=new Array(i.attributes.length);u=new Array(n.length);for(var m=0;m<n.length;m++)u[m]=new Array(i.k);for(var g=!0,b=0;g&&b<i.maxIterations;)g=!1,qN(o,n,s,u,i),VN(s,l,o,n,i),IN(s,l,i.sensitivityThreshold)||(g=!0),b++;return a=HN(n,s,i,r),{clusters:a,degreeOfMembership:s}},WN={kMeans:zN,kMedoids:$N,fuzzyCMeans:Dm,fcm:Dm},UN=Zt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),GN={single:"min",complete:"max"},YN=function(t){var r=UN(t),n=GN[r.linkage];return n!=null&&(r.linkage=n),r},Mm=function(t,r,n,i,a){for(var o=0,s=1/0,l,u=a.attributes,c=function(k,A){return dc(a.distance,u.length,function(E){return u[E](k)},function(E){return u[E](A)},k,A)},h=0;h<t.length;h++){var f=t[h].key,d=n[f][i[f]];d<s&&(o=f,s=d)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&t.length===1)return!1;var v=r[o],y=r[i[o]],p;a.mode==="dendrogram"?p={left:v,right:y,key:v.key}:p={value:v.value.concat(y.value),key:v.key},t[v.index]=p,t.splice(y.index,1),r[v.key]=p;for(var m=0;m<t.length;m++){var g=t[m];v.key===g.key?l=1/0:a.linkage==="min"?(l=n[v.key][g.key],n[v.key][g.key]>n[y.key][g.key]&&(l=n[y.key][g.key])):a.linkage==="max"?(l=n[v.key][g.key],n[v.key][g.key]<n[y.key][g.key]&&(l=n[y.key][g.key])):a.linkage==="mean"?l=(n[v.key][g.key]*v.size+n[y.key][g.key]*y.size)/(v.size+y.size):a.mode==="dendrogram"?l=c(g.value,v.value):l=c(g.value[0],v.value[0]),n[v.key][g.key]=n[g.key][v.key]=l}for(var b=0;b<t.length;b++){var x=t[b].key;if(i[x]===v.key||i[x]===y.key){for(var w=x,T=0;T<t.length;T++){var C=t[T].key;n[x][C]<n[x][w]&&(w=C)}i[x]=w}t[b].index=b}return v.key=y.key=v.index=y.index=null,!0},La=function(t,r,n){t&&(t.value?r.push(t.value):(t.left&&La(t.left,r),t.right&&La(t.right,r)))},gd=function(t,r){if(!t)return"";if(t.left&&t.right){var n=gd(t.left,r),i=gd(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},md=function(t,r,n){if(!t)return[];var i=[],a=[],o=[];return r===0?(t.left&&La(t.left,i),t.right&&La(t.right,a),o=i.concat(a),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&La(t.left,i),t.right&&La(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=md(t.left,r-1,n)),t.right&&(a=md(t.right,r-1,n)),i.concat(a))},Pm=function(t){for(var r=this.cy(),n=this.nodes(),i=YN(t),a=i.attributes,o=function(b,x){return dc(i.distance,a.length,function(w){return a[w](b)},function(w){return a[w](x)},b,x)},s=[],l=[],u=[],c=[],h=0;h<n.length;h++){var f={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=f,c[h]=f,l[h]=[],u[h]=0}for(var d=0;d<s.length;d++)for(var v=0;v<=d;v++){var y=void 0;i.mode==="dendrogram"?y=d===v?1/0:o(s[d].value,s[v].value):y=d===v?1/0:o(s[d].value[0],s[v].value[0]),l[d][v]=y,l[v][d]=y,y<l[d][u[d]]&&(u[d]=v)}for(var p=Mm(s,c,l,u,i);p;)p=Mm(s,c,l,u,i);var m;return i.mode==="dendrogram"?(m=md(s[0],i.dendrogramDepth,r),i.addDendrogram&&gd(s[0],r)):(m=new Array(s.length),s.forEach(function(g,b){g.key=g.index=null,m[b]=r.collection(g.value)})),m},KN={hierarchicalClustering:Pm,hca:Pm},jN=Zt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),XN=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||Ct("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||be(n)||Ct("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),jN(t)},ZN=function(t,r,n,i){var a=function(s,l){return i[l](s)};return-dc(t,i.length,function(o){return a(r,o)},function(o){return a(n,o)},r,n)},QN=function(t,r){var n=null;return r==="median"?n=XI(t):r==="mean"?n=jI(t):r==="min"?n=YI(t):r==="max"?n=KI(t):n=r,n},JN=function(t,r,n){for(var i=[],a=0;a<t;a++)r[a*t+a]+n[a*t+a]>0&&i.push(a);return i},Fm=function(t,r,n){for(var i=[],a=0;a<t;a++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*t+u]>s&&(o=u,s=r[a*t+u])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},e3=function(t,r,n){for(var i=Fm(t,r,n),a=0;a<n.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===n[a]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var h=0,f=0;f<o.length;f++)h+=r[o[f]*t+o[c]];h>u&&(l=c,u=h)}n[a]=o[l]}return i=Fm(t,r,n),i},Om=function(t){for(var r=this.cy(),n=this.nodes(),i=XN(t),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var s,l,u,c,h,f;s=n.length,l=s*s,u=new Array(l);for(var d=0;d<l;d++)u[d]=-1/0;for(var v=0;v<s;v++)for(var y=0;y<s;y++)v!==y&&(u[v*s+y]=ZN(i.distance,n[v],n[y],i.attributes));c=QN(u,i.preference);for(var p=0;p<s;p++)u[p*s+p]=c;h=new Array(l);for(var m=0;m<l;m++)h[m]=0;f=new Array(l);for(var g=0;g<l;g++)f[g]=0;for(var b=new Array(s),x=new Array(s),w=new Array(s),T=0;T<s;T++)b[T]=0,x[T]=0,w[T]=0;for(var C=new Array(s*i.minIterations),S=0;S<C.length;S++)C[S]=0;var k;for(k=0;k<i.maxIterations;k++){for(var A=0;A<s;A++){for(var E=-1/0,B=-1/0,D=-1,O=0,R=0;R<s;R++)b[R]=h[A*s+R],O=f[A*s+R]+u[A*s+R],O>=E?(B=E,E=O,D=R):O>B&&(B=O);for(var P=0;P<s;P++)h[A*s+P]=(1-i.damping)*(u[A*s+P]-E)+i.damping*b[P];h[A*s+D]=(1-i.damping)*(u[A*s+D]-B)+i.damping*b[D]}for(var M=0;M<s;M++){for(var I=0,$=0;$<s;$++)b[$]=f[$*s+M],x[$]=Math.max(0,h[$*s+M]),I+=x[$];I-=x[M],x[M]=h[M*s+M],I+=x[M];for(var U=0;U<s;U++)f[U*s+M]=(1-i.damping)*Math.min(0,I-x[U])+i.damping*b[U];f[M*s+M]=(1-i.damping)*(I-x[M])+i.damping*b[M]}for(var z=0,W=0;W<s;W++){var X=f[W*s+W]+h[W*s+W]>0?1:0;C[k%i.minIterations*s+W]=X,z+=X}if(z>0&&(k>=i.minIterations-1||k==i.maxIterations-1)){for(var ie=0,j=0;j<s;j++){w[j]=0;for(var oe=0;oe<i.minIterations;oe++)w[j]+=C[oe*s+j];(w[j]===0||w[j]===i.minIterations)&&ie++}if(ie===s)break}}for(var ce=JN(s,h,f),de=e3(s,u,ce),se={},G=0;G<ce.length;G++)se[ce[G]]=[];for(var K=0;K<n.length;K++){var _=a[n[K].id()],F=de[_];F!=null&&se[F].push(n[K])}for(var V=new Array(ce.length),ee=0;ee<ce.length;ee++)V[ee]=r.collection(se[ce[ee]]);return V},t3={affinityPropagation:Om,ap:Om},r3=Zt({root:void 0,directed:!1}),n3={hierholzer:function(t){if(!et(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=r3(t),i=n.root,a=n.directed,o=this,s=!1,l,u,c;i&&(c=ze(i)?this.filter(i)[0].id():i[0].id());var h={},f={};a?o.forEach(function(g){var b=g.id();if(g.isNode()){var x=g.indegree(!0),w=g.outdegree(!0),T=x-w,C=w-x;T==1?l?s=!0:l=b:C==1?u?s=!0:u=b:(C>1||T>1)&&(s=!0),h[b]=[],g.outgoers().forEach(function(S){S.isEdge()&&h[b].push(S.id())})}else f[b]=[void 0,g.target().id()]}):o.forEach(function(g){var b=g.id();if(g.isNode()){var x=g.degree(!0);x%2&&(l?u?s=!0:u=b:l=b),h[b]=[],g.connectedEdges().forEach(function(w){return h[b].push(w.id())})}else f[b]=[g.source().id(),g.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(u&&l)if(a){if(c&&u!=c)return d;c=u}else{if(c&&u!=c&&l!=c)return d;c||(c=u)}else c||(c=o[0].id());var v=function(b){for(var x=b,w=[b],T,C,S;h[x].length;)T=h[x].shift(),C=f[T][0],S=f[T][1],x!=S?(h[S]=h[S].filter(function(k){return k!=T}),x=S):!a&&x!=C&&(h[C]=h[C].filter(function(k){return k!=T}),x=C),w.unshift(T),w.unshift(x);return w},y=[],p=[];for(p=v(c);p.length!=1;)h[p[0]].length==0?(y.unshift(o.getElementById(p.shift())),y.unshift(o.getElementById(p.shift()))):p=v(p.shift()).concat(p);y.unshift(o.getElementById(p.shift()));for(var m in h)if(h[m].length)return d;return d.found=!0,d.trail=this.spawn(y,!0),d}},ul=function(){var t=this,r={},n=0,i=0,a=[],o=[],s={},l=function(f,d){for(var v=o.length-1,y=[],p=t.spawn();o[v].x!=f||o[v].y!=d;)y.push(o.pop().edge),v--;y.push(o.pop().edge),y.forEach(function(m){var g=m.connectedNodes().intersection(t);p.merge(m),g.forEach(function(b){var x=b.id(),w=b.connectedEdges().intersection(t);p.merge(b),r[x].cutVertex?p.merge(w.filter(function(T){return T.isLoop()})):p.merge(w)})}),a.push(p)},u=function(f,d,v){f===v&&(i+=1),r[d]={id:n,low:n++,cutVertex:!1};var y=t.getElementById(d).connectedEdges().intersection(t);if(y.size()===0)a.push(t.spawn(t.getElementById(d)));else{var p,m,g,b;y.forEach(function(x){p=x.source().id(),m=x.target().id(),g=p===d?m:p,g!==v&&(b=x.id(),s[b]||(s[b]=!0,o.push({x:d,y:g,edge:x})),g in r?r[d].low=Math.min(r[d].low,r[g].id):(u(f,g,d),r[d].low=Math.min(r[d].low,r[g].low),r[d].id<=r[g].low&&(r[d].cutVertex=!0,l(d,g))))})}};t.forEach(function(h){if(h.isNode()){var f=h.id();f in r||(i=0,u(f,f),r[f].cutVertex=i>1)}});var c=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return t.getElementById(h)});return{cut:t.spawn(c),components:a}},i3={hopcroftTarjanBiconnected:ul,htbc:ul,htb:ul,hopcroftTarjanBiconnectedComponents:ul},cl=function(){var t=this,r={},n=0,i=[],a=[],o=t.spawn(t),s=function(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var c=t.getElementById(u).connectedEdges().intersection(t);if(c.forEach(function(y){var p=y.target().id();p!==u&&(p in r||s(p),r[p].explored||(r[u].low=Math.min(r[u].low,r[p].low)))}),r[u].index===r[u].low){for(var h=t.spawn();;){var f=a.pop();if(h.merge(t.getElementById(f)),r[f].low=r[u].index,r[f].explored=!0,f===u)break}var d=h.edgesWith(h),v=h.merge(d);i.push(v),o=o.difference(v)}};return t.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:i}},a3={tarjanStronglyConnected:cl,tsc:cl,tscc:cl,tarjanStronglyConnectedComponents:cl},MC={};[bs,OI,RI,NI,$I,VI,UI,yN,qa,Va,pd,DN,WN,KN,t3,n3,i3,a3].forEach(function(e){Ve(MC,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var PC=0,FC=1,OC=2,on=function(t){if(!(this instanceof on))return new on(t);this.id="Thenable/1.0.7",this.state=PC,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};on.prototype={fulfill:function(t){return Rm(this,FC,"fulfillValue",t)},reject:function(t){return Rm(this,OC,"rejectReason",t)},then:function(t,r){var n=this,i=new on;return n.onFulfilled.push(Nm(t,i,"fulfill")),n.onRejected.push(Nm(r,i,"reject")),RC(n),i.proxy}};var Rm=function(t,r,n,i){return t.state===PC&&(t.state=r,t[n]=i,RC(t)),t},RC=function(t){t.state===FC?Im(t,"onFulfilled",t.fulfillValue):t.state===OC&&Im(t,"onRejected",t.rejectReason)},Im=function(t,r,n){if(t[r].length!==0){var i=t[r];t[r]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},Nm=function(t,r,n){return function(i){if(typeof t!="function")r[n].call(r,i);else{var a;try{a=t(i)}catch(o){r.reject(o);return}IC(r,a)}}},IC=function(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(qt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){t.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?t.reject(new TypeError("circular thenable chain")):IC(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(r)};on.all=function(e){return new on(function(t,r){for(var n=new Array(e.length),i=0,a=function(l,u){n[l]=u,i++,i===e.length&&t(n)},o=0;o<e.length;o++)(function(s){var l=e[s],u=l!=null&&l.then!=null;if(u)l.then(function(h){a(s,h)},function(h){r(h)});else{var c=l;a(s,c)}})(o)})};on.resolve=function(e){return new on(function(t,r){t(e)})};on.reject=function(e){return new on(function(t,r){r(e)})};var co=typeof Promise<"u"?Promise:on,yd=function(t,r,n){var i=Lv(t),a=!i,o=this._private=Ve({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&_t(o.complete)&&o.completes.push(o.complete),a){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(i){var l=t.pan();o.startPan={x:l.x,y:l.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},oa=yd.prototype;Ve(oa,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),Pr(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(u,c){var h=t[u];h!=null&&(t[u]=t[c],t[c]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var a=t.style[i],o=a.name,s=t.startStyle[o];t.startStyle[o]=a,t.style[i]=s}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new co(function(i,a){n.push(function(){i()})})}});oa.complete=oa.completed;oa.run=oa.play;oa.running=oa.playing;var o3={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,l=!a,u=!l;if(!s.styleEnabled())return this;var c=s.style();r=Ve({},r,n);var h=Object.keys(r).length===0;if(h)return new yd(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var f=r.renderedPosition,d=s.pan(),v=s.zoom();r.position=wC(f,v,d)}if(l&&r.panBy!=null){var y=r.panBy,p=s.pan();r.pan={x:p.x+y.x,y:p.y+y.y}}var m=r.center||r.centre;if(l&&m!=null){var g=s.getCenterPan(m.eles,r.zoom);g!=null&&(r.pan=g)}if(l&&r.fit!=null){var b=r.fit,x=s.getFitViewport(b.eles||b.boundingBox,b.padding);x!=null&&(r.pan=x.pan,r.zoom=x.zoom)}if(l&&et(r.zoom)){var w=s.getZoomedViewport(r.zoom);w!=null?(w.zoomed&&(r.zoom=w.zoom),w.panned&&(r.pan=w.pan)):r.zoom=null}return new yd(o[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Ve({},r,n));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(r.queue===void 0||r.queue),h=u.animation(r,c?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,h=c.animation.current,f=0;f<h.length;f++){var d=h[f],v=d._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},wh,zm;function vc(){if(zm)return wh;zm=1;var e=Array.isArray;return wh=e,wh}var Th,$m;function s3(){if($m)return Th;$m=1;var e=vc(),t=qs(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Th=i,Th}var _h,qm;function l3(){if(qm)return _h;qm=1;var e=dC(),t=$s(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return _h=o,_h}var Sh,Vm;function u3(){if(Vm)return Sh;Vm=1;var e=cc(),t=e["__core-js_shared__"];return Sh=t,Sh}var Eh,Hm;function c3(){if(Hm)return Eh;Hm=1;var e=u3(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Eh=r,Eh}var kh,Wm;function h3(){if(Wm)return kh;Wm=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return kh=r,kh}var Ah,Um;function f3(){if(Um)return Ah;Um=1;var e=l3(),t=c3(),r=$s(),n=h3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!r(f)||t(f))return!1;var d=e(f)?c:a;return d.test(n(f))}return Ah=h,Ah}var Bh,Gm;function d3(){if(Gm)return Bh;Gm=1;function e(t,r){return t==null?void 0:t[r]}return Bh=e,Bh}var Lh,Ym;function qv(){if(Ym)return Lh;Ym=1;var e=f3(),t=d3();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return Lh=r,Lh}var Dh,Km;function pc(){if(Km)return Dh;Km=1;var e=qv(),t=e(Object,"create");return Dh=t,Dh}var Mh,jm;function v3(){if(jm)return Mh;jm=1;var e=pc();function t(){this.__data__=e?e(null):{},this.size=0}return Mh=t,Mh}var Ph,Xm;function p3(){if(Xm)return Ph;Xm=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Ph=e,Ph}var Fh,Zm;function g3(){if(Zm)return Fh;Zm=1;var e=pc(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Fh=i,Fh}var Oh,Qm;function m3(){if(Qm)return Oh;Qm=1;var e=pc(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Oh=n,Oh}var Rh,Jm;function y3(){if(Jm)return Rh;Jm=1;var e=pc(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return Rh=r,Rh}var Ih,ey;function b3(){if(ey)return Ih;ey=1;var e=v3(),t=p3(),r=g3(),n=m3(),i=y3();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ih=a,Ih}var Nh,ty;function x3(){if(ty)return Nh;ty=1;function e(){this.__data__=[],this.size=0}return Nh=e,Nh}var zh,ry;function NC(){if(ry)return zh;ry=1;function e(t,r){return t===r||t!==t&&r!==r}return zh=e,zh}var $h,ny;function gc(){if(ny)return $h;ny=1;var e=NC();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return $h=t,$h}var qh,iy;function C3(){if(iy)return qh;iy=1;var e=gc(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return qh=n,qh}var Vh,ay;function w3(){if(ay)return Vh;ay=1;var e=gc();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Vh=t,Vh}var Hh,oy;function T3(){if(oy)return Hh;oy=1;var e=gc();function t(r){return e(this.__data__,r)>-1}return Hh=t,Hh}var Wh,sy;function _3(){if(sy)return Wh;sy=1;var e=gc();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Wh=t,Wh}var Uh,ly;function S3(){if(ly)return Uh;ly=1;var e=x3(),t=C3(),r=w3(),n=T3(),i=_3();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Uh=a,Uh}var Gh,uy;function E3(){if(uy)return Gh;uy=1;var e=qv(),t=cc(),r=e(t,"Map");return Gh=r,Gh}var Yh,cy;function k3(){if(cy)return Yh;cy=1;var e=b3(),t=S3(),r=E3();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Yh=n,Yh}var Kh,hy;function A3(){if(hy)return Kh;hy=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Kh=e,Kh}var jh,fy;function mc(){if(fy)return jh;fy=1;var e=A3();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return jh=t,jh}var Xh,dy;function B3(){if(dy)return Xh;dy=1;var e=mc();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Xh=t,Xh}var Zh,vy;function L3(){if(vy)return Zh;vy=1;var e=mc();function t(r){return e(this,r).get(r)}return Zh=t,Zh}var Qh,py;function D3(){if(py)return Qh;py=1;var e=mc();function t(r){return e(this,r).has(r)}return Qh=t,Qh}var Jh,gy;function M3(){if(gy)return Jh;gy=1;var e=mc();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Jh=t,Jh}var ef,my;function P3(){if(my)return ef;my=1;var e=k3(),t=B3(),r=L3(),n=D3(),i=M3();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ef=a,ef}var tf,yy;function F3(){if(yy)return tf;yy=1;var e=P3(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||e),a}return r.Cache=e,tf=r,tf}var rf,by;function O3(){if(by)return rf;by=1;var e=F3(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return rf=r,rf}var nf,xy;function zC(){if(xy)return nf;xy=1;var e=O3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return nf=n,nf}var af,Cy;function $C(){if(Cy)return af;Cy=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return af=e,af}var of,wy;function R3(){if(wy)return of;wy=1;var e=Mv(),t=$C(),r=vc(),n=qs(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return of=o,of}var sf,Ty;function qC(){if(Ty)return sf;Ty=1;var e=R3();function t(r){return r==null?"":e(r)}return sf=t,sf}var lf,_y;function VC(){if(_y)return lf;_y=1;var e=vc(),t=s3(),r=zC(),n=qC();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return lf=i,lf}var uf,Sy;function Vv(){if(Sy)return uf;Sy=1;var e=qs();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return uf=t,uf}var cf,Ey;function I3(){if(Ey)return cf;Ey=1;var e=VC(),t=Vv();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return cf=r,cf}var hf,ky;function N3(){if(ky)return hf;ky=1;var e=I3();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return hf=t,hf}var z3=N3(),$3=zs(z3),ff,Ay;function q3(){if(Ay)return ff;Ay=1;var e=qv(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return ff=t,ff}var df,By;function V3(){if(By)return df;By=1;var e=q3();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return df=t,df}var vf,Ly;function H3(){if(Ly)return vf;Ly=1;var e=V3(),t=NC(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s){var l=a[o];(!(n.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return vf=i,vf}var pf,Dy;function W3(){if(Dy)return pf;Dy=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return pf=r,pf}var gf,My;function U3(){if(My)return gf;My=1;var e=H3(),t=VC(),r=W3(),n=$s(),i=Vv();function a(o,s,l,u){if(!n(o))return o;s=t(s,o);for(var c=-1,h=s.length,f=h-1,d=o;d!=null&&++c<h;){var v=i(s[c]),y=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(c!=f){var p=d[v];y=u?u(p,v,d):void 0,y===void 0&&(y=n(p)?p:r(s[c+1])?[]:{})}e(d,v,y),d=d[v]}return o}return gf=a,gf}var mf,Py;function G3(){if(Py)return mf;Py=1;var e=U3();function t(r,n,i){return r==null?r:e(r,n,i)}return mf=t,mf}var Y3=G3(),K3=zs(Y3),yf,Fy;function j3(){if(Fy)return yf;Fy=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return yf=e,yf}var bf,Oy;function X3(){if(Oy)return bf;Oy=1;var e=$C(),t=j3(),r=vc(),n=qs(),i=zC(),a=Vv(),o=qC();function s(l){return r(l)?e(l,a):n(l)?[l]:t(i(o(l)))}return bf=s,bf}var Z3=X3(),Q3=zs(Z3),J3={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return t=Ve({},r,t),function(i,a){var o=t,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if(ze(i)){var h=i.indexOf(".")!==-1,f=h&&Q3(i);if(o.allowGetting&&a===void 0){var d;return c&&(o.beforeGet(c),f&&c._private[o.field][i]===void 0?d=$3(c._private[o.field],f):d=c._private[o.field][i]),d}else if(o.allowSetting&&a!==void 0){var v=!o.immutableKeys[i];if(v){var y=nC({},i,a);o.beforeSet(s,y);for(var p=0,m=u.length;p<m;p++){var g=u[p];o.canSet(g)&&(f&&c._private[o.field][i]===void 0?K3(g._private[o.field],f,a):g._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&et(i)){var b=i,x,w,T=Object.keys(b);o.beforeSet(s,b);for(var C=0;C<T.length;C++){x=T[C],w=b[x];var S=!o.immutableKeys[x];if(S)for(var k=0;k<u.length;k++){var A=u[k];o.canSet(A)&&(A._private[o.field][x]=w)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&_t(i)){var E=i;s.on(o.bindingEvent,E)}else if(o.allowGetting&&i===void 0){var B;return c&&(o.beforeGet(c),B=c._private[o.field]),B}return s}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Ve({},r,t),function(i){var a=t,o=this,s=o.length!==void 0,l=s?o:[o];if(ze(i)){for(var u=i.split(/\s+/),c=u.length,h=0;h<c;h++){var f=u[h];if(!yi(f)){var d=!a.immutableKeys[f];if(d)for(var v=0,y=l.length;v<y;v++)l[v]._private[a.field][f]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var p=0,m=l.length;p<m;p++)for(var g=l[p]._private[a.field],b=Object.keys(g),x=0;x<b.length;x++){var w=b[x],T=!a.immutableKeys[w];T&&(g[w]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},e4={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new co(function(s,l){var u=function(d){a.off.apply(a,h),s(d)},c=o.concat([u]),h=c.concat([]);a.on.apply(a,c)})}}},at={};[o3,J3,e4].forEach(function(e){Ve(at,e)});var t4={animate:at.animate(),animation:at.animation(),animated:at.animated(),clearQueue:at.clearQueue(),delay:at.delay(),delayAnimation:at.delayAnimation(),stop:at.stop()},Il={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else dt(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],a=new uo(t),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,c=!1,h=0;h<t.length;h++){var f=t[h],d=u.has(f);if(!d){c=!0;break}}c||(c=u.size!==t.length),c&&(l.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){dt(t)||(t=t.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,c=!1,h=0;h<t.length;h++){var f=t[h],d=u.has(f),v=!1;r||i&&!d?(u.add(f),v=!0):(!r||i&&d)&&(u.delete(f),v=!0),!c&&v&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};Il.className=Il.classNames=Il.classes;var Je={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:$t,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Je.variable="(?:[\\w-.]|(?:\\\\"+Je.metaChar+"))+";Je.className="(?:[\\w-]|(?:\\\\"+Je.metaChar+"))+";Je.value=Je.string+"|"+Je.number;Je.id=Je.variable;(function(){var e,t,r;for(e=Je.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Je.comparatorOp+="|@"+t;for(e=Je.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Je.comparatorOp+="|\\!"+t)})();var ut=function(){return{checks:[]}},Ee={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},bd=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return J5(e.selector,t.selector)}),r4=(function(){for(var e={},t,r=0;r<bd.length;r++)t=bd[r],e[t.selector]=t.matches;return e})(),n4=function(t,r){return r4[t](r)},i4="("+bd.map(function(e){return e.selector}).join("|")+")",ma=function(t){return t.replace(new RegExp("\\\\("+Je.metaChar+")","g"),function(r,n){return n})},Jn=function(t,r,n){t[t.length-1]=n},xd=[{name:"group",query:!0,regex:"("+Je.group+")",populate:function(t,r,n){var i=Mt(n,1),a=i[0];r.checks.push({type:Ee.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:i4,populate:function(t,r,n){var i=Mt(n,1),a=i[0];r.checks.push({type:Ee.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Je.id+")",populate:function(t,r,n){var i=Mt(n,1),a=i[0];r.checks.push({type:Ee.ID,value:ma(a)})}},{name:"className",query:!0,regex:"\\.("+Je.className+")",populate:function(t,r,n){var i=Mt(n,1),a=i[0];r.checks.push({type:Ee.CLASS,value:ma(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Je.variable+")\\s*\\]",populate:function(t,r,n){var i=Mt(n,1),a=i[0];r.checks.push({type:Ee.DATA_EXIST,field:ma(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Je.variable+")\\s*("+Je.comparatorOp+")\\s*("+Je.value+")\\s*\\]",populate:function(t,r,n){var i=Mt(n,3),a=i[0],o=i[1],s=i[2],l=new RegExp("^"+Je.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Ee.DATA_COMPARE,field:ma(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Je.boolOp+")\\s*("+Je.variable+")\\s*\\]",populate:function(t,r,n){var i=Mt(n,2),a=i[0],o=i[1];r.checks.push({type:Ee.DATA_BOOL,field:ma(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Je.meta+")\\s*("+Je.comparatorOp+")\\s*("+Je.number+")\\s*\\]\\]",populate:function(t,r,n){var i=Mt(n,3),a=i[0],o=i[1],s=i[2];r.checks.push({type:Ee.META_COMPARE,field:ma(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Je.separator,populate:function(t,r){var n=t.currentSubject,i=t.edgeCount,a=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=i,o.compoundCount=a,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=ut();return s}},{name:"directedEdge",separator:!0,regex:Je.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=ut(),i=r,a=ut();return n.checks.push({type:Ee.DIRECTED_EDGE,source:i,target:a}),Jn(t,r,n),t.edgeCount++,a}else{var o=ut(),s=r,l=ut();return o.checks.push({type:Ee.NODE_SOURCE,source:s,target:l}),Jn(t,r,o),t.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Je.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=ut(),i=r,a=ut();return n.checks.push({type:Ee.UNDIRECTED_EDGE,nodes:[i,a]}),Jn(t,r,n),t.edgeCount++,a}else{var o=ut(),s=r,l=ut();return o.checks.push({type:Ee.NODE_NEIGHBOR,node:s,neighbor:l}),Jn(t,r,o),l}}},{name:"child",separator:!0,regex:Je.child,populate:function(t,r){if(t.currentSubject==null){var n=ut(),i=ut(),a=t[t.length-1];return n.checks.push({type:Ee.CHILD,parent:a,child:i}),Jn(t,r,n),t.compoundCount++,i}else if(t.currentSubject===r){var o=ut(),s=t[t.length-1],l=ut(),u=ut(),c=ut(),h=ut();return o.checks.push({type:Ee.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Ee.TRUE}],h.checks.push({type:Ee.TRUE}),l.checks.push({type:Ee.PARENT,parent:h,child:c}),Jn(t,s,o),t.currentSubject=u,t.compoundCount++,c}else{var f=ut(),d=ut(),v=[{type:Ee.PARENT,parent:f,child:d}];return f.checks=r.checks,r.checks=v,t.compoundCount++,d}}},{name:"descendant",separator:!0,regex:Je.descendant,populate:function(t,r){if(t.currentSubject==null){var n=ut(),i=ut(),a=t[t.length-1];return n.checks.push({type:Ee.DESCENDANT,ancestor:a,descendant:i}),Jn(t,r,n),t.compoundCount++,i}else if(t.currentSubject===r){var o=ut(),s=t[t.length-1],l=ut(),u=ut(),c=ut(),h=ut();return o.checks.push({type:Ee.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Ee.TRUE}],h.checks.push({type:Ee.TRUE}),l.checks.push({type:Ee.ANCESTOR,ancestor:h,descendant:c}),Jn(t,s,o),t.currentSubject=u,t.compoundCount++,c}else{var f=ut(),d=ut(),v=[{type:Ee.ANCESTOR,ancestor:f,descendant:d}];return f.checks=r.checks,r.checks=v,t.compoundCount++,d}}},{name:"subject",modifier:!0,regex:Je.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return ot("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],i=n.checks[0],a=i==null?null:i.type;a===Ee.DIRECTED_EDGE?i.type=Ee.NODE_TARGET:a===Ee.UNDIRECTED_EDGE&&(i.type=Ee.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];xd.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var a4=function(t){for(var r,n,i,a=0;a<xd.length;a++){var o=xd[a],s=o.name,l=t.match(o.regexObj);if(l!=null){n=l,r=o,i=s;var u=l[0];t=t.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:t}},o4=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},s4=function(t){var r=this,n=r.inputText=t,i=r[0]=ut();for(r.length=1,n=o4(n);;){var a=a4(n);if(a.expr==null)return ot("The selector `"+t+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(r,i,o);if(s===!1)return!1;if(s!=null&&(i=s),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return ot("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return ot("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&ot("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},l4=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(c){return c??""},r=function(c){return ze(c)?'"'+c+'"':t(c)},n=function(c){return" "+c+" "},i=function(c,h){var f=c.type,d=c.value;switch(f){case Ee.GROUP:{var v=t(d);return v.substring(0,v.length-1)}case Ee.DATA_COMPARE:{var y=c.field,p=c.operator;return"["+y+n(t(p))+r(d)+"]"}case Ee.DATA_BOOL:{var m=c.operator,g=c.field;return"["+t(m)+g+"]"}case Ee.DATA_EXIST:{var b=c.field;return"["+b+"]"}case Ee.META_COMPARE:{var x=c.operator,w=c.field;return"[["+w+n(t(x))+r(d)+"]]"}case Ee.STATE:return d;case Ee.ID:return"#"+d;case Ee.CLASS:return"."+d;case Ee.PARENT:case Ee.CHILD:return a(c.parent,h)+n(">")+a(c.child,h);case Ee.ANCESTOR:case Ee.DESCENDANT:return a(c.ancestor,h)+" "+a(c.descendant,h);case Ee.COMPOUND_SPLIT:{var T=a(c.left,h),C=a(c.subject,h),S=a(c.right,h);return T+(T.length>0?" ":"")+C+S}case Ee.TRUE:return""}},a=function(c,h){return c.checks.reduce(function(f,d,v){return f+(h===c&&v===0?"$":"")+i(d,h)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},u4={parse:s4,toString:l4},HC=function(t,r,n){var i,a=ze(t),o=be(t),s=ze(n),l,u,c=!1,h=!1,f=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||s||c)&&(l=!a&&!o?"":""+t,u=""+n),c&&(t=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=t===n;break;case">":f=!0,i=t>n;break;case">=":f=!0,i=t>=n;break;case"<":f=!0,i=t<n;break;case"<=":f=!0,i=t<=n;break;default:i=!1;break}return h&&(t!=null||!f)&&(i=!i),i},c4=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},h4=function(t){return t!==void 0},Hv=function(t,r){return t.data(r)},f4=function(t,r){return t[r]()},At=[],bt=function(t,r){return t.checks.every(function(n){return At[n.type](n,r)})};At[Ee.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};At[Ee.STATE]=function(e,t){var r=e.value;return n4(r,t)};At[Ee.ID]=function(e,t){var r=e.value;return t.id()===r};At[Ee.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};At[Ee.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return HC(f4(t,r),n,i)};At[Ee.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return HC(Hv(t,r),n,i)};At[Ee.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return c4(Hv(t,r),n)};At[Ee.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,h4(Hv(t,r))};At[Ee.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return bt(r,i)&&bt(n,a)||bt(n,i)&&bt(r,a)};At[Ee.NODE_NEIGHBOR]=function(e,t){return bt(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&bt(e.neighbor,r)})};At[Ee.DIRECTED_EDGE]=function(e,t){return bt(e.source,t.source())&&bt(e.target,t.target())};At[Ee.NODE_SOURCE]=function(e,t){return bt(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&bt(e.target,r)})};At[Ee.NODE_TARGET]=function(e,t){return bt(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&bt(e.source,r)})};At[Ee.CHILD]=function(e,t){return bt(e.child,t)&&bt(e.parent,t.parent())};At[Ee.PARENT]=function(e,t){return bt(e.parent,t)&&t.children().some(function(r){return bt(e.child,r)})};At[Ee.DESCENDANT]=function(e,t){return bt(e.descendant,t)&&t.ancestors().some(function(r){return bt(e.ancestor,r)})};At[Ee.ANCESTOR]=function(e,t){return bt(e.ancestor,t)&&t.descendants().some(function(r){return bt(e.descendant,r)})};At[Ee.COMPOUND_SPLIT]=function(e,t){return bt(e.subject,t)&&bt(e.left,t)&&bt(e.right,t)};At[Ee.TRUE]=function(){return!0};At[Ee.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};At[Ee.FILTER]=function(e,t){var r=e.value;return r(t)};var d4=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Ee.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var o=0;o<r.length;o++){var s=r[o];if(bt(s,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},v4=function(t){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(bt(i,t))return!0}return!1},p4={matches:v4,filter:d4},Ci=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||ze(t)&&t.match(/^\s*$/)||(Pr(t)?this.addQuery({checks:[{type:Ee.COLLECTION,value:t.collection()}]}):_t(t)?this.addQuery({checks:[{type:Ee.FILTER,value:t}]}):ze(t)?this.parse(t)||(this.invalid=!0):Ct("A selector must be created from a string; found "))},wi=Ci.prototype;[u4,p4].forEach(function(e){return Ve(wi,e)});wi.text=function(){return this.inputText};wi.size=function(){return this.length};wi.eq=function(e){return this[e]};wi.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};wi.addQuery=function(e){this[this.length++]=e};wi.selector=wi.toString;var fi={allAre:function(t){var r=new Ci(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new Ci(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var i=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(i)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var i=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!i)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(i){return t.hasElementWithId(i.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};fi.allAreNeighbours=fi.allAreNeighbors;fi.has=fi.contains;fi.equal=fi.equals=fi.same;var Ur=function(t,r){return function(i,a,o,s){var l=i,u=this,c;if(l==null?c="":Pr(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var h=u[0]._private,f=h.traversalCache=h.traversalCache||{},d=f[r]=f[r]||[],v=ia(c),y=d[v];return y||(d[v]=t.call(u,i,a,o,s))}else return t.call(u,i,a,o,s)}},io={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Ur(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function Wv(e,t,r,n){for(var i=[],a=new uo,o=e.cy(),s=o.hasCompoundNodes(),l=0;l<e.length;l++){var u=e[l];r?i.push(u):s&&n(i,a,u)}for(;i.length>0;){var c=i.shift();t(c),a.add(c.id()),s&&n(i,a,c)}return e}function WC(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}io.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Wv(this,e,t,WC)};function UC(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}io.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Wv(this,e,t,UC)};function g4(e,t,r){UC(e,t,r),WC(e,t,r)}io.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Wv(this,e,t,g4)};io.ancestors=io.parents;var ws,GC;ws=GC={data:at.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:at.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:at.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:at.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:at.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:at.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};ws.attr=ws.data;ws.removeAttr=ws.removeData;var m4=GC,yc={};function xf(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}else return}}Ve(yc,{degree:xf(function(e,t){return t.source().same(t.target())?2:1}),indegree:xf(function(e,t){return t.target().same(e)?1:0}),outdegree:xf(function(e,t){return t.source().same(e)?1:0})});function ya(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);s!==void 0&&(n===void 0||t(s,n))&&(n=s)}return n}}Ve(yc,{minDegree:ya("degree",function(e,t){return e<t}),maxDegree:ya("degree",function(e,t){return e>t}),minIndegree:ya("indegree",function(e,t){return e<t}),maxIndegree:ya("indegree",function(e,t){return e>t}),minOutdegree:ya("outdegree",function(e,t){return e<t}),maxOutdegree:ya("outdegree",function(e,t){return e>t})});Ve(yc,{totalDegree:function(t){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(t);return r}});var an,YC,KC=function(t,r,n){for(var i=0;i<t.length;i++){var a=t[i];if(!a.locked()){var o=a._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,n),a.dirtyBoundingBoxCache()}}},Ry={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){KC(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};an=YC={position:at.data(Ry),silentPosition:at.data(Ve({},Ry,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){KC(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(et(t))r?this.silentPosition(t):this.position(t);else if(_t(t)){var n=t,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=n(o,a))&&(r?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var i;if(et(t)?(i={x:be(t.x)?t.x:0,y:be(t.y)?t.y:0},n=r):ze(t)&&be(r)&&(i={x:0,y:0},i[t]=r),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+i.x,y:l.y+i.y};n?s.silentPosition(u):s.position(u)}}a.endBatch()}return this},silentShift:function(t,r){return et(t)?this.shift(t,!0):ze(t)&&be(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=et(t)?t:void 0,l=s!==void 0||r!==void 0&&ze(t);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(t,(r-o[t])/a):s!==void 0&&c.position(wC(s,a,o))}else{var h=n.position();return s=fc(h,a,o),t===void 0?s:s[t]}else if(!l)return;return this},relativePosition:function(t,r){var n=this[0],i=this.cy(),a=et(t)?t:void 0,o=a!==void 0||r!==void 0&&ze(t),s=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,h=c&&c.length>0,f=h;h&&(c=c[0]);var d=f?c.position():{x:0,y:0};r!==void 0?u.position(t,r+d[t]):a!==void 0&&u.position({x:a.x+d.x,y:a.y+d.y})}else{var v=n.position(),y=s?n.parent():null,p=y&&y.length>0,m=p;p&&(y=y[0]);var g=m?y.position():{x:0,y:0};return a={x:v.x-g.x,y:v.y-g.y},t===void 0?a:a[t]}else if(!o)return;return this}};an.modelPosition=an.point=an.position;an.modelPositions=an.points=an.positions;an.renderedPoint=an.renderedPosition;an.relativePoint=an.relativePosition;var y4=YC,Ha,Bi;Ha=Bi={};Bi.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};Bi.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};Bi.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),f=s.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=f.x-h.w/2,h.x2=f.x+h.w/2,h.y1=f.y-h.h/2,h.y2=f.y+h.h/2);function d(k,A,E){var B=0,D=0,O=A+E;return k>0&&O>0&&(B=A/O*k,D=E/O*k),{biasDiff:B,biasComplementDiff:D}}function v(k,A,E,B){if(E.units==="%")switch(B){case"width":return k>0?E.pfValue*k:0;case"height":return A>0?E.pfValue*A:0;case"average":return k>0&&A>0?E.pfValue*(k+A)/2:0;case"min":return k>0&&A>0?k>A?E.pfValue*A:E.pfValue*k:0;case"max":return k>0&&A>0?k>A?E.pfValue*k:E.pfValue*A:0;default:return 0}else return E.units==="px"?E.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var p=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(p=p*100/c.width.val);var m=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var g=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var b=d(c.width.val-h.w,y,p),x=b.biasDiff,w=b.biasComplementDiff,T=d(c.height.val-h.h,m,g),C=T.biasDiff,S=T.biasComplementDiff;s.autoPadding=v(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,c.width.val),f.x=(-x+h.x1+h.x2+w)/2,s.autoHeight=Math.max(h.h,c.height.val),f.y=(-C+h.y1+h.y2+S)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||e)&&(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Hr=function(t){return t===1/0||t===-1/0?0:t},Jr=function(t,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(t.x1=r<t.x1?r:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=a>t.y2?a:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},ii=function(t,r){return r==null?t:Jr(t,r.x1,r.y1,r.x2,r.y2)},ko=function(t,r,n){return Er(t,r,n)},hl=function(t,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,o=a.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},h=c[n]=c[n]||{};h.x1=l-o,h.y1=u-o,h.x2=l+o,h.y2=u+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,Ol(h,1),Jr(t,h.x1,h.y1,h.x2,h.y2)}}},Cf=function(t,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,o=a.rstyle,s=r.pstyle(i+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=ko(o,"labelWidth",n),h=ko(o,"labelHeight",n),f=ko(o,"labelX",n),d=ko(o,"labelY",n),v=r.pstyle(i+"text-margin-x").pfValue,y=r.pstyle(i+"text-margin-y").pfValue,p=r.isEdge(),m=r.pstyle(i+"text-rotation"),g=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,x=b/2,w=r.pstyle("text-background-padding").pfValue,T=2,C=h,S=c,k=S/2,A=C/2,E,B,D,O;if(p)E=f-k,B=f+k,D=d-A,O=d+A;else{switch(l.value){case"left":E=f-S,B=f;break;case"center":E=f-k,B=f+k;break;case"right":E=f,B=f+S;break}switch(u.value){case"top":D=d-C,O=d;break;case"center":D=d-A,O=d+A;break;case"bottom":D=d,O=d+C;break}}var R=v-Math.max(g,x)-w-T,P=v+Math.max(g,x)+w+T,M=y-Math.max(g,x)-w-T,I=y+Math.max(g,x)+w+T;E+=R,B+=P,D+=M,O+=I;var $=n||"main",U=a.labelBounds,z=U[$]=U[$]||{};z.x1=E,z.y1=D,z.x2=B,z.y2=O,z.w=B-E,z.h=O-D,z.leftPad=R,z.rightPad=P,z.topPad=M,z.botPad=I;var W=p&&m.strValue==="autorotate",X=m.pfValue!=null&&m.pfValue!==0;if(W||X){var ie=W?ko(a.rstyle,"labelAngle",n):m.pfValue,j=Math.cos(ie),oe=Math.sin(ie),ce=(E+B)/2,de=(D+O)/2;if(!p){switch(l.value){case"left":ce=B;break;case"right":ce=E;break}switch(u.value){case"top":de=O;break;case"bottom":de=D;break}}var se=function(H,Z){return H=H-ce,Z=Z-de,{x:H*j-Z*oe+ce,y:H*oe+Z*j+de}},G=se(E,D),K=se(E,O),_=se(B,D),F=se(B,O);E=Math.min(G.x,K.x,_.x,F.x),B=Math.max(G.x,K.x,_.x,F.x),D=Math.min(G.y,K.y,_.y,F.y),O=Math.max(G.y,K.y,_.y,F.y)}var V=$+"Rot",ee=U[V]=U[V]||{};ee.x1=E,ee.y1=D,ee.x2=B,ee.y2=O,ee.w=B-E,ee.h=O-D,Jr(t,E,D,B,O),Jr(a.labelBounds.all,E,D,B,O)}return t}},Iy=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value,a=r.pstyle("outline-offset").value,o=i+a;jC(t,r,n,o,"outside",o/2)}},jC=function(t,r,n,i,a,o){if(!(n===0||i<=0||a==="inside")){var s=r.cy(),l=r.pstyle("shape").value,u=s.renderer().nodeShapes[l],c=r.position(),h=c.x,f=c.y,d=r.width(),v=r.height();if(u.hasMiterBounds){a==="center"&&(i/=2);var y=u.miterBounds(h,f,d,v,i);ii(t,y)}else o!=null&&o>0&&Rl(t,[o,o,o,o])}},b4=function(t,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,i=r.pstyle("border-width").pfValue,a=r.pstyle("border-position").value;jC(t,r,n,i,a)}},x4=function(t,r){var n=t._private.cy,i=n.styleEnabled(),a=n.headless(),o=wr(),s=t._private,l=t.isNode(),u=t.isEdge(),c,h,f,d,v,y,p=s.rstyle,m=l&&i?t.pstyle("bounds-expansion").pfValue:[0],g=function(q){return q.pstyle("display").value!=="none"},b=!i||g(t)&&(!u||g(t.source())&&g(t.target()));if(b){var x=0,w=0;i&&r.includeOverlays&&(x=t.pstyle("overlay-opacity").value,x!==0&&(w=t.pstyle("overlay-padding").value));var T=0,C=0;i&&r.includeUnderlays&&(T=t.pstyle("underlay-opacity").value,T!==0&&(C=t.pstyle("underlay-padding").value));var S=Math.max(w,C),k=0,A=0;if(i&&(k=t.pstyle("width").pfValue,A=k/2),l&&r.includeNodes){var E=t.position();v=E.x,y=E.y;var B=t.outerWidth(),D=B/2,O=t.outerHeight(),R=O/2;c=v-D,h=v+D,f=y-R,d=y+R,Jr(o,c,f,h,d),i&&Iy(o,t),i&&r.includeOutlines&&!a&&Iy(o,t),i&&b4(o,t)}else if(u&&r.includeEdges)if(i&&!a){var P=t.pstyle("curve-style").strValue;if(c=Math.min(p.srcX,p.midX,p.tgtX),h=Math.max(p.srcX,p.midX,p.tgtX),f=Math.min(p.srcY,p.midY,p.tgtY),d=Math.max(p.srcY,p.midY,p.tgtY),c-=A,h+=A,f-=A,d+=A,Jr(o,c,f,h,d),P==="haystack"){var M=p.haystackPts;if(M&&M.length===2){if(c=M[0].x,f=M[0].y,h=M[1].x,d=M[1].y,c>h){var I=c;c=h,h=I}if(f>d){var $=f;f=d,d=$}Jr(o,c-A,f-A,h+A,d+A)}}else if(P==="bezier"||P==="unbundled-bezier"||li(P,"segments")||li(P,"taxi")){var U;switch(P){case"bezier":case"unbundled-bezier":U=p.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":U=p.linePts;break}if(U!=null)for(var z=0;z<U.length;z++){var W=U[z];c=W.x-A,h=W.x+A,f=W.y-A,d=W.y+A,Jr(o,c,f,h,d)}}}else{var X=t.source(),ie=X.position(),j=t.target(),oe=j.position();if(c=ie.x,h=oe.x,f=ie.y,d=oe.y,c>h){var ce=c;c=h,h=ce}if(f>d){var de=f;f=d,d=de}c-=A,h+=A,f-=A,d+=A,Jr(o,c,f,h,d)}if(i&&r.includeEdges&&u&&(hl(o,t,"mid-source"),hl(o,t,"mid-target"),hl(o,t,"source"),hl(o,t,"target")),i){var se=t.pstyle("ghost").value==="yes";if(se){var G=t.pstyle("ghost-offset-x").pfValue,K=t.pstyle("ghost-offset-y").pfValue;Jr(o,o.x1+G,o.y1+K,o.x2+G,o.y2+K)}}var _=s.bodyBounds=s.bodyBounds||{};wm(_,o),Rl(_,m),Ol(_,1),i&&(c=o.x1,h=o.x2,f=o.y1,d=o.y2,Jr(o,c-S,f-S,h+S,d+S));var F=s.overlayBounds=s.overlayBounds||{};wm(F,o),Rl(F,m),Ol(F,1);var V=s.labelBounds=s.labelBounds||{};V.all!=null?tN(V.all):V.all=wr(),i&&r.includeLabels&&(r.includeMainLabels&&Cf(o,t,null),u&&(r.includeSourceLabels&&Cf(o,t,"source"),r.includeTargetLabels&&Cf(o,t,"target")))}return o.x1=Hr(o.x1),o.y1=Hr(o.y1),o.x2=Hr(o.x2),o.y2=Hr(o.y2),o.w=Hr(o.x2-o.x1),o.h=Hr(o.y2-o.y1),o.w>0&&o.h>0&&b&&(Rl(o,m),Ol(o,1)),o},XC=function(t){var r=0,n=function(o){return(o?1:0)<<r++},i=0;return i+=n(t.incudeNodes),i+=n(t.includeEdges),i+=n(t.includeLabels),i+=n(t.includeMainLabels),i+=n(t.includeSourceLabels),i+=n(t.includeTargetLabels),i+=n(t.includeOverlays),i+=n(t.includeOutlines),i},ZC=function(t){var r=function(s){return Math.round(s)};if(t.isEdge()){var n=t.source().position(),i=t.target().position();return gm([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var a=t.position();return gm([r(a.x),r(a.y)])}},Ny=function(t,r){var n=t._private,i,a=t.isEdge(),o=r==null?zy:XC(r),s=o===zy;if(n.bbCache==null?(i=x4(t,Ts),n.bbCache=i,n.bbCachePosKey=ZC(t)):i=n.bbCache,!s){var l=t.isNode();i=wr(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?ii(i,n.overlayBounds):ii(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?ii(i,n.labelBounds.all):(r.includeMainLabels&&ii(i,n.labelBounds.mainRot),r.includeSourceLabels&&ii(i,n.labelBounds.sourceRot),r.includeTargetLabels&&ii(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Ts={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},zy=XC(Ts),$y=Zt(Ts);Bi.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,n=ro(function(c){var h=c._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==ZC(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))e===void 0?e=Ts:e=$y(e),t=Ny(this[0],e);else{t=wr(),e=e||Ts;var i=$y(e),a=this,o=a.cy(),s=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),s&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<a.length;l++){var u=a[l];n(u)&&u.dirtyBoundingBoxCache(),ii(t,Ny(u,i))}}return t.x1=Hr(t.x1),t.y1=Hr(t.y1),t.x2=Hr(t.x2),t.y2=Hr(t.y2),t.w=Hr(t.x2-t.x1),t.h=Hr(t.y2-t.y1),t};Bi.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Bi.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(u){return u.isParent()}),t=t.not(i)),et(e)){var a=e;e=function(){return a}}var o=function(c,h){return c._private.bbAtOldPos=e(c,h)},s=function(c){return c._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=eN(this.boundingBox({useCache:!1}));return t.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};Ha.boundingbox=Ha.bb=Ha.boundingBox;Ha.renderedBoundingbox=Ha.renderedBoundingBox;var C4=Bi,zo,Ws;zo=Ws={};var QC=function(t){t.uppercaseName=tm(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=tm(t.outerName),zo[t.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[t.autoName]||0;var s=n.pstyle(t.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},zo["outer"+t.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var s=n[t.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var c=2*n.padding();return s+u+c}else return 1},zo["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var i=n[t.name]();return i*this.cy().zoom()}},zo["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[t.outerName]();return i*this.cy().zoom()}}};QC({name:"width"});QC({name:"height"});Ws.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};Ws.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};Ws.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var w4=Ws,T4=function(t,r){if(t.isEdge()&&t.takesUpSpace())return r(t)},_4=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy();return fc(r(t),n.zoom(),n.pan())}},S4=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy(),i=n.pan(),a=n.zoom();return r(t).map(function(o){return fc(o,a,i)})}},E4=function(t){return t.renderer().getControlPoints(t)},k4=function(t){return t.renderer().getSegmentPoints(t)},A4=function(t){return t.renderer().getSourceEndpoint(t)},B4=function(t){return t.renderer().getTargetEndpoint(t)},L4=function(t){return t.renderer().getEdgeMidpoint(t)},qy={controlPoints:{get:E4,mult:!0},segmentPoints:{get:k4,mult:!0},sourceEndpoint:{get:A4},targetEndpoint:{get:B4},midpoint:{get:L4}},D4=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},M4=Object.keys(qy).reduce(function(e,t){var r=qy[t],n=D4(t);return e[t]=function(){return T4(this,r.get)},r.mult?e[n]=function(){return S4(this,r.get)}:e[n]=function(){return _4(this,r.get)},e},{}),P4=Ve({},y4,C4,w4,M4);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var JC=function(t,r){this.recycle(t,r)};function Ao(){return!1}function fl(){return!0}JC.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ao,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?fl:Ao):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=fl;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=fl;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=fl,this.stopPropagation()},isDefaultPrevented:Ao,isPropagationStopped:Ao,isImmediatePropagationStopped:Ao};var ew=/^([^.]+)(\.(?:[^.]+))?$/,F4=".*",tw={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Vy=Object.keys(tw),O4={};function bc(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O4,t=arguments.length>1?arguments[1]:void 0,r=0;r<Vy.length;r++){var n=Vy[r];this[n]=e[n]||tw[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Ti=bc.prototype,rw=function(t,r,n,i,a,o,s){_t(i)&&(a=i,i=null),s&&(o==null?o=s:o=Ve({},o,s));for(var l=dt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!yi(c)){var h=c.match(ew);if(h){var f=h[1],d=h[2]?h[2]:null,v=r(t,c,f,d,i,a,o);if(v===!1)break}}}},Hy=function(t,r){return t.addEventFields(t.context,r),new JC(r.type,r)},R4=function(t,r,n){if(V5(n)){r(t,n);return}else if(et(n)){r(t,Hy(t,n));return}for(var i=dt(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!yi(o)){var s=o.match(ew);if(s){var l=s[1],u=s[2]?s[2]:null,c=Hy(t,{type:l,namespace:u,target:t.context});r(t,c)}}}};Ti.on=Ti.addListener=function(e,t,r,n,i){return rw(this,function(a,o,s,l,u,c,h){_t(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:h})},e,t,r,n,i),this};Ti.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};Ti.removeListener=Ti.off=function(e,t,r,n){var i=this;this.emitting!==0&&(this.listeners=_I(this.listeners));for(var a=this.listeners,o=function(u){var c=a[u];rw(i,function(h,f,d,v,y,p){if((c.type===d||e==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!y||h.qualifierCompare(c.qualifier,y))&&(!p||c.callback===p))return a.splice(u,1),!1},e,t,r,n)},s=a.length-1;s>=0;s--)o(s);return this};Ti.removeAllListeners=function(){return this.removeListener("*")};Ti.emit=Ti.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,dt(t)||(t=[t]),R4(this,function(a,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],i=n.length);for(var s=function(){var c=n[l];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===F4)&&a.eventMatches(a.context,c,o)){var h=[o];t!=null&&EI(h,t),a.beforeEmit(a.context,c,o),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(v){return v!==c}));var f=a.callbackContext(a.context,c,o),d=c.callback.apply(f,h);a.afterEmit(a.context,c,o),d===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<i;l++)s();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,t)},e),this.emitting--,this};var I4={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var i=r.qualifier;return i!=null?t!==n.target&&Ns(n.target)&&i.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},dl=function(t){return ze(t)?new Ci(t):t},nw={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new bc(I4,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var i=dl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,i,n)}return this},removeListener:function(t,r,n){for(var i=dl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(t,i,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var i=dl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(t,i,n)}return this},once:function(t,r,n){for(var i=dl(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,i,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};at.eventAliasesOn(nw);var iw={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?t.push(i):r.push(i)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(ze(t)||Pr(t))return new Ci(t).filter(this);if(_t(t)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=r?t.apply(r,[o,a,i]):t(o,a,i);s&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){ze(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=t.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(ze(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),i=this,a=t,o=this.length<t.length,s=o?i:a,l=o?a:i,u=0;u<s.length;u++){var c=s[u];l.has(c)&&n.push(c)}return n},xor:function(t){var r=this._private.cy;ze(t)&&(t=r.$(t));var n=this.spawn(),i=this,a=t,o=function(l,u){for(var c=0;c<l.length;c++){var h=l[c],f=h._private.data.id,d=u.hasElementWithId(f);d||n.push(h)}};return o(i,a),o(a,i),n},diff:function(t){var r=this._private.cy;ze(t)&&(t=r.$(t));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=t,l=function(c,h,f){for(var d=0;d<c.length;d++){var v=c[d],y=v._private.data.id,p=h.hasElementWithId(y);p?a.merge(v):f.push(v)}};return l(o,s,n),l(s,o,i),{left:n,right:i,both:a}},add:function(t){var r=this._private.cy;if(!t)return this;if(ze(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<t.length;a++){var o=t[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&ze(t)){var i=t;t=n.mutableElements().filter(i)}for(var a=r.map,o=0;o<t.length;o++){var s=t[o],l=s._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=s,a.set(l,{ele:s,index:c})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),i=this._private,a=i.map;this[t]=void 0,a.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[t]=l,a.set(u,{ele:l,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&ze(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],s=r?t.apply(r,[o,a,i]):t(o,a,i);n.push(s)}return n},reduce:function(t,r){for(var n=r,i=this,a=0;a<i.length;a++)n=t(n,i[a],a,i);return n},max:function(t,r){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?t.apply(r,[s,o,a]):t(s,o,a);l>n&&(n=l,i=s)}return{value:n,ele:i}},min:function(t,r){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?t.apply(r,[s,o,a]):t(s,o,a);l<n&&(n=l,i=s)}return{value:n,ele:i}}},tt=iw;tt.u=tt["|"]=tt["+"]=tt.union=tt.or=tt.add;tt["\\"]=tt["!"]=tt["-"]=tt.difference=tt.relativeComplement=tt.subtract=tt.not;tt.n=tt["&"]=tt["."]=tt.and=tt.intersection=tt.intersect;tt["^"]=tt["(+)"]=tt["(-)"]=tt.symmetricDifference=tt.symdiff=tt.xor;tt.fnFilter=tt.filterFn=tt.stdFilter=tt.filter;tt.complement=tt.abscomp=tt.absoluteComplement;var N4={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},aw=function(t,r){var n=t.cy(),i=n.hasCompoundNodes();function a(c){var h=c.pstyle("z-compound-depth");return h.value==="auto"?i?c.zDepth():0:h.value==="bottom"?-1:h.value==="top"?Pv:0}var o=a(t)-a(r);if(o!==0)return o;function s(c){var h=c.pstyle("z-index-compare");return h.value==="auto"&&c.isNode()?1:0}var l=s(t)-s(r);if(l!==0)return l;var u=t.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:t.poolIndex()-r.poolIndex()},Bu={forEach:function(t,r){if(_t(t))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=r?t.apply(r,[a,i,this]):t(a,i,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],i=this.length;r==null&&(r=i),t==null&&(t=0),t<0&&(t=i+t),r<0&&(r=i+r);for(var a=t;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!_t(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(aw)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var i=r.data.parent?t.parents().size():0;return t.isParent()?i:Pv-1}else{var a=r.source,o=r.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};Bu.each=Bu.forEach;var z4=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":qt(Symbol))!=t&&qt(Symbol.iterator)!=t;r&&(Bu[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return nC({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};z4();var $4=Zt({nodeDimensionsIncludeLabels:!1}),Nl={layoutDimensions:function(t){t=$4(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var i=this.nodes().filter(function(w){return!w.isParent()}),a=this.cy(),o=r.eles,s=function(T){return T.id()},l=ro(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var u=function(T,C,S){var k={x:C.x1+C.w/2,y:C.y1+C.h/2},A={x:(S.x-k.x)*T,y:(S.y-k.y)*T};return{x:k.x+A.x,y:k.y+A.y}},c=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!c)return null;for(var T=wr(),C=0;C<i.length;C++){var S=i[C],k=l(S,C);TC(T,k.x,k.y)}return T},f=h(),d=ro(function(w,T){var C=l(w,T);if(c){var S=Math.abs(r.spacingFactor);C=u(S,f,C)}return r.transform!=null&&(C=r.transform(w,C)),C},s);if(r.animate){for(var v=0;v<i.length;v++){var y=i[v],p=d(y,v),m=r.animateFilter==null||r.animateFilter(y,v);if(m){var g=y.animation({position:p,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(g)}else y.position(p)}if(r.fit){var b=a.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var x=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(x)}t.animations.forEach(function(w){return w.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),co.all(t.animations.map(function(w){return w.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(d),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Ve({},t,{eles:this}))}};Nl.createLayout=Nl.makeLayout=Nl.layout;function ow(e,t,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(r)),a}function xc(e,t){return e=ia(e),function(n){return ow(e,t,n)}}function Cc(e,t){e=ia(e);var r=function(i){return t.call(i)};return function(){var i=this[0];if(i)return ow(e,r,i)}}var jt={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(a){return a._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;t=!!(t||t===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return t?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[t];return a??(r?i.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(et(t)){var o=t;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if(ze(t))if(r===void 0){var s=this[0];return s?a.getStylePropertyValue(s,t):void 0}else a.applyBypass(this,t,r,i),this.emitAndNotify("style");else if(t===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(t===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function wf(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!t(a))return!1}return!0}function Uv(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!t(a))return!1;if(a.isNode())return!o||wf(a,n);var l=s.source,u=s.target;return r(l)&&(!o||wf(l,r))&&(l===u||r(u)&&(!o||wf(u,r)))}}}var ho=xc("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});jt.takesUpSpace=Cc("takesUpSpace",Uv({ok:ho}));var q4=xc("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&ho(e)}),V4=xc("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&ho(e)});jt.interactive=Cc("interactive",Uv({ok:q4,parentOk:V4,edgeOkViaNode:ho}));jt.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var H4=xc("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&ho(e)}),W4=ho;jt.visible=Cc("visible",Uv({ok:H4,edgeOkViaNode:W4}));jt.hidden=function(){var e=this[0];if(e)return!e.visible()};jt.isBundledBezier=Cc("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});jt.bypass=jt.css=jt.style;jt.renderedCss=jt.renderedStyle;jt.removeBypass=jt.removeCss=jt.removeStyle;jt.pstyle=jt.parsedStyle;var di={};function Wy(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(t.length===1&&_t(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&dt(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(h!==void 0&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,c&&r.push(l))}var f=this.spawn(r);f.updateStyle(),f.emit(e.event),o&&f.emit(o)}return this}}function fo(e){di[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},di[e.on]=Wy({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),di[e.off]=Wy({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}fo({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});fo({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});fo({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});fo({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});di.deselect=di.unselect;di.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};fo({field:"active",on:"activate",off:"unactivate"});fo({field:"pannable",on:"panify",off:"unpanify"});di.inactive=function(){var e=this[0];if(e)return!e._private.active};var sr={},Uy=function(t){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var h=u[c],f=h.source(),d=h.target();if(t.noIncomingEdges&&d===s&&f!==s||t.noOutgoingEdges&&f===s&&d!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(n)}},Gy=function(t){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),h=u.target();t.outgoing&&c===o?(i.push(u),i.push(h)):t.incoming&&h===o&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(r)}},Yy=function(t){return function(r){for(var n=this,i=[],a={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();a[c]||(a[c]=!0,i.push(u),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(r)}};sr.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Ve(sr,{roots:Uy({noIncomingEdges:!0}),leaves:Uy({noOutgoingEdges:!0}),outgoers:Ur(Gy({outgoing:!0}),"outgoers"),successors:Yy({outgoing:!0}),incomers:Ur(Gy({incoming:!0}),"incomers"),predecessors:Yy({})});Ve(sr,{neighborhood:Ur(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});sr.neighbourhood=sr.neighborhood;sr.closedNeighbourhood=sr.closedNeighborhood;sr.openNeighbourhood=sr.openNeighborhood;Ve(sr,{source:Ur(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Ur(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:Ky({attr:"source"}),targets:Ky({attr:"target"})});function Ky(e){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Ve(sr,{edgesWith:Ur(jy(),"edgesWith"),edgesTo:Ur(jy({thisIsSrc:!0}),"edgesTo")});function jy(e){return function(r){var n=[],i=this._private.cy,a=e||{};ze(r)&&(r=i.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,h=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),f=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=h||f;d&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!h||a.thisIsTgt&&!f)||n.push(u))}return this.spawn(n,!0)}}Ve(sr,{connectedEdges:Ur(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Ur(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Ur(Xy(),"parallelEdges"),codirectedEdges:Ur(Xy({codirected:!0}),"codirectedEdges")});function Xy(e){var t={codirected:!1};return e=Ve({},t,e),function(n){for(var i=[],a=this.edges(),o=e,s=0;s<a.length;s++)for(var l=a[s],u=l._private,c=u.source,h=c._private.data.id,f=u.data.target,d=c._private.edges,v=0;v<d.length;v++){var y=d[v],p=y._private.data,m=p.target,g=p.source,b=m===f&&g===h,x=h===m&&f===g;(o.codirected&&b||!o.codirected&&(b||x))&&i.push(y)}return this.spawn(i,!0).filter(n)}}Ve(sr,{components:function(t){var r=this,n=r.cy(),i=n.collection(),a=t==null?r.nodes():t.nodes(),o=[];t!=null&&a.empty()&&(a=t.sources());var s=function(c,h){i.merge(c),a.unmerge(c),h.merge(c)};if(a.empty())return r.spawn();var l=function(){var c=n.collection();o.push(c);var h=a[0];s(h,c),r.bfs({directed:!1,roots:h,visit:function(d){return s(d,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do l();while(a.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});sr.componentsOf=sr.components;var Xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Ct("A collection must have a reference to the core");return}var a=new $n,o=!1;if(!r)r=[];else if(r.length>0&&et(r[0])&&!Ns(r[0])){o=!0;for(var s=[],l=new uo,u=0,c=r.length;u<c;u++){var h=r[u];h.data==null&&(h.data={});var f=h.data;if(f.id==null)f.id=xC();else if(t.hasElementWithId(f.id)||l.has(f.id))continue;var d=new hc(t,h,!1);s.push(d),l.add(f.id)}r=s}this.length=0;for(var v=0,y=r.length;v<y;v++){var p=r[v][0];if(p!=null){var m=p._private.data.id;(!n||!a.has(m))&&(n&&a.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(g){this.lazyMap=g},rebuildMap:function(){for(var b=this.lazyMap=new $n,x=this.eles,w=0;w<x.length;w++){var T=x[w];b.set(T.id(),{index:w,ele:T})}}},n&&(this._private.map=a),o&&!i&&this.restore()},mt=hc.prototype=Xt.prototype=Object.create(Array.prototype);mt.instanceString=function(){return"collection"};mt.spawn=function(e,t){return new Xt(this.cy(),e,t)};mt.spawnSelf=function(){return this.spawn(this)};mt.cy=function(){return this._private.cy};mt.renderer=function(){return this._private.cy.renderer()};mt.element=function(){return this[0]};mt.collection=function(){return oC(this)?this:new Xt(this._private.cy,[this])};mt.unique=function(){return new Xt(this._private.cy,this,!0)};mt.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};mt.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new Xt(t)};mt.$id=mt.getElementById;mt.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};mt.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};mt.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};mt.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(et(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,l=e.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),l!=null&&l!=i.target&&(o.target=""+l,a=!0),a&&(t=t.move(o))}else{var u="parent"in e.data,c=e.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var h=function(y,p,m){var g=e[y];g!=null&&g!==n[y]&&(g?t[p]():t[m]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var f={data:gn(n.data),position:gn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var d=0;return n.classes.forEach(function(v){return f.classes+=d++===0?v:" "+v}),f}}};mt.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};mt.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new hc(e,i,!1);t.push(a)}return new Xt(e,t)};mt.copy=mt.clone;mt.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],o=[],s,l=0,u=r.length;l<u;l++){var c=r[l];t&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var h,f=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var d=s[h],v=d._private,y=v.data;if(d.clearTraversalCache(),!(!t&&!v.removed)){if(y.id===void 0)y.id=xC();else if(be(y.id))y.id=""+y.id;else if(yi(y.id)||!ze(y.id)){Ct("Can not create element with invalid string ID `"+y.id+"`"),f();continue}else if(n.hasElementWithId(y.id)){Ct("Can not create second element with ID `"+y.id+"`"),f();continue}}var p=y.id;if(d.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(d.isEdge()){for(var g=d,b=["source","target"],x=b.length,w=!1,T=0;T<x;T++){var C=b[T],S=y[C];be(S)&&(S=y[C]=""+y[C]),S==null||S===""?(Ct("Can not create edge `"+p+"` with unspecified "+C),w=!0):n.hasElementWithId(S)||(Ct("Can not create edge `"+p+"` with nonexistant "+C+" `"+S+"`"),w=!0)}if(w){f();continue}var k=n.getElementById(y.source),A=n.getElementById(y.target);k.same(A)?k._private.edges.push(g):(k._private.edges.push(g),A._private.edges.push(g)),g._private.source=k,g._private.target=A}v.map=new $n,v.map.set(p,{ele:d,index:0}),v.removed=!1,t&&n.addToPool(d)}for(var E=0;E<a.length;E++){var B=a[E],D=B._private.data;be(D.parent)&&(D.parent=""+D.parent);var O=D.parent,R=O!=null;if(R||B._private.parent){var P=B._private.parent?n.collection().merge(B._private.parent):n.getElementById(O);if(P.empty())D.parent=void 0;else if(P[0].removed())ot("Node added with missing parent, reference to parent removed"),D.parent=void 0,B._private.parent=null;else{for(var M=!1,I=P;!I.empty();){if(B.same(I)){M=!0,D.parent=void 0;break}I=I.parent()}M||(P[0]._private.children.push(B),B._private.parent=P[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var $=s.length===r.length?r:new Xt(n,s),U=0;U<$.length;U++){var z=$[U];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}var W;i.hasCompoundNodes?W=n.collection().merge($).merge($.connectedNodes()).merge($.parent()):W=$,W.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?$.emitAndNotify("add"):t&&$.emit("add")}return r};mt.removed=function(){var e=this[0];return e&&e._private.removed};mt.inside=function(){var e=this[0];return e&&!e._private.removed};mt.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function o(O){for(var R=O._private.edges,P=0;P<R.length;P++)l(R[P])}function s(O){for(var R=O._private.children,P=0;P<R.length;P++)l(R[P])}function l(O){var R=i[O.id()];t&&O.removed()||R||(i[O.id()]=!0,O.isNode()?(n.push(O),o(O),s(O)):n.unshift(O))}for(var u=0,c=r.length;u<c;u++){var h=r[u];l(h)}function f(O,R){var P=O._private.edges;bi(P,R),O.clearTraversalCache()}function d(O){O.clearTraversalCache()}var v=[];v.ids={};function y(O,R){R=R[0],O=O[0];var P=O._private.children,M=O.id();bi(P,R),R._private.parent=null,v.ids[M]||(v.ids[M]=!0,v.push(O))}r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var p=0;p<n.length;p++){var m=n[p];if(m.isEdge()){var g=m.source()[0],b=m.target()[0];f(g,m),f(b,m);for(var x=m.parallelEdges(),w=0;w<x.length;w++){var T=x[w];d(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var C=m.parent();C.length!==0&&y(C,m)}t&&(m._private.removed=!0)}var S=a._private.elements;a._private.hasCompoundNodes=!1;for(var k=0;k<S.length;k++){var A=S[k];if(A.isParent()){a._private.hasCompoundNodes=!0;break}}var E=new Xt(this.cy(),n);E.size()>0&&(e?E.emitAndNotify("remove"):t&&E.emit("remove"));for(var B=0;B<v.length;B++){var D=v[B];(!t||!D.removed())&&D.updateStyle()}return E};mt.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=function(v){return v==null?v:""+v};if(e.source!==void 0||e.target!==void 0){var o=a(e.source),s=a(e.target),l=o!=null&&t.hasElementWithId(o),u=s!=null&&t.hasElementWithId(s);(l||u)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var v=r[d],y=v._private.data;v.isEdge()&&(l&&(y.source=o),u&&(y.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var c=a(e.parent),h=c===null||t.hasElementWithId(c);if(h){var f=c===null?void 0:c;t.batch(function(){var d=r.remove(n,i);d.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var y=r[v],p=y._private.data;y.isNode()&&(p.parent=f)}d.restore(n,i)}),r.emitAndNotify("move")}}return this};[MC,t4,Il,fi,io,m4,yc,P4,nw,iw,N4,Bu,Nl,jt,di,sr].forEach(function(e){Ve(mt,e)});var U4={add:function(t){var r,n=this;if(Pr(t)){var i=t;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}r=new Xt(n,a)}}else if(dt(t)){var l=t;r=new Xt(n,l)}else if(et(t)&&(dt(t.nodes)||dt(t.edges))){for(var u=t,c=[],h=["nodes","edges"],f=0,d=h.length;f<d;f++){var v=h[f],y=u[v];if(dt(y))for(var p=0,m=y.length;p<m;p++){var g=Ve({group:v},y[p]);c.push(g)}}r=new Xt(n,c)}else{var b=t;r=new hc(n,b).collection()}return r},remove:function(t){if(!Pr(t)){if(ze(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function G4(e,t,r,n){var i=4,a=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var f=c?new Float32Array(l):new Array(l);function d(A,E){return 1-3*E+3*A}function v(A,E){return 3*E-6*A}function y(A){return 3*A}function p(A,E,B){return((d(E,B)*A+v(E,B))*A+y(E))*A}function m(A,E,B){return 3*d(E,B)*A*A+2*v(E,B)*A+y(E)}function g(A,E){for(var B=0;B<i;++B){var D=m(E,e,r);if(D===0)return E;var O=p(E,e,r)-A;E-=O/D}return E}function b(){for(var A=0;A<l;++A)f[A]=p(A*u,e,r)}function x(A,E,B){var D,O,R=0;do O=E+(B-E)/2,D=p(O,e,r)-A,D>0?B=O:E=O;while(Math.abs(D)>o&&++R<s);return O}function w(A){for(var E=0,B=1,D=l-1;B!==D&&f[B]<=A;++B)E+=u;--B;var O=(A-f[B])/(f[B+1]-f[B]),R=E+O*u,P=m(R,e,r);return P>=a?g(A,R):P===0?R:x(A,E,E+u)}var T=!1;function C(){T=!0,(e!==t||r!==n)&&b()}var S=function(E){return T||C(),e===t&&r===n?E:E===0?0:E===1?1:p(w(E),t,n)};S.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var k="generateBezier("+[e,t,r,n]+")";return S.toString=function(){return k},S}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Y4=(function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,i){var a={dx:n.v,dv:e(n)},o=t(n,i*.5,a),s=t(n,i*.5,o),l=t(n,i,s),u=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+c*i,n}return function n(i,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,h=16/1e3,f,d,v;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,f=o!==null,f?(u=n(i,a),d=u/o*h):d=h;v=r(v||s,d),l.push(1+v.x),u+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return f?function(y){return l[y*(l.length-1)|0]}:u}})(),vt=function(t,r,n,i){var a=G4(t,r,n,i);return function(o,s,l){return o+(s-o)*a(l)}},zl={linear:function(t,r,n){return t+(r-t)*n},ease:vt(.25,.1,.25,1),"ease-in":vt(.42,0,1,1),"ease-out":vt(0,0,.58,1),"ease-in-out":vt(.42,0,.58,1),"ease-in-sine":vt(.47,0,.745,.715),"ease-out-sine":vt(.39,.575,.565,1),"ease-in-out-sine":vt(.445,.05,.55,.95),"ease-in-quad":vt(.55,.085,.68,.53),"ease-out-quad":vt(.25,.46,.45,.94),"ease-in-out-quad":vt(.455,.03,.515,.955),"ease-in-cubic":vt(.55,.055,.675,.19),"ease-out-cubic":vt(.215,.61,.355,1),"ease-in-out-cubic":vt(.645,.045,.355,1),"ease-in-quart":vt(.895,.03,.685,.22),"ease-out-quart":vt(.165,.84,.44,1),"ease-in-out-quart":vt(.77,0,.175,1),"ease-in-quint":vt(.755,.05,.855,.06),"ease-out-quint":vt(.23,1,.32,1),"ease-in-out-quint":vt(.86,0,.07,1),"ease-in-expo":vt(.95,.05,.795,.035),"ease-out-expo":vt(.19,1,.22,1),"ease-in-out-expo":vt(1,0,0,1),"ease-in-circ":vt(.6,.04,.98,.335),"ease-out-circ":vt(.075,.82,.165,1),"ease-in-out-circ":vt(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return zl.linear;var i=Y4(t,r,n);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":vt};function Zy(e,t,r,n,i){if(n===1||t===r)return r;var a=i(t,r,n);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function Qy(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function ba(e,t,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var o=Qy(e,i),s=Qy(t,i);if(be(o)&&be(s))return Zy(a,o,s,r,n);if(dt(o)&&dt(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],h=s[u];if(c!=null&&h!=null){var f=Zy(a,c,h,r,n);l.push(f)}else l.push(h)}return l}}function K4(e,t,r,n){var i=!n,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=n?e:e.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=zl.linear;else{var h;if(ze(s)){var f=c.parse("transition-timing-function",s);h=f.value}else h=s;var d,v;ze(h)?(d=h,v=[]):(d=h[1],v=h.slice(2).map(function($){return+$})),v.length>0?(d==="spring"&&v.push(o.duration),o.easingImpl=zl[d].apply(null,v)):o.easingImpl=zl[d]}var y=o.easingImpl,p;if(o.duration===0?p=1:p=(r-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),o.delay==null){var m=o.startPosition,g=o.position;if(g&&i&&!e.locked()){var b={};Bo(m.x,g.x)&&(b.x=ba(m.x,g.x,p,y)),Bo(m.y,g.y)&&(b.y=ba(m.y,g.y,p,y)),e.position(b)}var x=o.startPan,w=o.pan,T=a.pan,C=w!=null&&n;C&&(Bo(x.x,w.x)&&(T.x=ba(x.x,w.x,p,y)),Bo(x.y,w.y)&&(T.y=ba(x.y,w.y,p,y)),e.emit("pan"));var S=o.startZoom,k=o.zoom,A=k!=null&&n;A&&(Bo(S,k)&&(a.zoom=xs(a.minZoom,ba(S,k,p,y),a.maxZoom)),e.emit("zoom")),(C||A)&&e.emit("viewport");var E=o.style;if(E&&E.length>0&&i){for(var B=0;B<E.length;B++){var D=E[B],O=D.name,R=D,P=o.startStyle[O],M=c.properties[P.name],I=ba(P,R,p,y,M);c.overrideBypass(e,O,I)}e.emit("style")}}return o.progress=p,p}function Bo(e,t){return e==null||t==null?!1:be(e)&&be(t)?!0:!!(e&&t)}function j4(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function Jy(e,t){var r=t._private.aniEles,n=[];function i(c,h){var f=c._private,d=f.animation.current,v=f.animation.queue,y=!1;if(d.length===0){var p=v.shift();p&&d.push(p)}for(var m=function(T){for(var C=T.length-1;C>=0;C--){var S=T[C];S()}T.splice(0,T.length)},g=d.length-1;g>=0;g--){var b=d[g],x=b._private;if(x.stopped){d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,m(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||j4(c,b,e),K4(c,b,e,h),x.applying&&(x.applying=!1),m(x.frames),x.step!=null&&x.step(e),b.completed()&&(d.splice(g,1),x.hooked=!1,x.playing=!1,x.started=!1,m(x.completes)),y=!0)}return!h&&d.length===0&&v.length===0&&n.push(c),y}for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=i(s);a=a||l}var u=i(t,!0);(a||u)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var X4={animate:at.animate(),animation:at.animation(),animated:at.animated(),clearQueue:at.clearQueue(),delay:at.delay(),delayAnimation:at.delayAnimation(),stop:at.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&_u(function(a){Jy(a,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){Jy(o,t)},n.beforeRenderPriorities.animations):r()}},Z4={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var i=r.qualifier;return i!=null?t!==n.target&&Ns(n.target)&&i.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},vl=function(t){return ze(t)?new Ci(t):t},sw={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new bc(Z4,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,vl(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,vl(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,vl(r),n),this},once:function(t,r,n){return this.emitter().one(t,vl(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};at.eventAliasesOn(sw);var Cd={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};Cd.jpeg=Cd.jpg;var $l={layout:function(t){var r=this;if(t==null){Ct("Layout options must be specified to make a layout");return}if(t.name==null){Ct("A `name` must be specified to make a layout");return}var n=t.name,i=r.extension("layout",n);if(i==null){Ct("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;ze(t.eles)?a=r.$(t.eles):a=t.eles!=null?t.eles:r.$();var o=new i(Ve({},t,{cy:r,eles:a}));return o}};$l.createLayout=$l.makeLayout=$l.layout;var Q4={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var i=t.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),i=0;i<n.length;i++){var a=n[i],o=t[a],s=r.getElementById(a);s.data(o)}})}},J4=Zt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),wd={renderTo:function(t,r,n,i){var a=this._private.renderer;return a.renderTo(t,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){Ct("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&ot("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=J4(t);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};wd.invalidateDimensions=wd.resize;var ql={collection:function(t,r){return ze(t)?this.$(t):Pr(t)?t.collection():dt(t)?(r||(r={}),new Xt(this,t,r.unique,r.removed)):new Xt(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};ql.elements=ql.filter=ql.$;var Yt={},es="t",ez="f";Yt.apply=function(e){for(var t=this,r=t._private,n=r.cy,i=n.collection(),a=0;a<e.length;a++){var o=e[a],s=t.getContextMeta(o);if(!s.empty){var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,o);o._private.appliedInitStyle?t.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=t.updateStyleHints(o);c&&i.push(o)}}return i};Yt.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=e[l]===es,h=t[l]===es,f=c!==h,d=u.mappedProperties.length>0;if(f||h&&d){var v=void 0;f&&d||f?v=u.properties:d&&(v=u.mappedProperties);for(var y=0;y<v.length;y++){for(var p=v[y],m=p.name,g=!1,b=l+1;b<r.length;b++){var x=r[b],w=t[b]===es;if(w&&(g=x.properties[p.name]!=null,g))break}!s[m]&&!g&&(s[m]=!0,o.push(m))}}}return n[i]=o,o};Yt.getContextMeta=function(e){for(var t=this,r="",n,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var o=t[a],s=o.selector&&o.selector.matches(e);s?r+=es:r+=ez}return n=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Yt.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s=t[a]===es;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];i[u.name]=u}}return n[t]=i,i};Yt.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=n.types,s=0;s<i.length;s++){var l=i[s],u=t[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var h=c.mapping,f=h.fnValue=u.value(r);if(f===h.prevFnValue)continue}var d=a[l]={prev:c};n.applyParsedProperty(r,u),d.next=r.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}};Yt.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(_,F,V){return r.getPropertiesHash(_,F,V)},o=t.styleKey;if(e.removed())return!1;var s=t.group==="nodes",l=e._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=[Wi,Ea]}for(var h=function(_,F){return t.styleKeys[F][0]=ms(_,t.styleKeys[F][0])},f=function(_,F){return t.styleKeys[F][1]=ys(_,t.styleKeys[F][1])},d=function(_,F){h(_,F),f(_,F)},v=function(_,F){for(var V=0;V<_.length;V++){var ee=_.charCodeAt(V);h(ee,F),f(ee,F)}},y=2e9,p=function(_){return-128<_&&_<128&&Math.floor(_)!==_?y-(_*1024|0):_},m=0;m<n.length;m++){var g=n[m],b=l[g];if(b!=null){var x=this.properties[g],w=x.type,T=x.groupKey,C=void 0;x.hashOverride!=null?C=x.hashOverride(e,b):b.pfValue!=null&&(C=b.pfValue);var S=x.enums==null?b.value:null,k=C!=null,A=S!=null,E=k||A,B=b.units;if(w.number&&E&&!w.multiple){var D=k?C:S;d(p(D),T),!k&&B!=null&&v(B,T)}else v(b.strValue,T)}}for(var O=[Wi,Ea],R=0;R<i.length;R++){var P=i[R],M=t.styleKeys[P];O[0]=ms(M[0],O[0]),O[1]=ys(M[1],O[1])}t.styleKey=gI(O[0],O[1]);var I=t.styleKeys;t.labelDimsKey=Qn(I.labelDimensions);var $=a(e,["label"],I.labelDimensions);if(t.labelKey=Qn($),t.labelStyleKey=Qn(ol(I.commonLabel,$)),!s){var U=a(e,["source-label"],I.labelDimensions);t.sourceLabelKey=Qn(U),t.sourceLabelStyleKey=Qn(ol(I.commonLabel,U));var z=a(e,["target-label"],I.labelDimensions);t.targetLabelKey=Qn(z),t.targetLabelStyleKey=Qn(ol(I.commonLabel,z))}if(s){var W=t.styleKeys,X=W.nodeBody,ie=W.nodeBorder,j=W.nodeOutline,oe=W.backgroundImage,ce=W.compound,de=W.pie,se=W.stripe,G=[X,ie,j,oe,ce,de,se].filter(function(K){return K!=null}).reduce(ol,[Wi,Ea]);t.nodeKey=Qn(G),t.hasPie=de!=null&&de[0]!==Wi&&de[1]!==Ea,t.hasStripe=se!=null&&se[0]!==Wi&&se[1]!==Ea}return o!==t.styleKey};Yt.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};Yt.applyParsedProperty=function(e,t){var r=this,n=t,i=e._private.style,a,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=i[n.name],c=u&&u.bypass,h=e._private,f="mapping",d=function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},v=function(){var X=d(u),ie=d(n);r.checkTriggers(e,n.name,X,ie)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",l)),n.delete)return i[n.name]=void 0,v(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,v(),!0):!1:(v(),!0);var y=function(){ot("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var p=n.field.split("."),m=h.data,g=0;g<p.length&&m;g++){var b=p[g];m=m[b]}if(m==null)return y(),!1;var x;if(be(m)){var w=n.fieldMax-n.fieldMin;w===0?x=0:x=(m-n.fieldMin)/w}else return ot("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var T=n.valueMin[0],C=n.valueMax[0],S=n.valueMin[1],k=n.valueMax[1],A=n.valueMin[2],E=n.valueMax[2],B=n.valueMin[3]==null?1:n.valueMin[3],D=n.valueMax[3]==null?1:n.valueMax[3],O=[Math.round(T+(C-T)*x),Math.round(S+(k-S)*x),Math.round(A+(E-A)*x),Math.round(B+(D-B)*x)];a={bypass:n.bypass,name:n.name,value:O,strValue:"rgb("+O[0]+", "+O[1]+", "+O[2]+")"}}else if(s.number){var R=n.valueMin+(n.valueMax-n.valueMin)*x;a=this.parse(n.name,R,n.bypass,f)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case o.data:{for(var P=n.field.split("."),M=h.data,I=0;I<P.length&&M;I++){var $=P[I];M=M[$]}if(M!=null&&(a=this.parse(n.name,M,n.bypass,f)),!a)return y(),!1;a.mapping=n,n=a;break}case o.fn:{var U=n.value,z=n.fnValue!=null?n.fnValue:U(e);if(n.prevFnValue=z,z==null)return ot("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(n.name,z,n.bypass,f),!a)return ot("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=gn(n),n=a;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):c?u.bypassed=n:i[n.name]=n,v(),!0};Yt.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];l!=null&&(l.bypass?l.bypassed=null:i[s]=null)}}};Yt.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};Yt.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],h=e.pstyle(c),f=t[c];if(f){var d=f.prev,v=d,y=f.next!=null?f.next:h,p=!1,m=void 0,g=1e-6;v&&(be(v.pfValue)&&be(y.pfValue)?(p=y.pfValue-v.pfValue,m=v.pfValue+g*p):be(v.value)&&be(y.value)?(p=y.value-v.value,m=v.value+g*p):dt(v.value)&&dt(y.value)&&(p=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],m=v.strValue),p&&(s[c]=y.strValue,this.applyBypass(e,c,m),l=!0))}}if(!l)return;n.transitioning=!0,new co(function(b){o>0?e.delayAnimation(o).play().promise().then(b):b()}).then(function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)};Yt.checkTrigger=function(e,t,r,n,i,a){var o=this.properties[t],s=i(o);e.removed()||s!=null&&s(r,n,e)&&a(o)};Yt.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})};Yt.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};Yt.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Yt.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){e.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Yt.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};var Us={};Us.applyBypass=function(e,t,r,n){var i=this,a=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var s=0;s<i.properties.length;s++){var l=i.properties[s],u=l.name,c=this.parse(u,r,!0);c&&a.push(c)}}else if(ze(t)){var h=this.parse(t,r,!0);h&&a.push(h)}else if(et(t)){var f=t;n=r;for(var d=Object.keys(f),v=0;v<d.length;v++){var y=d[v],p=f[y];if(p===void 0&&(p=f[uc(y)]),p!==void 0){var m=this.parse(y,p,!0);m&&a.push(m)}}}else return!1;if(a.length===0)return!1;for(var g=!1,b=0;b<e.length;b++){for(var x=e[b],w={},T=void 0,C=0;C<a.length;C++){var S=a[C];if(n){var k=x.pstyle(S.name);T=w[S.name]={prev:k}}g=this.applyParsedProperty(x,gn(S))||g,n&&(T.next=x.pstyle(S.name))}g&&this.updateStyleHints(x),n&&this.updateTransitions(x,w,o)}return g};Us.overrideBypass=function(e,t,r){t=Dv(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),s?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,t,u,r)}};Us.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};Us.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],o={},s=0;s<t.length;s++){var l=t[s],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var h="",f=this.parse(l,h,!0),d=o[u.name]={prev:c};this.applyParsedProperty(a,f),d.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,n)}};var Gv={};Gv.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};Gv.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var Sn={};Sn.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};Sn.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(e,a.name,t);o!=null&&(n[a.name]=o,n[uc(a.name)]=o)}return n}};Sn.getIndexedStyle=function(e,t,r,n){var i=e.pstyle(t)[r][n];return i??e.cy().style().getDefaultProperty(t)[r][0]};Sn.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var i=n.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,o=e.pstyle(i.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&a.number&&s!=null&&be(s)){var c=e.cy().zoom(),h=function(p){return p*c},f=function(p,m){return h(p)+m},d=dt(s),v=d?l.every(function(y){return y!=null}):l!=null;return v?d?s.map(function(y,p){return f(y,l[p])}).join(" "):f(s,l):d?s.map(function(y){return ze(y)?y:""+h(y)}).join(" "):""+h(s)}else if(u!=null)return u}return null}};Sn.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=i.name,o=e.pstyle(a);o!==void 0&&(et(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};Sn.getPropsList=function(e){var t=this,r=[],n=e,i=t.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s],u=i[s]||i[Dv(s)],c=this.parse(u.name,l);c&&r.push(c)}return r};Sn.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),i,a,o,s,l,u;for(l=0;l<t.length;l++)if(i=t[l],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=ms(s,n[0]),n[1]=ys(s,n[1]);else for(o=a.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=ms(s,n[0]),n[1]=ys(s,n[1]);return n};Sn.getPropertiesHash=Sn.getNonDefaultPropertiesHash;var wc={};wc.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];t.css(l,u)}}return t};wc.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};wc.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e};var Yv={};Yv.appendFromString=function(e){var t=this,r=this,n=""+e,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){ot("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var h=c[1];if(h!=="core"){var f=new Ci(h);if(f.invalid){ot("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var d=c[2],v=!1;a=d;for(var y=[];;){var p=a.match(/^\s*$/);if(p)break;var m=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){ot("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}o=m[0];var g=m[1],b=m[2],x=t.properties[g];if(!x){ot("Skipping property: Invalid property name in: "+o),l();continue}var w=r.parse(g,b);if(!w){ot("Skipping property: Invalid property definition in: "+o),l();continue}y.push({name:g,val:b}),l()}if(v){s();break}r.selector(h);for(var T=0;T<y.length;T++){var C=y[T];r.css(C.name,C.val)}s()}return r};Yv.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Dt={};(function(){var e=$t,t=K5,r=X5,n=Z5,i=Q5,a=function(K){return"^"+K+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(K){var _=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+i;return"^"+K+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+_+")\\s*\\,\\s*("+_+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Dt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(K,_){switch(K.length){case 2:return _[0]!=="deg"&&_[0]!=="rad"&&_[1]!=="deg"&&_[1]!=="rad";case 1:return ze(K[0])||_[0]==="deg"||_[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(K){var _=K.length;return _===1||_===2||_===4}}};var l={zeroNonZero:function(K,_){return(K==null||_==null)&&K!==_||K==0&&_!=0?!0:K!=0&&_==0},any:function(K,_){return K!=_},emptyNonEmpty:function(K,_){var F=yi(K),V=yi(_);return F&&!V||!F&&V}},u=Dt.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],h=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],f=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],v=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:l.any}],p=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(K,_,F){return K===_?!1:F.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],m=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],g=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],b=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(K,_){return _.value==="label"?-K.poolIndex():_.pfValue},w=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],T=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],C=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],S=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],k=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],A=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(K,_){return K===_?!1:K==="bezier"||_==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],E=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],B=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],D=[];Dt.pieBackgroundN=16,D.push({name:"pie-size",type:u.sizeMaybePercent}),D.push({name:"pie-hole",type:u.sizeMaybePercent}),D.push({name:"pie-start-angle",type:u.angle});for(var O=1;O<=Dt.pieBackgroundN;O++)D.push({name:"pie-"+O+"-background-color",type:u.color}),D.push({name:"pie-"+O+"-background-size",type:u.percent}),D.push({name:"pie-"+O+"-background-opacity",type:u.zeroOneNumber});var R=[];Dt.stripeBackgroundN=16,R.push({name:"stripe-size",type:u.sizeMaybePercent}),R.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var P=1;P<=Dt.stripeBackgroundN;P++)R.push({name:"stripe-"+P+"-background-color",type:u.color}),R.push({name:"stripe-"+P+"-background-size",type:u.percent}),R.push({name:"stripe-"+P+"-background-opacity",type:u.zeroOneNumber});var M=[],I=Dt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(G){I.forEach(function(K){var _=K+"-"+G.name,F=G.type,V=G.triggersBounds;M.push({name:_,type:F,triggersBounds:V})})},{});var $=Dt.properties=[].concat(y,b,p,m,g,E,v,d,c,h,f,w,T,C,S,D,R,k,A,M,B),U=Dt.propertyGroups={behavior:y,transition:b,visibility:p,overlay:m,underlay:g,ghost:E,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:h,targetLabel:f,nodeBody:w,nodeBorder:T,nodeOutline:C,backgroundImage:S,pie:D,stripe:R,compound:k,edgeLine:A,edgeArrow:M,core:B},z=Dt.propertyGroupNames={},W=Dt.propertyGroupKeys=Object.keys(U);W.forEach(function(G){z[G]=U[G].map(function(K){return K.name}),U[G].forEach(function(K){return K.groupKey=G})});var X=Dt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Dt.propertyNames=$.map(function(G){return G.name});for(var ie=0;ie<$.length;ie++){var j=$[ie];$[j.name]=j}for(var oe=0;oe<X.length;oe++){var ce=X[oe],de=$[ce.pointsTo],se={name:ce.name,alias:!0,pointsTo:de};$.push(se),$[ce.name]=se}})();Dt.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Dt.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Ve({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Dt.pieBackgroundN;c++){var h=u.name.replace("{{i}}",c),f=u.value;l[h]=f}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Dt.stripeBackgroundN;c++){var h=u.name.replace("{{i}}",c),f=u.value;l[h]=f}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Dt.arrowPrefixes.forEach(function(c){var h=c+"-"+u.name,f=u.value;l[h]=f}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);r[a]=s}}return e.defaultProperties=r,e.defaultProperties};Dt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Tc={};Tc.parse=function(e,t,r,n){var i=this;if(_t(t))return i.parseImplWarn(e,t,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+t,l=mC(e,s,o,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(c=gn(c),c&&(c.value=gn(c.value))),c};Tc.parseImplWarn=function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return!i&&t!=null&&ot("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&ot("The style value of `label` is deprecated for `"+i.name+"`"),i};Tc.parseImpl=function(e,t,r,n){var i=this;e=Dv(e);var a=i.properties[e],o=t,s=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var l=ze(t);l&&(t=t.trim());var u=a.type;if(!u)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(_t(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};var c,h;if(!(!l||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(c=new RegExp(s.data.regex).exec(t))){if(r)return!1;var f=s.data;return{name:e,value:c,strValue:""+t,mapped:f,field:c[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(t))){if(r||u.multiple)return!1;var d=s.mapData;if(!(u.color||u.number))return!1;var v=this.parse(e,h[4]);if(!v||v.mapped)return!1;var y=this.parse(e,h[5]);if(!y||y.mapped)return!1;if(v.pfValue===y.pfValue||v.strValue===y.strValue)return ot("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+v.strValue+"`"),this.parse(e,v.strValue);if(u.color){var p=v.value,m=y.value,g=p[0]===m[0]&&p[1]===m[1]&&p[2]===m[2]&&(p[3]===m[3]||(p[3]==null||p[3]===1)&&(m[3]==null||m[3]===1));if(g)return!1}return{name:e,value:h,strValue:""+t,mapped:d,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:v.value,valueMax:y.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var b;if(l?b=t.split(/\s+/):dt(t)?b=t:b=[t],u.evenMultiple&&b.length%2!==0)return null;for(var x=[],w=[],T=[],C="",S=!1,k=0;k<b.length;k++){var A=i.parse(e,b[k],r,"multiple");S=S||ze(A.value),x.push(A.value),T.push(A.pfValue!=null?A.pfValue:A.value),w.push(A.units),C+=(k>0?" ":"")+A.strValue}return u.validate&&!u.validate(x,w)?null:u.singleEnum&&S?x.length===1&&ze(x[0])?{name:e,value:x[0],strValue:x[0],bypass:r}:null:{name:e,value:x,pfValue:T,strValue:C,bypass:r,units:w}}var E=function(){for(var se=0;se<u.enums.length;se++){var G=u.enums[se];if(G===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(u.number){var B,D="px";if(u.units&&(B=u.units),u.implicitUnits&&(D=u.implicitUnits),!u.unitless)if(l){var O="px|em"+(u.allowPercent?"|\\%":"");B&&(O=B);var R=t.match("^("+$t+")("+O+")?$");R&&(t=R[1],B=R[2]||D)}else(!B||u.implicitUnits)&&(B=D);if(t=parseFloat(t),isNaN(t)&&u.enums===void 0)return null;if(isNaN(t)&&u.enums!==void 0)return t=o,E();if(u.integer&&!q5(t)||u.min!==void 0&&(t<u.min||u.strictMin&&t===u.min)||u.max!==void 0&&(t>u.max||u.strictMax&&t===u.max))return null;var P={name:e,value:t,strValue:""+t+(B||""),units:B,bypass:r};return u.unitless||B!=="px"&&B!=="em"?P.pfValue=t:P.pfValue=B==="px"||!B?t:this.getEmSizeInPixels()*t,(B==="ms"||B==="s")&&(P.pfValue=B==="ms"?t:1e3*t),(B==="deg"||B==="rad")&&(P.pfValue=B==="rad"?t:ZI(t)),B==="%"&&(P.pfValue=t/100),P}else if(u.propList){var M=[],I=""+t;if(I!=="none"){for(var $=I.split(/\s*,\s*|\s+/),U=0;U<$.length;U++){var z=$[U].trim();i.properties[z]?M.push(z):ot("`"+z+"` is not a valid property name")}if(M.length===0)return null}return{name:e,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}else if(u.color){var W=cC(t);return W?{name:e,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var X=E();if(X)return X}for(var ie=u.regexes?u.regexes:[u.regex],j=0;j<ie.length;j++){var oe=new RegExp(ie[j]),ce=oe.exec(t);if(ce)return{name:e,value:u.singleRegexMatchValue?ce[1]:ce,strValue:""+t,bypass:r}}return null}else return u.string?{name:e,value:""+t,strValue:""+t,bypass:r}:u.enums?E():null};var Gt=function(t){if(!(this instanceof Gt))return new Gt(t);if(!Lv(t)){Ct("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},lr=Gt.prototype;lr.instanceString=function(){return"style"};lr.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};lr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};lr.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};lr.selector=function(e){var t=e==="core"?null:new Ci(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};lr.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var i=e.properties[n],a=r[i.name];a===void 0&&(a=r[uc(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this};lr.style=lr.css;lr.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};lr.append=function(e){return sC(e)?e.appendToStyle(this):dt(e)?this.appendFromJson(e):ze(e)&&this.appendFromString(e),this};Gt.fromJson=function(e,t){var r=new Gt(e);return r.fromJson(t),r};Gt.fromString=function(e,t){return new Gt(e).fromString(t)};[Yt,Us,Gv,Sn,wc,Yv,Dt,Tc].forEach(function(e){Ve(lr,e)});Gt.types=lr.types;Gt.properties=lr.properties;Gt.propertyGroups=lr.propertyGroups;Gt.propertyGroupNames=lr.propertyGroupNames;Gt.propertyGroupKeys=lr.propertyGroupKeys;var tz={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return sC(t)?r.style=t.generateStyle(this):dt(t)?r.style=Gt.fromJson(this,t):ze(t)?r.style=Gt.fromString(this,t):r.style=Gt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},rz="single",sa={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=rz),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,i,a,o,s;switch(t.length){case 0:return r;case 1:if(ze(t[0]))return n=t[0],r[n];if(et(t[0])){if(!this._private.panningEnabled)return this;a=t[0],o=a.x,s=a.y,be(o)&&(r.x=o),be(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],i=t[1],(n==="x"||n==="y")&&be(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,i=this._private.pan,a,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:et(t)&&(s=n[0],l=s.x,u=s.y,be(l)&&(i.x+=l),be(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=t,o=r,(a==="x"||a==="y")&&be(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(be(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(ze(t)){var i=t;t=this.$(i)}else if(W5(t)){var a=t;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Pr(t)||(t=this.mutableElements());if(!(Pr(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),s=this.height(),l;if(r=be(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var i=t;t=i.min,r=i.max}return be(t)&&be(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):be(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:be(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,i=r.zoom,a,o,s=!1;if(r.zoomingEnabled||(s=!0),be(t)?o=t:et(t)&&(o=t.level,t.position!=null?a=fc(t.position,i,n):t.renderedPosition!=null&&(a=t.renderedPosition),a!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!be(o)||o===i||a!=null&&(!be(a.x)||!be(a.y)))return null;if(a!=null){var l=n,u=i,c=o,h={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!t)return this;if(be(t.zoom)||(n=!1),et(t.pan)||(i=!1),!n&&!i)return this;if(n){var l=t.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var u=t.pan;be(u.x)&&(r.pan.x=u.x,s=!1),be(u.y)&&(r.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(ze(t)){var n=t;t=this.mutableElements().filter(n)}else Pr(t)||(t=this.mutableElements());if(t.length!==0){var i=t.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?(function(){var i=n.window().getComputedStyle(r),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};sa.centre=sa.center;sa.autolockNodes=sa.autolock;sa.autoungrabifyNodes=sa.autoungrabify;var _s={data:at.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:at.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:at.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:at.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};_s.attr=_s.data;_s.removeAttr=_s.removeData;var Ss=function(t){var r=this;t=Ve({},t);var n=t.container;n&&!Tu(n)&&Tu(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var o=zt!==void 0&&n!==void 0&&!t.headless,s=t;s.layout=Ve({name:o?"grid":"null"},s.layout),s.renderer=Ve({name:o?"canvas":"null"},s.renderer);var l=function(v,y,p){return y!==void 0?y:p!==void 0?p:v},u=this._private={container:n,ready:!1,options:s,elements:new Xt(this),listeners:[],aniEles:new Xt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:be(s.zoom)?s.zoom:1,pan:{x:et(s.pan)&&be(s.pan.x)?s.pan.x:0,y:et(s.pan)&&be(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(v,y){var p=v.some(U5);if(p)return co.all(v).then(y);y(v)};u.styleEnabled&&r.setStyle([]);var h=Ve({},s,s.renderer);r.initRenderer(h);var f=function(v,y,p){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(et(v)||dt(v))&&r.add(v),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",p),r.emit("done")});var g=Ve({},r._private.options.layout);g.eles=r.elements(),r.layout(g).run()};c([s.style,s.elements],function(d){var v=d[0],y=d[1];u.styleEnabled&&r.style().append(v),f(y,function(){r.startAnimationLoop(),u.ready=!0,_t(s.ready)&&r.on("ready",s.ready);for(var p=0;p<a.length;p++){var m=a[p];r.on("ready",m)}i&&(i.readies=[]),r.emit("ready")},s.done)})},Lu=Ss.prototype;Ve(Lu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return zt;var r=this._private.container.ownerDocument;return r===void 0||r==null?zt:r.defaultView||zt},mount:function(t){if(t!=null){var r=this,n=r._private,i=n.options;return!Tu(t)&&Tu(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ve({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return gn(this._private.options)},json:function(t){var r=this,n=r._private,i=r.mutableElements(),a=function(x){return r.getElementById(x.id())};if(et(t)){if(r.startBatch(),t.elements){var o={},s=function(x,w){for(var T=[],C=[],S=0;S<x.length;S++){var k=x[S];if(!k.data.id){ot("cy.json() cannot handle elements without an ID attribute");continue}var A=""+k.data.id,E=r.getElementById(A);o[A]=!0,E.length!==0?C.push({ele:E,json:k}):(w&&(k.group=w),T.push(k))}r.add(T);for(var B=0;B<C.length;B++){var D=C[B],O=D.ele,R=D.json;O.json(R)}};if(dt(t.elements))s(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],h=t.elements[c];dt(h)&&s(h,c)}var f=r.collection();i.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?f.merge(b):b.remove()}),f.forEach(function(b){return b.children().move({parent:null})}),f.forEach(function(b){return a(b).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var y=d[v];t[y]!=null&&r[y](t[y])}return r.endBatch(),this}else{var p=!!t,m={};p?m.elements=this.elements().map(function(b){return b.json()}):(m.elements={},i.forEach(function(b){var x=b.group();m.elements[x]||(m.elements[x]=[]),m.elements[x].push(b.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=gn(r.data());var g=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=gn(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=gn(g.renderer),m.hideEdgesOnViewport=g.hideEdgesOnViewport,m.textureOnViewport=g.textureOnViewport,m.wheelSensitivity=g.wheelSensitivity,m.motionBlur=g.motionBlur,m.multiClickDebounceTime=g.multiClickDebounceTime,m}}});Lu.$id=Lu.getElementById;[U4,X4,sw,Cd,$l,Q4,wd,ql,tz,sa,_s].forEach(function(e){Ve(Lu,e)});var nz={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},iz={maximal:!1,acyclic:!1},xa=function(t){return t.scratch("breadthfirst")},e0=function(t,r){return t.scratch("breadthfirst",r)};function lw(e){this.options=Ve({},nz,iz,e)}lw.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(ne){return ne.isChildless()}),i=r,a=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,s=!!e.boundingBox,l=wr(s?e.boundingBox:structuredClone(t.extent())),u;if(Pr(e.roots))u=e.roots;else if(dt(e.roots)){for(var c=[],h=0;h<e.roots.length;h++){var f=e.roots[h],d=t.getElementById(f);c.push(d)}u=t.collection(c)}else if(ze(e.roots))u=t.$(e.roots);else if(a)u=n.roots();else{var v=r.components();u=t.collection();for(var y=function(){var te=v[p],re=te.maxDegree(!1),ve=te.filter(function(fe){return fe.degree(!1)===re});u=u.add(ve)},p=0;p<v.length;p++)y()}var m=[],g={},b=function(te,re){m[re]==null&&(m[re]=[]);var ve=m[re].length;m[re].push(te),e0(te,{index:ve,depth:re})},x=function(te,re){var ve=xa(te),fe=ve.depth,pe=ve.index;m[fe][pe]=null,te.isChildless()&&b(te,re)};i.bfs({roots:u,directed:e.directed,visit:function(te,re,ve,fe,pe){var me=te[0],we=me.id();me.isChildless()&&b(me,pe),g[we]=!0}});for(var w=[],T=0;T<n.length;T++){var C=n[T];g[C.id()]||w.push(C)}var S=function(te){for(var re=m[te],ve=0;ve<re.length;ve++){var fe=re[ve];if(fe==null){re.splice(ve,1),ve--;continue}e0(fe,{depth:te,index:ve})}},k=function(te,re){for(var ve=xa(te),fe=te.incomers().filter(function(Se){return Se.isNode()&&r.has(Se)}),pe=-1,me=te.id(),we=0;we<fe.length;we++){var Fe=fe[we],Be=xa(Fe);pe=Math.max(pe,Be.depth)}if(ve.depth<=pe){if(!e.acyclic&&re[me])return null;var We=pe+1;return x(te,We),re[me]=We,!0}return!1};if(a&&o){var A=[],E={},B=function(te){return A.push(te)},D=function(){return A.shift()};for(n.forEach(function(ne){return A.push(ne)});A.length>0;){var O=D(),R=k(O,E);if(R)O.outgoers().filter(function(ne){return ne.isNode()&&r.has(ne)}).forEach(B);else if(R===null){ot("Detected double maximal shift for node `"+O.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var P=0;if(e.avoidOverlap)for(var M=0;M<n.length;M++){var I=n[M],$=I.layoutDimensions(e),U=$.w,z=$.h;P=Math.max(P,U,z)}var W={},X=function(te){if(W[te.id()])return W[te.id()];for(var re=xa(te).depth,ve=te.neighborhood(),fe=0,pe=0,me=0;me<ve.length;me++){var we=ve[me];if(!(we.isEdge()||we.isParent()||!n.has(we))){var Fe=xa(we);if(Fe!=null){var Be=Fe.index,We=Fe.depth;if(!(Be==null||We==null)){var Se=m[We].length;We<re&&(fe+=Be/Se,pe++)}}}}return pe=Math.max(1,pe),fe=fe/pe,pe===0&&(fe=0),W[te.id()]=fe,fe},ie=function(te,re){var ve=X(te),fe=X(re),pe=ve-fe;return pe===0?uC(te.id(),re.id()):pe};e.depthSort!==void 0&&(ie=e.depthSort);for(var j=m.length,oe=0;oe<j;oe++)m[oe].sort(ie),S(oe);for(var ce=[],de=0;de<w.length;de++)ce.push(w[de]);var se=function(){for(var te=0;te<j;te++)S(te)};ce.length&&(m.unshift(ce),j=m.length,se());for(var G=0,K=0;K<j;K++)G=Math.max(m[K].length,G);var _={x:l.x1+l.w/2,y:l.y1+l.h/2},F=n.reduce(function(ne,te){return(function(re){return{w:ne.w===-1?re.w:(ne.w+re.w)/2,h:ne.h===-1?re.h:(ne.h+re.h)/2}})(te.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),V=Math.max(j===1?0:s?(l.h-e.padding*2-F.h)/(j-1):(l.h-e.padding*2-F.h)/(j+1),P),ee=m.reduce(function(ne,te){return Math.max(ne,te.length)},0),q=function(te){var re=xa(te),ve=re.depth,fe=re.index;if(e.circle){var pe=Math.min(l.w/2/j,l.h/2/j);pe=Math.max(pe,P);var me=pe*ve+pe-(j>0&&m[0].length<=3?pe/2:0),we=2*Math.PI/m[ve].length*fe;return ve===0&&m[0].length===1&&(me=1),{x:_.x+me*Math.cos(we),y:_.y+me*Math.sin(we)}}else{var Fe=m[ve].length,Be=Math.max(Fe===1?0:s?(l.w-e.padding*2-F.w)/((e.grid?ee:Fe)-1):(l.w-e.padding*2-F.w)/((e.grid?ee:Fe)+1),P),We={x:_.x+(fe+1-(Fe+1)/2)*Be,y:_.y+(ve+1-(j+1)/2)*V};return We}},H={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(H).indexOf(e.direction)===-1&&Ct("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(H).join(", ")));var Z=function(te){return xI(q(te),l,H[e.direction])};return r.nodes().layoutPositions(this,e,Z),this};var az={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function uw(e){this.options=Ve({},az,e)}uw.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o=wr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,u=l/Math.max(1,a.length-1),c,h=0,f=0;f<a.length;f++){var d=a[f],v=d.layoutDimensions(t),y=v.w,p=v.h;h=Math.max(h,y,p)}if(be(t.radius)?c=t.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-h,a.length>1&&t.avoidOverlap){h*=1.75;var m=Math.cos(u)-Math.cos(0),g=Math.sin(u)-Math.sin(0),b=Math.sqrt(h*h/(m*m+g*g));c=Math.max(b,c)}var x=function(T,C){var S=t.startAngle+C*u*(i?1:-1),k=c*Math.cos(S),A=c*Math.sin(S),E={x:s.x+k,y:s.y+A};return E};return n.nodes().layoutPositions(this,t,x),this};var oz={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function cw(e){this.options=Ve({},oz,e)}cw.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),o=wr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<a.length;c++){var h=a[c],f=void 0;f=t.concentric(h),l.push({value:f,node:h}),h._private.scratch.concentric=f}a.updateStyle();for(var d=0;d<a.length;d++){var v=a[d],y=v.layoutDimensions(t);u=Math.max(u,y.w,y.h)}l.sort(function(V,ee){return ee.value-V.value});for(var p=t.levelWidth(a),m=[[]],g=m[0],b=0;b<l.length;b++){var x=l[b];if(g.length>0){var w=Math.abs(g[0].value-x.value);w>=p&&(g=[],m.push(g))}g.push(x)}var T=u+t.minNodeSpacing;if(!t.avoidOverlap){var C=m.length>0&&m[0].length>1,S=Math.min(o.w,o.h)/2-T,k=S/(m.length+C?1:0);T=Math.min(T,k)}for(var A=0,E=0;E<m.length;E++){var B=m[E],D=t.sweep===void 0?2*Math.PI-2*Math.PI/B.length:t.sweep,O=B.dTheta=D/Math.max(1,B.length-1);if(B.length>1&&t.avoidOverlap){var R=Math.cos(O)-Math.cos(0),P=Math.sin(O)-Math.sin(0),M=Math.sqrt(T*T/(R*R+P*P));A=Math.max(M,A)}B.r=A,A+=T}if(t.equidistant){for(var I=0,$=0,U=0;U<m.length;U++){var z=m[U],W=z.r-$;I=Math.max(I,W)}$=0;for(var X=0;X<m.length;X++){var ie=m[X];X===0&&($=ie.r),ie.r=$,$+=I}}for(var j={},oe=0;oe<m.length;oe++)for(var ce=m[oe],de=ce.dTheta,se=ce.r,G=0;G<ce.length;G++){var K=ce[G],_=t.startAngle+(r?1:-1)*de*G,F={x:s.x+se*Math.cos(_),y:s.y+se*Math.sin(_)};j[K.node.id()]=F}return i.nodes().layoutPositions(this,t,function(V){var ee=V.id();return j[ee]}),this};var Tf,sz={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function _c(e){this.options=Ve({},sz,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=t.some(function(u){return u.data("id")===a}),l=t.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(n)}_c.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?Tf=!0:Tf=!1;var n=lz(t,r,e);Tf&&cz(n),e.randomize&&hz(n);var i=Gn(),a=function(){fz(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(f){return!(r.stopped||f>=e.numIter||(dz(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var f=e.eles.nodes(),d=fw(n,e,f);f.layoutPositions(r,e,d)}},l=0,u=!0;if(e.animate===!0){var c=function(){for(var f=0;u&&f<e.refresh;)u=o(l),l++,f++;if(!u)r0(n,e),s();else{var d=Gn();d-i>=e.animationThreshold&&a(),_u(c)}};c()}else{for(;u;)u=o(l),l++;r0(n,e),s()}return this};_c.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};_c.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var lz=function(t,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=wr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var h=l[c],f=0;f<h.length;f++){var d=h[f];u[d.id()]=c}for(var c=0;c<s.nodeSize;c++){var v=a[c],y=v.layoutDimensions(n),p={};p.isLocked=v.locked(),p.id=v.data("id"),p.parentId=v.data("parent"),p.cmptId=u[v.id()],p.children=[],p.positionX=v.position("x"),p.positionY=v.position("y"),p.offsetX=0,p.offsetY=0,p.height=y.w,p.width=y.h,p.maxX=p.positionX+p.width/2,p.minX=p.positionX-p.width/2,p.maxY=p.positionY+p.height/2,p.minY=p.positionY-p.height/2,p.padLeft=parseFloat(v.style("padding")),p.padRight=parseFloat(v.style("padding")),p.padTop=parseFloat(v.style("padding")),p.padBottom=parseFloat(v.style("padding")),p.nodeRepulsion=_t(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(p),s.idToIndex[p.id]=c}for(var m=[],g=0,b=-1,x=[],c=0;c<s.nodeSize;c++){var v=s.layoutNodes[c],w=v.parentId;w!=null?s.layoutNodes[s.idToIndex[w]].children.push(v.id):(m[++b]=v.id,x.push(v.id))}for(s.graphSet.push(x);g<=b;){var T=m[g++],C=s.idToIndex[T],d=s.layoutNodes[C],S=d.children;if(S.length>0){s.graphSet.push(S);for(var c=0;c<S.length;c++)m[++b]=S[c]}}for(var c=0;c<s.graphSet.length;c++)for(var k=s.graphSet[c],f=0;f<k.length;f++){var A=s.idToIndex[k[f]];s.indexToGraph[A]=c}for(var c=0;c<s.edgeSize;c++){var E=i[c],B={};B.id=E.data("id"),B.sourceId=E.data("source"),B.targetId=E.data("target");var D=_t(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,O=_t(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,R=s.idToIndex[B.sourceId],P=s.idToIndex[B.targetId],M=s.indexToGraph[R],I=s.indexToGraph[P];if(M!=I){for(var $=uz(B.sourceId,B.targetId,s),U=s.graphSet[$],z=0,p=s.layoutNodes[R];U.indexOf(p.id)===-1;)p=s.layoutNodes[s.idToIndex[p.parentId]],z++;for(p=s.layoutNodes[P];U.indexOf(p.id)===-1;)p=s.layoutNodes[s.idToIndex[p.parentId]],z++;D*=z*n.nestingFactor}B.idealLength=D,B.elasticity=O,s.layoutEdges.push(B)}return s},uz=function(t,r,n){var i=hw(t,r,0,n);return 2>i.count?0:i.graph},hw=function(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var h=i.indexToGraph[i.idToIndex[c[0]]],f=hw(t,r,h,i);if(f.count!==0)if(f.count===1){if(o++,o===2)break}else return f}}return{count:o,graph:n}},cz,hz=function(t,r){for(var n=t.clientWidth,i=t.clientHeight,a=0;a<t.nodeSize;a++){var o=t.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},fw=function(t,r,n){var i=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var u=a.w===0?.5:(l.positionX-a.x1)/a.w,c=a.h===0?.5:(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},fz=function(t,r,n){var i=n.layout,a=n.eles.nodes(),o=fw(t,n,a);a.positions(o),t.ready!==!0&&(t.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},dz=function(t,r,n){vz(t,r),mz(t),yz(t,r),bz(t),xz(t)},vz=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var i=t.graphSet[n],a=i.length,o=0;o<a;o++)for(var s=t.layoutNodes[t.idToIndex[i[o]]],l=o+1;l<a;l++){var u=t.layoutNodes[t.idToIndex[i[l]]];pz(s,u,t,r)}},t0=function(t){return-1+2*t*Math.random()},pz=function(t,r,n,i){var a=t.cmptId,o=r.cmptId;if(!(a!==o&&!n.isCompound)){var s=r.positionX-t.positionX,l=r.positionY-t.positionY,u=1;s===0&&l===0&&(s=t0(u),l=t0(u));var c=gz(t,r,s,l);if(c>0)var h=i.nodeOverlap*c,f=Math.sqrt(s*s+l*l),d=h*s/f,v=h*l/f;else var y=Du(t,s,l),p=Du(r,-1*s,-1*l),m=p.x-y.x,g=p.y-y.y,b=m*m+g*g,f=Math.sqrt(b),h=(t.nodeRepulsion+r.nodeRepulsion)/b,d=h*m/f,v=h*g/f;t.isLocked||(t.offsetX-=d,t.offsetY-=v),r.isLocked||(r.offsetX+=d,r.offsetY+=v)}},gz=function(t,r,n,i){if(n>0)var a=t.maxX-r.minX;else var a=r.maxX-t.minX;if(i>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},Du=function(t,r,n){var i=t.positionX,a=t.positionY,o=t.height||1,s=t.width||1,l=n/r,u=o/s,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+o/2,c):0<r&&-1*u<=l&&l<=u?(c.x=i+s/2,c.y=a+s*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=i-s/2,c.y=a-s*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=i+o*r/2/n,c.y=a+o/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=i-o*r/2/n,c.y=a-o/2),c)},mz=function(t,r){for(var n=0;n<t.edgeSize;n++){var i=t.layoutEdges[n],a=t.idToIndex[i.sourceId],o=t.layoutNodes[a],s=t.idToIndex[i.targetId],l=t.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var h=Du(o,u,c),f=Du(l,-1*u,-1*c),d=f.x-h.x,v=f.y-h.y,y=Math.sqrt(d*d+v*v),p=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var m=p*d/y,g=p*v/y;else var m=0,g=0;o.isLocked||(o.offsetX+=m,o.offsetY+=g),l.isLocked||(l.offsetX-=m,l.offsetY-=g)}}},yz=function(t,r){if(r.gravity!==0)for(var n=1,i=0;i<t.graphSet.length;i++){var a=t.graphSet[i],o=a.length;if(i===0)var s=t.clientHeight/2,l=t.clientWidth/2;else var u=t.layoutNodes[t.idToIndex[a[0]]],c=t.layoutNodes[t.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var h=0;h<o;h++){var f=t.layoutNodes[t.idToIndex[a[h]]];if(!f.isLocked){var d=s-f.positionX,v=l-f.positionY,y=Math.sqrt(d*d+v*v);if(y>n){var p=r.gravity*d/y,m=r.gravity*v/y;f.offsetX+=p,f.offsetY+=m}}}}},bz=function(t,r){var n=[],i=0,a=-1;for(n.push.apply(n,t.graphSet[0]),a+=t.graphSet[0].length;i<=a;){var o=n[i++],s=t.idToIndex[o],l=t.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,h=l.offsetY,f=0;f<u.length;f++){var d=t.layoutNodes[t.idToIndex[u[f]]];d.offsetX+=c,d.offsetY+=h,n[++a]=u[f]}l.offsetX=0,l.offsetY=0}}},xz=function(t,r){for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=Cz(i.offsetX,i.offsetY,t.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,dw(i,t)}}for(var n=0;n<t.nodeSize;n++){var i=t.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Cz=function(t,r,n){var i=Math.sqrt(t*t+r*r);if(i>n)var a={x:n*t/i,y:n*r/i};else var a={x:t,y:r};return a},dw=function(t,r){var n=t.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return dw(i,r)}},r0=function(t,r){for(var n=t.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var h=0;h<c.length;h++){var f=c[h];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(g,b){return b.w*b.h-g.w*g.h});for(var d=0,v=0,y=0,p=0,m=Math.sqrt(u)*t.clientWidth/t.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var h=0;h<c.length;h++){var f=c[h];f.isLocked||(f.positionX+=d-c.x1,f.positionY+=v-c.y1)}d+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,p=Math.max(p,c.h),y>m&&(v+=p+r.componentSpacing,d=0,y=0,p=0)}}},wz={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function vw(e){this.options=Ve({},wz,e)}vw.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=wr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,t,function(X){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),u=Math.round(a.w/a.h*s),c=function(ie){if(ie==null)return Math.min(l,u);var j=Math.min(l,u);j==l?l=ie:u=ie},h=function(ie){if(ie==null)return Math.max(l,u);var j=Math.max(l,u);j==l?l=ie:u=ie},f=t.rows,d=t.cols!=null?t.cols:t.columns;if(f!=null&&d!=null)l=f,u=d;else if(f!=null&&d==null)l=f,u=Math.ceil(o/l);else if(f==null&&d!=null)u=d,l=Math.ceil(o/u);else if(u*l>o){var v=c(),y=h();(v-1)*y>=o?c(v-1):(y-1)*v>=o&&h(y-1)}else for(;u*l<o;){var p=c(),m=h();(m+1)*p>=o?h(m+1):c(p+1)}var g=a.w/u,b=a.h/l;if(t.condense&&(g=0,b=0),t.avoidOverlap)for(var x=0;x<i.length;x++){var w=i[x],T=w._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var C=w.layoutDimensions(t),S=t.avoidOverlapPadding,k=C.w+S,A=C.h+S;g=Math.max(g,k),b=Math.max(b,A)}for(var E={},B=function(ie,j){return!!E["c-"+ie+"-"+j]},D=function(ie,j){E["c-"+ie+"-"+j]=!0},O=0,R=0,P=function(){R++,R>=u&&(R=0,O++)},M={},I=0;I<i.length;I++){var $=i[I],U=t.position($);if(U&&(U.row!==void 0||U.col!==void 0)){var z={row:U.row,col:U.col};if(z.col===void 0)for(z.col=0;B(z.row,z.col);)z.col++;else if(z.row===void 0)for(z.row=0;B(z.row,z.col);)z.row++;M[$.id()]=z,D(z.row,z.col)}}var W=function(ie,j){var oe,ce;if(ie.locked()||ie.isParent())return!1;var de=M[ie.id()];if(de)oe=de.col*g+g/2+a.x1,ce=de.row*b+b/2+a.y1;else{for(;B(O,R);)P();oe=R*g+g/2+a.x1,ce=O*b+b/2+a.y1,D(O,R),P()}return{x:oe,y:ce}};i.layoutPositions(this,t,W)}return this};var Tz={ready:function(){},stop:function(){}};function Kv(e){this.options=Ve({},Tz,e)}Kv.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};Kv.prototype.stop=function(){return this};var _z={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function pw(e){this.options=Ve({},_z,e)}pw.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=_t(e.positions);function i(a){if(e.positions==null)return GI(a.position());if(n)return e.positions(a);var o=e.positions[a._private.data.id];return o??null}return r.layoutPositions(this,e,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var Sz={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function gw(e){this.options=Ve({},Sz,e)}gw.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=wr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,i),this};var Ez=[{name:"breadthfirst",impl:lw},{name:"circle",impl:uw},{name:"concentric",impl:cw},{name:"cose",impl:_c},{name:"grid",impl:vw},{name:"null",impl:Kv},{name:"preset",impl:pw},{name:"random",impl:gw}];function mw(e){this.options=e,this.notifications=0}var n0=function(){},i0=function(){throw new Error("A headless instance can not render images")};mw.prototype={recalculateRenderedStyle:n0,notify:function(){this.notifications++},init:n0,isHeadless:function(){return!0},png:i0,jpg:i0};var jv={};jv.arrowShapeWidth=.3;jv.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(u,c,h,f,d,v,y){var p=d.x-h/2-y,m=d.x+h/2+y,g=d.y-h/2-y,b=d.y+h/2+y,x=p<=u&&u<=m&&g<=c&&c<=b;return x},n=function(u,c,h,f,d){var v=u*Math.cos(f)-c*Math.sin(f),y=u*Math.sin(f)+c*Math.cos(f),p=v*h,m=y*h,g=p+d.x,b=m+d.y;return{x:g,y:b}},i=function(u,c,h,f){for(var d=[],v=0;v<u.length;v+=2){var y=u[v],p=u[v+1];d.push(n(y,p,c,h,f))}return d},a=function(u){for(var c=[],h=0;h<u.length;h++){var f=u[h];c.push(f.x,f.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){ze(c)&&(c=e[c]),e[u]=Ve({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,d,v,y,p,m){var g=a(i(this.points,v+2*m,y,p)),b=kr(f,d,g);return b},roughCollide:r,draw:function(f,d,v,y){var p=i(this.points,d,v,y);t.arrowShapeImpl("polygon")(f,p)},spacing:function(f){return 0},gap:o},c)};s("none",{collide:Su,roughCollide:Su,draw:Fv,spacing:ym,gap:ym}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,h,f,d){var v=i(this.points,c,h,f),y=this.controlPoint,p=n(y[0],y[1],c,h,f);t.arrowShapeImpl(this.name)(u,v,p)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,h,f,d,v,y){var p=a(i(this.points,h+2*y,f,d)),m=a(i(this.pointsTee,h+2*y,f,d)),g=kr(u,c,p)||kr(u,c,m);return g},draw:function(u,c,h,f,d){var v=i(this.points,c,h,f),y=i(this.pointsTee,c,h,f);t.arrowShapeImpl(this.name)(u,v,y)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,h,f,d,v,y){var p=d,m=Math.pow(p.x-u,2)+Math.pow(p.y-c,2)<=Math.pow((h+2*y)*this.radius,2),g=a(i(this.points,h+2*y,f,d));return kr(u,c,g)||m},draw:function(u,c,h,f,d){var v=i(this.pointsTr,c,h,f);t.arrowShapeImpl(this.name)(u,v,f.x,f.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var h=this.baseCrossLinePts.slice(),f=c/u,d=3,v=5;return h[d]=h[d]-f,h[v]=h[v]-f,h},collide:function(u,c,h,f,d,v,y){var p=a(i(this.points,h+2*y,f,d)),m=a(i(this.crossLinePts(h,v),h+2*y,f,d)),g=kr(u,c,p)||kr(u,c,m);return g},draw:function(u,c,h,f,d){var v=i(this.points,c,h,f),y=i(this.crossLinePts(c,d),c,h,f);t.arrowShapeImpl(this.name)(u,v,y)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,h,f,d,v,y){var p=d,m=Math.pow(p.x-u,2)+Math.pow(p.y-c,2)<=Math.pow((h+2*y)*this.radius,2);return m},draw:function(u,c,h,f,d){t.arrowShapeImpl(this.name)(u,f.x,f.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var fa={};fa.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((e-i)/o-s.x)/l,c=((t-a)/o-s.y)/l;return[u,c]};fa.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(m){return parseFloat(r.getPropertyValue(m))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,s=e.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,h=t.width/(o+c),f=o-l,d=s-u,v=t.left+i.left+a.left,y=t.top+i.top+a.top;return this.containerBB=[v,y,f,d,h]};fa.invalidateContainerClientCoordsCache=function(){this.containerBB=null};fa.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};fa.findNearestElements=function(e,t,r,n){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/l,h=(n?8:2)/l,f=(n?8:2)/l,d=1/0,v,y;r&&(o=o.interactive);function p(C,S){if(C.isNode()){if(y)return;y=C,s.push(C)}if(C.isEdge()&&(S==null||S<d))if(v){if(v.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var k=0;k<s.length;k++)if(s[k].isEdge()){s[k]=C,v=C,d=S??d;break}}}else s.push(C),v=C,d=S??d}function m(C){var S=C.outerWidth()+2*h,k=C.outerHeight()+2*h,A=S/2,E=k/2,B=C.position(),D=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,O=C._private.rscratch;if(B.x-A<=e&&e<=B.x+A&&B.y-E<=t&&t<=B.y+E){var R=a.nodeShapes[i.getNodeShape(C)];if(R.checkPoint(e,t,0,S,k,B.x,B.y,D,O))return p(C,0),!0}}function g(C){var S=C._private,k=S.rscratch,A=C.pstyle("width").pfValue,E=C.pstyle("arrow-scale").value,B=A/2+c,D=B*B,O=B*2,I=S.source,$=S.target,R;if(k.edgeType==="segments"||k.edgeType==="straight"||k.edgeType==="haystack"){for(var P=k.allpts,M=0;M+3<P.length;M+=2)if(oN(e,t,P[M],P[M+1],P[M+2],P[M+3],O)&&D>(R=hN(e,t,P[M],P[M+1],P[M+2],P[M+3])))return p(C,R),!0}else if(k.edgeType==="bezier"||k.edgeType==="multibezier"||k.edgeType==="self"||k.edgeType==="compound"){for(var P=k.allpts,M=0;M+5<k.allpts.length;M+=4)if(sN(e,t,P[M],P[M+1],P[M+2],P[M+3],P[M+4],P[M+5],O)&&D>(R=cN(e,t,P[M],P[M+1],P[M+2],P[M+3],P[M+4],P[M+5])))return p(C,R),!0}for(var I=I||S.source,$=$||S.target,U=i.getArrowWidth(A,E),z=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}],M=0;M<z.length;M++){var W=z[M],X=a.arrowShapes[C.pstyle(W.name+"-arrow-shape").value],ie=C.pstyle("width").pfValue;if(X.roughCollide(e,t,U,W.angle,{x:W.x,y:W.y},ie,c)&&X.collide(e,t,U,W.angle,{x:W.x,y:W.y},ie,c))return p(C),!0}u&&s.length>0&&(m(I),m($))}function b(C,S,k){return Er(C,S,k)}function x(C,S){var k=C._private,A=f,E;S?E=S+"-":E="",C.boundingBox();var B=k.labelBounds[S||"main"],D=C.pstyle(E+"label").value,O=C.pstyle("text-events").strValue==="yes";if(!(!O||!D)){var R=b(k.rscratch,"labelX",S),P=b(k.rscratch,"labelY",S),M=b(k.rscratch,"labelAngle",S),I=C.pstyle(E+"text-margin-x").pfValue,$=C.pstyle(E+"text-margin-y").pfValue,U=B.x1-A-I,z=B.x2+A-I,W=B.y1-A-$,X=B.y2+A-$;if(M){var ie=Math.cos(M),j=Math.sin(M),oe=function(F,V){return F=F-R,V=V-P,{x:F*ie-V*j+R,y:F*j+V*ie+P}},ce=oe(U,W),de=oe(U,X),se=oe(z,W),G=oe(z,X),K=[ce.x+I,ce.y+$,se.x+I,se.y+$,G.x+I,G.y+$,de.x+I,de.y+$];if(kr(e,t,K))return p(C),!0}else if(ui(B,e,t))return p(C),!0}}for(var w=o.length-1;w>=0;w--){var T=o[w];T.isNode()?m(T)||x(T):g(T)||x(T)||x(T,"source")||x(T,"target")}return s};fa.getAllInBox=function(e,t,r,n){var i=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),o=2/a,s=[],l=Math.min(e,r),u=Math.max(e,r),c=Math.min(t,n),h=Math.max(t,n);e=l,r=u,t=c,n=h;var f=wr({x1:e,y1:t,x2:r,y2:n}),d=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],v=[[d[0],d[1]],[d[1],d[2]],[d[2],d[3]],[d[3],d[0]]];function y(F,V,ee){return Er(F,V,ee)}function p(F,V){var ee=F._private,q=o,H="";F.boundingBox();var Z=ee.labelBounds.main;if(!Z)return null;var ne=y(ee.rscratch,"labelX",V),te=y(ee.rscratch,"labelY",V),re=y(ee.rscratch,"labelAngle",V),ve=F.pstyle(H+"text-margin-x").pfValue,fe=F.pstyle(H+"text-margin-y").pfValue,pe=Z.x1-q-ve,me=Z.x2+q-ve,we=Z.y1-q-fe,Fe=Z.y2+q-fe;if(re){var Be=Math.cos(re),We=Math.sin(re),Se=function(ue,L){return ue=ue-ne,L=L-te,{x:ue*Be-L*We+ne,y:ue*We+L*Be+te}};return[Se(pe,we),Se(me,we),Se(me,Fe),Se(pe,Fe)]}else return[{x:pe,y:we},{x:me,y:we},{x:me,y:Fe},{x:pe,y:Fe}]}function m(F,V,ee,q){function H(Z,ne,te){return(te.y-Z.y)*(ne.x-Z.x)>(ne.y-Z.y)*(te.x-Z.x)}return H(F,ee,q)!==H(V,ee,q)&&H(F,V,ee)!==H(F,V,q)}for(var g=0;g<i.length;g++){var b=i[g];if(b.isNode()){var x=b,w=x.pstyle("text-events").strValue==="yes",T=x.pstyle("box-selection").strValue,C=x.pstyle("box-select-labels").strValue==="yes";if(T==="none")continue;var S=(T==="overlap"||C)&&w,k=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:S});if(T==="contain"){var A=!1;if(C&&w){var E=p(x);E&&xh(E,d)&&(s.push(x),A=!0)}!A&&_C(f,k)&&s.push(x)}else if(T==="overlap"&&Nv(f,k)){var B=x.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),D=[{x:B.x1,y:B.y1},{x:B.x2,y:B.y1},{x:B.x2,y:B.y2},{x:B.x1,y:B.y2}];if(xh(D,d))s.push(x);else{var O=p(x);O&&xh(O,d)&&s.push(x)}}}else{var R=b,P=R._private,M=P.rscratch,I=R.pstyle("box-selection").strValue;if(I==="none")continue;if(I==="contain"){if(M.startX!=null&&M.startY!=null&&!ui(f,M.startX,M.startY)||M.endX!=null&&M.endY!=null&&!ui(f,M.endX,M.endY))continue;if(M.edgeType==="bezier"||M.edgeType==="multibezier"||M.edgeType==="self"||M.edgeType==="compound"||M.edgeType==="segments"||M.edgeType==="haystack"){for(var $=P.rstyle.bezierPts||P.rstyle.linePts||P.rstyle.haystackPts,U=!0,z=0;z<$.length;z++)if(!Tm(f,$[z])){U=!1;break}U&&s.push(R)}else M.edgeType==="straight"&&s.push(R)}else if(I==="overlap"){var W=!1;if(M.startX!=null&&M.startY!=null&&M.endX!=null&&M.endY!=null&&(ui(f,M.startX,M.startY)||ui(f,M.endX,M.endY)))s.push(R),W=!0;else if(!W&&M.edgeType==="haystack"){for(var X=P.rstyle.haystackPts,ie=0;ie<X.length;ie++)if(Tm(f,X[ie])){s.push(R),W=!0;break}}if(!W){var j=P.rstyle.bezierPts||P.rstyle.linePts||P.rstyle.haystackPts;if((!j||j.length<2)&&M.edgeType==="straight"&&M.startX!=null&&M.startY!=null&&M.endX!=null&&M.endY!=null&&(j=[{x:M.startX,y:M.startY},{x:M.endX,y:M.endY}]),!j||j.length<2)continue;for(var oe=0;oe<j.length-1;oe++){for(var ce=j[oe],de=j[oe+1],se=0;se<v.length;se++){var G=Mt(v[se],2),K=G[0],_=G[1];if(m(ce,de,K,_)){s.push(R),W=!0;break}}if(W)break}}}}}return s};var Mu={};Mu.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",l,u,c,h,f,d,m,g;if(r?(c=t.haystackPts[0],h=t.haystackPts[1],f=t.haystackPts[2],d=t.haystackPts[3]):(c=t.arrowStartX,h=t.arrowStartY,f=t.arrowEndX,d=t.arrowEndY),m=t.midX,g=t.midY,a)l=c-t.segpts[0],u=h-t.segpts[1];else if(i||o||s||n){var v=t.allpts,y=Ut(v[0],v[2],v[4],.1),p=Ut(v[1],v[3],v[5],.1);l=c-y,u=h-p}else l=c-m,u=h-g;t.srcArrowAngle=sl(l,u);var m=t.midX,g=t.midY;if(r&&(m=(c+f)/2,g=(h+d)/2),l=f-c,u=d-h,a){var v=t.allpts;if(v.length/2%2===0){var b=v.length/2,x=b-2;l=v[b]-v[x],u=v[b+1]-v[x+1]}else if(t.isRound)l=t.midVector[1],u=-t.midVector[0];else{var b=v.length/2-1,x=b-2;l=v[b]-v[x],u=v[b+1]-v[x+1]}}else if(i||o||s){var v=t.allpts,w=t.ctrlpts,T,C,S,k;if(w.length/2%2===0){var A=v.length/2-1,E=A+2,B=E+2;T=Ut(v[A],v[E],v[B],0),C=Ut(v[A+1],v[E+1],v[B+1],0),S=Ut(v[A],v[E],v[B],1e-4),k=Ut(v[A+1],v[E+1],v[B+1],1e-4)}else{var E=v.length/2-1,A=E-2,B=E+2;T=Ut(v[A],v[E],v[B],.4999),C=Ut(v[A+1],v[E+1],v[B+1],.4999),S=Ut(v[A],v[E],v[B],.5),k=Ut(v[A+1],v[E+1],v[B+1],.5)}l=S-T,u=k-C}if(t.midtgtArrowAngle=sl(l,u),t.midDispX=l,t.midDispY=u,l*=-1,u*=-1,a){var v=t.allpts;if(v.length/2%2!==0){if(!t.isRound){var b=v.length/2-1,D=b+2;l=-(v[D]-v[b]),u=-(v[D+1]-v[b+1])}}}if(t.midsrcArrowAngle=sl(l,u),a)l=f-t.segpts[t.segpts.length-2],u=d-t.segpts[t.segpts.length-1];else if(i||o||s||n){var v=t.allpts,O=v.length,y=Ut(v[O-6],v[O-4],v[O-2],.9),p=Ut(v[O-5],v[O-3],v[O-1],.9);l=f-y,u=d-p}else l=f-m,u=d-g;t.tgtArrowAngle=sl(l,u)};Mu.getArrowWidth=Mu.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var Td,_d,fn={},qr={},a0,o0,Ui,Vl,Fn,Ii,Hi,cn,Ca,pl,yw,bw,Sd,Ed,s0,l0=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},kz=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},Az=function(t,r,n,i,a){if(t!==s0?l0(r,t,fn):kz(qr,fn),l0(r,n,qr),a0=fn.nx*qr.ny-fn.ny*qr.nx,o0=fn.nx*qr.nx-fn.ny*-qr.ny,Fn=Math.asin(Math.max(-1,Math.min(1,a0))),Math.abs(Fn)<1e-6){Td=r.x,_d=r.y,Hi=Ca=0;return}Ui=1,Vl=!1,o0<0?Fn<0?Fn=Math.PI+Fn:(Fn=Math.PI-Fn,Ui=-1,Vl=!0):Fn>0&&(Ui=-1,Vl=!0),r.radius!==void 0?Ca=r.radius:Ca=i,Ii=Fn/2,pl=Math.min(fn.len/2,qr.len/2),a?(cn=Math.abs(Math.cos(Ii)*Ca/Math.sin(Ii)),cn>pl?(cn=pl,Hi=Math.abs(cn*Math.sin(Ii)/Math.cos(Ii))):Hi=Ca):(cn=Math.min(pl,Ca),Hi=Math.abs(cn*Math.sin(Ii)/Math.cos(Ii))),Sd=r.x+qr.nx*cn,Ed=r.y+qr.ny*cn,Td=Sd-qr.ny*Hi*Ui,_d=Ed+qr.nx*Hi*Ui,yw=r.x+fn.nx*cn,bw=r.y+fn.ny*cn,s0=r};function xw(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Xv(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Az(e,t,r,n,i),{cx:Td,cy:_d,radius:Hi,startX:yw,startY:bw,stopX:Sd,stopY:Ed,startAngle:fn.ang+Math.PI/2*Ui,endAngle:qr.ang-Math.PI/2*Ui,counterClockwise:Vl})}var Es=.01,Bz=Math.sqrt(2*Es),ur={};ur.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,i=t.vectorNormInverse,a,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(w,T,C,S){var k=S-T,A=C-w,E=Math.sqrt(A*A+k*k);return{x:-k/E,y:A/E}},c=e.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var h=this.manualEndptToPx(e.source()[0],o),f=Mt(h,2),d=f[0],v=f[1],y=this.manualEndptToPx(e.target()[0],s),p=Mt(y,2),m=p[0],g=p[1],b={x1:d,y1:v,x2:m,y2:g};i=u(d,v,m,g),a=b}else ot("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};ur.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),h=s.width(),f=o.height(),d=s.height(),v=r.pstyle("haystack-radius").value,y=v/2;i.haystackPts=i.allpts=[i.source.x*c*y+l.x,i.source.y*f*y+l.y,i.target.x*h*y+u.x,i.target.y*d*y+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};ur.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<s;c++){var h=n.pfValue[c],f=i.pfValue[c],d=1-h,v=h,y=this.findMidptPtsEtc(e,t),p=y.midptPts,m=y.vectorNormInverse,g={x:p.x1*d+p.x2*v,y:p.y1*d+p.y2*v};r.segpts.push(g.x+m.x*f,g.y+m.y*f),r.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),r.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:u)==="arc-radius")}};ur.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,d=h;n&&(f=0,d=l);var v=u-Math.PI/2,y=v-c/2,p=v+c/2,m=u+"_"+c;f=a[m]===void 0?a[m]=0:++a[m],i.ctrlpts=[o.x+Math.cos(y)*1.4*d*(f/3+1),o.y+Math.sin(y)*1.4*d*(f/3+1),o.x+Math.cos(p)*1.4*d*(f/3+1),o.y+Math.sin(p)*1.4*d*(f/3+1)]};ur.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),d=f?f.pfValue[0]:void 0,v=r,y=h;n&&(v=0,y=d);var p=50,m={x:a.x-s/2,y:a.y-l/2},g={x:o.x-u/2,y:o.y-c/2},b={x:Math.min(m.x,g.x),y:Math.min(m.y,g.y)},x=.5,w=Math.max(x,Math.log(s*Es)),T=Math.max(x,Math.log(u*Es));i.ctrlpts=[b.x,b.y-(1+Math.pow(p,1.12)/100)*y*(v/3+1)*w,b.x-(1+Math.pow(p,1.12)/100)*y*(v/3+1)*T,b.y]};ur.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};ur.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,h=l.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var d=0;d<u;d++){var v=(.5-t.eles.length/2+r)*o*(i?-1:1),y=void 0,p=Iv(v);f&&(c=s?s.pfValue[d]:o,h=l.value[d]),n?y=c:y=c!==void 0?p*c:void 0;var m=y!==void 0?y:v,g=1-h,b=h,x=this.findMidptPtsEtc(e,t),w=x.midptPts,T=x.vectorNormInverse,C={x:w.x1*g+w.x2*b,y:w.y1*g+w.y2*b};a.ctrlpts.push(C.x+T.x*m,C.y+T.y*m)}};ur.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",l="upward",u="auto",c=t.posPts,h=t.srcW,f=t.srcH,d=t.tgtW,v=t.tgtH,y=e.pstyle("edge-distances").value,p=y!=="node-position",m=e.pstyle("taxi-direction").value,g=m,b=e.pstyle("taxi-turn"),x=b.units==="%",w=b.pfValue,T=w<0,C=e.pstyle("taxi-turn-min-distance").pfValue,S=p?(h+d)/2:0,k=p?(f+v)/2:0,A=c.x2-c.x1,E=c.y2-c.y1,B=function(L,Q){return L>0?Math.max(L-Q,0):Math.min(L+Q,0)},D=B(A,S),O=B(E,k),R=!1;g===u?m=Math.abs(D)>Math.abs(O)?i:n:g===l||g===s?(m=n,R=!0):(g===a||g===o)&&(m=i,R=!0);var P=m===n,M=P?O:D,I=P?E:A,$=Iv(I),U=!1;!(R&&(x||T))&&(g===s&&I<0||g===l&&I>0||g===a&&I>0||g===o&&I<0)&&($*=-1,M=$*Math.abs(M),U=!0);var z;if(x){var W=w<0?1+w:w;z=W*M}else{var X=w<0?M:0;z=X+w*$}var ie=function(L){return Math.abs(L)<C||Math.abs(L)>=Math.abs(M)},j=ie(z),oe=ie(Math.abs(M)-Math.abs(z)),ce=j||oe;if(ce&&!U)if(P){var de=Math.abs(I)<=f/2,se=Math.abs(A)<=d/2;if(de){var G=(c.x1+c.x2)/2,K=c.y1,_=c.y2;r.segpts=[G,K,G,_]}else if(se){var F=(c.y1+c.y2)/2,V=c.x1,ee=c.x2;r.segpts=[V,F,ee,F]}else r.segpts=[c.x1,c.y2]}else{var q=Math.abs(I)<=h/2,H=Math.abs(E)<=v/2;if(q){var Z=(c.y1+c.y2)/2,ne=c.x1,te=c.x2;r.segpts=[ne,Z,te,Z]}else if(H){var re=(c.x1+c.x2)/2,ve=c.y1,fe=c.y2;r.segpts=[re,ve,re,fe]}else r.segpts=[c.x2,c.y1]}else if(P){var pe=c.y1+z+(p?f/2*$:0),me=c.x1,we=c.x2;r.segpts=[me,pe,we,pe]}else{var Fe=c.x1+z+(p?h/2*$:0),Be=c.y1,We=c.y2;r.segpts=[Fe,Be,Fe,We]}if(r.isRound){var Se=e.pstyle("taxi-radius").value,xe=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Se),r.isArcRadius=new Array(r.segpts.length/2).fill(xe)}};ur.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,h=t.srcCornerRadius,f=t.tgtCornerRadius,d=t.srcRs,v=t.tgtRs,y=!be(r.startX)||!be(r.startY),p=!be(r.arrowStartX)||!be(r.arrowStartY),m=!be(r.endX)||!be(r.endY),g=!be(r.arrowEndX)||!be(r.arrowEndY),b=3,x=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,w=b*x,T=aa({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=T<w,S=aa({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),k=S<w,A=!1;if(y||p||C){A=!0;var E={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},B=Math.sqrt(E.x*E.x+E.y*E.y),D={x:E.x/B,y:E.y/B},O=Math.max(a,o),R={x:r.ctrlpts[0]+D.x*2*O,y:r.ctrlpts[1]+D.y*2*O},P=u.intersectLine(n.x,n.y,a,o,R.x,R.y,0,h,d);C?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(w-T),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(w-T)):(r.ctrlpts[0]=P[0]+D.x*w,r.ctrlpts[1]=P[1]+D.y*w)}if(m||g||k){A=!0;var M={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},I=Math.sqrt(M.x*M.x+M.y*M.y),$={x:M.x/I,y:M.y/I},U=Math.max(a,o),z={x:r.ctrlpts[0]+$.x*2*U,y:r.ctrlpts[1]+$.y*2*U},W=c.intersectLine(i.x,i.y,s,l,z.x,z.y,0,f,v);k?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(w-S),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(w-S)):(r.ctrlpts[0]=W[0]+$.x*w,r.ctrlpts[1]=W[1]+$.y*w)}A&&this.findEndpoints(e)}};ur.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,i;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,i=.5,t.midX=Ut(t.allpts[n],t.allpts[n+2],t.allpts[n+4],i),t.midY=Ut(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var o=t.radii[a/2-1],s=t.isArcRadius[a/2-1];t.roundCorners.push(Xv({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:o},{x:t.allpts[a+2],y:t.allpts[a+3]},o,s))}}if(t.segpts.length%4===0){var l=t.segpts.length/2,u=l-2;t.midX=(t.segpts[u]+t.segpts[l])/2,t.midY=(t.segpts[u+1]+t.segpts[l+1])/2}else{var c=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[c],t.midY=t.segpts[c+1];else{var h={x:t.segpts[c],y:t.segpts[c+1]},f=t.roundCorners[c/2];if(f.radius===0){var d={x:t.segpts[c+2],y:t.segpts[c+3]};t.midX=h.x,t.midY=h.y,t.midVector=[h.y-d.y,d.x-h.x]}else{var v=[h.x-f.cx,h.y-f.cy],y=f.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(p){return p*y}),t.midX=f.cx+v[0],t.midY=f.cy+v[1],t.midVector=v}}}}};ur.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||be(t.startX)&&be(t.startY)&&be(t.endX)&&be(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,ot("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};ur.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a=new $n,o=function(k,A){return[].concat(wu(k),[A?1:0]).join("-")},s=[],l=[],u=0;u<e.length;u++){var c=e[u],h=c._private,f=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(f==="haystack"){l.push(c);continue}var d=f==="unbundled-bezier"||li(f,"segments")||f==="straight"||f==="straight-triangle"||li(f,"taxi"),v=f==="unbundled-bezier"||f==="bezier",y=h.source,p=h.target,m=y.poolIndex(),g=p.poolIndex(),b=[m,g].sort(),x=o(b,d),w=a.get(x);w==null&&(w={eles:[]},s.push({pairId:b,edgeIsUnbundled:d}),a.set(x,w)),w.eles.push(c),d&&(w.hasUnbundled=!0),v&&(w.hasBezier=!0)}}for(var T=function(){var k=s[C],A=k.pairId,E=k.edgeIsUnbundled,B=o(A,E),D=a.get(B),O;if(!D.hasUnbundled){var R=D.eles[0].parallelEdges().filter(function(xe){return xe.isBundledBezier()});Ov(D.eles),R.forEach(function(xe){return D.eles.push(xe)}),D.eles.sort(function(xe,ue){return xe.poolIndex()-ue.poolIndex()})}var P=D.eles[0],M=P.source(),I=P.target();if(M.poolIndex()>I.poolIndex()){var $=M;M=I,I=$}var U=D.srcPos=M.position(),z=D.tgtPos=I.position(),W=D.srcW=M.outerWidth(),X=D.srcH=M.outerHeight(),ie=D.tgtW=I.outerWidth(),j=D.tgtH=I.outerHeight(),oe=D.srcShape=r.nodeShapes[t.getNodeShape(M)],ce=D.tgtShape=r.nodeShapes[t.getNodeShape(I)],de=D.srcCornerRadius=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,se=D.tgtCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,G=D.tgtRs=I._private.rscratch,K=D.srcRs=M._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<D.eles.length;_++){var F=D.eles[_],V=F[0]._private.rscratch,ee=F.pstyle("curve-style").value,q=ee==="unbundled-bezier"||li(ee,"segments")||li(ee,"taxi"),H=!M.same(F.source());if(!D.calculatedIntersection&&M!==I&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var Z=oe.intersectLine(U.x,U.y,W,X,z.x,z.y,0,de,K),ne=D.srcIntn=Z,te=ce.intersectLine(z.x,z.y,ie,j,U.x,U.y,0,se,G),re=D.tgtIntn=te,ve=D.intersectionPts={x1:Z[0],x2:te[0],y1:Z[1],y2:te[1]},fe=D.posPts={x1:U.x,x2:z.x,y1:U.y,y2:z.y},pe=te[1]-Z[1],me=te[0]-Z[0],we=Math.sqrt(me*me+pe*pe);be(we)&&we>=Bz||(we=Math.sqrt(Math.max(me*me,Es)+Math.max(pe*pe,Es)));var Fe=D.vector={x:me,y:pe},Be=D.vectorNorm={x:Fe.x/we,y:Fe.y/we},We={x:-Be.y,y:Be.x};D.nodesOverlap=!be(we)||ce.checkPoint(Z[0],Z[1],0,ie,j,z.x,z.y,se,G)||oe.checkPoint(te[0],te[1],0,W,X,U.x,U.y,de,K),D.vectorNormInverse=We,O={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:z,srcRs:G,tgtPos:U,tgtRs:K,srcW:ie,srcH:j,tgtW:W,tgtH:X,srcIntn:re,tgtIntn:ne,srcShape:ce,tgtShape:oe,posPts:{x1:fe.x2,y1:fe.y2,x2:fe.x1,y2:fe.y1},intersectionPts:{x1:ve.x2,y1:ve.y2,x2:ve.x1,y2:ve.y1},vector:{x:-Fe.x,y:-Fe.y},vectorNorm:{x:-Be.x,y:-Be.y},vectorNormInverse:{x:-We.x,y:-We.y}}}var Se=H?O:D;V.nodesOverlap=Se.nodesOverlap,V.srcIntn=Se.srcIntn,V.tgtIntn=Se.tgtIntn,V.isRound=ee.startsWith("round"),i&&(M.isParent()||M.isChild()||I.isParent()||I.isChild())&&(M.parents().anySame(I)||I.parents().anySame(M)||M.same(I)&&M.isParent())?t.findCompoundLoopPoints(F,Se,_,q):M===I?t.findLoopPoints(F,Se,_,q):ee.endsWith("segments")?t.findSegmentsPoints(F,Se):ee.endsWith("taxi")?t.findTaxiPoints(F,Se):ee==="straight"||!q&&D.eles.length%2===1&&_===Math.floor(D.eles.length/2)?t.findStraightEdgePoints(F):t.findBezierPoints(F,Se,_,q,H),t.findEndpoints(F),t.tryToCorrectInvalidPoints(F,Se),t.checkForInvalidEdgeWarning(F),t.storeAllpts(F),t.storeEdgeProjections(F),t.calculateArrowAngles(F),t.recalculateEdgeLabelProjections(F),t.calculateLabelAngles(F)}},C=0;C<s.length;C++)T();this.findHaystackPoints(l)}};function Cw(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}ur.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return Cw(t.segpts)};ur.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return Cw(t.ctrlpts)};ur.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Gs={};Gs.manualEndptToPx=function(e,t){var r=this,n=e.position(),i=e.outerWidth(),a=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*i),t.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=n.x,s[1]+=n.y,s}else{var l=t.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};Gs.findEndpoints=function(e){var t,r,n,i,a=this,o,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),h=e.pstyle("target-arrow-shape").value,f=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,v=e.pstyle("source-distance-from-node").pfValue,y=s._private.rscratch,p=l._private.rscratch,m=e.pstyle("curve-style").value,g=e._private.rscratch,b=g.edgeType,x=li(m,"taxi"),w=b==="self"||b==="compound",T=b==="bezier"||b==="multibezier"||w,C=b!=="bezier",S=b==="straight"||b==="segments",k=b==="segments",A=T||C||S,E=w||x,B=e.pstyle("source-endpoint"),D=E?"outside-to-node":B.value,O=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,R=e.pstyle("target-endpoint"),P=E?"outside-to-node":R.value,M=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;g.srcManEndpt=B,g.tgtManEndpt=R;var I,$,U,z,W=(t=(R==null||(r=R.pfValue)===null||r===void 0?void 0:r.length)===2?R.pfValue:null)!==null&&t!==void 0?t:[0,0],X=(n=(B==null||(i=B.pfValue)===null||i===void 0?void 0:i.length)===2?B.pfValue:null)!==null&&n!==void 0?n:[0,0];if(T){var ie=[g.ctrlpts[0],g.ctrlpts[1]],j=C?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:ie;I=j,$=ie}else if(S){var oe=k?g.segpts.slice(0,2):[c.x+W[0],c.y+W[1]],ce=k?g.segpts.slice(g.segpts.length-2):[u.x+X[0],u.y+X[1]];I=ce,$=oe}if(P==="inside-to-node")o=[c.x,c.y];else if(R.units)o=this.manualEndptToPx(l,R);else if(P==="outside-to-line")o=g.tgtIntn;else if(P==="outside-to-node"||P==="outside-to-node-or-label"?U=I:(P==="outside-to-line"||P==="outside-to-line-or-label")&&(U=[u.x,u.y]),o=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),U[0],U[1],0,M,p),P==="outside-to-node-or-label"||P==="outside-to-line-or-label"){var de=l._private.rscratch,se=de.labelWidth,G=de.labelHeight,K=de.labelX,_=de.labelY,F=se/2,V=G/2,ee=l.pstyle("text-valign").value;ee==="top"?_-=V:ee==="bottom"&&(_+=V);var q=l.pstyle("text-halign").value;q==="left"?K-=F:q==="right"&&(K+=F);var H=Cs(U[0],U[1],[K-F,_-V,K+F,_-V,K+F,_+V,K-F,_+V],c.x,c.y);if(H.length>0){var Z=u,ne=Vi(Z,Ba(o)),te=Vi(Z,Ba(H)),re=ne;if(te<ne&&(o=H,re=te),H.length>2){var ve=Vi(Z,{x:H[2],y:H[3]});ve<re&&(o=[H[2],H[3]])}}}var fe=ll(o,I,a.arrowShapes[h].spacing(e)+d),pe=ll(o,I,a.arrowShapes[h].gap(e)+d);if(g.endX=pe[0],g.endY=pe[1],g.arrowEndX=fe[0],g.arrowEndY=fe[1],D==="inside-to-node")o=[u.x,u.y];else if(B.units)o=this.manualEndptToPx(s,B);else if(D==="outside-to-line")o=g.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?z=$:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(z=[c.x,c.y]),o=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),z[0],z[1],0,O,y),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var me=s._private.rscratch,we=me.labelWidth,Fe=me.labelHeight,Be=me.labelX,We=me.labelY,Se=we/2,xe=Fe/2,ue=s.pstyle("text-valign").value;ue==="top"?We-=xe:ue==="bottom"&&(We+=xe);var L=s.pstyle("text-halign").value;L==="left"?Be-=Se:L==="right"&&(Be+=Se);var Q=Cs(z[0],z[1],[Be-Se,We-xe,Be+Se,We-xe,Be+Se,We+xe,Be-Se,We+xe],u.x,u.y);if(Q.length>0){var ae=c,le=Vi(ae,Ba(o)),he=Vi(ae,Ba(Q)),_e=le;if(he<le&&(o=[Q[0],Q[1]],_e=he),Q.length>2){var ge=Vi(ae,{x:Q[2],y:Q[3]});ge<_e&&(o=[Q[2],Q[3]])}}}var Pe=ll(o,$,a.arrowShapes[f].spacing(e)+v),ke=ll(o,$,a.arrowShapes[f].gap(e)+v);g.startX=ke[0],g.startY=ke[1],g.arrowStartX=Pe[0],g.arrowStartY=Pe[1],A&&(!be(g.startX)||!be(g.startY)||!be(g.endX)||!be(g.endY)?g.badLine=!0:g.badLine=!1)};Gs.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};Gs.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var Zv={};function Lz(e,t,r){for(var n=function(u,c,h,f){return Ut(u,c,h,f)},i=t._private,a=i.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];a.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Zv.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)Lz(this,e,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};Zv.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var An={};An.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!yi(t)){var r,n,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,f=i.rstyle;switch(u){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}h.labelX=r,h.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var ww=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},Tw=function(t,r){var n=r.x-t.x,i=r.y-t.y;return ww(n,i)},Dz=function(t,r,n,i){var a=xs(0,i-.001,1),o=xs(0,i+.001,1),s=$a(t,r,n,a),l=$a(t,r,n,o);return Tw(s,l)};An.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var o=function(h,f,d){Rn(r.rscratch,h,f,d),Rn(r.rstyle,h,f,d)};o("labelX",null,t.x),o("labelY",null,t.y);var s=ww(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var h=[],f=0;f+5<n.allpts.length;f+=4){var d={x:n.allpts[f],y:n.allpts[f+1]},v={x:n.allpts[f+2],y:n.allpts[f+3]},y={x:n.allpts[f+4],y:n.allpts[f+5]};h.push({p0:d,p1:v,p2:y,startDist:0,length:0,segments:[]})}var p=r.rstyle.bezierPts,m=i.bezierProjPcts.length;function g(C,S,k,A,E){var B=aa(S,k),D=C.segments[C.segments.length-1],O={p0:S,p1:k,t0:A,t1:E,startDist:D?D.startDist+D.length:0,length:B};C.segments.push(O),C.length+=B}for(var b=0;b<h.length;b++){var x=h[b],w=h[b-1];w&&(x.startDist=w.startDist+w.length),g(x,x.p0,p[b*m],0,i.bezierProjPcts[0]);for(var T=0;T<m-1;T++)g(x,p[b*m+T],p[b*m+T+1],i.bezierProjPcts[T],i.bezierProjPcts[T+1]);g(x,p[b*m+m-1],x.p2,i.bezierProjPcts[m-1],1)}return l.cache=h},u=function(h){var f,d=h==="source";if(a[h]){var v=e.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),p,m=0,g=0,b=0;b<y.length;b++){for(var x=y[d?b:y.length-1-b],w=0;w<x.segments.length;w++){var T=x.segments[d?w:x.segments.length-1-w],C=b===y.length-1&&w===x.segments.length-1;if(m=g,g+=T.length,g>=v||C){p={cp:x,segment:T};break}}if(p)break}var S=p.cp,k=p.segment,A=(v-m)/k.length,E=k.t1-k.t0,B=d?k.t0+E*A:k.t1-E*A;B=xs(0,B,1),t=$a(S.p0,S.p1,S.p2,B),f=Dz(S.p0,S.p1,S.p2,B);break}case"straight":case"segments":case"haystack":{for(var D=0,O,R,P,M,I=n.allpts.length,$=0;$+3<I&&(d?(P={x:n.allpts[$],y:n.allpts[$+1]},M={x:n.allpts[$+2],y:n.allpts[$+3]}):(P={x:n.allpts[I-2-$],y:n.allpts[I-1-$]},M={x:n.allpts[I-4-$],y:n.allpts[I-3-$]}),O=aa(P,M),R=D,D+=O,!(D>=v));$+=2);var U=v-R,z=U/O;z=xs(0,z,1),t=JI(P,M,z),f=Tw(P,M);break}}o("labelX",h,t.x),o("labelY",h,t.y),o("labelAutoAngle",h,f)}};u("source"),u("target"),this.applyLabelDimensions(e)}};An.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};An.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=ia(n,e._private.labelDimsKey);if(Er(r.rscratch,"prefixedLabelDimsKey",t)!==i){Rn(r.rscratch,"prefixedLabelDimsKey",t,i);var a=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=Er(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(l.length,1),c=a.height/u,h=c*o,f=a.width,d=a.height+(u-1)*(o-1)*c;Rn(r.rstyle,"labelWidth",t,f),Rn(r.rscratch,"labelWidth",t,f),Rn(r.rstyle,"labelHeight",t,d),Rn(r.rscratch,"labelHeight",t,d),Rn(r.rscratch,"labelLineHeight",t,h)}};An.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,o=function(X,ie){return ie?(Rn(r.rscratch,X,t,ie),ie):Er(r.rscratch,X,t)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="​",c=i.split(`
`),h=e.pstyle("text-max-width").pfValue,f=e.pstyle("text-overflow-wrap").value,d=f==="anywhere",v=[],y=/[\s\u200b]+|$/g,p=0;p<c.length;p++){var m=c[p],g=this.calculateLabelDimensions(e,m),b=g.width;if(d){var x=m.split("").join(u);m=x}if(b>h){var w=m.matchAll(y),T="",C=0,S=Lr(w),k;try{for(S.s();!(k=S.n()).done;){var A=k.value,E=A[0],B=m.substring(C,A.index);C=A.index+E.length;var D=T.length===0?B:T+B+E,O=this.calculateLabelDimensions(e,D),R=O.width;R<=h?T+=B+E:(T&&v.push(T),T=B+E)}}catch(W){S.e(W)}finally{S.f()}T.match(/^[\s\u200b]+$/)||v.push(T)}else v.push(m)}o("labelWrapCachedLines",v),i=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var P=e.pstyle("text-max-width").pfValue,M="",I="…",$=!1;if(this.calculateLabelDimensions(e,i).width<P)return i;for(var U=0;U<i.length;U++){var z=this.calculateLabelDimensions(e,M+i[U]+I).width;if(z>P)break;M+=i[U],U===i.length-1&&($=!0)}return $||(M+=I),M}return i};An.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};An.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),i=n.document,a=0,o=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue,l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var f=c.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}h.font="".concat(o," ").concat(u," ").concat(s,"px ").concat(l);for(var d=0,v=0,y=t.split(`
`),p=0;p<y.length;p++){var m=y[p],g=h.measureText(m),b=Math.ceil(g.width),x=s;d=Math.max(b,d),v+=x}return d+=a,v+=a,{width:d,height:v}};An.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,i=e.isEdge(),a=t?t+"-":"",o=e.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};An.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,i=n.rscratch;i.labelAngle=t.calculateLabelAngle(e),r&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var _w={},u0=28,c0=!1;_w.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<u0||e.height()<u0))return c0||(ot("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),c0=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var Sc={};Sc.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,h=c.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var i=function(o){if(o){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var f=s[h];f(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Sc.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Sc.recalculateRenderedStyle=function(e,t){var r=function(x){return x._private.rstyle.cleanConnected};if(e.length!==0){var n=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var o=e[a],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(b){return!b._private.rstyle.clean&&b.isBundledBezier()})&&(l.clean=!1),!(t&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):n.push(o),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],h=c._private,f=h.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=d.x,f.nodeY=d.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var y=n[v],p=y._private,m=p.rstyle,g=p.rscratch;m.srcX=g.arrowStartX,m.srcY=g.arrowStartY,m.tgtX=g.arrowEndX,m.tgtY=g.arrowEndY,m.midX=g.midX,m.midY=g.midY,m.labelAngle=g.labelAngle,m.sourceLabelAngle=g.sourceLabelAngle,m.targetLabelAngle=g.targetLabelAngle}}}};var Ec={};Ec.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};Ec.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Ec.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(aw),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var Sw={};[fa,Mu,ur,Gs,Zv,An,_w,Sc,Ec].forEach(function(e){Ve(Sw,e)});var Ew={};Ew.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[e]=i[e]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=e.substring(0,s.length).toLowerCase()===s;return l||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var vo={};vo.registerBinding=function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(s!==void 0){var l=this.binder(s);a.push(l.on.apply(l,i))}}return a}var l=this.binder(e);return l.on.apply(l,i)};vo.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||H5(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var o=function(l,u,c){var h=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(h[2]={capture:c??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:h}),(e.addEventListener||e.on).apply(e,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};vo.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};vo.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};vo.load=function(){var e=this,t=e.cy.window(),r=function(L){return L.selected()},n=function(L){var Q=L.getRootNode();if(Q&&Q.nodeType===11&&Q.host!==void 0)return Q},i=function(L,Q,ae,le){L==null&&(L=e.cy);for(var he=0;he<Q.length;he++){var _e=Q[he];L.emit({originalEvent:ae,type:_e,position:le})}},a=function(L){return L.shiftKey||L.metaKey||L.ctrlKey},o=function(L,Q){var ae=!0;if(e.cy.hasCompoundNodes()&&L&&L.pannable())for(var le=0;Q&&le<Q.length;le++){var L=Q[le];if(L.isNode()&&L.isParent()&&!L.pannable()){ae=!1;break}}else ae=!0;return ae},s=function(L){L[0]._private.grabbed=!0},l=function(L){L[0]._private.grabbed=!1},u=function(L){L[0]._private.rscratch.inDragLayer=!0},c=function(L){L[0]._private.rscratch.inDragLayer=!1},h=function(L){L[0]._private.rscratch.isGrabTarget=!0},f=function(L){L[0]._private.rscratch.isGrabTarget=!1},d=function(L,Q){var ae=Q.addToList,le=ae.has(L);!le&&L.grabbable()&&!L.locked()&&(ae.merge(L),s(L))},v=function(L,Q){if(L.cy().hasCompoundNodes()&&!(Q.inDragLayer==null&&Q.addToList==null)){var ae=L.descendants();Q.inDragLayer&&(ae.forEach(u),ae.connectedEdges().forEach(u)),Q.addToList&&d(ae,Q)}},y=function(L,Q){Q=Q||{};var ae=L.cy().hasCompoundNodes();Q.inDragLayer&&(L.forEach(u),L.neighborhood().stdFilter(function(le){return!ae||le.isEdge()}).forEach(u)),Q.addToList&&L.forEach(function(le){d(le,Q)}),v(L,Q),g(L,{inDragLayer:Q.inDragLayer}),e.updateCachedGrabbedEles()},p=y,m=function(L){L&&(e.getCachedZSortedEles().forEach(function(Q){l(Q),c(Q),f(Q)}),e.updateCachedGrabbedEles())},g=function(L,Q){if(!(Q.inDragLayer==null&&Q.addToList==null)&&L.cy().hasCompoundNodes()){var ae=L.ancestors().orphans();if(!ae.same(L)){var le=ae.descendants().spawnSelf().merge(ae).unmerge(L).unmerge(L.descendants()),he=le.connectedEdges();Q.inDragLayer&&(he.forEach(u),le.forEach(u)),Q.addToList&&le.forEach(function(_e){d(_e,Q)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";x?(e.removeObserver=new MutationObserver(function(ue){for(var L=0;L<ue.length;L++){var Q=ue[L],ae=Q.removedNodes;if(ae)for(var le=0;le<ae.length;le++){var he=ae[le];if(he===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(ue){e.destroy()});var T=Vs(function(){e.cy.resize()},100);x&&(e.styleObserver=new MutationObserver(T),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",T),w&&(e.resizeObserver=new ResizeObserver(T),e.resizeObserver.observe(e.container));var C=function(L,Q){for(;L!=null;)Q(L),L=L.parentNode},S=function(){e.invalidateContainerClientCoordsCache()};C(e.container,function(ue){e.registerBinding(ue,"transitionend",S),e.registerBinding(ue,"animationend",S),e.registerBinding(ue,"scroll",S)}),e.registerBinding(e.container,"contextmenu",function(ue){ue.preventDefault()});var k=function(){return e.selection[4]!==0},A=function(L){for(var Q=e.findContainerClientCoords(),ae=Q[0],le=Q[1],he=Q[2],_e=Q[3],ge=L.touches?L.touches:[L],Pe=!1,ke=0;ke<ge.length;ke++){var Te=ge[ke];if(ae<=Te.clientX&&Te.clientX<=ae+he&&le<=Te.clientY&&Te.clientY<=le+_e){Pe=!0;break}}if(!Pe)return!1;for(var Ge=e.container,Ye=L.target,Le=Ye.parentNode,Ke=!1;Le;){if(Le===Ge){Ke=!0;break}Le=Le.parentNode}return!!Ke};e.registerBinding(e.container,"mousedown",function(L){if(A(L)&&!(e.hoverData.which===1&&L.which!==1)){L.preventDefault(),b(),e.hoverData.capture=!0,e.hoverData.which=L.which;var Q=e.cy,ae=[L.clientX,L.clientY],le=e.projectIntoViewport(ae[0],ae[1]),he=e.selection,_e=e.findNearestElements(le[0],le[1],!0,!1),ge=_e[0],Pe=e.dragData.possibleDragElements;e.hoverData.mdownPos=le,e.hoverData.mdownGPos=ae;var ke=function(je){return{originalEvent:L,type:je,position:{x:le[0],y:le[1]}}},Te=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var je=e.hoverData.down;je?je.emit(ke("taphold")):Q.emit(ke("taphold"))}},e.tapholdDuration)};if(L.which==3){e.hoverData.cxtStarted=!0;var Ge={originalEvent:L,type:"cxttapstart",position:{x:le[0],y:le[1]}};ge?(ge.activate(),ge.emit(Ge),e.hoverData.down=ge):Q.emit(Ge),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(L.which==1){ge&&ge.activate();{if(ge!=null&&e.nodeIsGrabbable(ge)){var Ye=function(je){je.emit(ke("grab"))};if(h(ge),!ge.selected())Pe=e.dragData.possibleDragElements=Q.collection(),p(ge,{addToList:Pe}),ge.emit(ke("grabon")).emit(ke("grab"));else{Pe=e.dragData.possibleDragElements=Q.collection();var Le=Q.$(function(Ke){return Ke.isNode()&&Ke.selected()&&e.nodeIsGrabbable(Ke)});y(Le,{addToList:Pe}),ge.emit(ke("grabon")),Le.forEach(Ye)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=ge,e.hoverData.downs=_e,e.hoverData.downTime=new Date().getTime()}i(ge,["mousedown","tapstart","vmousedown"],L,{x:le[0],y:le[1]}),ge==null?(he[4]=1,e.data.bgActivePosistion={x:le[0],y:le[1]},e.redrawHint("select",!0),e.redraw()):ge.pannable()&&(he[4]=1),Te()}he[0]=he[2]=le[0],he[1]=he[3]=le[1]}},!1);var E=n(e.container);e.registerBinding([t,E],"mousemove",function(L){var Q=e.hoverData.capture;if(!(!Q&&!A(L))){var ae=!1,le=e.cy,he=le.zoom(),_e=[L.clientX,L.clientY],ge=e.projectIntoViewport(_e[0],_e[1]),Pe=e.hoverData.mdownPos,ke=e.hoverData.mdownGPos,Te=e.selection,Ge=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Ge=e.findNearestElement(ge[0],ge[1],!0,!1));var Ye=e.hoverData.last,Le=e.hoverData.down,Ke=[ge[0]-Te[2],ge[1]-Te[3]],je=e.dragData.possibleDragElements,Et;if(ke){var xt=_e[0]-ke[0],Ht=xt*xt,wt=_e[1]-ke[1],Lt=wt*wt,nt=Ht+Lt;e.hoverData.isOverThresholdDrag=Et=nt>=e.desktopTapThreshold2}var kt=a(L);Et&&(e.hoverData.tapholdCancelled=!0);var jr=function(){var Y=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Y.length===0?(Y.push(Ke[0]),Y.push(Ke[1])):(Y[0]+=Ke[0],Y[1]+=Ke[1])};ae=!0,i(Ge,["mousemove","vmousemove","tapdrag"],L,{x:ge[0],y:ge[1]});var Tt=function(Y){return{originalEvent:L,type:Y,position:{x:ge[0],y:ge[1]}}},Rr=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||le.emit(Tt("boxstart")),Te[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Et){var Ir=Tt("cxtdrag");Le?Le.emit(Ir):le.emit(Ir),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Ge!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(Tt("cxtdragout")),e.hoverData.cxtOver=Ge,Ge&&Ge.emit(Tt("cxtdragover")))}}else if(e.hoverData.dragging){if(ae=!0,le.panningEnabled()&&le.userPanningEnabled()){var Jt;if(e.hoverData.justStartedPan){var Mi=e.hoverData.mdownPos;Jt={x:(ge[0]-Mi[0])*he,y:(ge[1]-Mi[1])*he},e.hoverData.justStartedPan=!1}else Jt={x:Ke[0]*he,y:Ke[1]*he};le.panBy(Jt),le.emit(Tt("dragpan")),e.hoverData.dragged=!0}ge=e.projectIntoViewport(L.clientX,L.clientY)}else if(Te[4]==1&&(Le==null||Le.pannable())){if(Et){if(!e.hoverData.dragging&&le.boxSelectionEnabled()&&(kt||!le.panningEnabled()||!le.userPanningEnabled()))Rr();else if(!e.hoverData.selecting&&le.panningEnabled()&&le.userPanningEnabled()){var ln=o(Le,e.hoverData.downs);ln&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Te[4]=0,e.data.bgActivePosistion=Ba(Pe),e.redrawHint("select",!0),e.redraw())}Le&&Le.pannable()&&Le.active()&&Le.unactivate()}}else{if(Le&&Le.pannable()&&Le.active()&&Le.unactivate(),(!Le||!Le.grabbed())&&Ge!=Ye&&(Ye&&i(Ye,["mouseout","tapdragout"],L,{x:ge[0],y:ge[1]}),Ge&&i(Ge,["mouseover","tapdragover"],L,{x:ge[0],y:ge[1]}),e.hoverData.last=Ge),Le)if(Et){if(le.boxSelectionEnabled()&&kt)Le&&Le.grabbed()&&(m(je),Le.emit(Tt("freeon")),je.emit(Tt("free")),e.dragData.didDrag&&(Le.emit(Tt("dragfreeon")),je.emit(Tt("dragfree")))),Rr();else if(Le&&Le.grabbed()&&e.nodeIsDraggable(Le)){var Kt=!e.dragData.didDrag;Kt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||y(je,{inDragLayer:!0});var Rt={x:0,y:0};if(be(Ke[0])&&be(Ke[1])&&(Rt.x+=Ke[0],Rt.y+=Ke[1],Kt)){var er=e.hoverData.dragDelta;er&&be(er[0])&&be(er[1])&&(Rt.x+=er[0],Rt.y+=er[1])}e.hoverData.draggingEles=!0,je.silentShift(Rt).emit(Tt("position")).emit(Tt("drag")),e.redrawHint("drag",!0),e.redraw()}}else jr();ae=!0}if(Te[2]=ge[0],Te[3]=ge[1],ae)return L.stopPropagation&&L.stopPropagation(),L.preventDefault&&L.preventDefault(),!1}},!1);var B,D,O;e.registerBinding(t,"mouseup",function(L){if(!(e.hoverData.which===1&&L.which!==1&&e.hoverData.capture)){var Q=e.hoverData.capture;if(Q){e.hoverData.capture=!1;var ae=e.cy,le=e.projectIntoViewport(L.clientX,L.clientY),he=e.selection,_e=e.findNearestElement(le[0],le[1],!0,!1),ge=e.dragData.possibleDragElements,Pe=e.hoverData.down,ke=a(L);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Pe&&Pe.unactivate();var Te=function(xt){return{originalEvent:L,type:xt,position:{x:le[0],y:le[1]}}};if(e.hoverData.which===3){var Ge=Te("cxttapend");if(Pe?Pe.emit(Ge):ae.emit(Ge),!e.hoverData.cxtDragged){var Ye=Te("cxttap");Pe?Pe.emit(Ye):ae.emit(Ye)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(i(_e,["mouseup","tapend","vmouseup"],L,{x:le[0],y:le[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(i(Pe,["click","tap","vclick"],L,{x:le[0],y:le[1]}),D=!1,L.timeStamp-O<=ae.multiClickDebounceTime()?(B&&clearTimeout(B),D=!0,O=null,i(Pe,["dblclick","dbltap","vdblclick"],L,{x:le[0],y:le[1]})):(B=setTimeout(function(){D||i(Pe,["oneclick","onetap","voneclick"],L,{x:le[0],y:le[1]})},ae.multiClickDebounceTime()),O=L.timeStamp)),Pe==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!a(L)&&(ae.$(r).unselect(["tapunselect"]),ge.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ge=ae.collection()),_e==Pe&&!e.dragData.didDrag&&!e.hoverData.selecting&&_e!=null&&_e._private.selectable&&(e.hoverData.dragging||(ae.selectionType()==="additive"||ke?_e.selected()?_e.unselect(["tapunselect"]):_e.select(["tapselect"]):ke||(ae.$(r).unmerge(_e).unselect(["tapunselect"]),_e.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Le=ae.collection(e.getAllInBox(he[0],he[1],he[2],he[3]));e.redrawHint("select",!0),Le.length>0&&e.redrawHint("eles",!0),ae.emit(Te("boxend"));var Ke=function(xt){return xt.selectable()&&!xt.selected()};ae.selectionType()==="additive"||ke||ae.$(r).unmerge(Le).unselect(),Le.emit(Te("box")).stdFilter(Ke).select().emit(Te("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!he[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var je=Pe&&Pe.grabbed();m(ge),je&&(Pe.emit(Te("freeon")),ge.emit(Te("free")),e.dragData.didDrag&&(Pe.emit(Te("dragfreeon")),ge.emit(Te("dragfree"))))}}he[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var R=[],P=4,M,I=1e5,$=function(L,Q){for(var ae=0;ae<L.length;ae++)if(L[ae]%Q!==0)return!1;return!0},U=function(L){for(var Q=Math.abs(L[0]),ae=1;ae<L.length;ae++)if(Math.abs(L[ae])!==Q)return!1;return!0},z=function(L){var Q=!1,ae=L.deltaY;if(ae==null&&(L.wheelDeltaY!=null?ae=L.wheelDeltaY/4:L.wheelDelta!=null&&(ae=L.wheelDelta/4)),ae!==0){if(M==null)if(R.length>=P){var le=R;if(M=$(le,5),!M){var he=Math.abs(le[0]);M=U(le)&&he>5}if(M)for(var _e=0;_e<le.length;_e++)I=Math.min(Math.abs(le[_e]),I)}else R.push(ae),Q=!0;else M&&(I=Math.min(Math.abs(ae),I));if(!e.scrollingPage){var ge=e.cy,Pe=ge.zoom(),ke=ge.pan(),Te=e.projectIntoViewport(L.clientX,L.clientY),Ge=[Te[0]*Pe+ke.x,Te[1]*Pe+ke.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||k()){L.preventDefault();return}if(ge.panningEnabled()&&ge.userPanningEnabled()&&ge.zoomingEnabled()&&ge.userZoomingEnabled()){L.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var Ye;Q&&Math.abs(ae)>5&&(ae=Iv(ae)*5),Ye=ae/-250,M&&(Ye/=I,Ye*=3),Ye=Ye*e.wheelSensitivity;var Le=L.deltaMode===1;Le&&(Ye*=33);var Ke=ge.zoom()*Math.pow(10,Ye);L.type==="gesturechange"&&(Ke=e.gestureStartZoom*L.scale),ge.zoom({level:Ke,renderedPosition:{x:Ge[0],y:Ge[1]}}),ge.emit({type:L.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:L,position:{x:Te[0],y:Te[1]}})}}}};e.registerBinding(e.container,"wheel",z,!0),e.registerBinding(t,"scroll",function(L){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(L){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||L.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(ue){e.hasTouchStarted||z(ue)},!0),e.registerBinding(e.container,"mouseout",function(L){var Q=e.projectIntoViewport(L.clientX,L.clientY);e.cy.emit({originalEvent:L,type:"mouseout",position:{x:Q[0],y:Q[1]}})},!1),e.registerBinding(e.container,"mouseover",function(L){var Q=e.projectIntoViewport(L.clientX,L.clientY);e.cy.emit({originalEvent:L,type:"mouseover",position:{x:Q[0],y:Q[1]}})},!1);var W,X,ie,j,oe,ce,de,se,G,K,_,F,V,ee=function(L,Q,ae,le){return Math.sqrt((ae-L)*(ae-L)+(le-Q)*(le-Q))},q=function(L,Q,ae,le){return(ae-L)*(ae-L)+(le-Q)*(le-Q)},H;e.registerBinding(e.container,"touchstart",H=function(L){if(e.hasTouchStarted=!0,!!A(L)){b(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var Q=e.cy,ae=e.touchData.now,le=e.touchData.earlier;if(L.touches[0]){var he=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ae[0]=he[0],ae[1]=he[1]}if(L.touches[1]){var he=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ae[2]=he[0],ae[3]=he[1]}if(L.touches[2]){var he=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ae[4]=he[0],ae[5]=he[1]}var _e=function(kt){return{originalEvent:L,type:kt,position:{x:ae[0],y:ae[1]}}};if(L.touches[1]){e.touchData.singleTouchMoved=!0,m(e.dragData.touchDragEles);var ge=e.findContainerClientCoords();G=ge[0],K=ge[1],_=ge[2],F=ge[3],W=L.touches[0].clientX-G,X=L.touches[0].clientY-K,ie=L.touches[1].clientX-G,j=L.touches[1].clientY-K,V=0<=W&&W<=_&&0<=ie&&ie<=_&&0<=X&&X<=F&&0<=j&&j<=F;var Pe=Q.pan(),ke=Q.zoom();oe=ee(W,X,ie,j),ce=q(W,X,ie,j),de=[(W+ie)/2,(X+j)/2],se=[(de[0]-Pe.x)/ke,(de[1]-Pe.y)/ke];var Te=200,Ge=Te*Te;if(ce<Ge&&!L.touches[2]){var Ye=e.findNearestElement(ae[0],ae[1],!0,!0),Le=e.findNearestElement(ae[2],ae[3],!0,!0);Ye&&Ye.isNode()?(Ye.activate().emit(_e("cxttapstart")),e.touchData.start=Ye):Le&&Le.isNode()?(Le.activate().emit(_e("cxttapstart")),e.touchData.start=Le):Q.emit(_e("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(L.touches[2])Q.boxSelectionEnabled()&&L.preventDefault();else if(!L.touches[1]){if(L.touches[0]){var Ke=e.findNearestElements(ae[0],ae[1],!0,!0),je=Ke[0];if(je!=null&&(je.activate(),e.touchData.start=je,e.touchData.starts=Ke,e.nodeIsGrabbable(je))){var Et=e.dragData.touchDragEles=Q.collection(),xt=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),je.selected()?(xt=Q.$(function(nt){return nt.selected()&&e.nodeIsGrabbable(nt)}),y(xt,{addToList:Et})):p(je,{addToList:Et}),h(je),je.emit(_e("grabon")),xt?xt.forEach(function(nt){nt.emit(_e("grab"))}):je.emit(_e("grab"))}i(je,["touchstart","tapstart","vmousedown"],L,{x:ae[0],y:ae[1]}),je==null&&(e.data.bgActivePosistion={x:he[0],y:he[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&i(e.touchData.start,["taphold"],L,{x:ae[0],y:ae[1]})},e.tapholdDuration)}}if(L.touches.length>=1){for(var Ht=e.touchData.startPosition=[null,null,null,null,null,null],wt=0;wt<ae.length;wt++)Ht[wt]=le[wt]=ae[wt];var Lt=L.touches[0];e.touchData.startGPosition=[Lt.clientX,Lt.clientY]}}},!1);var Z;e.registerBinding(t,"touchmove",Z=function(L){var Q=e.touchData.capture;if(!(!Q&&!A(L))){var ae=e.selection,le=e.cy,he=e.touchData.now,_e=e.touchData.earlier,ge=le.zoom();if(L.touches[0]){var Pe=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);he[0]=Pe[0],he[1]=Pe[1]}if(L.touches[1]){var Pe=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);he[2]=Pe[0],he[3]=Pe[1]}if(L.touches[2]){var Pe=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);he[4]=Pe[0],he[5]=Pe[1]}var ke=function(Zw){return{originalEvent:L,type:Zw,position:{x:he[0],y:he[1]}}},Te=e.touchData.startGPosition,Ge;if(Q&&L.touches[0]&&Te){for(var Ye=[],Le=0;Le<he.length;Le++)Ye[Le]=he[Le]-_e[Le];var Ke=L.touches[0].clientX-Te[0],je=Ke*Ke,Et=L.touches[0].clientY-Te[1],xt=Et*Et,Ht=je+xt;Ge=Ht>=e.touchTapThreshold2}if(Q&&e.touchData.cxt){L.preventDefault();var wt=L.touches[0].clientX-G,Lt=L.touches[0].clientY-K,nt=L.touches[1].clientX-G,kt=L.touches[1].clientY-K,jr=q(wt,Lt,nt,kt),Tt=jr/ce,Rr=150,Ir=Rr*Rr,Jt=1.5,Mi=Jt*Jt;if(Tt>=Mi||jr>=Ir){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var ln=ke("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(ln),e.touchData.start=null):le.emit(ln)}}if(Q&&e.touchData.cxt){var ln=ke("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(ln):le.emit(ln),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Kt=e.findNearestElement(he[0],he[1],!0,!0);(!e.touchData.cxtOver||Kt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(ke("cxtdragout")),e.touchData.cxtOver=Kt,Kt&&Kt.emit(ke("cxtdragover")))}else if(Q&&L.touches[2]&&le.boxSelectionEnabled())L.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||le.emit(ke("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,ae[4]=1,!ae||ae.length===0||ae[0]===void 0?(ae[0]=(he[0]+he[2]+he[4])/3,ae[1]=(he[1]+he[3]+he[5])/3,ae[2]=(he[0]+he[2]+he[4])/3+1,ae[3]=(he[1]+he[3]+he[5])/3+1):(ae[2]=(he[0]+he[2]+he[4])/3,ae[3]=(he[1]+he[3]+he[5])/3),e.redrawHint("select",!0),e.redraw();else if(Q&&L.touches[1]&&!e.touchData.didSelect&&le.zoomingEnabled()&&le.panningEnabled()&&le.userZoomingEnabled()&&le.userPanningEnabled()){L.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Rt=e.dragData.touchDragEles;if(Rt){e.redrawHint("drag",!0);for(var er=0;er<Rt.length;er++){var De=Rt[er]._private;De.grabbed=!1,De.rscratch.inDragLayer=!1}}var Y=e.touchData.start,wt=L.touches[0].clientX-G,Lt=L.touches[0].clientY-K,nt=L.touches[1].clientX-G,kt=L.touches[1].clientY-K,ye=ee(wt,Lt,nt,kt),Me=ye/oe;if(V){var st=wt-W,Wt=Lt-X,It=nt-ie,tr=kt-j,Nr=(st+It)/2,Pi=(Wt+tr)/2,Bt=le.zoom(),va=Bt*Me,Fi=le.pan(),ep=se[0]*Bt+Fi.x,tp=se[1]*Bt+Fi.y,jw={x:-va/Bt*(ep-Fi.x-Nr)+ep,y:-va/Bt*(tp-Fi.y-Pi)+tp};if(Y&&Y.active()){var Rt=e.dragData.touchDragEles;m(Rt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Y.unactivate().emit(ke("freeon")),Rt.emit(ke("free")),e.dragData.didDrag&&(Y.emit(ke("dragfreeon")),Rt.emit(ke("dragfree")))}le.viewport({zoom:va,pan:jw,cancelOnFailedZoom:!0}),le.emit(ke("pinchzoom")),oe=ye,W=wt,X=Lt,ie=nt,j=kt,e.pinching=!0}if(L.touches[0]){var Pe=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);he[0]=Pe[0],he[1]=Pe[1]}if(L.touches[1]){var Pe=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);he[2]=Pe[0],he[3]=Pe[1]}if(L.touches[2]){var Pe=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);he[4]=Pe[0],he[5]=Pe[1]}}else if(L.touches[0]&&!e.touchData.didSelect){var Xr=e.touchData.start,kc=e.touchData.last,Kt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Kt=e.findNearestElement(he[0],he[1],!0,!0)),Q&&Xr!=null&&L.preventDefault(),Q&&Xr!=null&&e.nodeIsDraggable(Xr))if(Ge){var Rt=e.dragData.touchDragEles,rp=!e.dragData.didDrag;rp&&y(Rt,{inDragLayer:!0}),e.dragData.didDrag=!0;var go={x:0,y:0};if(be(Ye[0])&&be(Ye[1])&&(go.x+=Ye[0],go.y+=Ye[1],rp)){e.redrawHint("eles",!0);var Zr=e.touchData.dragDelta;Zr&&be(Zr[0])&&be(Zr[1])&&(go.x+=Zr[0],go.y+=Zr[1])}e.hoverData.draggingEles=!0,Rt.silentShift(go).emit(ke("position")).emit(ke("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==_e[0]&&e.touchData.startPosition[1]==_e[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Zr=e.touchData.dragDelta=e.touchData.dragDelta||[];Zr.length===0?(Zr.push(Ye[0]),Zr.push(Ye[1])):(Zr[0]+=Ye[0],Zr[1]+=Ye[1])}if(i(Xr||Kt,["touchmove","tapdrag","vmousemove"],L,{x:he[0],y:he[1]}),(!Xr||!Xr.grabbed())&&Kt!=kc&&(kc&&kc.emit(ke("tapdragout")),Kt&&Kt.emit(ke("tapdragover"))),e.touchData.last=Kt,Q)for(var er=0;er<he.length;er++)he[er]&&e.touchData.startPosition[er]&&Ge&&(e.touchData.singleTouchMoved=!0);if(Q&&(Xr==null||Xr.pannable())&&le.panningEnabled()&&le.userPanningEnabled()){var Xw=o(Xr,e.touchData.starts);Xw&&(L.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Ba(e.touchData.startPosition)),e.swipePanning?(le.panBy({x:Ye[0]*ge,y:Ye[1]*ge}),le.emit(ke("dragpan"))):Ge&&(e.swipePanning=!0,le.panBy({x:Ke*ge,y:Et*ge}),le.emit(ke("dragpan")),Xr&&(Xr.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Pe=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);he[0]=Pe[0],he[1]=Pe[1]}}for(var Le=0;Le<he.length;Le++)_e[Le]=he[Le];Q&&L.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var ne;e.registerBinding(t,"touchcancel",ne=function(L){var Q=e.touchData.start;e.touchData.capture=!1,Q&&Q.unactivate()});var te,re,ve,fe;if(e.registerBinding(t,"touchend",te=function(L){var Q=e.touchData.start,ae=e.touchData.capture;if(ae)L.touches.length===0&&(e.touchData.capture=!1),L.preventDefault();else return;var le=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var he=e.cy,_e=he.zoom(),ge=e.touchData.now,Pe=e.touchData.earlier;if(L.touches[0]){var ke=e.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ge[0]=ke[0],ge[1]=ke[1]}if(L.touches[1]){var ke=e.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ge[2]=ke[0],ge[3]=ke[1]}if(L.touches[2]){var ke=e.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ge[4]=ke[0],ge[5]=ke[1]}var Te=function(Ir){return{originalEvent:L,type:Ir,position:{x:ge[0],y:ge[1]}}};Q&&Q.unactivate();var Ge;if(e.touchData.cxt){if(Ge=Te("cxttapend"),Q?Q.emit(Ge):he.emit(Ge),!e.touchData.cxtDragged){var Ye=Te("cxttap");Q?Q.emit(Ye):he.emit(Ye)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!L.touches[2]&&he.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Le=he.collection(e.getAllInBox(le[0],le[1],le[2],le[3]));le[0]=void 0,le[1]=void 0,le[2]=void 0,le[3]=void 0,le[4]=0,e.redrawHint("select",!0),he.emit(Te("boxend"));var Ke=function(Ir){return Ir.selectable()&&!Ir.selected()};Le.emit(Te("box")).stdFilter(Ke).select().emit(Te("boxselect")),Le.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(Q!=null&&Q.unactivate(),L.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!L.touches[1]){if(!L.touches[0]){if(!L.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var je=e.dragData.touchDragEles;if(Q!=null){var Et=Q._private.grabbed;m(je),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Et&&(Q.emit(Te("freeon")),je.emit(Te("free")),e.dragData.didDrag&&(Q.emit(Te("dragfreeon")),je.emit(Te("dragfree")))),i(Q,["touchend","tapend","vmouseup","tapdragout"],L,{x:ge[0],y:ge[1]}),Q.unactivate(),e.touchData.start=null}else{var xt=e.findNearestElement(ge[0],ge[1],!0,!0);i(xt,["touchend","tapend","vmouseup","tapdragout"],L,{x:ge[0],y:ge[1]})}var Ht=e.touchData.startPosition[0]-ge[0],wt=Ht*Ht,Lt=e.touchData.startPosition[1]-ge[1],nt=Lt*Lt,kt=wt+nt,jr=kt*_e*_e;e.touchData.singleTouchMoved||(Q||he.$(":selected").unselect(["tapunselect"]),i(Q,["tap","vclick"],L,{x:ge[0],y:ge[1]}),re=!1,L.timeStamp-fe<=he.multiClickDebounceTime()?(ve&&clearTimeout(ve),re=!0,fe=null,i(Q,["dbltap","vdblclick"],L,{x:ge[0],y:ge[1]})):(ve=setTimeout(function(){re||i(Q,["onetap","voneclick"],L,{x:ge[0],y:ge[1]})},he.multiClickDebounceTime()),fe=L.timeStamp)),Q!=null&&!e.dragData.didDrag&&Q._private.selectable&&jr<e.touchTapThreshold2&&!e.pinching&&(he.selectionType()==="single"?(he.$(r).unmerge(Q).unselect(["tapunselect"]),Q.select(["tapselect"])):Q.selected()?Q.unselect(["tapunselect"]):Q.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var Tt=0;Tt<ge.length;Tt++)Pe[Tt]=ge[Tt];e.dragData.didDrag=!1,L.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),L.touches.length<2&&(L.touches.length===1&&(e.touchData.startGPosition=[L.touches[0].clientX,L.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var pe=[],me=function(L){return{clientX:L.clientX,clientY:L.clientY,force:1,identifier:L.pointerId,pageX:L.pageX,pageY:L.pageY,radiusX:L.width/2,radiusY:L.height/2,screenX:L.screenX,screenY:L.screenY,target:L.target}},we=function(L){return{event:L,touch:me(L)}},Fe=function(L){pe.push(we(L))},Be=function(L){for(var Q=0;Q<pe.length;Q++){var ae=pe[Q];if(ae.event.pointerId===L.pointerId){pe.splice(Q,1);return}}},We=function(L){var Q=pe.filter(function(ae){return ae.event.pointerId===L.pointerId})[0];Q.event=L,Q.touch=me(L)},Se=function(L){L.touches=pe.map(function(Q){return Q.touch})},xe=function(L){return L.pointerType==="mouse"||L.pointerType===4};e.registerBinding(e.container,"pointerdown",function(ue){xe(ue)||(ue.preventDefault(),Fe(ue),Se(ue),H(ue))}),e.registerBinding(e.container,"pointerup",function(ue){xe(ue)||(Be(ue),Se(ue),te(ue))}),e.registerBinding(e.container,"pointercancel",function(ue){xe(ue)||(Be(ue),Se(ue),ne(ue))}),e.registerBinding(e.container,"pointermove",function(ue){xe(ue)||(ue.preventDefault(),We(ue),Se(ue),Z(ue))})}};var Xn={};Xn.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,i,a,o,s,l){this.renderer.nodeShapeImpl("polygon",n,i,a,o,s,this.points)},intersectLine:function(n,i,a,o,s,l,u,c){return Cs(s,l,this.points,n,i,a/2,o/2,u)},checkPoint:function(n,i,a,o,s,l,u,c){return Yn(n,i,this.points,l,u,o,s,[0,-1],a)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,i,a,o,s,l){return aN(this.points,n,i,a,o,s)}}};Xn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a)},intersectLine:function(t,r,n,i,a,o,s,l){return dN(a,o,t,r,n/2+s,i/2+s)},checkPoint:function(t,r,n,i,a,o,s,l){return ji(t,r,i,a,o,s,n)}}};Xn.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,i,a,o,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var c=a/2,h=o/2;s=s==="auto"?kC(a,o):s;for(var f=new Array(t.length/2),d=0;d<t.length/2;d++)f[d]={x:n+c*t[d*2],y:i+h*t[d*2+1]};var v,y,p,m,g=f.length;for(y=f[g-1],v=0;v<g;v++)p=f[v%g],m=f[(v+1)%g],l[u][v]=Xv(y,p,m,s),y=p,p=m;return l[u]},draw:function(n,i,a,o,s,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,o,s,this.points,this.getOrCreateCorners(i,a,o,s,l,u,"drawCorners"))},intersectLine:function(n,i,a,o,s,l,u,c,h){return pN(s,l,this.points,n,i,a,o,u,this.getOrCreateCorners(n,i,a,o,c,h,"corners"))},checkPoint:function(n,i,a,o,s,l,u,c,h){return fN(n,i,this.points,l,u,o,s,this.getOrCreateCorners(l,u,o,s,c,h,"corners"))}}};Xn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:dr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,this.points,o)},intersectLine:function(t,r,n,i,a,o,s,l){return SC(a,o,t,r,n,i,s,l)},checkPoint:function(t,r,n,i,a,o,s,l){var u=i/2,c=a/2;l=l==="auto"?xi(i,a):l,l=Math.min(u,c,l);var h=l*2;return!!(Yn(t,r,this.points,o,s,i,a-h,[0,-1],n)||Yn(t,r,this.points,o,s,i-h,a,[0,-1],n)||ji(t,r,h,h,o-u+l,s-c+l,n)||ji(t,r,h,h,o+u-l,s-c+l,n)||ji(t,r,h,h,o+u-l,s+c-l,n)||ji(t,r,h,h,o-u+l,s+c-l,n))}}};Xn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:zv(),points:dr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,null,o)},generateCutTrianglePts:function(t,r,n,i,a){var o=a==="auto"?this.cornerLength:a,s=r/2,l=t/2,u=n-l,c=n+l,h=i-s,f=i+s;return{topLeft:[u,h+o,u+o,h,u+o,h+o],topRight:[c-o,h,c,h+o,c-o,h+o],bottomRight:[c,f-o,c-o,f,c-o,f-o],bottomLeft:[u+o,f,u,f-o,u+o,f-o]}},intersectLine:function(t,r,n,i,a,o,s,l){var u=this.generateCutTrianglePts(n+2*s,i+2*s,t,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Cs(a,o,c,t,r)},checkPoint:function(t,r,n,i,a,o,s,l){var u=l==="auto"?this.cornerLength:l;if(Yn(t,r,this.points,o,s,i,a-2*u,[0,-1],n)||Yn(t,r,this.points,o,s,i-2*u,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,o,s);return kr(t,r,c.topLeft)||kr(t,r,c.topRight)||kr(t,r,c.bottomRight)||kr(t,r,c.bottomLeft)}}};Xn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:dr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a)},intersectLine:function(t,r,n,i,a,o,s,l){var u=.15,c=.5,h=.85,f=this.generateBarrelBezierPts(n+2*s,i+2*s,t,r),d=function(p){var m=$a({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},u),g=$a({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},c),b=$a({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},h);return[p[0],p[1],m.x,m.y,g.x,g.y,b.x,b.y,p[4],p[5]]},v=[].concat(d(f.topLeft),d(f.topRight),d(f.bottomRight),d(f.bottomLeft));return Cs(a,o,v,t,r)},generateBarrelBezierPts:function(t,r,n,i){var a=r/2,o=t/2,s=n-o,l=n+o,u=i-a,c=i+a,h=vd(t,r),f=h.heightOffset,d=h.widthOffset,v=h.ctrlPtOffsetPct*t,y={topLeft:[s,u+f,s+v,u,s+d,u],topRight:[l-d,u,l-v,u,l,u+f],bottomRight:[l,c-f,l-v,c,l-d,c],bottomLeft:[s+d,c,s+v,c,s,c-f]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(t,r,n,i,a,o,s,l){var u=vd(i,a),c=u.heightOffset,h=u.widthOffset;if(Yn(t,r,this.points,o,s,i,a-2*c,[0,-1],n)||Yn(t,r,this.points,o,s,i-2*h,a,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(i,a,o,s),d=function(S,k,A){var E=A[4],B=A[2],D=A[0],O=A[5],R=A[1],P=Math.min(E,D),M=Math.max(E,D),I=Math.min(O,R),$=Math.max(O,R);if(P<=S&&S<=M&&I<=k&&k<=$){var U=gN(E,B,D),z=lN(U[0],U[1],U[2],S),W=z.filter(function(X){return 0<=X&&X<=1});if(W.length>0)return W[0]}return null},v=Object.keys(f),y=0;y<v.length;y++){var p=v[y],m=f[p],g=d(t,r,m);if(g!=null){var b=m[5],x=m[3],w=m[1],T=Ut(b,x,w,g);if(m.isTop&&T<=r||m.isBottom&&r<=T)return!0}}return!1}}};Xn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:dr(4,0),draw:function(t,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,t,r,n,i,a,this.points,o)},intersectLine:function(t,r,n,i,a,o,s,l){var u=t-(n/2+s),c=r-(i/2+s),h=c,f=t+(n/2+s),d=ci(a,o,t,r,u,c,f,h,!1);return d.length>0?d:SC(a,o,t,r,n,i,s,l)},checkPoint:function(t,r,n,i,a,o,s,l){l=l==="auto"?xi(i,a):l;var u=2*l;if(Yn(t,r,this.points,o,s,i,a-u,[0,-1],n)||Yn(t,r,this.points,o,s,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,h=a/2+2*n,f=[o-c,s-h,o-c,s,o+c,s,o+c,s-h];return!!(kr(t,r,f)||ji(t,r,u,u,o+i/2-l,s+a/2-l,n)||ji(t,r,u,u,o-i/2+l,s+a/2-l,n))}}};Xn.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",dr(3,0)),this.generateRoundPolygon("round-triangle",dr(3,0)),this.generatePolygon("rectangle",dr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",dr(5,0)),this.generateRoundPolygon("round-pentagon",dr(5,0)),this.generatePolygon("hexagon",dr(6,0)),this.generateRoundPolygon("round-hexagon",dr(6,0)),this.generatePolygon("heptagon",dr(7,0)),this.generateRoundPolygon("round-heptagon",dr(7,0)),this.generatePolygon("octagon",dr(8,0)),this.generateRoundPolygon("round-octagon",dr(8,0));var n=new Array(20);{var i=dd(5,0),a=dd(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=a[s*2],n[s*4+3]=a[s*2+1]}n=EC(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}e.makePolygon=function(u){var c=u.join("$"),h="polygon-"+c,f;return(f=this[h])?f:t.generatePolygon(h,u)}};var Ys={};Ys.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Ys.redraw=function(e){e=e||CC();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};Ys.beforeRender=function(e,t){if(!this.destroyed){t==null&&Ct("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,i){return i.priority-n.priority})}};var h0=function(t,r,n){for(var i=t.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};Ys.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){h0(e,!0,i);var a=Gn();e.render(e.renderOptions);var o=e.lastDrawTime=Gn();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=o-a;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else h0(e,!1,i);e.skipFrame=!1,_u(r)}};_u(r)}};var Mz=function(t){this.init(t)},kw=Mz,po=kw.prototype;po.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];po.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=i.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=i.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=n.getComputedStyle(r),h=c.getPropertyValue("position");h==="static"&&ot("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=be(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};po.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};po.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};po.isHeadless=function(){return!1};[jv,Sw,Ew,vo,Xn,Ys].forEach(function(e){Ve(po,e)});var _f=1e3/60,Aw={setupDequeueing:function(t){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=Vs(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold),o=function(u,c){var h=Gn(),f=i.averageRedrawTime,d=i.lastRedrawTime,v=[],y=i.cy.extent(),p=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var m=Gn(),g=m-h,b=m-c;if(d<_f){var x=_f-(u?f:0);if(b>=t.deqFastCost*x)break}else if(u){if(g>=t.deqCost*d||g>=t.deqAvgCost*f)break}else if(b>=t.deqNoDrawCost*_f)break;var w=t.deq(n,p,y);if(w.length>0)for(var T=0;T<w.length;T++)v.push(w[T]);else break}v.length>0&&(t.onDeqd(n,v),!u&&t.shouldRedraw(n,v,p,y)&&a())},s=t.priority||Fv;i.beforeRender(o,s(n))}}}},Pz=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Su;ki(this,e),this.idsByKey=new $n,this.keyForId=new $n,this.cachesByLvl=new $n,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return Ai(e,[{key:"getIdsFor",value:function(r){r==null&&Ct("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new uo,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new $n,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])})(),f0=25,gl=50,Hl=-4,kd=3,Bw=7.99,Fz=8,Oz=1024,Rz=1024,Iz=1024,Nz=.2,zz=.8,$z=10,qz=.15,Vz=.1,Hz=.9,Wz=.9,Uz=100,Gz=1,Da={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Yz=Zt({getKey:null,doesEleInvalidateKey:Su,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:yC,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),$o=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var i=Yz(r);Ve(n,i),n.lookup=new Pz(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Vt=$o.prototype;Vt.reasons=Da;Vt.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Vt.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Vt.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Hs(function(r,n){return n.reqs-r.reqs});return t};Vt.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Vt.getElement=function(e,t,r,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(Rv(s*r))),n<Hl)n=Hl;else if(s>=Bw||n>kd)return null;var u=Math.pow(2,n),c=t.h*u,h=t.w*u,f=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,f))return null;var d=l.get(e,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=f0?v=f0:c<=gl?v=gl:v=Math.ceil(c/gl)*gl,c>Iz||h>Rz)return null;var y=a.getTextureQueue(v),p=y[y.length-2],m=function(){return a.recycleTexture(v,h)||a.addTexture(v,h)};p||(p=y[y.length-1]),p||(p=m()),p.width-p.usedWidth<h&&(p=m());for(var g=function(P){return P&&P.scaledLabelShown===f},b=i&&i===Da.dequeue,x=i&&i===Da.highQuality,w=i&&i===Da.downscale,T,C=n+1;C<=kd;C++){var S=l.get(e,C);if(S){T=S;break}}var k=T&&T.level===n+1?T:null,A=function(){p.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,p.usedWidth,0,h,c)};if(p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(p.usedWidth,0,h,v),g(k))A();else if(g(T))if(x){for(var E=T.level;E>n;E--)k=a.getElement(e,t,r,E,Da.downscale);A()}else return a.queueElement(e,T.level-1),T;else{var B;if(!b&&!x&&!w)for(var D=n-1;D>=Hl;D--){var O=l.get(e,D);if(O){B=O;break}}if(g(B))return a.queueElement(e,n),B;p.context.translate(p.usedWidth,0),p.context.scale(u,u),this.drawElement(p.context,e,t,f,!1),p.context.scale(1/u,1/u),p.context.translate(-p.usedWidth,0)}return d={x:p.usedWidth,texture:p,level:n,scale:u,width:h,height:c,scaledLabelShown:f},p.usedWidth+=Math.ceil(h+Fz),p.eleCaches.push(d),l.set(e,n,d),a.checkTextureFullness(p),d};Vt.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Vt.invalidateElement=function(e){var t=this,r=t.lookup,n=[],i=r.isInvalid(e);if(i){for(var a=Hl;a<=kd;a++){var o=r.getForCachedKey(e,a);o&&n.push(o)}var s=r.invalidate(e);if(s)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}};Vt.checkTextureUtility=function(e){e.invalidatedWidth>=Nz*e.width&&this.retireTexture(e)};Vt.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>zz&&e.fullnessChecks>=$z?bi(r,e):e.fullnessChecks++};Vt.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),i=this.lookup;bi(n,e),e.retired=!0;for(var a=e.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}Ov(a);var l=t.getRetiredTextureQueue(r);l.push(e)};Vt.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};return n.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(Oz,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Vt.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),i=r.getRetiredTextureQueue(e),a=0;a<i.length;a++){var o=i[a];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Ov(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),bi(i,o),n.push(o),o}};Vt.queueElement=function(e,t){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(e),o=i[a];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(s),i[a]=s}};Vt.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,o=0;o<Gz&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=a.hasCache(u,s.level);if(n[l]=null,c)continue;i.push(s);var h=t.getBoundingBox(u);t.getElement(u,h,e,s.level,Da.dequeue)}return i};Vt.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=this.getKey(e),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=Pv,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(e))};Vt.onDequeue=function(e){this.onDequeues.push(e)};Vt.offDequeue=function(e){bi(this.onDequeues,e)};Vt.setupDequeueing=Aw.setupDequeueing({deqRedrawThreshold:Uz,deqCost:qz,deqAvgCost:Vz,deqNoDrawCost:Hz,deqFastCost:Wz,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var i=t.onDequeues[n];i(r)}},shouldRedraw:function(t,r,n,i){for(var a=0;a<r.length;a++)for(var o=r[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(Nv(l,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Kz=1,ts=-4,Pu=2,jz=3.99,Xz=50,Zz=50,Qz=.15,Jz=.1,e$=.9,t$=.9,r$=1,d0=250,n$=4e3*4e3,v0=32767,i$=!0,Lw=function(t){var r=this,n=r.renderer=t,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Gn()-2*d0,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=Vs(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Zz),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=d0?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};r.layersQueue=new Hs(a),r.setupDequeueing()},Qt=Lw.prototype,p0=0,a$=Math.pow(2,53)-1;Qt.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:p0=++p0%a$,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};Qt.getLayers=function(e,t,r){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Rv(o*t)),r<ts)r=ts;else if(o>=jz||r>Pu)return null}n.validateLayersElesOrdering(r,e);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],h,f=n.levelIsComplete(r,e),d,v=function(){var A=function(R){if(n.validateLayersElesOrdering(R,e),n.levelIsComplete(R,e))return d=l[R],!0},E=function(R){if(!d)for(var P=r+R;ts<=P&&P<=Pu&&!A(P);P+=R);};E(1),E(-1);for(var B=c.length-1;B>=0;B--){var D=c[B];D.invalid&&bi(c,D)}};if(!f)v();else return c;var y=function(){if(!h){h=wr();for(var A=0;A<e.length;A++)rN(h,e[A].boundingBox())}return h},p=function(A){A=A||{};var E=A.after;y();var B=Math.ceil(h.w*u),D=Math.ceil(h.h*u);if(B>v0||D>v0)return null;var O=B*D;if(O>n$)return null;var R=n.makeLayer(h,r);if(E!=null){var P=c.indexOf(E)+1;c.splice(P,0,R)}else(A.insert===void 0||A.insert)&&c.unshift(R);return R};if(n.skipping&&!s)return null;for(var m=null,g=e.length/Kz,b=!s,x=0;x<e.length;x++){var w=e[x],T=w._private.rscratch,C=T.imgLayerCaches=T.imgLayerCaches||{},S=C[r];if(S){m=S;continue}if((!m||m.eles.length>=g||!_C(m.bb,w.boundingBox()))&&(m=p({insert:!0,after:m}),!m))return null;d||b?n.queueLayer(m,w):n.drawEleInLayer(m,w,r,t),m.eles.push(w),C[r]=m}return d||(b?null:c)};Qt.getEleLevelForLayerLevel=function(e,t){return e};Qt.drawEleInLayer=function(e,t,r,n){var i=this,a=this.renderer,o=e.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,t,null,null,r,i$),a.setImgSmoothing(o,!0))};Qt.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===t.length};Qt.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}};Qt.updateElementsInLayers=function(e,t){for(var r=this,n=Ns(e[0]),i=0;i<e.length;i++)for(var a=n?null:e[i],o=n?e[i]:e[i].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=ts;u<=Pu;u++){var c=l[u];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||t(c,o,a))}};Qt.haveLayers=function(){for(var e=this,t=!1,r=ts;r<=Pu;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};Qt.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Gn(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,i,a){t.invalidateLayer(n)}))};Qt.invalidateLayer=function(e){if(this.lastInvalidationTime=Gn(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];bi(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}};Qt.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};Qt.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Qt.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};Qt.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<r$&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return n};Qt.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var a=0;a<e.eles.length;a++){var o=e.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};Qt.requestRedraw=Vs(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Qt.setupDequeueing=Aw.setupDequeueing({deqRedrawThreshold:Xz,deqCost:Qz,deqAvgCost:Jz,deqNoDrawCost:e$,deqFastCost:t$,deq:function(t,r){return t.dequeue(r)},onDeqd:Fv,shouldRedraw:yC,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Dw={},g0;function o$(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function s$(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];i===0&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function m0(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function l$(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,Math.PI*2,!1);var a=t,o=a[0];e.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function u$(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}Dw.arrowShapeImpl=function(e){return(g0||(g0={polygon:o$,"triangle-backcurve":s$,"triangle-tee":m0,"circle-triangle":l$,"triangle-cross":m0,circle:u$}))[e]};var Bn={};Bn.drawElement=function(e,t,r,n,i,a){var o=this;t.isNode()?o.drawNode(e,t,r,n,i,a):o.drawEdge(e,t,r,n,i,a)};Bn.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};Bn.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};Bn.drawCachedElementPortion=function(e,t,r,n,i,a,o,s){var l=this,u=r.getBoundingBox(t);if(!(u.w===0||u.h===0)){var c=r.getElement(t,u,n,i,a);if(c!=null){var h=s(l,t);if(h===0)return;var f=o(l,t),d=u.x1,v=u.y1,y=u.w,p=u.h,m,g,b,x,w;if(f!==0){var T=r.getRotationPoint(t);b=T.x,x=T.y,e.translate(b,x),e.rotate(f),w=l.getImgSmoothing(e),w||l.setImgSmoothing(e,!0);var C=r.getRotationOffset(t);m=C.x,g=C.y}else m=d,g=v;var S;h!==1&&(S=e.globalAlpha,e.globalAlpha=S*h),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,m,g,y,p),h!==1&&(e.globalAlpha=S),f!==0&&(e.rotate(-f),e.translate(-b,-x),w||l.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var c$=function(){return 0},h$=function(t,r){return t.getTextAngle(r,null)},f$=function(t,r){return t.getTextAngle(r,"source")},d$=function(t,r){return t.getTextAngle(r,"target")},v$=function(t,r){return r.effectiveOpacity()},Sf=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Bn.drawCachedElement=function(e,t,r,n,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,f=t.boundingBox(),d=a===!0?l.reasons.highQuality:null;if(!(f.w===0||f.h===0||!t.visible())&&(!n||Nv(f,n))){var v=t.isEdge(),y=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,r,i,d,c$,v$),(!v||!y)&&o.drawCachedElementPortion(e,t,u,r,i,d,h$,Sf),v&&!y&&(o.drawCachedElementPortion(e,t,c,r,i,d,f$,Sf),o.drawCachedElementPortion(e,t,h,r,i,d,d$,Sf)),o.drawElementOverlay(e,t)}};Bn.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];r.drawElement(e,i)}};Bn.drawCachedElements=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];i.drawCachedElement(e,o,r,n)}};Bn.drawCachedNodes=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];o.isNode()&&i.drawCachedElement(e,o,r,n)}};Bn.drawLayeredElements=function(e,t,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(t,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,r,n)};var Zn={};Zn.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(a&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,e.translate(-l.x1,-l.y1));var u=a?t.pstyle("opacity").value:1,c=a?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,v=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,p=t.pstyle("line-outline-color").value,m=u*c,g=u*c,b=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;h==="straight-triangle"?(o.eleStrokeStyle(e,t,R),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=d,e.lineCap=v,o.eleStrokeStyle(e,t,R),o.drawEdgePath(t,e,s.allpts,f),e.lineCap="butt")},x=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(e.lineWidth=d+y,e.lineCap=v,y>0)o.colorStrokeStyle(e,p[0],p[1],p[2],R);else{e.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,f),e.lineCap="butt")},w=function(){i&&o.drawEdgeOverlay(e,t)},T=function(){i&&o.drawEdgeUnderlay(e,t)},C=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;o.drawArrowheads(e,t,R)},S=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var k=t.pstyle("ghost").value==="yes";if(k){var A=t.pstyle("ghost-offset-x").pfValue,E=t.pstyle("ghost-offset-y").pfValue,B=t.pstyle("ghost-opacity").value,D=m*B;e.translate(A,E),b(D),C(D),e.translate(-A,-E)}else x();T(),b(),C(),w(),S(),r&&e.translate(l.x1,l.y1)}};var Mw=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(t,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(t,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(t,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,s.allpts,"solid")}}}};Zn.drawEdgeOverlay=Mw("overlay");Zn.drawEdgeUnderlay=Mw("underlay");Zn.drawEdgePath=function(e,t,r,n){var i=e._private.rscratch,a=t,o,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var h=r.join("$"),f=i.pathCacheKey&&i.pathCacheKey===h;f?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=h,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)t.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)t.lineTo(r[v],r[v+1]);break;case"segments":if(i.isRound){var y=Lr(i.roundCorners),p;try{for(y.s();!(p=y.n()).done;){var m=p.value;xw(t,m)}}catch(b){y.e(b)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var g=2;g+1<r.length;g+=2)t.lineTo(r[g],r[g+1]);break}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};Zn.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[i]-l[0],r[i+1]-l[1]),t.lineTo(r[i]+l[0],r[i+1]+l[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}};Zn.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Zn.drawArrowhead=function(e,t,r,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,l=t.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,f=t.pstyle(r+"-arrow-width"),d=f.value==="match-line"?h:f.pfValue;f.units==="%"&&(d*=h);var v=t.pstyle("opacity").value;o===void 0&&(o=v);var y=e.globalCompositeOperation;(o!==1||c==="hollow")&&(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,u,h,l,d,n,i,a),e.globalCompositeOperation=y);var p=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,p[0],p[1],p[2],o),s.colorStrokeStyle(e,p[0],p[1],p[2],o),s.drawArrowShape(t,e,c,h,l,d,n,i,a)}}};Zn.drawArrowShape=function(e,t,r,n,i,a,o,s,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",h=!1,f,d=t,v={x:o,y:s},y=e.pstyle("arrow-scale").value,p=this.getArrowWidth(n,y),m=u.arrowShapes[i];if(c){var g=u.arrowPathCache=u.arrowPathCache||[],b=ia(i),x=g[b];x!=null?(f=t=x,h=!0):(f=t=new Path2D,g[b]=f)}h||(t.beginPath&&t.beginPath(),c?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,p,l,v,n),t.closePath&&t.closePath()),t=d,c&&(t.translate(o,s),t.rotate(l),t.scale(p,p)),(r==="filled"||r==="both")&&(c?t.fill(f):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(c?p:1),t.lineJoin="miter",c?t.stroke(f):t.stroke()),c&&(t.scale(1/p,1/p),t.rotate(-l),t.translate(-o,-s))};var Qv={};Qv.safeDrawImage=function(e,t,r,n,i,a,o,s,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{e.drawImage(t,r,n,i,a,o,s,l,u)}catch(c){ot(c)}};Qv.drawInscribedImage=function(e,t,r,n,i){var a=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),h=c(r,"background-fit","value",n),f=c(r,"background-repeat","value",n),d=r.width(),v=r.height(),y=r.padding()*2,p=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),m=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),g=r._private.rscratch,b=c(r,"background-clip","value",n),x=b==="node",w=c(r,"background-image-opacity","value",n)*i,T=c(r,"background-image-smoothing","value",n),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var S=t.width||t.cachedW,k=t.height||t.cachedH;(S==null||k==null)&&(document.body.appendChild(t),S=t.cachedW=t.width||t.offsetWidth,k=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var A=S,E=k;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?A=c(r,"background-width","pfValue",n)*p:A=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?E=c(r,"background-height","pfValue",n)*m:E=c(r,"background-height","pfValue",n)),!(A===0||E===0)){if(h==="contain"){var B=Math.min(p/A,m/E);A*=B,E*=B}else if(h==="cover"){var B=Math.max(p/A,m/E);A*=B,E*=B}var D=s-p/2,O=c(r,"background-position-x","units",n),R=c(r,"background-position-x","pfValue",n);O==="%"?D+=(p-A)*R:D+=R;var P=c(r,"background-offset-x","units",n),M=c(r,"background-offset-x","pfValue",n);P==="%"?D+=(p-A)*M:D+=M;var I=l-m/2,$=c(r,"background-position-y","units",n),U=c(r,"background-position-y","pfValue",n);$==="%"?I+=(m-E)*U:I+=U;var z=c(r,"background-offset-y","units",n),W=c(r,"background-offset-y","pfValue",n);z==="%"?I+=(m-E)*W:I+=W,g.pathCache&&(D-=s,I-=l,s=0,l=0);var X=e.globalAlpha;e.globalAlpha=w;var ie=a.getImgSmoothing(e),j=!1;if(T==="no"&&ie?(a.setImgSmoothing(e,!1),j=!0):T==="yes"&&!ie&&(a.setImgSmoothing(e,!0),j=!0),f==="no-repeat")x&&(e.save(),g.pathCache?e.clip(g.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,p,m,C,g),e.clip())),a.safeDrawImage(e,t,0,0,S,k,D,I,A,E),x&&e.restore();else{var oe=e.createPattern(t,f);e.fillStyle=oe,a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,p,m,C,g),e.translate(D,I),e.fill(),e.translate(-D,-I)}e.globalAlpha=X,j&&a.setImgSmoothing(e,ie)}};var da={};da.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(Rv(r*n));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};da.drawElementText=function(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),h=t.pstyle("source-label"),f=t.pstyle("target-label");if(u||(!c||!c.value)&&(!h||!h.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var d=!r,v;r&&(v=r,e.translate(-v.x1,-v.y1)),i==null?(o.drawText(e,t,null,d,a),t.isEdge()&&(o.drawText(e,t,"source",d,a),o.drawText(e,t,"target",d,a))):o.drawText(e,t,i,d,a),r&&e.translate(v.x1,v.y1)};da.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};da.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)};function p$(e,t,r,n,i){var a=Math.min(n,i),o=a/2,s=t+n/2,l=r+i/2;e.beginPath(),e.arc(s,l,o,0,Math.PI*2),e.closePath()}function y0(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(a,n/2,i/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}da.getTextAngle=function(e,t){var r,n=e._private,i=n.rscratch,a=t?t+"-":"",o=e.pstyle(a+"text-rotation");if(o.strValue==="autorotate"){var s=Er(i,"labelAngle",t);r=e.isEdge()?s:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};da.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,o=a.rscratch,s=i?t.effectiveOpacity():1;if(!(i&&(s===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=Er(o,"labelX",r),u=Er(o,"labelY",r),c,h,f=this.getLabelText(t,r);if(f!=null&&f!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t,i);var d=r?r+"-":"",v=Er(o,"labelWidth",r),y=Er(o,"labelHeight",r),p=t.pstyle(d+"text-margin-x").pfValue,m=t.pstyle(d+"text-margin-y").pfValue,g=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;g&&(b="center",x="center"),l+=p,u+=m;var w;switch(n?w=this.getTextAngle(t,r):w=0,w!==0&&(c=l,h=u,e.translate(c,h),e.rotate(w),l=0,u=0),x){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var T=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,S=t.pstyle("text-border-width").pfValue,k=t.pstyle("text-background-padding").pfValue,A=t.pstyle("text-background-shape").strValue,E=A==="round-rectangle"||A==="roundrectangle",B=A==="circle",D=2;if(T>0||S>0&&C>0){var O=e.fillStyle,R=e.strokeStyle,P=e.lineWidth,M=t.pstyle("text-background-color").value,I=t.pstyle("text-border-color").value,$=t.pstyle("text-border-style").value,U=T>0,z=S>0&&C>0,W=l-k;switch(b){case"left":W-=v;break;case"center":W-=v/2;break}var X=u-y-k,ie=v+2*k,j=y+2*k;if(U&&(e.fillStyle="rgba(".concat(M[0],",").concat(M[1],",").concat(M[2],",").concat(T*s,")")),z&&(e.strokeStyle="rgba(".concat(I[0],",").concat(I[1],",").concat(I[2],",").concat(C*s,")"),e.lineWidth=S,e.setLineDash))switch($){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=S/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(E?(e.beginPath(),y0(e,W,X,ie,j,D)):B?(e.beginPath(),p$(e,W,X,ie,j)):(e.beginPath(),e.rect(W,X,ie,j)),U&&e.fill(),z&&e.stroke(),z&&$==="double"){var oe=S/2;e.beginPath(),E?y0(e,W+oe,X+oe,ie-2*oe,j-2*oe,D):e.rect(W+oe,X+oe,ie-2*oe,j-2*oe),e.stroke()}e.fillStyle=O,e.strokeStyle=R,e.lineWidth=P,e.setLineDash&&e.setLineDash([])}var ce=2*t.pstyle("text-outline-width").pfValue;if(ce>0&&(e.lineWidth=ce),t.pstyle("text-wrap").value==="wrap"){var de=Er(o,"labelWrapCachedLines",r),se=Er(o,"labelLineHeight",r),G=v/2,K=this.getLabelJustification(t);switch(K==="auto"||(b==="left"?K==="left"?l+=-v:K==="center"&&(l+=-G):b==="center"?K==="left"?l+=-G:K==="right"&&(l+=G):b==="right"&&(K==="center"?l+=G:K==="right"&&(l+=v))),x){case"top":u-=(de.length-1)*se;break;case"center":case"bottom":u-=(de.length-1)*se;break}for(var _=0;_<de.length;_++)ce>0&&e.strokeText(de[_],l,u),e.fillText(de[_],l,u),u+=se}else ce>0&&e.strokeText(f,l,u),e.fillText(f,l,u);w!==0&&(e.rotate(-w),e.translate(-c,-h))}}};var Li={};Li.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=t._private,c=u.rscratch,h=t.position();if(!(!be(h.x)||!be(h.y))&&!(a&&!t.visible())){var f=a?t.effectiveOpacity():1,d=o.usePaths(),v,y=!1,p=t.padding();s=t.width()+2*p,l=t.height()+2*p;var m;r&&(m=r,e.translate(-m.x1,-m.y1));for(var g=t.pstyle("background-image"),b=g.value,x=new Array(b.length),w=new Array(b.length),T=0,C=0;C<b.length;C++){var S=b[C],k=x[C]=S!=null&&S!=="none";if(k){var A=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);T++,w[C]=o.getCachedImage(S,A,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var E=t.pstyle("background-blacken").value,B=t.pstyle("border-width").pfValue,D=t.pstyle("background-opacity").value*f,O=t.pstyle("border-color").value,R=t.pstyle("border-style").value,P=t.pstyle("border-join").value,M=t.pstyle("border-cap").value,I=t.pstyle("border-position").value,$=t.pstyle("border-dash-pattern").pfValue,U=t.pstyle("border-dash-offset").pfValue,z=t.pstyle("border-opacity").value*f,W=t.pstyle("outline-width").pfValue,X=t.pstyle("outline-color").value,ie=t.pstyle("outline-style").value,j=t.pstyle("outline-opacity").value*f,oe=t.pstyle("outline-offset").value,ce=t.pstyle("corner-radius").value;ce!=="auto"&&(ce=t.pstyle("corner-radius").pfValue);var de=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;o.eleFillStyle(e,t,xe)},se=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;o.colorStrokeStyle(e,O[0],O[1],O[2],xe)},G=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;o.colorStrokeStyle(e,X[0],X[1],X[2],xe)},K=function(xe,ue,L,Q){var ae=o.nodePathCache=o.nodePathCache||[],le=mC(L==="polygon"?L+","+Q.join(","):L,""+ue,""+xe,""+ce),he=ae[le],_e,ge=!1;return he!=null?(_e=he,ge=!0,c.pathCache=_e):(_e=new Path2D,ae[le]=c.pathCache=_e),{path:_e,cacheHit:ge}},_=t.pstyle("shape").strValue,F=t.pstyle("shape-polygon-points").pfValue;if(d){e.translate(h.x,h.y);var V=K(s,l,_,F);v=V.path,y=V.cacheHit}var ee=function(){if(!y){var xe=h;d&&(xe={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(v||e,xe.x,xe.y,s,l,ce,c)}d?e.fill(v):e.fill()},q=function(){for(var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=u.backgrounding,Q=0,ae=0;ae<w.length;ae++){var le=t.cy().style().getIndexedStyle(t,"background-image-containment","value",ae);if(ue&&le==="over"||!ue&&le==="inside"){Q++;continue}x[ae]&&w[ae].complete&&!w[ae].error&&(Q++,o.drawInscribedImage(e,w[ae],t,ae,xe))}u.backgrounding=Q!==T,L!==u.backgrounding&&t.updateStyle(!1)},H=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasPie(t)&&(o.drawPie(e,t,ue),xe&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ce,c)))},Z=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasStripe(t)&&(e.save(),d?e.clip(c.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ce,c),e.clip()),o.drawStripe(e,t,ue),e.restore(),xe&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,ce,c)))},ne=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ue=(E>0?E:-E)*xe,L=E>0?0:255;E!==0&&(o.colorFillStyle(e,L,L,L,ue),d?e.fill(v):e.fill())},te=function(){if(B>0){if(e.lineWidth=B,e.lineCap=M,e.lineJoin=P,e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash($),e.lineDashOffset=U;break;case"solid":case"double":e.setLineDash([]);break}if(I!=="center"){if(e.save(),e.lineWidth*=2,I==="inside")d?e.clip(v):e.clip();else{var xe=new Path2D;xe.rect(-s/2-B,-l/2-B,s+2*B,l+2*B),xe.addPath(v),e.clip(xe,"evenodd")}d?e.stroke(v):e.stroke(),e.restore()}else d?e.stroke(v):e.stroke();if(R==="double"){e.lineWidth=B/3;var ue=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(v):e.stroke(),e.globalCompositeOperation=ue}e.setLineDash&&e.setLineDash([])}},re=function(){if(W>0){if(e.lineWidth=W,e.lineCap="butt",e.setLineDash)switch(ie){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var xe=h;d&&(xe={x:0,y:0});var ue=o.getNodeShape(t),L=B;I==="inside"&&(L=0),I==="outside"&&(L*=2);var Q=(s+L+(W+oe))/s,ae=(l+L+(W+oe))/l,le=s*Q,he=l*ae,_e=o.nodeShapes[ue].points,ge;if(d){var Pe=K(le,he,ue,_e);ge=Pe.path}if(ue==="ellipse")o.drawEllipsePath(ge||e,xe.x,xe.y,le,he);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ue)){var ke=0,Te=0,Ge=0;ue==="round-diamond"?ke=(L+oe+W)*1.4:ue==="round-heptagon"?(ke=(L+oe+W)*1.075,Ge=-(L/2+oe+W)/35):ue==="round-hexagon"?ke=(L+oe+W)*1.12:ue==="round-pentagon"?(ke=(L+oe+W)*1.13,Ge=-(L/2+oe+W)/15):ue==="round-tag"?(ke=(L+oe+W)*1.12,Te=(L/2+W+oe)*.07):ue==="round-triangle"&&(ke=(L+oe+W)*(Math.PI/2),Ge=-(L+oe/2+W)/Math.PI),ke!==0&&(Q=(s+ke)/s,le=s*Q,["round-hexagon","round-tag"].includes(ue)||(ae=(l+ke)/l,he=l*ae)),ce=ce==="auto"?kC(le,he):ce;for(var Ye=le/2,Le=he/2,Ke=ce+(L+W+oe)/2,je=new Array(_e.length/2),Et=new Array(_e.length/2),xt=0;xt<_e.length/2;xt++)je[xt]={x:xe.x+Te+Ye*_e[xt*2],y:xe.y+Ge+Le*_e[xt*2+1]};var Ht,wt,Lt,nt,kt=je.length;for(wt=je[kt-1],Ht=0;Ht<kt;Ht++)Lt=je[Ht%kt],nt=je[(Ht+1)%kt],Et[Ht]=Xv(wt,Lt,nt,Ke),wt=Lt,Lt=nt;o.drawRoundPolygonPath(ge||e,xe.x+Te,xe.y+Ge,s*Q,l*ae,_e,Et)}else if(["roundrectangle","round-rectangle"].includes(ue))ce=ce==="auto"?xi(le,he):ce,o.drawRoundRectanglePath(ge||e,xe.x,xe.y,le,he,ce+(L+W+oe)/2);else if(["cutrectangle","cut-rectangle"].includes(ue))ce=ce==="auto"?zv():ce,o.drawCutRectanglePath(ge||e,xe.x,xe.y,le,he,null,ce+(L+W+oe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ue))ce=ce==="auto"?xi(le,he):ce,o.drawBottomRoundRectanglePath(ge||e,xe.x,xe.y,le,he,ce+(L+W+oe)/2);else if(ue==="barrel")o.drawBarrelPath(ge||e,xe.x,xe.y,le,he);else if(ue.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ue)){var jr=(L+W+oe)/s;_e=Eu(ku(_e,jr)),o.drawPolygonPath(ge||e,xe.x,xe.y,s,l,_e)}else{var Tt=(L+W+oe)/s;_e=Eu(ku(_e,-Tt)),o.drawPolygonPath(ge||e,xe.x,xe.y,s,l,_e)}if(d?e.stroke(ge):e.stroke(),ie==="double"){e.lineWidth=L/3;var Rr=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(ge):e.stroke(),e.globalCompositeOperation=Rr}e.setLineDash&&e.setLineDash([])}},ve=function(){i&&o.drawNodeOverlay(e,t,h,s,l)},fe=function(){i&&o.drawNodeUnderlay(e,t,h,s,l)},pe=function(){o.drawElementText(e,t,null,n)},me=t.pstyle("ghost").value==="yes";if(me){var we=t.pstyle("ghost-offset-x").pfValue,Fe=t.pstyle("ghost-offset-y").pfValue,Be=t.pstyle("ghost-opacity").value,We=Be*f;e.translate(we,Fe),G(),re(),de(Be*D),ee(),q(We,!0),se(Be*z),te(),H(E!==0||B!==0),Z(E!==0||B!==0),q(We,!1),ne(We),e.translate(-we,-Fe)}d&&e.translate(-h.x,-h.y),fe(),d&&e.translate(h.x,h.y),G(),re(),de(),ee(),q(f,!0),se(),te(),H(E!==0||B!==0),Z(E!==0||B!==0),q(f,!1),ne(),d&&e.translate(-h.x,-h.y),pe(),ve(),r&&e.translate(m.x1,m.y1)}};var Pw=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,i,a,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(t,"-padding")).pfValue,u=n.pstyle("".concat(t,"-opacity")).value,c=n.pstyle("".concat(t,"-color")).value,h=n.pstyle("".concat(t,"-shape")).value,f=n.pstyle("".concat(t,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||o==null){var d=n.padding();a=n.width()+2*d,o=n.height()+2*d}s.colorFillStyle(r,c[0],c[1],c[2],u),s.nodeShapes[h].draw(r,i.x,i.y,a+l*2,o+l*2,f),r.fill()}}}};Li.drawNodeOverlay=Pw("overlay");Li.drawNodeUnderlay=Pw("underlay");Li.hasPie=function(e){return e=e[0],e._private.hasPie};Li.hasStripe=function(e){return e=e[0],e._private.hasStripe};Li.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=t.pstyle("pie-hole"),s=t.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,c=t.width(),h=t.height(),f=Math.min(c,h)/2,d,v=0,y=this.usePaths();if(y&&(l=0,u=0),a.units==="%"?f=f*a.pfValue:a.pfValue!==void 0&&(f=a.pfValue/2),o.units==="%"?d=f*o.pfValue:o.pfValue!==void 0&&(d=o.pfValue/2),!(d>=f))for(var p=1;p<=i.pieBackgroundN;p++){var m=t.pstyle("pie-"+p+"-background-size").value,g=t.pstyle("pie-"+p+"-background-color").value,b=t.pstyle("pie-"+p+"-background-opacity").value*r,x=m/100;x+v>1&&(x=1-v);var w=1.5*Math.PI+2*Math.PI*v;w+=s;var T=2*Math.PI*x,C=w+T;m===0||v>=1||v+x>1||(d===0?(e.beginPath(),e.moveTo(l,u),e.arc(l,u,f,w,C),e.closePath()):(e.beginPath(),e.arc(l,u,f,w,C),e.arc(l,u,d,C,w,!0),e.closePath()),this.colorFillStyle(e,g[0],g[1],g[2],b),e.fill(),v+=x)}};Li.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=n.x,o=n.y,s=t.width(),l=t.height(),u=0,c=this.usePaths();e.save();var h=t.pstyle("stripe-direction").value,f=t.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var d=s,v=l;f.units==="%"?(d=d*f.pfValue,v=v*f.pfValue):f.pfValue!==void 0&&(d=f.pfValue,v=f.pfValue),c&&(a=0,o=0),o-=d/2,a-=v/2;for(var y=1;y<=i.stripeBackgroundN;y++){var p=t.pstyle("stripe-"+y+"-background-size").value,m=t.pstyle("stripe-"+y+"-background-color").value,g=t.pstyle("stripe-"+y+"-background-opacity").value*r,b=p/100;b+u>1&&(b=1-u),!(p===0||u>=1||u+b>1)&&(e.beginPath(),e.rect(a,o+v*u,d,v*b),e.closePath(),this.colorFillStyle(e,m[0],m[1],m[2],g),e.fill(),u+=b)}e.restore()};var Tr={},g$=100;Tr.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};Tr.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<t.length;i++)if(n=t[i],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};Tr.createGradientStyleFor=function(e,t,r,n,i){var a,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,l=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),h=r.midpoint(),f=aa(u,h),d=aa(c,h);a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(f,d))}else{var v=o?{x:0,y:0}:r.position(),y=r.paddedWidth(),p=r.paddedHeight();a=e.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(y,p))}else if(r.isEdge()){var m=r.sourceEndpoint(),g=r.targetEndpoint();a=e.createLinearGradient(m.x,m.y,g.x,g.y)}else{var b=o?{x:0,y:0}:r.position(),x=r.paddedWidth(),w=r.paddedHeight(),T=x/2,C=w/2,S=r.pstyle("background-gradient-direction").value;switch(S){case"to-bottom":a=e.createLinearGradient(b.x,b.y-C,b.x,b.y+C);break;case"to-top":a=e.createLinearGradient(b.x,b.y+C,b.x,b.y-C);break;case"to-left":a=e.createLinearGradient(b.x+T,b.y,b.x-T,b.y);break;case"to-right":a=e.createLinearGradient(b.x-T,b.y,b.x+T,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-T,b.y-C,b.x+T,b.y+C);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-T,b.y+C,b.x+T,b.y-C);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+T,b.y-C,b.x-T,b.y+C);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+T,b.y+C,b.x-T,b.y-C);break}}if(!a)return null;for(var k=l.length===s.length,A=s.length,E=0;E<A;E++)a.addColorStop(k?l[E]:E/(A-1),"rgba("+s[E][0]+","+s[E][1]+","+s[E][2]+","+i+")");return a};Tr.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i};Tr.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"};Tr.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}};Tr.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i};Tr.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"};Tr.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}};Tr.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=i*o,u=a*o,c;if(!(l===t.canvasWidth&&u===t.canvasHeight)){t.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)c=r.canvases[f],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var f=0;f<t.BUFFER_COUNT;f++)c=r.bufferCanvases[f],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,o<=1&&(c=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=l*t.textureMult,c.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u,t.pixelRatio=o}};Tr.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Tr.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};Tr.render=function(e){var t=this;e=e||CC();var r=t.cy,n=e.forcedContext,i=e.drawAllLayers,a=e.drawOnlyNodeLayer,o=e.forcedZoom,s=e.forcedPan,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=t.data,c=u.canvasNeedsRedraw,h=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),f=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,d=t.motionBlurPxRatio,v=r.hasCompoundNodes(),y=t.hoverData.draggingEles,p=!!(t.hoverData.selecting||t.touchData.selecting);f=f&&!n&&t.motionBlurEnabled&&!p;var m=f;n||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),f&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(m=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!h&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var g=r.style(),b=r.zoom(),x=o!==void 0?o:b,w=r.pan(),T={x:w.x,y:w.y},C={zoom:b,pan:{x:w.x,y:w.y}},S=t.prevViewport,k=S===void 0||C.zoom!==S.zoom||C.pan.x!==S.pan.x||C.pan.y!==S.pan.y;!k&&!(y&&!v)&&(t.motionBlurPxRatio=1),s&&(T=s),x*=l,T.x*=l,T.y*=l;var A=t.getCachedZSortedEles();function E(se,G,K,_,F){var V=se.globalCompositeOperation;se.globalCompositeOperation="destination-out",t.colorFillStyle(se,255,255,255,t.motionBlurTransparency),se.fillRect(G,K,_,F),se.globalCompositeOperation=V}function B(se,G){var K,_,F,V;!t.clearingMotionBlur&&(se===u.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||se===u.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(K={x:w.x*d,y:w.y*d},_=b*d,F=t.canvasWidth*d,V=t.canvasHeight*d):(K=T,_=x,F=t.canvasWidth,V=t.canvasHeight),se.setTransform(1,0,0,1,0,0),G==="motionBlur"?E(se,0,0,F,V):!n&&(G===void 0||G)&&se.clearRect(0,0,F,V),i||(se.translate(K.x,K.y),se.scale(_,_)),s&&se.translate(s.x,s.y),o&&se.scale(o,o)}if(h||(t.textureDrawLastFrame=!1),h){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var D=t.data.bufferContexts[t.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult});var C=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var O=u.contexts[t.NODE],R=t.textureCache.texture,C=t.textureCache.viewport;O.setTransform(1,0,0,1,0,0),f?E(O,0,0,C.width,C.height):O.clearRect(0,0,C.width,C.height);var P=g.core("outside-texture-bg-color").value,M=g.core("outside-texture-bg-opacity").value;t.colorFillStyle(O,P[0],P[1],P[2],M),O.fillRect(0,0,C.width,C.height);var b=r.zoom();B(O,!1),O.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l),O.drawImage(R,C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l)}else t.textureOnViewport&&!n&&(t.textureCache=null);var I=r.extent(),$=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),U=t.hideEdgesOnViewport&&$,z=[];if(z[t.NODE]=!c[t.NODE]&&f&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,z[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),z[t.DRAG]=!c[t.DRAG]&&f&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,z[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||i||a||z[t.NODE]){var W=f&&!z[t.NODE]&&d!==1,O=n||(W?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:u.contexts[t.NODE]),X=f&&!W?"motionBlur":void 0;B(O,X),U?t.drawCachedNodes(O,A.nondrag,l,I):t.drawLayeredElements(O,A.nondrag,l,I),t.debug&&t.drawDebugPoints(O,A.nondrag),!i&&!f&&(c[t.NODE]=!1)}if(!a&&(c[t.DRAG]||i||z[t.DRAG])){var W=f&&!z[t.DRAG]&&d!==1,O=n||(W?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:u.contexts[t.DRAG]);B(O,f&&!W?"motionBlur":void 0),U?t.drawCachedNodes(O,A.drag,l,I):t.drawCachedElements(O,A.drag,l,I),t.debug&&t.drawDebugPoints(O,A.drag),!i&&!f&&(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,B),f&&d!==1){var ie=u.contexts[t.NODE],j=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],oe=u.contexts[t.DRAG],ce=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],de=function(G,K,_){G.setTransform(1,0,0,1,0,0),_||!m?G.clearRect(0,0,t.canvasWidth,t.canvasHeight):E(G,0,0,t.canvasWidth,t.canvasHeight);var F=d;G.drawImage(K,0,0,t.canvasWidth*F,t.canvasHeight*F,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||z[t.NODE])&&(de(ie,j,z[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||z[t.DRAG])&&(de(oe,ce,z[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=C,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),f&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!h,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},g$)),n||r.emit("render")};var Lo;Tr.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,i=r.data,a=n.style(),o=e.drawOnlyNodeLayer,s=e.drawAllLayers,l=i.canvasNeedsRedraw,u=e.forcedContext;if(r.showFps||!o&&l[r.SELECT_BOX]&&!s){var c=u||i.contexts[r.SELECT_BOX];if(t(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),f=a.core("selection-box-border-width").value/h;c.lineWidth=f,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),f>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),d=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,a.core("active-bg-size").pfValue/h,0,2*Math.PI),c.fill()}var v=r.lastRedrawTime;if(r.showFps&&v){v=Math.round(v);var y=Math.round(1e3/v),p="1 frame = "+v+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Lo){var m=c.measureText(p);Lo=m.actualBoundingBoxAscent}c.fillText(p,0,Lo);var g=60;c.strokeRect(0,Lo+10,250,20),c.fillRect(0,Lo+10,250*Math.min(y/g,1),20)}s||(l[r.SELECT_BOX]=!1)}};function b0(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function m$(e,t,r){var n=b0(e,e.VERTEX_SHADER,t),i=b0(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function y$(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function Jv(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function b$(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function x$(e,t,r,n,i){var a=n*r+t.x,o=i*r+t.y;return o=Math.round(e.canvasHeight-o),[a,o]}function C$(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function w$(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Ni(e,t,r){var n=e[0]/255,i=e[1]/255,a=e[2]/255,o=t,s=r||new Array(4);return s[0]=n*o,s[1]=i*o,s[2]=a*o,s[3]=o,s}function wa(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function T$(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function _$(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function Fw(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Ow(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function S$(e,t,r,n,i,a){switch(t){case e.FLOAT:return new Float32Array(r.buffer,a*n,i);case e.INT:return new Int32Array(r.buffer,a*n,i)}}function E$(e,t,r,n){var i=Fw(e,t),a=Mt(i,2),o=a[0],s=a[1],l=Ow(e,s,n),u=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),s===e.FLOAT?e.vertexAttribPointer(r,o,s,!1,0,0):s===e.INT&&e.vertexAttribIPointer(r,o,s,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),u}function hn(e,t,r,n){var i=Fw(e,r),a=Mt(i,3),o=a[0],s=a[1],l=a[2],u=Ow(e,s,t*o),c=o*l,h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t*c,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),s===e.FLOAT?e.vertexAttribPointer(n,o,s,!1,c,0):s===e.INT&&e.vertexAttribIPointer(n,o,s,c,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var f=new Array(t),d=0;d<t;d++)f[d]=S$(e,s,u,c,o,d);return h.dataArray=u,h.stride=c,h.size=o,h.getView=function(v){return f[v]},h.setPoint=function(v,y,p){var m=f[v];m[0]=y,m[1]=p},h.bufferSubData=function(v){e.bindBuffer(e.ARRAY_BUFFER,h),v?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,v*o):e.bufferSubData(e.ARRAY_BUFFER,0,u)},h}function k$(e,t,r){for(var n=9,i=new Float32Array(t*n),a=new Array(t),o=0;o<t;o++){var s=o*n*4;a[o]=new Float32Array(i.buffer,s,n)}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,i.byteLength,e.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,3,e.FLOAT,!1,36,u*12),e.vertexAttribDivisor(c,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),l.getMatrixView=function(h){return a[h]},l.setData=function(h,f){a[f].set(h,0)},l.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferSubData(e.ARRAY_BUFFER,0,i)},l}function A$(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,i){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,i,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var x0=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Ef(){var e=new x0(9);return x0!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function C0(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function B$(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1],v=r[2],y=r[3],p=r[4],m=r[5],g=r[6],b=r[7],x=r[8];return e[0]=f*n+d*o+v*u,e[1]=f*i+d*s+v*c,e[2]=f*a+d*l+v*h,e[3]=y*n+p*o+m*u,e[4]=y*i+p*s+m*c,e[5]=y*a+p*l+m*h,e[6]=g*n+b*o+x*u,e[7]=g*i+b*s+x*c,e[8]=g*a+b*l+x*h,e}function Wl(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=f*n+d*o+u,e[7]=f*i+d*s+c,e[8]=f*a+d*l+h,e}function w0(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=Math.sin(r),d=Math.cos(r);return e[0]=d*n+f*o,e[1]=d*i+f*s,e[2]=d*a+f*l,e[3]=d*o-f*n,e[4]=d*s-f*i,e[5]=d*l-f*a,e[6]=u,e[7]=c,e[8]=h,e}function Ad(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function L$(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var D$=(function(){function e(t,r,n,i){ki(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(t,r,r),this.scratch=i(t,r,this.texHeight,"scratch")}return Ai(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,a=this.texHeight,o=this.texSize,s=a/i,l=n*s,u=i*s;return l>o&&(s=o/n,l=n*s,u=i*s),{scale:s,texW:l,texH:u}}},{key:"draw",value:function(r,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,h=u.texW,f=u.texH,d=function(b,x){if(i&&x){var w=x.context,T=b.x,C=b.row,S=T,k=l*C;w.save(),w.translate(S,k),w.scale(c,c),i(w,n),w.restore()}},v=[null,null],y=function(){d(a.freePointer,a.canvas),v[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:h,h:f},v[1]={x:a.freePointer.x+h,y:a.freePointer.row*l,w:0,h:f},a.freePointer.x+=h,a.freePointer.x==o&&(a.freePointer.x=0,a.freePointer.row++)},p=function(){var b=a.scratch,x=a.canvas;b.clear(),d({x:0,row:0},b);var w=o-a.freePointer.x,T=h-w,C=l;{var S=a.freePointer.x,k=a.freePointer.row*l,A=w;x.context.drawImage(b,0,0,A,C,S,k,A,C),v[0]={x:S,y:k,w:A,h:f}}{var E=w,B=(a.freePointer.row+1)*l,D=T;x&&x.context.drawImage(b,E,0,D,C,0,B,D,C),v[1]={x:0,y:B,w:D,h:f}}a.freePointer.x=T,a.freePointer.row++},m=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+h<=o)y();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(m(),y()):this.enableWrapping?p():(m(),y())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(r),o=a.texW;return this.freePointer.x+o>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=_$(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),M$=(function(){function e(t,r,n,i){ki(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Ai(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new D$(r,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,o=Math.floor(n/i);this.scratch=a(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var a=this.styleKeyToAtlas.get(r);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(r,n,i),this.styleKeyToAtlas.set(r,a)),a}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,o=null,s=Lr(this.atlases),l;try{var u=function(){var h=l.value,f=h.getKeys(),d=P$(n,f);if(d.size===0)return i.push(h),f.forEach(function(w){return a.set(w,h)}),1;o||(o=r._createAtlas(),i.push(o));var v=Lr(f),y;try{for(v.s();!(y=v.n()).done;){var p=y.value;if(!d.has(p)){var m=h.getOffsets(p),g=Mt(m,2),b=g[0],x=g[1];o.canFit({w:b.w+x.w,h:b.h})||(o.lock(),o=r._createAtlas(),i.push(o)),h.canvas&&(r._copyTextureToNewAtlas(p,h,o),a.set(p,o))}}}catch(w){v.e(w)}finally{v.f()}h.dispose()};for(s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var a=n.getOffsets(r),o=Mt(a,2),s=o[0],l=o[1];if(l.w===0)i.draw(r,s,function(f){f.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,s.w,0,l.w,l.h);var c=s.w+l.w,h=s.h;i.draw(r,{w:c,h},function(f){f.drawImage(u,0,0,c,h,0,0,c,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function P$(e,t){return e.intersection?e.intersection(t):new Set(wu(e).filter(function(r){return t.has(r)}))}var F$=(function(){function e(t,r){ki(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Ai(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,a=i.webglTexSize,o=i.createTextureCanvas,s=n.texRows,l=this._cacheScratchCanvas(o),u=new M$(this.r,a,s,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),o=Ve({type:r,atlasCollection:a},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,a=null;return function(o,s,l,u){return u?((!a||s!=n||l!=i)&&(n=s,i=l,a=r(o,s,l)),a):r(o,s,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.forceRedraw,o=a===void 0?!1:a,s=i.filterEle,l=s===void 0?function(){return!0}:s,u=i.filterType,c=u===void 0?function(){return!0}:u,h=!1,f=!1,d=Lr(r),v;try{for(d.s();!(v=d.n()).done;){var y=v.value;if(l(y)){var p=Lr(this.renderTypes.values()),m;try{var g=function(){var x=m.value,w=x.type;if(c(w)){var T=n.collections.get(x.collection),C=x.getKey(y),S=Array.isArray(C)?C:[C];if(o)S.forEach(function(B){return T.markKeyForGC(B)}),f=!0;else{var k=x.getID?x.getID(y):y.id(),A=n._key(w,k),E=n.typeAndIdToKey.get(A);E!==void 0&&!w$(S,E)&&(h=!0,n.typeAndIdToKey.delete(A),E.forEach(function(B){return T.markKeyForGC(B)}))}}};for(p.s();!(m=p.n()).done;)g()}catch(b){p.e(b)}finally{p.f()}}}}catch(b){d.e(b)}finally{d.f()}return f&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var r=Lr(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(a){r.e(a)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,a){var o=this.renderTypes.get(n),s=this.collections.get(o.collection),l=!1,u=s.draw(a,i,function(f){o.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,i.w,i.h),f.clip(),o.drawElement(f,r,i,!0,!0),f.restore()):o.drawElement(f,r,i,!0,!0),l=!0});if(l){var c=o.getID?o.getID(r):r.id(),h=this._key(n,c);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(a):this.typeAndIdToKey.set(h,[a])}return u}},{key:"getAtlasInfo",value:function(r,n){var i=this,a=this.renderTypes.get(n),o=a.getKey(r),s=Array.isArray(o)?o:[o];return s.map(function(l){var u=a.getBoundingBox(r,l),c=i.getOrCreateAtlas(r,n,u,l),h=c.getOffsets(l),f=Mt(h,2),d=f[0],v=f[1];return{atlas:c,tex:d,tex1:d,tex2:v,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=Lr(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=Mt(i.value,2),o=a[0],s=a[1],l=s.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:o,keyCount:u,atlasCount:c})}}catch(h){n.e(h)}finally{n.f()}return r}}])})(),O$=(function(){function e(t){ki(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return Ai(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),R$=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,I$=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,N$=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,z$=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,rs={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Fu={IGNORE:1,USE_BB:2},kf=0,T0=1,_0=2,Af=3,Ta=4,ml=5,Do=6,Mo=7,$$=(function(){function e(t,r,n){ki(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=y$,this.atlasManager=new F$(t,n),this.batchManager=new O$(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(rs.SCREEN),this.pickingProgram=this._createShaderProgram(rs.PICKING),this.vao=this._createVAO()}return Ai(e,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(r,{filterType:function(s){return s===i},forceRedraw:!0}):a.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(kf,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Ta," || aVertType == ").concat(Mo,` 
             || aVertType == `).concat(ml," || aVertType == ").concat(Do,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(T0,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(_0,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Af,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),a=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(a.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(R$,`
      `).concat(I$,`
      `).concat(N$,`
      `).concat(z$,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(kf,`) {
          // look up the texel from the texture unit
          `).concat(a.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Af,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Ta,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Ta," || vVertType == ").concat(Mo,` 
          || vVertType == `).concat(ml," || vVertType == ").concat(Do,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Ta,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Mo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Mo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=m$(n,i,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aTransform=n.getAttribLocation(s,"aTransform"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex=n.getAttribLocation(s,"aTex"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aColor=n.getAttribLocation(s,"aColor"),s.aCornerRadius=n.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=n.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uZoom=n.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(l)));return s}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,a=this.program,o=i.createVertexArray();return i.bindVertexArray(o),E$(i,"vec2",a.aPosition,r),this.transformBuffer=k$(i,n,a.aTransform),this.indexBuffer=hn(i,n,"vec4",a.aIndex),this.vertTypeBuffer=hn(i,n,"int",a.aVertType),this.atlasIdBuffer=hn(i,n,"int",a.aAtlasId),this.texBuffer=hn(i,n,"vec4",a.aTex),this.pointAPointBBuffer=hn(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=hn(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=hn(i,n,"vec2",a.aLineWidth),this.colorBuffer=hn(i,n,"vec4",a.aColor),this.cornerRadiusBuffer=hn(i,n,"vec4",a.aCornerRadius),this.borderColorBuffer=hn(i,n,"vec4",a.aBorderColor),i.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return li(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rs.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var a=this.atlasManager,o=this.batchManager,s=a.getRenderTypeOpts(i);if(this._isVisible(r,s)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&s.getTexPickingMode){var l=s.getTexPickingMode(r);if(l===Fu.IGNORE)return;if(l==Fu.USE_BB){this.drawPickingRectangle(r,n,i);return}}var u=a.getAtlasInfo(r,i),c=Lr(u),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,d=f.atlas,v=f.tex1,y=f.tex2;o.canAddToCurrentBatch(d)||this.endBatch();for(var p=o.getAtlasIndexForBatch(d),m=0,g=[[v,!0],[y,!1]];m<g.length;m++){var b=Mt(g[m],2),x=b[0],w=b[1];if(x.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=kf;var C=this.indexBuffer.getView(T);wa(n,C);var S=this.atlasIdBuffer.getView(T);S[0]=p;var k=this.texBuffer.getView(T);k[0]=x.x,k[1]=x.y,k[2]=x.w,k[3]=x.h;var A=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(r,A,s,f,w),this.instanceCount++,w||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(E){c.e(E)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=r.pstyle(i.shapeProps.padding).pfValue),a){var l=a.bb,u=a.tex1,c=a.tex2,h=u.w/(u.w+c.w);o||(h=1-h);var f=this._getAdjustedBB(l,s,o,h);this._applyTransformMatrix(n,f,i,r)}else{var d=i.getBoundingBox(r),v=this._getAdjustedBB(d,s,!0,1);this._applyTransformMatrix(n,v,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,a){var o,s;C0(r);var l=i.getRotation?i.getRotation(a):0;if(l!==0){var u=i.getRotationPoint(a),c=u.x,h=u.y;Wl(r,r,[c,h]),w0(r,r,l);var f=i.getRotationOffset(a);o=f.x+(n.xOffset||0),s=f.y+(n.yOffset||0)}else o=n.x1,s=n.y1;Wl(r,r,[o,s]),Ad(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,a){var o=r.x1,s=r.y1,l=r.w,u=r.h,c=r.yOffset;n&&(o-=n,s-=n,l+=2*n,u+=2*n);var h=0,f=l*a;return i&&a<1?l=f:!i&&a<1&&(h=l-f,o+=h,l=f),{x1:o,y1:s,w:l,h:u,xOffset:h,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,i){var a=this.atlasManager.getRenderTypeOpts(i),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=Ta;var s=this.indexBuffer.getView(o);wa(n,s);var l=this.colorBuffer.getView(o);Ni([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,u,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var a=this.simpleShapeOptions.get(i);if(this._isVisible(r,a)){var o=a.shapeProps,s=this._getVertTypeForShape(r,o.shape);if(s===void 0||a.isSimple&&!a.isSimple(r)){this.drawTexture(r,n,i);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=s,s===ml||s===Do){var u=a.getBoundingBox(r),c=this._getCornerRadius(r,o.radius,u),h=this.cornerRadiusBuffer.getView(l);h[0]=c,h[1]=c,h[2]=c,h[3]=c,s===Do&&(h[0]=0,h[2]=0)}var f=this.indexBuffer.getView(l);wa(n,f);var d=r.pstyle(o.color).value,v=r.pstyle(o.opacity).value,y=this.colorBuffer.getView(l);Ni(d,v,y);var p=this.lineWidthBuffer.getView(l);if(p[0]=0,p[1]=0,o.border){var m=r.pstyle("border-width").value;if(m>0){var g=r.pstyle("border-color").value,b=r.pstyle("border-opacity").value,x=this.borderColorBuffer.getView(l);Ni(g,b,x);var w=r.pstyle("border-position").value;if(w==="inside")p[0]=0,p[1]=-m;else if(w==="outside")p[0]=m,p[1]=0;else{var T=m/2;p[0]=T,p[1]=-T}}}var C=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,C,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return Ta;case"ellipse":return Mo;case"roundrectangle":case"round-rectangle":return ml;case"bottom-round-rectangle":return Do;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var a=i.w,o=i.h;if(r.pstyle(n).value==="auto")return xi(a,o);var s=r.pstyle(n).pfValue,l=a/2,u=o/2;return Math.min(s,u,l)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var a=r._private.rscratch,o,s,l;if(i==="source"?(o=a.arrowStartX,s=a.arrowStartY,l=a.srcArrowAngle):(o=a.arrowEndX,s=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(l)||l==null)){var u=r.pstyle(i+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(i+"-arrow-color").value,h=r.pstyle("opacity").value,f=r.pstyle("line-opacity").value,d=h*f,v=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,p=this.r.getArrowWidth(v,y),m=this.instanceCount,g=this.transformBuffer.getMatrixView(m);C0(g),Wl(g,g,[o,s]),Ad(g,g,[p,p]),w0(g,g,l),this.vertTypeBuffer.getView(m)[0]=Af;var b=this.indexBuffer.getView(m);wa(n,b);var x=this.colorBuffer.getView(m);Ni(c,d,x),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var a=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,s=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=a*o;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=T0;var h=this.indexBuffer.getView(c);wa(n,h);var f=this.colorBuffer.getView(c);Ni(l,u,f);var d=this.lineWidthBuffer.getView(c);d[0]=s;var v=this.pointAPointBBuffer.getView(c);v[0]=i[0],v[1]=i[1],v[2]=i[2],v[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<i.length-2;y+=2){var p=this.instanceCount;this.vertTypeBuffer.getView(p)[0]=_0;var m=this.indexBuffer.getView(p);wa(n,m);var g=this.colorBuffer.getView(p);Ni(l,u,g);var b=this.lineWidthBuffer.getView(p);b[0]=s;var x=i[y-2],w=i[y-1],T=i[y],C=i[y+1],S=i[y+2],k=i[y+3],A=i[y+4],E=i[y+5];y==0&&(x=2*T-S+.001,w=2*C-k+.001),y==i.length-4&&(A=2*S-T+.001,E=2*k-C+.001);var B=this.pointAPointBBuffer.getView(p);B[0]=x,B[1]=w,B[2]=T,B[3]=C;var D=this.pointCPointDBuffer.getView(p);D[0]=S,D[1]=k,D[2]=A,D[3]=E,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var i=n.allpts;if(i.length==4)return i;var a=this._getNumSegments(r);return this._getCurveSegmentPoints(i,a)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=r[0],i[1]=r[1];else if(a==n)i[a*2]=r[r.length-2],i[a*2+1]=r[r.length-1];else{var o=a/n;this._setCurvePoint(r,o,i,a*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,a){if(r.length<=2)i[a]=r[0],i[a+1]=r[1];else{for(var o=Array(r.length-2),s=0;s<o.length;s+=2){var l=(1-n)*r[s]+n*r[s+2],u=(1-n)*r[s+1]+n*r[s+3];o[s]=l,o[s+1]=u}return this._setCurvePoint(o,n,i,a)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var s=Lr(this.buffers),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.bufferSubData(a)}}catch(v){s.e(v)}finally{s.f()}for(var c=this.batchManager.getAtlases(),h=0;h<c.length;h++)c[h].bufferIfNeeded(r);for(var f=0;f<c.length;f++)r.activeTexture(r.TEXTURE0+f),r.bindTexture(r.TEXTURE_2D,c[f].texture),r.uniform1i(o.uTextures[f],f);r.uniform1f(o.uZoom,b$(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var d=Ni(this.bgColor,1);r.uniform4fv(o.uBGColor,d),r.drawArraysInstanced(r.TRIANGLES,0,i,a),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,s){return o+s.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(o,s){return o+s.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])})(),Rw={};Rw.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=q$(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=A$(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new $$(r,n,e);var i=function(h){return function(f){return r.getTextAngle(f,h)}},a=function(h){return function(f){var d=f.pstyle(h);return d&&d.value}},o=function(h){return function(f){return f.pstyle("".concat(h,"-opacity")).value>0}},s=function(h){var f=h.pstyle("text-events").strValue==="yes";return f?Fu.USE_BB:Fu.IGNORE},l=function(h){var f=h.position(),d=f.x,v=f.y,y=h.outerWidth(),p=h.outerHeight();return{w:y,h:p,x1:d-y/2,y1:v-p/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:C$,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:Bf(t.getLabelKey,null),getBoundingBox:Lf(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:Bf(t.getSourceLabelKey,"source"),getBoundingBox:Lf(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:Bf(t.getTargetLabelKey,"target"),getBoundingBox:Lf(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var u=Vs(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,h){var f=!1;h&&h.length>0&&(f|=r.drawing.invalidate(h)),f&&u()}),V$(r)};function q$(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return cC(r)}function Iw(e,t){var r=e._private.rscratch;return Er(r,"labelWrapCachedLines",t)||[]}var Bf=function(t,r){return function(n){var i=t(n),a=Iw(n,r);return a.length>1?a.map(function(o,s){return"".concat(i,"_").concat(s)}):i}},Lf=function(t,r){return function(n,i){var a=t(n);if(typeof i=="string"){var o=i.indexOf("_");if(o>0){var s=Number(i.substring(o+1)),l=Iw(n,r),u=a.h/l.length,c=u*s,h=a.y1+c;return{x1:a.x1,w:a.w,y1:h,h:u,yOffset:c}}}return a}};function V$(e){{var t=e.render;e.render=function(a){a=a||{};var o=e.cy;e.webgl&&(o.zoom()>Bw?(H$(e),t.call(e,a)):(W$(e),zw(e,a,rs.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(a){r.call(e,a),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(a,o,s,l){return X$(e,a,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var i=e.notify;e.notify=function(a,o){i.call(e,a,o),a==="viewport"||a==="bounds"?e.pickingFrameBuffer.needsDraw=!0:a==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function H$(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function W$(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function U$(e){var t=e.canvasWidth,r=e.canvasHeight,n=Jv(e),i=n.pan,a=n.zoom,o=Ef();Wl(o,o,[i.x,i.y]),Ad(o,o,[a,a]);var s=Ef();L$(s,t,r);var l=Ef();return B$(l,s,o),l}function Nw(e,t){var r=e.canvasWidth,n=e.canvasHeight,i=Jv(e),a=i.pan,o=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(a.x,a.y),t.scale(o,o)}function G$(e,t){e.drawSelectionRectangle(t,function(r){return Nw(e,r)})}function Y$(e){var t=e.data.contexts[e.NODE];t.save(),Nw(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function K$(e){var t=function(i,a,o){for(var s=i.atlasManager.getAtlasCollection(a),l=e.data.contexts[e.NODE],u=s.atlases,c=0;c<u.length;c++){var h=u[c],f=h.canvas;if(f){var d=f.width,v=f.height,y=d*c,p=f.height*o,m=.4;l.save(),l.scale(m,m),l.drawImage(f,y,p),l.strokeStyle="black",l.rect(y,p,d,v),l.stroke(),l.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function j$(e,t,r,n,i){var a,o,s,l,u=Jv(e),c=u.pan,h=u.zoom;{var f=x$(e,c,h,t,r),d=Mt(f,2),v=d[0],y=d[1],p=6;a=v-p/2,o=y-p/2,s=p,l=p}if(s===0||l===0)return[];var m=e.data.contexts[e.WEBGL];m.bindFramebuffer(m.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(m.viewport(0,0,m.canvas.width,m.canvas.height),zw(e,null,rs.PICKING),e.pickingFrameBuffer.needsDraw=!1);var g=s*l,b=new Uint8Array(g*4);m.readPixels(a,o,s,l,m.RGBA,m.UNSIGNED_BYTE,b),m.bindFramebuffer(m.FRAMEBUFFER,null);for(var x=new Set,w=0;w<g;w++){var T=b.slice(w*4,w*4+4),C=T$(T)-1;C>=0&&x.add(C)}return x}function X$(e,t,r){var n=j$(e,t,r),i=e.getCachedZSortedEles(),a,o,s=Lr(n),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=i[u];if(!a&&c.isNode()&&(a=c),!o&&c.isEdge()&&(o=c),a&&o)break}}catch(h){s.e(h)}finally{s.f()}return[a,o].filter(Boolean)}function Df(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function zw(e,t,r){var n;e.webglDebug&&(n=performance.now());var i=e.drawing,a=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&G$(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=U$(e),l=e.getCachedZSortedEles();if(a=l.length,i.startFrame(s,r),r.screen){for(var u=0;u<l.nondrag.length;u++)Df(e,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)Df(e,c,l.drag[c])}else if(r.picking)for(var h=0;h<l.length;h++)Df(e,h,l[h]);i.endFrame(),r.screen&&e.webglDebugShowAtlases&&(Y$(e),K$(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var f=performance.now(),d=!1,v=Math.ceil(f-n),y=i.getDebugInfo(),p=["".concat(a," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(r.name,") - time ").concat(v,"ms, ").concat(p));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(v,"ms")),console.log("Totals:"),console.log("  ".concat(p)),console.log("Texture Atlases Used:");var m=y.atlasInfo,g=Lr(m),b;try{for(g.s();!(b=g.n()).done;){var x=b.value;console.log("  ".concat(x.type,": ").concat(x.keyCount," keys, ").concat(x.atlasCount," atlases"))}}catch(w){g.e(w)}finally{g.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,i.gc())}var Di={};Di.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[l*2],r+s*a[l*2+1]);e.closePath()};Di.drawRoundPolygonPath=function(e,t,r,n,i,a,o){o.forEach(function(s){return xw(e,s)}),e.closePath()};Di.drawRoundRectanglePath=function(e,t,r,n,i,a){var o=n/2,s=i/2,l=a==="auto"?xi(n,i):Math.min(a,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,l),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.arcTo(t-o,r-s,t,r-s,l),e.lineTo(t,r-s),e.closePath()};Di.drawBottomRoundRectanglePath=function(e,t,r,n,i,a){var o=n/2,s=i/2,l=a==="auto"?xi(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()};Di.drawCutRectanglePath=function(e,t,r,n,i,a,o){var s=n/2,l=i/2,u=o==="auto"?zv():o;e.beginPath&&e.beginPath(),e.moveTo(t-s+u,r-l),e.lineTo(t+s-u,r-l),e.lineTo(t+s,r-l+u),e.lineTo(t+s,r+l-u),e.lineTo(t+s-u,r+l),e.lineTo(t-s+u,r+l),e.lineTo(t-s,r+l-u),e.lineTo(t-s,r-l+u),e.closePath()};Di.drawBarrelPath=function(e,t,r,n,i){var a=n/2,o=i/2,s=t-a,l=t+a,u=r-o,c=r+o,h=vd(n,i),f=h.widthOffset,d=h.heightOffset,v=h.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(s,u+d),e.lineTo(s,c-d),e.quadraticCurveTo(s+v,c,s+f,c),e.lineTo(l-f,c),e.quadraticCurveTo(l-v,c,l,c-d),e.lineTo(l,u+d),e.quadraticCurveTo(l-v,u,l-f,u),e.lineTo(s+f,u),e.quadraticCurveTo(s+v,u,s,u+d),e.closePath()};var S0=Math.sin(0),E0=Math.cos(0),Bd={},Ld={},$w=Math.PI/40;for(var _a=0*Math.PI;_a<2*Math.PI;_a+=$w)Bd[_a]=Math.sin(_a),Ld[_a]=Math.cos(_a);Di.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=$w)a=t-s*Bd[u]*S0+s*Ld[u]*E0,o=r+l*Ld[u]*S0+l*Bd[u]*E0,u===0?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var Ks={};Ks.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};Ks.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):i[2],o=e.full?Math.ceil(n.h):i[3],s=be(e.maxWidth)||be(e.maxHeight),l=this.getPixelRatio(),u=1;if(e.scale!==void 0)a*=e.scale,o*=e.scale,u=e.scale;else if(s){var c=1/0,h=1/0;be(e.maxWidth)&&(c=u*e.maxWidth/a),be(e.maxHeight)&&(h=u*e.maxHeight/o),u=Math.min(c,h),a*=u,o*=u}s||(a*=l,o*=l,u*=l);var f=document.createElement("canvas");f.width=a,f.height=o,f.style.width=a+"px",f.style.height=o+"px";var d=f.getContext("2d");if(a>0&&o>0){d.clearRect(0,0,a,o),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*u,-n.y1*u),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(n.x1*u,n.y1*u);else{var y=t.pan(),p={x:y.x*u,y:y.y*u};u*=t.zoom(),d.translate(p.x,p.y),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(-p.x,-p.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,a,o),d.fill())}return f};function Z$(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}function k0(e){var t=e.indexOf(",");return e.substr(t+1)}function qw(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new co(function(i,a){try{t.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){a(o)}});case"blob":return Z$(k0(n()),r);case"base64":return k0(n());case"base64uri":default:return n()}}Ks.png=function(e){return qw(e,this.bufferCanvasImage(e),"image/png")};Ks.jpg=function(e){return qw(e,this.bufferCanvasImage(e),"image/jpeg")};var Vw={};Vw.nodeShapeImpl=function(e,t,r,n,i,a,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,s);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}};var Q$=Hw,Ze=Hw.prototype;Ze.CANVAS_LAYERS=3;Ze.SELECT_BOX=0;Ze.DRAG=1;Ze.NODE=2;Ze.WEBGL=3;Ze.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ze.BUFFER_COUNT=3;Ze.TEXTURE_BUFFER=0;Ze.MOTIONBLUR_BUFFER_NODE=1;Ze.MOTIONBLUR_BUFFER_DRAG=2;function Hw(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(Ze.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Ze.CANVAS_LAYERS),contexts:new Array(Ze.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ze.CANVAS_LAYERS),bufferCanvases:new Array(Ze.BUFFER_COUNT),bufferContexts:new Array(Ze.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};G5()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Ze.CANVAS_LAYERS;u++){var c=t.data.canvases[u]=n.createElement("canvas"),h=Ze.CANVAS_TYPES[u];t.data.contexts[u]=c.getContext(h),t.data.contexts[u]||Ct("Could not create canvas of type "+h),Object.keys(l).forEach(function(se){c.style[se]=l[se]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(Ze.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ze.NODE].setAttribute("data-id","layer"+Ze.NODE+"-node"),t.data.canvases[Ze.SELECT_BOX].setAttribute("data-id","layer"+Ze.SELECT_BOX+"-selectbox"),t.data.canvases[Ze.DRAG].setAttribute("data-id","layer"+Ze.DRAG+"-drag"),t.data.canvases[Ze.WEBGL]&&t.data.canvases[Ze.WEBGL].setAttribute("data-id","layer"+Ze.WEBGL+"-webgl");for(var u=0;u<Ze.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=n.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var f=wr(),d=function(G){return{x:(G.x1+G.x2)/2,y:(G.y1+G.y2)/2}},v=function(G){return{x:-G.w/2,y:-G.h/2}},y=function(G){var K=G[0]._private,_=K.oldBackgroundTimestamp===K.backgroundTimestamp;return!_},p=function(G){return G[0]._private.nodeKey},m=function(G){return G[0]._private.labelStyleKey},g=function(G){return G[0]._private.sourceLabelStyleKey},b=function(G){return G[0]._private.targetLabelStyleKey},x=function(G,K,_,F,V){return t.drawElement(G,K,_,!1,!1,V)},w=function(G,K,_,F,V){return t.drawElementText(G,K,_,F,"main",V)},T=function(G,K,_,F,V){return t.drawElementText(G,K,_,F,"source",V)},C=function(G,K,_,F,V){return t.drawElementText(G,K,_,F,"target",V)},S=function(G){return G.boundingBox(),G[0]._private.bodyBounds},k=function(G){return G.boundingBox(),G[0]._private.labelBounds.main||f},A=function(G){return G.boundingBox(),G[0]._private.labelBounds.source||f},E=function(G){return G.boundingBox(),G[0]._private.labelBounds.target||f},B=function(G,K){return K},D=function(G){return d(S(G))},O=function(G,K,_){var F=G?G+"-":"";return{x:K.x+_.pstyle(F+"text-margin-x").pfValue,y:K.y+_.pstyle(F+"text-margin-y").pfValue}},R=function(G,K,_){var F=G[0]._private.rscratch;return{x:F[K],y:F[_]}},P=function(G){return O("",R(G,"labelX","labelY"),G)},M=function(G){return O("source",R(G,"sourceLabelX","sourceLabelY"),G)},I=function(G){return O("target",R(G,"targetLabelX","targetLabelY"),G)},$=function(G){return v(S(G))},U=function(G){return v(A(G))},z=function(G){return v(E(G))},W=function(G){var K=k(G),_=v(k(G));if(G.isNode()){switch(G.pstyle("text-halign").value){case"left":_.x=-K.w-(K.leftPad||0);break;case"right":_.x=-(K.rightPad||0);break}switch(G.pstyle("text-valign").value){case"top":_.y=-K.h-(K.topPad||0);break;case"bottom":_.y=-(K.botPad||0);break}}return _},X=t.data.eleTxrCache=new $o(t,{getKey:p,doesEleInvalidateKey:y,drawElement:x,getBoundingBox:S,getRotationPoint:D,getRotationOffset:$,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ie=t.data.lblTxrCache=new $o(t,{getKey:m,drawElement:w,getBoundingBox:k,getRotationPoint:P,getRotationOffset:W,isVisible:B}),j=t.data.slbTxrCache=new $o(t,{getKey:g,drawElement:T,getBoundingBox:A,getRotationPoint:M,getRotationOffset:U,isVisible:B}),oe=t.data.tlbTxrCache=new $o(t,{getKey:b,drawElement:C,getBoundingBox:E,getRotationPoint:I,getRotationOffset:z,isVisible:B}),ce=t.data.lyrTxrCache=new Lw(t);t.onUpdateEleCalcs(function(G,K){X.invalidateElements(K),ie.invalidateElements(K),j.invalidateElements(K),oe.invalidateElements(K),ce.invalidateElements(K);for(var _=0;_<K.length;_++){var F=K[_]._private;F.oldBackgroundTimestamp=F.backgroundTimestamp}});var de=function(G){for(var K=0;K<G.length;K++)ce.enqueueElementRefinement(G[K].ele)};X.onDequeue(de),ie.onDequeue(de),j.onDequeue(de),oe.onDequeue(de),e.webgl&&t.initWebgl(e,{getStyleKey:p,getLabelKey:m,getSourceLabelKey:g,getTargetLabelKey:b,drawElement:x,drawLabel:w,drawSourceLabel:T,drawTargetLabel:C,getElementBox:S,getLabelBox:k,getSourceLabelBox:A,getTargetLabelBox:E,getElementRotationPoint:D,getElementRotationOffset:$,getLabelRotationPoint:P,getSourceLabelRotationPoint:M,getTargetLabelRotationPoint:I,getLabelRotationOffset:W,getSourceLabelRotationOffset:U,getTargetLabelRotationOffset:z})}Ze.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Ze.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Ze.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Ze.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var J$=typeof Path2D<"u";Ze.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Ze.usePaths=function(){return J$&&this.pathsEnabled};Ze.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Ze.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Ze.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":qt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=e,r.height=t}return r};[Dw,Bn,Zn,Qv,da,Li,Tr,Rw,Di,Ks,Vw].forEach(function(e){Ve(Ze,e)});var e6=[{name:"null",impl:mw},{name:"base",impl:kw},{name:"canvas",impl:Q$}],t6=[{type:"layout",extensions:Ez},{type:"renderer",extensions:e6}],Ww={},Uw={};function Gw(e,t,r){var n=r,i=function(S){ot("Can not register `"+t+"` for `"+e+"` since `"+S+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(Ss.prototype[t])return i(t);Ss.prototype[t]=r}else if(e==="collection"){if(Xt.prototype[t])return i(t);Xt.prototype[t]=r}else if(e==="layout"){for(var a=function(S){this.options=S,r.call(this,S),et(this._private)||(this._private={}),this._private.cy=S.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var C=this.options;if(C&&C.animate){var S=this.animations;if(S)for(var k=0;k<S.length;k++)S[k].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(S){return S._private.cy},f={addEventFields:function(S,k){k.layout=S,k.cy=h(S),k.target=S},bubble:function(){return!0},parent:function(S){return h(S)}};Ve(o,{createEmitter:function(){return this._private.emitter=new bc(f,this),this},emitter:function(){return this._private.emitter},on:function(S,k){return this.emitter().on(S,k),this},one:function(S,k){return this.emitter().one(S,k),this},once:function(S,k){return this.emitter().one(S,k),this},removeListener:function(S,k){return this.emitter().removeListener(S,k),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(S,k){return this.emitter().emit(S,k),this}}),at.eventAliasesOn(o),n=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var d=Yw("renderer","base"),v=d.prototype,y=r,p=r.prototype,m=function(){d.apply(this,arguments),y.apply(this,arguments)},g=m.prototype;for(var b in v){var x=v[b],w=p[b]!=null;if(w)return i(b);g[b]=x}for(var T in p)g[T]=p[T];v.clientFunctions.forEach(function(C){g[C]=g[C]||function(){Ct("Renderer does not implement `renderer."+C+"()` on its prototype")}}),n=m}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Ct(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return hC({map:Ww,keys:[e,t],value:n})}function Yw(e,t){return fC({map:Ww,keys:[e,t]})}function r6(e,t,r,n,i){return hC({map:Uw,keys:[e,t,r,n],value:i})}function n6(e,t,r,n){return fC({map:Uw,keys:[e,t,r,n]})}var Dd=function(){if(arguments.length===2)return Yw.apply(null,arguments);if(arguments.length===3)return Gw.apply(null,arguments);if(arguments.length===4)return n6.apply(null,arguments);if(arguments.length===5)return r6.apply(null,arguments);Ct("Invalid extension access syntax")};Ss.prototype.extension=Dd;t6.forEach(function(e){e.extensions.forEach(function(t){Gw(e.type,t.name,t.impl)})});var Ou=function(){if(!(this instanceof Ou))return new Ou;this.length=0},la=Ou.prototype;la.instanceString=function(){return"stylesheet"};la.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};la.css=function(e,t){var r=this.length-1;if(ze(e))this[r].properties.push({name:e,value:t});else if(et(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(s!=null){var l=Gt.properties[o]||Gt.properties[uc(o)];if(l!=null){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this};la.style=la.css;la.generateStyle=function(e){var t=new Gt(e);return this.appendToStyle(t)};la.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var i6="3.33.1",_i=function(t){if(t===void 0&&(t={}),et(t))return new Ss(t);if(ze(t))return Dd.apply(Dd,arguments)};_i.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(_i),e.apply(null,t),this};_i.warnings=function(e){return bC(e)};_i.version=i6;_i.stylesheet=_i.Stylesheet=Ou;var Ul={exports:{}},Mf,A0;function a6(){if(A0)return Mf;A0=1;var e="Expected a function",t="__lodash_hash_undefined__",r="[object Function]",n="[object GeneratorFunction]",i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=typeof oi=="object"&&oi&&oi.Object===Object&&oi,s=typeof self=="object"&&self&&self.Object===Object&&self,l=o||s||Function("return this")();function u(q,H){return q==null?void 0:q[H]}function c(q){var H=!1;if(q!=null&&typeof q.toString!="function")try{H=!!(q+"")}catch{}return H}var h=Array.prototype,f=Function.prototype,d=Object.prototype,v=l["__core-js_shared__"],y=(function(){var q=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""})(),p=f.toString,m=d.hasOwnProperty,g=d.toString,b=RegExp("^"+p.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=h.splice,w=de(l,"Map"),T=de(Object,"create");function C(q){var H=-1,Z=q?q.length:0;for(this.clear();++H<Z;){var ne=q[H];this.set(ne[0],ne[1])}}function S(){this.__data__=T?T(null):{}}function k(q){return this.has(q)&&delete this.__data__[q]}function A(q){var H=this.__data__;if(T){var Z=H[q];return Z===t?void 0:Z}return m.call(H,q)?H[q]:void 0}function E(q){var H=this.__data__;return T?H[q]!==void 0:m.call(H,q)}function B(q,H){var Z=this.__data__;return Z[q]=T&&H===void 0?t:H,this}C.prototype.clear=S,C.prototype.delete=k,C.prototype.get=A,C.prototype.has=E,C.prototype.set=B;function D(q){var H=-1,Z=q?q.length:0;for(this.clear();++H<Z;){var ne=q[H];this.set(ne[0],ne[1])}}function O(){this.__data__=[]}function R(q){var H=this.__data__,Z=j(H,q);if(Z<0)return!1;var ne=H.length-1;return Z==ne?H.pop():x.call(H,Z,1),!0}function P(q){var H=this.__data__,Z=j(H,q);return Z<0?void 0:H[Z][1]}function M(q){return j(this.__data__,q)>-1}function I(q,H){var Z=this.__data__,ne=j(Z,q);return ne<0?Z.push([q,H]):Z[ne][1]=H,this}D.prototype.clear=O,D.prototype.delete=R,D.prototype.get=P,D.prototype.has=M,D.prototype.set=I;function $(q){var H=-1,Z=q?q.length:0;for(this.clear();++H<Z;){var ne=q[H];this.set(ne[0],ne[1])}}function U(){this.__data__={hash:new C,map:new(w||D),string:new C}}function z(q){return ce(this,q).delete(q)}function W(q){return ce(this,q).get(q)}function X(q){return ce(this,q).has(q)}function ie(q,H){return ce(this,q).set(q,H),this}$.prototype.clear=U,$.prototype.delete=z,$.prototype.get=W,$.prototype.has=X,$.prototype.set=ie;function j(q,H){for(var Z=q.length;Z--;)if(F(q[Z][0],H))return Z;return-1}function oe(q){if(!ee(q)||G(q))return!1;var H=V(q)||c(q)?b:a;return H.test(K(q))}function ce(q,H){var Z=q.__data__;return se(H)?Z[typeof H=="string"?"string":"hash"]:Z.map}function de(q,H){var Z=u(q,H);return oe(Z)?Z:void 0}function se(q){var H=typeof q;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?q!=="__proto__":q===null}function G(q){return!!y&&y in q}function K(q){if(q!=null){try{return p.call(q)}catch{}try{return q+""}catch{}}return""}function _(q,H){if(typeof q!="function"||H&&typeof H!="function")throw new TypeError(e);var Z=function(){var ne=arguments,te=H?H.apply(this,ne):ne[0],re=Z.cache;if(re.has(te))return re.get(te);var ve=q.apply(this,ne);return Z.cache=re.set(te,ve),ve};return Z.cache=new(_.Cache||$),Z}_.Cache=$;function F(q,H){return q===H||q!==q&&H!==H}function V(q){var H=ee(q)?g.call(q):"";return H==r||H==n}function ee(q){var H=typeof q;return!!q&&(H=="object"||H=="function")}return Mf=_,Mf}var Pf,B0;function o6(){if(B0)return Pf;B0=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,l=typeof oi=="object"&&oi&&oi.Object===Object&&oi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),h=Object.prototype,f=h.toString,d=Math.max,v=Math.min,y=function(){return c.Date.now()};function p(T,C,S){var k,A,E,B,D,O,R=0,P=!1,M=!1,I=!0;if(typeof T!="function")throw new TypeError(e);C=w(C)||0,g(S)&&(P=!!S.leading,M="maxWait"in S,E=M?d(w(S.maxWait)||0,C):E,I="trailing"in S?!!S.trailing:I);function $(de){var se=k,G=A;return k=A=void 0,R=de,B=T.apply(G,se),B}function U(de){return R=de,D=setTimeout(X,C),P?$(de):B}function z(de){var se=de-O,G=de-R,K=C-se;return M?v(K,E-G):K}function W(de){var se=de-O,G=de-R;return O===void 0||se>=C||se<0||M&&G>=E}function X(){var de=y();if(W(de))return ie(de);D=setTimeout(X,z(de))}function ie(de){return D=void 0,I&&k?$(de):(k=A=void 0,B)}function j(){D!==void 0&&clearTimeout(D),R=0,k=O=A=D=void 0}function oe(){return D===void 0?B:ie(y())}function ce(){var de=y(),se=W(de);if(k=arguments,A=this,O=de,se){if(D===void 0)return U(O);if(M)return D=setTimeout(X,C),$(O)}return D===void 0&&(D=setTimeout(X,C)),B}return ce.cancel=j,ce.flush=oe,ce}function m(T,C,S){var k=!0,A=!0;if(typeof T!="function")throw new TypeError(e);return g(S)&&(k="leading"in S?!!S.leading:k,A="trailing"in S?!!S.trailing:A),p(T,C,{leading:k,maxWait:C,trailing:A})}function g(T){var C=typeof T;return!!T&&(C=="object"||C=="function")}function b(T){return!!T&&typeof T=="object"}function x(T){return typeof T=="symbol"||b(T)&&f.call(T)==r}function w(T){if(typeof T=="number")return T;if(x(T))return t;if(g(T)){var C=typeof T.valueOf=="function"?T.valueOf():T;T=g(C)?C+"":C}if(typeof T!="string")return T===0?T:+T;T=T.replace(n,"");var S=a.test(T);return S||o.test(T)?s(T.slice(2),S?2:8):i.test(T)?t:+T}return Pf=m,Pf}var s6=Ul.exports,L0;function l6(){return L0||(L0=1,(function(e,t){(function(n,i){e.exports=i(a6(),o6())})(s6,function(r,n){return(function(i){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return i[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=a,o.i=function(s){return s},o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=12)})([(function(i,a,o){i.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return u.filter(function(h){return h!=null}).forEach(function(h){Object.keys(h).forEach(function(f){return s[f]=h[f]})}),s}}),(function(i,a,o){var s=o(10),l=o(0);i.exports=function(u){var c=this;return new s(l({cy:c},u))}}),(function(i,a,o){function s(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var c=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,c),window.addEventListener("touchmove",this.preventDefault,c),window.addEventListener("wheel",this.preventDefault,c)}return this}function l(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var c=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,c),window.removeEventListener("touchmove",this.preventDefault,c),window.removeEventListener("wheel",this.preventDefault,c)}return this}function u(){var c=this.cy;return this.lastPanningEnabled=c.panningEnabled(),this.lastZoomingEnabled=c.zoomingEnabled(),this.lastBoxSelectionEnabled=c.boxSelectionEnabled(),this}i.exports={disableGestures:s,resetGestures:l,saveGestureState:u}}),(function(i,a,o){function s(){var l=this,u=this.cy,c=this.options;return this.addListener(u,"drag",function(){return l.grabbingNode=!0}),this.addListener(u,"free",function(){return l.grabbingNode=!1}),this.addListener(u,"tapstart","node",function(h){var f=h.target;l.drawMode&&l.start(f)}),this.addListener(u,"tapdrag",function(h){l.update(h.position)}),this.addListener(u,"tapdragover","node",function(h){c.snap||l.preview(h.target)}),this.addListener(u,"tapdragout","node",function(h){c.snap||l.unpreview(h.target)}),this.addListener(u,"tapend",function(){l.stop()}),this}i.exports={addCytoscapeListeners:s}}),(function(i,a,o){var s={canConnect:function(u,c){return!u.same(c)},edgeParams:function(u,c){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0};i.exports=s}),(function(i,a,o){function s(c){var h=this.cy;return this.drawMode=c??!this.drawMode,this.drawMode?(this.prevUngrabifyState=h.autoungrabify(),h.autoungrabify(!0),this.emit("drawon")):(h.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this}function l(){return this.toggleDrawMode(!0)}function u(){return this.toggleDrawMode(!1)}i.exports={toggleDrawMode:s,enableDrawMode:l,disableDrawMode:u}}),(function(i,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l=o(0),u=function(g){return(typeof g>"u"?"undefined":s(g))===s("")},c=function(g){return(typeof g>"u"?"undefined":s(g))===s([])&&g.length!=null};function h(m,g,b){var x={};return l(x,g,m),l(x.data,g.data,m.data),u(g.classes)?x.classes=g.classes+" "+b:c(g.classes)?x.classes=g.classes.join(" ")+" "+b:x.classes=b,x}function f(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g=this.cy;this.options;var b=this.presumptiveTargets,x=this.previewEles,w=this.active,T=this.sourceNode,C=this.targetNode,S=m?"eh-preview":"",k=g.collection(),A=this.canConnect(C);if(w&&A){if(!C||C.size()===0){x.remove(),this.emit("cancel",this.mp(),T,b);return}if(!m){x.removeClass("eh-preview").style("events",""),this.emit("complete",this.mp(),T,C,x);return}var E=g.add(h({group:"edges",data:{source:T.id(),target:C.id()}},this.edgeParams(C),S));return k=k.merge(E),m?(this.previewEles=k,k.style("events","no")):(k.style("events",""),this.emit("complete",this.mp(),T,C,k)),this}}function d(){return this.makeEdges(!0),this}function v(){return this.previewEles.nonempty()&&this.previewEles.inside()}function y(){return this.previewShown()&&this.previewEles.remove(),this}function p(){var m=this,g=this.sourceNode,b=this.ghostNode,x=this.cy,w=this.mx,T=this.my,C=w,S=T,k=void 0,A=void 0;if(g)return(!b||b.length===0||b.removed())&&(A=this.ghostEles=x.collection(),x.batch(function(){b=m.ghostNode=x.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}}),b.style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var E={};k=x.add(l({},E,{group:"edges",data:l({},E.data,{source:g.id(),target:b.id()}),classes:"eh-ghost eh-ghost-edge"})),k.style({events:"no"})}),A.merge(b).merge(k)),b.position({x:C,y:S}),this}i.exports={makeEdges:f,makePreview:d,removePreview:y,previewShown:v,updateEdge:p}}),(function(i,a,o){function s(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this}function l(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}i.exports={disableEdgeEvents:s,enableEdgeEvents:l}}),(function(i,a,o){function s(){return this.enabled=!0,this.emit("enable"),this}function l(){return this.enabled=!1,this.emit("disable"),this}i.exports={enable:s,disable:l}}),(function(i,a,o){var s=o(13),l=Math.sqrt(2);function u(g){var b=this.previewEles,x=this.ghostEles,w=function(B){return b.anySame(B)},T=function(B){return x.anySame(B)},C=function(B){return w(B)||T(B)},S=this.enabled,k=this.active,A=this.grabbingNode;return S&&!k&&!A&&g!=null&&g.nonempty()&&!C(g)}function c(g){return this.canStartOn(g)&&this.drawMode}function h(g){return this.canStartOn(g)&&!this.drawMode}function f(g){var b=this;if(this.canStartOn(g)){this.active=!0,this.sourceNode=g,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var x=function(T){return T.id()};this.canConnect=s(function(w){return b.options.canConnect(b.sourceNode,w)},x),this.edgeParams=s(function(w){return b.options.edgeParams(b.sourceNode,w)},x),this.emit("start",this.hp(),g)}}function d(g){if(this.active){var b=g;return this.mx=b.x,this.my=b.y,this.updateEdge(),this.throttledSnap(),this}}function v(){if(!this.active||!this.options.snap)return!1;var g=this.cy,b=this.targetNode,x=this.options.snapThreshold,w=this.mp(),T=this.previewEles,C=this.ghostNode,S=function(j){return l*Math.max(j.outerWidth(),j.outerHeight())/2},k=function(j,oe,ce,de){var se=ce-j,G=de-oe;return se*se+G*G},A=function(j,oe){return k(j.x,j.y,oe.x,oe.y)},E=function(j){return A(j.position(),w)},B=function(j){var oe=S(j),ce=oe+x;return ce*ce},D=function(j){return E(j)<=B(j)},O=function(j){var oe=j.position(),ce=j.outerWidth()/2,de=j.outerHeight()/2,se=oe.x,G=oe.y,K=w.x,_=w.y,F=se-ce,V=se+ce,ee=G-de,q=G+de,H=F<=K&&K<=V,Z=ee<=_&&_<=q;if(H&&Z)return 0;if(H){var ne=_-ee,te=_-q;return Math.min(ne*ne,te*te)}else if(Z){var re=K-F,ve=K-V;return Math.min(re*re,ve*ve)}else return K<F&&_<ee?k(K,_,F,ee):K>V&&_<ee?k(K,_,V,ee):K<F&&_>q?k(K,_,F,q):k(K,_,V,q)},R=function(j,oe){return O(j)-O(oe)},P=R,M=!1,I=function(j){var oe=w,ce=j.outerWidth(),de=ce/2,se=j.outerHeight(),G=se/2,K=j.position(),_=K.x-de,F=K.x+de,V=K.y-G,ee=K.y+G;return _<=oe.x&&oe.x<=F&&V<=oe.y&&oe.y<=ee},$=function(j){return j.same(T)||j.same(C)},U=g.nodes(function(ie){return!$(ie)&&D(ie)}).sort(P),z=!1;b.nonempty()&&!D(b)&&this.unpreview(b);for(var W=0;W<U.length;W++){var X=U[W];if(!(X.isParent()&&I(X))&&!(X.isChild()&&!I(X.parent()))&&(X.same(b)||this.preview(X,M))){z=!0;break}}return z}function y(g){var b=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=this.options,T=this.sourceNode,C=this.ghostNode,S=this.ghostEles,k=this.presumptiveTargets,A=this.previewEles,E=this.active,B=T,D=g.same(C),O=!this.canConnect(g),R=g.same(this.targetNode);if(!E||D||O||R)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var P=function(){b.targetNode=g,k.merge(g),g.addClass("eh-presumptive-target"),g.addClass("eh-target"),b.emit("hoverover",b.mp(),B,g),g.addClass("eh-preview"),S.addClass("eh-preview-active"),T.addClass("eh-preview-active"),g.addClass("eh-preview-active"),b.makePreview(),b.emit("previewon",b.mp(),B,g,A)};return x&&w.hoverDelay>0?this.previewTimeout=setTimeout(P,w.hoverDelay):P(),!0}function p(g){if(this.active){var b=this.previewTimeout,x=this.sourceNode,w=this.previewEles,T=this.ghostEles,C=this.cy;clearTimeout(b),this.previewTimeout=null;var S=x;return g.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),T.removeClass("eh-preview-active"),x.removeClass("eh-preview-active"),this.targetNode=C.collection(),this.removePreview(S,g),this.emit("hoverout",this.mp(),S,g),this.emit("previewoff",this.mp(),S,g,w),this}}function m(){if(this.active){var g=this.sourceNode,b=this.targetNode,x=this.ghostEles,w=this.presumptiveTargets;return clearTimeout(this.previewTimeout),g.removeClass("eh-source eh-preview-active"),b.removeClass("eh-target eh-preview eh-hover eh-preview-active"),w.removeClass("eh-presumptive-target"),this.makeEdges(),x.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),g),this}}i.exports={start:f,update:d,preview:y,unpreview:p,stop:m,snap:v,canStartOn:u,canStartDrawModeOn:c,canStartNonDrawModeOn:h}}),(function(i,a,o){var s=o(4),l=o(0),u=o(14),c=o(2),h=o(3),f=o(5),d=o(6),v=o(8),y=o(9),p=o(11),m=o(7);function g(w){var T=w.cy;this.cy=T,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=l({},s,w),this.saveGestureState(),this.addListeners(),this.throttledSnap=u(this.snap.bind(this),1e3/w.snapFrequency),this.preventDefault=function(k){return k.preventDefault()},this.canConnect=function(){return!1};var C=!1;try{var S=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("test",null,S)}catch{}C?this.windowListenerOptions={capture:!0,passive:!1}:this.windowListenerOptions=!0}var b=g.prototype={},x=function(T){return l(b,T)};b.destroy=function(){this.removeListeners()},b.setOptions=function(w){l(this.options,w)},b.mp=function(){return{x:this.mx,y:this.my}},b.hp=function(){return{x:this.hx,y:this.hy}},b.clearCollections=function(){var w=this.cy;this.previewEles=w.collection(),this.ghostEles=w.collection(),this.ghostNode=w.collection(),this.sourceNode=w.collection(),this.targetNode=w.collection(),this.presumptiveTargets=w.collection()},[c,h,f,d,v,y,p,m].forEach(x),i.exports=g}),(function(i,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};function l(){var y=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",function(){return y.destroy()}),this}function u(){for(var y=this.listeners.length-1;y>=0;y--){var p=this.listeners[y];this.removeListener(p.target,p.event,p.selector,p.callback,p.options)}return this}function c(y,p,m,g,b){return(typeof m>"u"?"undefined":s(m))!==s("")&&(g=m,b=g,m=null),b==null&&(b=!1),{target:y,event:p,selector:m,callback:g,options:b}}function h(y){return y instanceof Element}function f(y,p,m,g,b){var x=c(y,p,m,g,b);return this.listeners.push(x),h(x.target)?x.target.addEventListener(x.event,x.callback,x.options):x.selector?x.target.addListener(x.event,x.selector,x.callback,x.options):x.target.addListener(x.event,x.callback,x.options),this}function d(y,p,m,g,b){for(var x=c(y,p,m,g,b),w=this.listeners.length-1;w>=0;w--){var T=this.listeners[w];if(x.target===T.target&&x.event===T.event&&(x.selector==null||x.selector===T.selector)&&(x.callback==null||x.callback===T.callback)){this.listeners.splice(w,1),h(x.target)?x.target.removeEventListener(x.event,x.callback,x.options):x.selector?x.target.removeListener(x.event,x.selector,x.callback,x.options):x.target.removeListener(x.event,x.callback,x.options);break}}return this}function v(y,p){for(var m=this.cy,g=arguments.length,b=Array(g>2?g-2:0),x=2;x<g;x++)b[x-2]=arguments[x];return m.emit({type:"eh"+y,position:p},b),this}i.exports={addListener:f,addListeners:l,removeListener:d,removeListeners:u,emit:v}}),(function(i,a,o){var s=o(1),l=function(c){c&&c("core","edgehandles",s)};typeof cytoscape<"u"&&l(cytoscape),i.exports=l}),(function(i,a){i.exports=r}),(function(i,a){i.exports=n})])})})(Ul)),Ul.exports}var u6=l6();const c6=Ib(u6);_i.use(c6);function Kw(e){const t=e==="canyon"?{primaryColor:"#FF8C3B",primaryTextColor:"#FFDEAD",primaryBorderColor:"#DAA520",lineColor:"#CD5C5C",secondaryColor:"#5F9EA0",tertiaryColor:"#8A2BE2"}:{primaryColor:"#1FB6FF",primaryTextColor:"#FAEBD7",primaryBorderColor:"#06B6D4",lineColor:"#06B6D4",secondaryColor:"#E94560",tertiaryColor:"#8B5CF6"};Kr.initialize({startOnLoad:!1,theme:"dark",themeVariables:t})}Kw("mole");const D0={development:"⚙️","data-ai":"🧠",infrastructure:"🏗️",security:"🛡️","quality-testing":"🧪",specialization:"🎯",general:"🤖"},h6="/data/interview-sections.json";function f6(e){return e?e.split(/[\n,]/).map(t=>t.trim()).filter(Boolean).map(t=>t.replace(/\s+/g,"_").toUpperCase()):[]}const d6={data(){return{currentTheme:"mole",activeTab:"canvas",claudeCommand:"",claudeLastResponse:"",cy:null,edgeHandles:null,moduleEdges:[],moduleSummary:{moduleCount:0,dependencyCount:0,externalDependencyCount:0,totalLines:0},stats:null,agents:[],taskQueue:[],tickets:[],features:[],modules:[],exportsList:[],latestAudit:null,loading:{tickets:!1,features:!1,modules:!1,agents:!1,exports:!1,stats:!1},bugFilter:{priority:"",status:""},featureFilter:{module:"",status:""},selectedModules:[],ticketStatusOptions:[{value:"reported",label:"Reported"},{value:"in_progress",label:"In Progress"},{value:"finished",label:"Finished"}],showTicketCompletionModal:!1,ticketBeingUpdated:null,ticketStatusElement:null,ticketCompletionSummary:"",ticketCompletionError:"",showBugModal:!1,showFeatureModal:!1,showAddModuleModal:!1,newBug:{title:"",description:"",priority:"medium",modules:[],tagsText:""},newFeature:{title:"",description:"",moduleId:"",priority:"medium",criteriaText:""},newModule:{name:"",id:"",path:"",depsString:"",type:"custom"},interviewBlueprint:null,baseSectionOrder:[],typeSectionMap:{},frameworkSectionMap:{},languageFrameworks:{},currentSectionOrder:[],activeSectionIndex:0,completedSections:[],currentQuestions:[],currentPhase:"initial",questionAnswers:{},generatedSpec:"",latestSpecMeta:null,latestSpecPayload:null,specExportFormat:"json",apiFormat:"openapi",apiSpecContent:"",apiSpecPayload:null,docType:"overview",docTitle:"Project Overview",generatedDocs:'<p class="loading">Select documentation type and click generate...</p>',mermaidCode:""}},computed:{filteredBugs(){return this.tickets.filter(e=>!(this.bugFilter.priority&&e.priority!==this.bugFilter.priority||this.bugFilter.status&&e.status!==this.bugFilter.status)).sort((e,t)=>new Date(e.created)-new Date(t.created))},filteredFeatures(){return this.features.filter(e=>!(this.featureFilter.module&&e.moduleId!==this.featureFilter.module||this.featureFilter.status&&e.status!==this.featureFilter.status||this.selectedModules.length>0&&!this.selectedModules.includes(e.moduleId)))},availableTags(){const e=new Set;return this.tickets.forEach(t=>{(t.tags||[]).forEach(r=>e.add(r))}),Array.from(e).sort()},moduleLookup(){return this.modules.reduce((e,t)=>(e[t.id]=t,e),{})},ticketProgress(){var l,u,c,h,f;const e=((l=this.stats)==null?void 0:l.reported)||0,t=((u=this.stats)==null?void 0:u.in_progress)||0,r=((c=this.stats)==null?void 0:c.finished)||0,n=((h=this.stats)==null?void 0:h.open)!==void 0?this.stats.open:e+t,i=((f=this.stats)==null?void 0:f.closed)!==void 0?this.stats.closed:r,a=n+i,o=a?Math.round(n/a*100):0,s=a?100-o:0;return{reported:e,inProgress:t,finished:r,open:n,closed:i,total:a,openPct:o,closedPct:s}}},methods:{async bootstrap(){await this.loadInterviewBlueprint(),this.initializeInterview(),await Promise.all([this.fetchAgents(),this.fetchTickets(),this.fetchFeatures(),this.fetchModulesGraph(),this.fetchExports(),this.fetchStats()]),this.activeTab==="canvas"&&this.$nextTick(()=>this.ensureCanvas())},async loadInterviewBlueprint(){if(!this.interviewBlueprint)try{const t=await(await fetch(h6,{cache:"no-cache"})).json();this.interviewBlueprint=t.sections||{},this.baseSectionOrder=t.baseOrder||Object.keys(this.interviewBlueprint),this.typeSectionMap=t.typeOrder||{},this.frameworkSectionMap=t.frameworkSectionMap||{},this.languageFrameworks=t.languageFrameworks||{}}catch(e){console.error("Interview blueprint load error",e),this.interviewBlueprint={},this.baseSectionOrder=[],this.typeSectionMap={},this.frameworkSectionMap={},this.languageFrameworks={}}},initializeInterview(){if(!this.interviewBlueprint||this.baseSectionOrder.length===0){this.currentQuestions=[],this.currentSectionOrder=[],this.currentPhase="initial";return}this.questionAnswers={},this.completedSections=[],this.currentSectionOrder=[...this.baseSectionOrder],this.activeSectionIndex=0,this.currentQuestions=[];const e=this.currentSectionOrder[0];e&&(this.enqueueSection(e),this.currentPhase=this.getSectionTitle(e))},getSection(e){return!e||!this.interviewBlueprint?null:this.interviewBlueprint[e]||null},getSectionTitle(e){const t=this.getSection(e);return t?t.title:"Interview"},cloneSectionQuestions(e){const t=this.getSection(e);return!t||!Array.isArray(t.questions)?[]:t.questions.map((r,n)=>({...r,answer:this.questionAnswers[r.id]||"",sectionId:e,sectionTitle:t.title,sectionDescription:t.description||"",isSectionFirst:n===0}))},enqueueSection(e){if(!e||this.currentQuestions.some(r=>r.sectionId===e))return;const t=this.cloneSectionQuestions(e);t.length&&this.currentQuestions.push(...t)},extendSectionsForProjectType(e){if(!e)return;(this.typeSectionMap[e]||[]).forEach(r=>{this.currentSectionOrder.includes(r)||this.currentSectionOrder.push(r)})},extendSectionsForFramework(e){if(!e)return;const t=Object.keys(this.frameworkSectionMap).find(n=>n.toLowerCase()===String(e).toLowerCase());if(!t)return;(this.frameworkSectionMap[t]||[]).forEach(n=>{this.currentSectionOrder.includes(n)||this.currentSectionOrder.push(n)})},updateFrameworkOptions(e){if(!e)return;const t=Object.keys(this.languageFrameworks).find(i=>i.toLowerCase()===String(e).toLowerCase()),r=t?this.languageFrameworks[t]:["None/Custom"],n=this.currentQuestions.find(i=>i.id==="preferred-framework");n&&(n.options=r,r.includes(n.answer)||(n.answer="",this.questionAnswers["preferred-framework"]=""))},advanceSectionIfComplete(e){if(!e||this.completedSections.includes(e))return;const t=this.getSection(e);if(!(!t||!t.questions.every(n=>{if(n.required===!1)return!0;const i=this.questionAnswers[n.id];return i==null?!1:String(i).trim().length>0})))if(this.completedSections.push(e),this.activeSectionIndex<this.currentSectionOrder.length-1){this.activeSectionIndex+=1;const n=this.currentSectionOrder[this.activeSectionIndex];this.enqueueSection(n),this.currentPhase=this.getSectionTitle(n)}else this.currentPhase="Complete"},async fetchAgents(){try{this.loading.agents=!0;const r=((await(await fetch("/api/agents")).json()).agents||[]).map(n=>({id:n.id,name:n.name,category:n.category,path:n.path,icon:D0[n.category]||D0.general,status:"idle",taskCount:0}));this.agents=r}catch(e){console.error("Agent load error",e)}finally{this.loading.agents=!1}},async fetchTickets(){try{this.loading.tickets=!0;const t=await(await fetch("/api/tickets")).json();this.tickets=Array.isArray(t)?t:[]}catch(e){console.error("Ticket load error",e)}finally{this.loading.tickets=!1}},async fetchFeatures(){try{this.loading.features=!0;const t=await(await fetch("/api/features")).json();this.features=Array.isArray(t)?t:[]}catch(e){console.error("Feature load error",e)}finally{this.loading.features=!1}},async fetchModulesGraph(){try{this.loading.modules=!0;const t=await(await fetch("/api/modules/graph")).json();this.modules=t.modules||[],this.moduleEdges=(t.edges||[]).filter(r=>this.modules.some(n=>n.id===r.source)&&this.modules.some(n=>n.id===r.target)),this.moduleSummary=t.summary||this.moduleSummary,this.ensureCanvas()}catch(e){console.error("Module graph error",e)}finally{this.loading.modules=!1}},async fetchExports(){try{this.loading.exports=!0;const t=await(await fetch("/api/exports")).json();this.exportsList=t.files||[]}catch(e){console.error("Exports load error",e)}finally{this.loading.exports=!1}},async fetchStats(){try{this.loading.stats=!0;const t=await(await fetch("/api/stats")).json();this.stats=t}catch(e){console.error("Stats load error",e)}finally{this.loading.stats=!1}},setTheme(e){this.currentTheme=e;const t=document.documentElement,r=document.body;t&&t.setAttribute("data-theme",e),r&&r.setAttribute("data-theme",e),localStorage.setItem("opnix_theme",e),Kw(e),this.cy&&this.cy.resize()},setTab(e){this.activeTab=e,e==="canvas"&&this.$nextTick(()=>this.ensureCanvas())},async executeClaudeCommand(){const e=this.claudeCommand.trim();if(!e)return;const t=/--ultrathink/i.test(e)?e:`${e} --ultrathink`;this.addTask("Claude CLI",t,"processing");try{const n=await(await fetch("/api/claude/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:t})})).json();this.claudeLastResponse=n.result||"Command executed",this.addTask("Claude CLI",this.claudeLastResponse,"complete"),n.audit&&(this.latestAudit=n.audit,console.group("Opnix Audit"),console.table(n.audit.project||{}),console.table(n.audit.ticketStats||{}),console.groupEnd(),this.addTask("Audit","Initial audit artefacts generated","complete"),await Promise.all([this.fetchModulesGraph(),this.fetchExports(),this.fetchStats()]))}catch(r){console.error("Claude command failed",r),this.addTask("Claude CLI","Execution failed","complete")}this.claudeCommand=""},activateAgent(e){this.agents=this.agents.map(t=>({...t,status:t.id===e.id?"active":"idle",taskCount:t.id===e.id?t.taskCount+1:t.taskCount})),fetch("/api/agents/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:e.id})}).catch(t=>console.error("Agent activation error",t)),this.addTask(e.name,"Agent activated","complete")},addTask(e,t,r="pending"){const n={id:Date.now()+Math.random(),agent:e,description:t,status:r};this.taskQueue.unshift(n),this.taskQueue.length>5&&this.taskQueue.pop(),r!=="complete"&&setTimeout(()=>{n.status="complete"},2e3)},ensureCanvas(){const e=document.getElementById("canvas-container");e&&(this.cy||(this.cy=_i({container:e,elements:[],boxSelectionEnabled:!0,style:[{selector:"node",style:{"background-color":t=>this.getHealthColor(t.data("health")||60),label:"data(label)",color:"#FAEBD7","text-valign":"center","text-halign":"center","text-wrap":"wrap","font-family":"JetBrains Mono","font-size":"12px",width:"140px",height:"90px","border-width":2,"border-color":"#06B6D4",padding:"10px"}},{selector:"edge",style:{"curve-style":"bezier","target-arrow-shape":"triangle","line-color":"#E94560","target-arrow-color":"#E94560",width:2}},{selector:"node:selected",style:{"background-color":"#FF8C3B","border-color":"#E94560","border-width":4}}],layout:{name:"cose",animate:!0,animationDuration:800,nodeRepulsion:4e3,idealEdgeLength:120},wheelSensitivity:.2}),this.cy.edgehandles&&(this.edgeHandles=this.cy.edgehandles({hoverDelay:150,handleSize:10,handleColor:"#FF8C3B",edgeType:(t,r)=>t.id()===r.id()?null:"flat",noEdgeEventsInDraw:!0}),this.cy.on("ehcomplete",async(t,r,n,i)=>{if(r.id()===n.id()){i.remove();return}await this.persistModuleLink(r.id(),n.id(),i)})),this.cy.on("tap","node",t=>{const r=t.target,n=this.modules.find(i=>i.id===r.id());n&&this.analyzeModule(n)})),this.refreshCanvas())},refreshCanvas(){if(!this.cy)return;const e=[];this.modules.forEach(t=>{const r=[t.name];typeof t.health=="number"&&r.push(`💚 ${t.health}% health`),t.pathHints&&t.pathHints.length>0&&r.push(t.pathHints[0]),e.push({data:{id:t.id,label:r.join(`
`),health:t.health||60,coverage:t.coverage||0}})}),this.moduleEdges.forEach(t=>{const r=t.id||`${t.source}->${t.target}`;e.push({data:{id:r,source:t.source,target:t.target}})}),this.cy.elements().remove(),this.cy.add(e),this.cy.layout({name:"cose",animate:!0,animationDuration:700,nodeRepulsion:4500,idealEdgeLength:140}).run()},layoutCanvas(e){if(!this.cy)return;const r={breadthfirst:{name:"breadthfirst",directed:!0,padding:10,spacingFactor:1.3},circle:{name:"circle",radius:280},cose:{name:"cose",nodeRepulsion:4e3,idealEdgeLength:140}}[e];r&&this.cy.layout(r).run()},async detectModules(){this.addTask("Backend Architect","Scanning project structure","processing");try{const t=await(await fetch("/api/modules/detect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();this.modules=t.modules||[],this.moduleEdges=(t.edges||[]).filter(r=>this.modules.some(n=>n.id===r.source)&&this.modules.some(n=>n.id===r.target)),this.moduleSummary=t.summary||this.moduleSummary,this.refreshCanvas()}catch(e){console.error("Detect modules failed",e)}},async persistModuleLink(e,t,r){try{const n=await fetch("/api/modules/links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,target:t})});n.status===201?(this.addTask("Canvas",`Linked ${e} → ${t}`,"complete"),await this.detectModules()):n.status===200?this.addTask("Canvas",`Link ${e} → ${t} already exists`,"complete"):console.error("Failed to persist link",await n.text())}catch(n){console.error("Persist link error",n)}finally{r&&!r.destroyed()&&r.remove()}},analyzeCanvas(){const e={modules:this.modules.length,dependencies:this.moduleEdges.length,externalDependencies:this.modules.reduce((t,r)=>t+(r.externalDependencies?r.externalDependencies.length:0),0)};console.table(e),this.addTask("Backend Architect","Canvas metrics computed","complete")},async exportCanvas(){if(this.cy)try{const e=this.cy.png({full:!0}),r=await(await fetch("/api/canvas/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:"png",data:e})})).json();r.success&&(this.addTask("Canvas Export",`Saved ${r.filename}`,"complete"),await this.fetchExports())}catch(e){console.error("Canvas export failed",e)}},async addBug(){if(this.newBug.title.trim())try{const e=f6(this.newBug.tagsText),r=await(await fetch("/api/tickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.newBug.title,description:this.newBug.description,priority:this.newBug.priority,status:"reported",modules:this.newBug.modules,tags:e})})).json();this.tickets.push(r),this.showBugModal=!1,this.newBug={title:"",description:"",priority:"medium",modules:[],tagsText:""},this.addTask("Bug Tracker",`Ticket #${r.id} recorded`,"complete")}catch(e){console.error("Create bug failed",e)}},async addFeature(){if(this.newFeature.title.trim())try{const e=this.newFeature.criteriaText.split(`
`).map(n=>n.trim().replace(/^[-*]\s*/,"")).filter(Boolean),r=await(await fetch("/api/features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.newFeature.title,description:this.newFeature.description,moduleId:this.newFeature.moduleId,priority:this.newFeature.priority,acceptanceCriteria:e})})).json();this.features.push(r),this.showFeatureModal=!1,this.newFeature={title:"",description:"",moduleId:"",priority:"medium",criteriaText:""},this.addTask("Feature Manager",`Feature ${r.title} created`,"complete")}catch(e){console.error("Create feature failed",e)}},async addModule(){if(this.newModule.name.trim())try{const e=this.newModule.depsString.split(",").map(r=>r.trim()).filter(Boolean);await(await fetch("/api/modules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.newModule.id||void 0,name:this.newModule.name,path:this.newModule.path||void 0,dependencies:e,type:this.newModule.type})})).json(),this.showAddModuleModal=!1,this.newModule={name:"",id:"",path:"",depsString:"",type:"custom"},await this.fetchModulesGraph(),this.addTask("Module Manager","Module catalog updated","complete")}catch(e){console.error("Add module failed",e)}},analyzeModule(e){const t=this.features.filter(n=>n.moduleId===e.id),r=this.tickets.filter(n=>(n.modules||[]).includes(e.id));console.table({module:e.name,features:t.length,tickets:r.length,coverage:e.coverage}),this.addTask("AI Engineer",`Analyzed ${e.name}`,"complete")},analyzeModuleDependencies(){const e=this.moduleEdges.reduce((t,r)=>(t[r.source]=t[r.source]||[],t[r.source].push(r.target),t),{});console.table(e),this.addTask("Backend Architect","Dependency map calculated","complete")},getModuleBugCount(e){return this.tickets.filter(t=>(t.modules||[]).includes(e)).length},getModuleFeatureCount(e){return this.features.filter(t=>t.moduleId===e).length},getModuleName(e){const t=this.moduleLookup[e];return t?t.name:"Unknown"},getHealthColor(e){return e>=80?"#10B981":e>=60?"#F59E0B":"#EF4444"},getFeatureStatusColor(e){return{proposed:"#8B5CF6",approved:"#06B6D4","in-development":"#F59E0B",testing:"#EC4899",deployed:"#10B981"}[e]||"#7B8AA8"},toggleModule(e){const t=this.selectedModules.indexOf(e);t>-1?this.selectedModules.splice(t,1):this.selectedModules.push(e)},formatDate(e){try{return new Date(e).toLocaleDateString()}catch{return e}},statusLabel(e){const t={reported:"Reported",in_progress:"In Progress",finished:"Finished"};return t[e]?t[e]:e.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase())},async onTicketStatusChange(e,t){const r=t.target.value;if(!r||r===e.status){t.target.value=e.status;return}if(r==="finished"){this.ticketBeingUpdated=e,this.ticketStatusElement=t.target,this.ticketCompletionSummary=e.completionSummary||"",this.ticketCompletionError="",this.showTicketCompletionModal=!0;return}try{await this.persistTicketUpdate(e,{status:r},t.target)}catch{}},async persistTicketUpdate(e,t,r){try{const n=await fetch(`/api/tickets/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Ticket update failed with status ${n.status}`);const i=await n.json(),a=this.tickets.findIndex(o=>o.id===i.id);return a!==-1&&this.tickets.splice(a,1,i),await this.fetchStats(),this.addTask("Bug Tracker",`Ticket #${i.id} updated`,"complete"),i}catch(n){throw console.error("Persist ticket update failed",n),r&&(r.value=e.status),n}},cancelTicketCompletion(){this.ticketStatusElement&&this.ticketBeingUpdated&&(this.ticketStatusElement.value=this.ticketBeingUpdated.status),this.showTicketCompletionModal=!1,this.ticketBeingUpdated=null,this.ticketStatusElement=null,this.ticketCompletionSummary="",this.ticketCompletionError=""},async confirmTicketCompletion(){if(!this.ticketBeingUpdated){this.showTicketCompletionModal=!1;return}if(!this.ticketCompletionSummary||!this.ticketCompletionSummary.trim()){this.ticketCompletionError="Completion summary is required.";return}try{await this.persistTicketUpdate(this.ticketBeingUpdated,{status:"finished",completionSummary:this.ticketCompletionSummary.trim()},this.ticketStatusElement),this.showTicketCompletionModal=!1,this.ticketCompletionSummary="",this.ticketCompletionError="",this.ticketBeingUpdated=null,this.ticketStatusElement=null}catch{this.ticketCompletionError="Unable to update ticket. Check console for details."}},async exportBugs(){try{const t=await(await fetch("/api/export/markdown")).text(),r=new Blob([t],{type:"text/markdown"}),n=document.createElement("a");n.href=URL.createObjectURL(r),n.download="opnix-tickets.md",n.click(),URL.revokeObjectURL(n.href)}catch(e){console.error("Export bugs failed",e)}},generateAPISpec(){const e=[{path:"/api/health",method:"GET"},{path:"/api/tickets",method:"GET"},{path:"/api/tickets",method:"POST"},{path:"/api/tickets/:id",method:"PUT"},{path:"/api/tickets/:id",method:"DELETE"},{path:"/api/features",method:"GET"},{path:"/api/features",method:"POST"},{path:"/api/modules",method:"GET"},{path:"/api/modules/detect",method:"POST"},{path:"/api/modules/graph",method:"GET"},{path:"/api/modules/links",method:"POST"},{path:"/api/modules/links",method:"DELETE"},{path:"/api/canvas/export",method:"POST"},{path:"/api/specs/generate",method:"POST"},{path:"/api/exports",method:"GET"},{path:"/api/exports/:filename",method:"GET"}],t={openapi:()=>({openapi:"3.0.0",info:{title:"Opnix API",version:"1.0.0"},paths:e.reduce((n,i)=>{const a=i.path;return n[a]=n[a]||{},n[a][i.method.toLowerCase()]={summary:`${i.method} ${i.path}`,responses:{200:{description:"Success"}}},n},{})}),custom:()=>({api:"Opnix/v1.0",baseUrl:"/api",endpoints:e}),json:()=>({$schema:"http://json-schema.org/draft-07/schema#",endpoints:e})},r=t[this.apiFormat]||t.openapi;this.apiSpecPayload=r(),this.apiSpecContent=JSON.stringify(this.apiSpecPayload,null,2),this.addTask("API Generator","API spec generated","complete")},async exportAPISpec(){this.apiSpecPayload||this.generateAPISpec();try{const t=await(await fetch("/api/specs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:this.apiSpecPayload,format:"json"})})).json();t.success&&(this.addTask("API Generator",`Spec saved as ${t.filename}`,"complete"),await this.fetchExports())}catch(e){console.error("Export API spec failed",e)}},async testAPI(){const e=await fetch("/api/health").then(r=>r.ok).catch(()=>!1),t=await fetch("/api/tickets").then(r=>r.ok).catch(()=>!1);console.table({healthResponse:e,ticketsResponse:t}),this.addTask("API Tester","Smoke tests executed","complete")},generateDocs(){const e=this.modules.map(r=>{const n=r.dependencies&&r.dependencies.length?r.dependencies.join(", "):"None",i=r.externalDependencies&&r.externalDependencies.length?r.externalDependencies.join(", "):"None";return`
                    <h4>${r.name}</h4>
                    <p>Health: ${r.health||"n/a"}%</p>
                    <p>Coverage: ${r.coverage||0}%</p>
                    <p>Dependencies: ${n}</p>
                    <p>External: ${i}</p>
                `}).join(""),t={overview:`<h3>Opnix Statistics</h3>
                    <ul>
                        <li>Total Tickets: ${this.tickets.length}</li>
                        <li>Total Features: ${this.features.length}</li>
                        <li>Modules Discovered: ${this.modules.length}</li>
                        <li>Dependencies: ${this.moduleEdges.length}</li>
                    </ul>`,modules:`<h3>Module Documentation</h3>${e}`,api:`<h3>API Documentation</h3>
                    <pre>${this.apiSpecContent||"Generate API spec first"}</pre>`,features:`<h3>Feature Specifications</h3>
                    ${this.features.map(r=>`
                        <h4>${r.title}</h4>
                        <p>${r.description}</p>
                        <p><strong>Status:</strong> ${r.status||"proposed"}</p>
                        <p><strong>Module:</strong> ${this.getModuleName(r.moduleId)}</p>
                    `).join("")}`};this.generatedDocs=t[this.docType],this.docTitle=this.docType.charAt(0).toUpperCase()+this.docType.slice(1)+" Documentation",this.addTask("Documentation Expert","Documentation generated","complete")},exportDocs(){const e=this.generatedDocs.replace(/<[^>]+>/g,""),t=new Blob([e],{type:"text/markdown"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download="opnix-docs.md",r.click(),URL.revokeObjectURL(r.href)},generateFromModules(){let e=`graph TD
`;this.modules.forEach(t=>{e+=`    ${t.id.replace(/[^a-zA-Z0-9_]/g,"_")}[${t.name}]
`}),e+=`
`,this.moduleEdges.forEach(t=>{e+=`    ${t.source.replace(/[^a-zA-Z0-9_]/g,"_")} --> ${t.target.replace(/[^a-zA-Z0-9_]/g,"_")}
`}),this.mermaidCode=e,this.renderMermaid()},renderMermaid(){const e=document.getElementById("mermaid-output");e&&(e.innerHTML="",e.removeAttribute("data-processed"),Kr.render(`mermaid-${Date.now()}`,this.mermaidCode).then(t=>{e.innerHTML=t.svg}).catch(t=>{e.innerHTML=`<p style="color: var(--danger);">${t.message}</p>`}))},processAnswer(e){!e||!e.id||(this.questionAnswers[e.id]=e.answer,e.id==="project-type"&&e.answer&&this.extendSectionsForProjectType(e.answer),e.id==="primary-language"&&e.answer&&this.updateFrameworkOptions(e.answer),e.id==="preferred-framework"&&e.answer&&this.extendSectionsForFramework(e.answer),this.advanceSectionIfComplete(e.sectionId))},collectAnswers(){const e={};return Object.entries(this.questionAnswers).forEach(([t,r])=>{r!=null&&String(r).trim().length>0&&(e[t]=r)}),e},buildSpecPayload(){const e=this.collectAnswers();return{generatedAt:new Date().toISOString(),questionAnswers:e,project:{name:e["project-name"]||"Untitled Project",type:e["project-type"]||"Unknown",goal:e["project-purpose"]||e["value-proposition"]||""},technical:{language:e["primary-language"]||null,framework:e["preferred-framework"]||null,stack:e["supporting-libraries"]||null,architecture:{current:e["current-architecture"]||null,target:e["target-architecture-vision"]||null,dataStores:e["data-sources"]||null,integrations:e["integration-providers"]||e["integration-consumers"]||null,testingStrategy:e["testing-strategy"]||null,observability:e["observability-tooling"]||null}},modules:this.modules,canvas:{edges:this.moduleEdges,summary:this.moduleSummary},features:this.features,tickets:this.tickets}},async generateSpec(){const e=this.buildSpecPayload();this.latestSpecPayload=e,this.generatedSpec=JSON.stringify(e,null,2);try{const t=this.specExportFormat==="github"?"github-spec-kit":this.specExportFormat,n=await(await fetch("/api/specs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:e,format:t})})).json();n.success&&(this.latestSpecMeta=n,this.addTask("Spec Builder",`Spec saved as ${n.filename}`,"complete"),await this.fetchExports())}catch(t){console.error("Generate spec failed",t)}}},mounted(){const e=localStorage.getItem("opnix_theme")||"mole";this.setTheme(e),this.bootstrap()}},v6=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},p6=d6,g6={class:"app-container"},m6={class:"header"},y6={class:"theme-switcher"},b6={class:"container"},x6={class:"claude-cli-bar"},C6={class:"claude-command"},w6={class:"agents-bar"},T6={class:"agents-grid"},_6=["onClick"],S6={class:"agent-icon"},E6={class:"agent-name"},k6={class:"agent-status"},A6={style:{"margin-top":"0.5rem","font-size":"0.7rem"}},B6={key:0,class:"task-queue"},L6={key:0,class:"status-overview"},D6={class:"card status-card"},M6={class:"status-header"},P6={class:"status-counts"},F6={class:"status-metric"},O6={class:"status-value"},R6={class:"status-metric"},I6={class:"status-value"},N6={class:"status-metric"},z6={class:"status-value"},$6={class:"status-bar","aria-label":"Open vs closed work balance"},q6={class:"status-legend"},V6={class:"status-chip open"},H6={class:"status-chip closed"},W6={class:"status-chip reported"},U6={class:"status-chip progress"},G6={class:"status-chip finished"},Y6={key:0,class:"status-footnote"},K6={key:0,class:"status-followups"},j6={class:"tabs"},X6={class:"controls"},Z6={class:"controls"},Q6=["value"],J6={class:"grid"},eq={style:{display:"flex","justify-content":"space-between","margin-bottom":"1rem"}},tq={style:{color:"var(--text-muted)","font-size":"0.8rem"}},rq={style:{color:"var(--text-bright)","margin-bottom":"0.5rem"}},nq={style:{"margin-bottom":"1rem"}},iq={style:{display:"flex","flex-wrap":"wrap",gap:"0.5rem","margin-bottom":"1rem"}},aq={key:0,class:"completion-summary"},oq={class:"ticket-status-row"},sq={class:"ticket-status-control"},lq=["value","onChange"],uq=["value"],cq={class:"ticket-date"},hq={class:"controls"},fq=["value"],dq={class:"tag-cloud"},vq=["onClick"],pq={class:"grid"},gq={style:{display:"flex","justify-content":"space-between","margin-bottom":"1rem"}},mq={style:{color:"var(--text-muted)"}},yq={style:{color:"var(--feature)","margin-bottom":"0.5rem"}},bq={style:{"margin-bottom":"1rem"}},xq={style:{"margin-bottom":"1rem"}},Cq={key:0,style:{"margin-bottom":"1rem"}},wq={style:{"margin-left":"1.5rem","margin-top":"0.5rem"}},Tq={style:{display:"flex","justify-content":"space-between"}},_q={style:{"text-align":"right"}},Sq={style:{color:"var(--text-muted)","font-size":"0.8rem"}},Eq={style:{color:"var(--text-muted)","font-size":"0.8rem"}},kq={class:"controls"},Aq={key:0,class:"card",style:{"margin-bottom":"1.5rem",display:"flex","flex-wrap":"wrap",gap:"2rem","align-items":"center"}},Bq={style:{display:"flex",gap:"1.5rem","flex-wrap":"wrap"}},Lq={style:{"font-size":"1.8rem",color:"var(--accent-blue)","font-weight":"bold"}},Dq={style:{"font-size":"1.8rem",color:"var(--accent-orange)","font-weight":"bold"}},Mq={style:{"font-size":"1.8rem",color:"var(--accent-cyan)","font-weight":"bold"}},Pq={style:{"font-size":"1.8rem",color:"var(--accent-pink)","font-weight":"bold"}},Fq={class:"grid"},Oq={class:"module-header"},Rq={class:"module-name"},Iq={class:"module-stats"},Nq={class:"stat-item"},zq={class:"stat-value"},$q={class:"stat-item"},qq={class:"stat-value"},Vq={class:"stat-item"},Hq={class:"stat-value"},Wq={class:"module-dependencies"},Uq={style:{"font-size":"0.8rem",color:"var(--text-muted)","margin-bottom":"0.5rem"}},Gq={key:0,class:"module-dependencies"},Yq={style:{"font-size":"0.8rem",color:"var(--text-muted)","margin-bottom":"0.5rem"}},Kq={key:1,class:"module-dependencies"},jq={style:{"margin-top":"1rem"}},Xq=["onClick"],Zq={class:"spec-builder"},Qq={style:{"margin-bottom":"2rem"}},Jq={style:{color:"var(--accent-orange)","font-weight":"bold"}},e8={key:0,class:"interview-section-header"},t8={key:0,class:"interview-section-description"},r8={class:"question-label"},n8=["onUpdate:modelValue","onChange","placeholder"],i8=["onUpdate:modelValue","onChange","placeholder"],a8=["onUpdate:modelValue","onChange"],o8=["value"],s8={key:4,class:"question-help"},l8={style:{display:"flex",gap:"1rem","flex-wrap":"wrap","align-items":"center","margin-top":"1rem"}},u8={style:{display:"flex","flex-direction":"column",gap:"0.4rem"}},c8={key:0,style:{color:"var(--accent-cyan)","font-size":"0.85rem"}},h8={key:0,style:{"margin-top":"2rem"}},f8={class:"api-spec"},d8={class:"controls"},v8={class:"controls"},p8={class:"api-spec"},g8={class:"controls"},m8={class:"card"},y8={style:{color:"var(--doc)","margin-bottom":"1rem"}},b8=["innerHTML"],x8={class:"modal-content",style:{position:"relative"}},C8={class:"form-group"},w8={class:"form-group"},T8={class:"form-group"},_8={class:"form-group"},S8={style:{display:"flex","flex-wrap":"wrap",gap:"0.5rem"}},E8=["value"],k8={class:"form-group"},A8={class:"modal-content",style:{position:"relative"}},B8={class:"form-group"},L8={key:0,class:"form-error"},D8={class:"modal-actions"},M8={class:"modal-content",style:{position:"relative"}},P8={class:"form-group"},F8={class:"form-group"},O8={class:"form-group"},R8=["value"],I8={class:"form-group"},N8={class:"form-group"},z8={class:"modal-content",style:{position:"relative"}},$8={class:"form-group"},q8={class:"form-group"},V8={class:"form-group"},H8={class:"form-group"},W8={class:"form-group"};function U8(e,t,r,n,i,a){return Oe(),Re("div",g6,[N("header",m6,[N("div",y6,[N("button",{class:rt(["theme-btn",{active:e.currentTheme==="mole"}]),onClick:t[0]||(t[0]=o=>e.setTheme("mole"))}," MOLE ",2),N("button",{class:rt(["theme-btn",{active:e.currentTheme==="canyon"}]),onClick:t[1]||(t[1]=o=>e.setTheme("canyon"))}," CANYON ",2)]),t[72]||(t[72]=N("h1",null,"OTKIT",-1)),t[73]||(t[73]=N("p",{class:"subtitle"},"OPERATIONAL TOOLKIT // v1.0",-1))]),N("div",b6,[N("div",x6,[N("div",C6,[t[74]||(t[74]=N("span",{style:{color:"var(--accent-cyan)"}},"claude$",-1)),lt(N("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>e.claudeCommand=o),onKeyup:t[3]||(t[3]=mS((...o)=>e.executeClaudeCommand&&e.executeClaudeCommand(...o),["enter"])),placeholder:"setup audit | analyze modules | detect dependencies | fix issue #123 | generate docs (auto --ultrathink)"},null,544),[[cr,e.claudeCommand]]),N("button",{class:"btn",onClick:t[4]||(t[4]=(...o)=>e.executeClaudeCommand&&e.executeClaudeCommand(...o))},"EXECUTE")])]),N("div",w6,[t[76]||(t[76]=N("h3",{style:{color:"var(--text-bright)","margin-bottom":"1rem"}},"🤖 Active Agents",-1)),N("div",T6,[(Oe(!0),Re(ct,null,Nt(e.agents,o=>(Oe(),Re("div",{key:o.id,class:rt(["agent-card",{active:o.status==="active"}]),onClick:s=>e.activateAgent(o)},[N("div",S6,Ae(o.icon),1),N("div",E6,Ae(o.name),1),N("div",k6,Ae(o.status),1),N("div",A6," Tasks: "+Ae(o.taskCount),1)],10,_6))),128))]),e.taskQueue.length>0?(Oe(),Re("div",B6,[t[75]||(t[75]=N("h4",{style:{color:"var(--accent-orange)","margin-bottom":"0.5rem"}},"Task Queue",-1)),(Oe(!0),Re(ct,null,Nt(e.taskQueue,o=>(Oe(),Re("div",{key:o.id,class:"task-item"},[N("span",null,Ae(o.agent)+" → "+Ae(o.description),1),N("span",{class:rt(["task-status",o.status])},Ae(o.status),3)]))),128))])):rr("",!0)]),e.stats?(Oe(),Re("div",L6,[N("div",D6,[N("div",M6,[t[80]||(t[80]=N("div",null,[N("h3",{style:{color:"var(--accent-cyan)"}},"Ticket Pulse"),N("p",{style:{color:"var(--text-muted)","font-size":"0.8rem"}},"Live view of open vs closed work")],-1)),N("div",P6,[N("div",F6,[N("div",O6,Ae(e.ticketProgress.open),1),t[77]||(t[77]=N("div",{class:"status-label"},"Open",-1))]),N("div",R6,[N("div",I6,Ae(e.ticketProgress.closed),1),t[78]||(t[78]=N("div",{class:"status-label"},"Closed",-1))]),N("div",N6,[N("div",z6,Ae(e.ticketProgress.total),1),t[79]||(t[79]=N("div",{class:"status-label"},"Total",-1))])])]),N("div",$6,[N("div",{class:"status-bar-open",style:Gi({width:e.ticketProgress.openPct+"%"})},null,4),N("div",{class:"status-bar-closed",style:Gi({width:e.ticketProgress.closedPct+"%"})},null,4)]),N("div",q6,[N("span",V6,"Open "+Ae(e.ticketProgress.openPct)+"%",1),N("span",H6,"Closed "+Ae(e.ticketProgress.closedPct)+"%",1),N("span",W6,"Reported "+Ae(e.ticketProgress.reported),1),N("span",U6,"In Progress "+Ae(e.ticketProgress.inProgress),1),N("span",G6,"Finished "+Ae(e.ticketProgress.finished),1)]),e.latestAudit?(Oe(),Re("div",Y6,[wl(Ae(e.latestAudit.message)+" ",1),e.latestAudit.followUps&&e.latestAudit.followUps.length?(Oe(),Re("ul",K6,[(Oe(!0),Re(ct,null,Nt(e.latestAudit.followUps.slice(0,3),(o,s)=>(Oe(),Re("li",{key:s},Ae(o),1))),128))])):rr("",!0)])):rr("",!0)])])):rr("",!0),N("div",j6,[N("div",{class:rt(["tab",{active:e.activeTab==="canvas"}]),onClick:t[5]||(t[5]=o=>e.setTab("canvas"))}," 🕸️ CANVAS ",2),N("div",{class:rt(["tab",{active:e.activeTab==="bugs"}]),onClick:t[6]||(t[6]=o=>e.setTab("bugs"))}," 🐛 BUGS ",2),N("div",{class:rt(["tab",{active:e.activeTab==="features"}]),onClick:t[7]||(t[7]=o=>e.setTab("features"))}," ✨ FEATURES ",2),N("div",{class:rt(["tab",{active:e.activeTab==="modules"}]),onClick:t[8]||(t[8]=o=>e.setTab("modules"))}," 📦 MODULES ",2),N("div",{class:rt(["tab",{active:e.activeTab==="specs"}]),onClick:t[9]||(t[9]=o=>e.setTab("specs"))}," 📋 SPECS ",2),N("div",{class:rt(["tab",{active:e.activeTab==="diagrams"}]),onClick:t[10]||(t[10]=o=>e.setTab("diagrams"))}," 📊 DIAGRAMS ",2),N("div",{class:rt(["tab",{active:e.activeTab==="api"}]),onClick:t[11]||(t[11]=o=>e.setTab("api"))}," 🔌 API ",2),N("div",{class:rt(["tab",{active:e.activeTab==="docs"}]),onClick:t[12]||(t[12]=o=>e.setTab("docs"))}," 📚 DOCS ",2)]),N("div",{class:rt(["tab-content",{active:e.activeTab==="canvas"}])},[N("div",X6,[N("button",{class:"btn",onClick:t[13]||(t[13]=o=>e.layoutCanvas("breadthfirst"))},"📊 Tree"),N("button",{class:"btn",onClick:t[14]||(t[14]=o=>e.layoutCanvas("circle"))},"⭕ Circle"),N("button",{class:"btn",onClick:t[15]||(t[15]=o=>e.layoutCanvas("cose"))},"🌐 Force"),N("button",{class:"btn secondary",onClick:t[16]||(t[16]=o=>e.detectModules())},"🔍 Detect"),N("button",{class:"btn feature",onClick:t[17]||(t[17]=o=>e.analyzeCanvas())},"📈 Analyze"),N("button",{class:"btn doc",onClick:t[18]||(t[18]=o=>e.exportCanvas())},"💾 Export")]),t[81]||(t[81]=N("div",{id:"canvas-container"},null,-1))],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="bugs"}])},[N("div",Z6,[N("button",{class:"btn danger",onClick:t[19]||(t[19]=o=>e.showBugModal=!0)},"+ New Bug"),N("button",{class:"btn secondary",onClick:t[20]||(t[20]=o=>e.analyzeWithPythonAgent())},"🐍 Python Analysis"),lt(N("select",{"onUpdate:modelValue":t[21]||(t[21]=o=>e.bugFilter.priority=o)},[...t[82]||(t[82]=[N("option",{value:""},"All Priorities",-1),N("option",{value:"high"},"High",-1),N("option",{value:"medium"},"Medium",-1),N("option",{value:"low"},"Low",-1)])],512),[[zr,e.bugFilter.priority]]),lt(N("select",{"onUpdate:modelValue":t[22]||(t[22]=o=>e.bugFilter.status=o)},[t[83]||(t[83]=N("option",{value:""},"All Status",-1)),(Oe(!0),Re(ct,null,Nt(e.ticketStatusOptions,o=>(Oe(),Re("option",{key:o.value,value:o.value},Ae(o.label),9,Q6))),128))],512),[[zr,e.bugFilter.status]]),N("button",{class:"btn secondary",onClick:t[23]||(t[23]=o=>e.exportBugs())},"Export JSON")]),N("div",J6,[(Oe(!0),Re(ct,null,Nt(e.filteredBugs,o=>(Oe(),Re("div",{key:o.id,class:rt(["card",{"high-priority":o.priority==="high"}])},[N("div",eq,[N("span",{class:rt(["badge",o.priority])},Ae(o.priority),3),N("span",tq,"#"+Ae(o.id),1)]),N("h3",rq,Ae(o.title),1),N("p",nq,Ae(o.description),1),N("div",iq,[(Oe(!0),Re(ct,null,Nt(o.modules,s=>(Oe(),Re("span",{key:s,class:"module-tag"},Ae(s),1))),128))]),o.completionSummary?(Oe(),Re("div",aq,[t[84]||(t[84]=N("strong",null,"Completion Summary",-1)),N("p",null,Ae(o.completionSummary),1)])):rr("",!0),N("div",oq,[N("div",sq,[N("span",{class:rt(["badge",o.status])},Ae(e.statusLabel(o.status)),3),N("select",{class:"status-select",value:o.status,onChange:s=>e.onTicketStatusChange(o,s)},[(Oe(!0),Re(ct,null,Nt(e.ticketStatusOptions,s=>(Oe(),Re("option",{key:s.value,value:s.value},Ae(s.label),9,uq))),128))],40,lq)]),N("span",cq,Ae(e.formatDate(o.created)),1)])],2))),128))])],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="features"}])},[N("div",hq,[N("button",{class:"btn feature",onClick:t[24]||(t[24]=o=>e.showFeatureModal=!0)},"+ New Feature"),lt(N("select",{"onUpdate:modelValue":t[25]||(t[25]=o=>e.featureFilter.module=o)},[t[85]||(t[85]=N("option",{value:""},"All Modules",-1)),(Oe(!0),Re(ct,null,Nt(e.modules,o=>(Oe(),Re("option",{key:o.id,value:o.id},Ae(o.name),9,fq))),128))],512),[[zr,e.featureFilter.module]]),lt(N("select",{"onUpdate:modelValue":t[26]||(t[26]=o=>e.featureFilter.status=o)},[...t[86]||(t[86]=[yp('<option value="">All Status</option><option value="proposed">Proposed</option><option value="approved">Approved</option><option value="in-development">In Development</option><option value="testing">Testing</option><option value="deployed">Deployed</option>',6)])],512),[[zr,e.featureFilter.status]]),N("button",{class:"btn secondary",onClick:t[27]||(t[27]=o=>e.generateFeatureReport())},"Generate Report")]),N("div",dq,[(Oe(!0),Re(ct,null,Nt(e.modules,o=>(Oe(),Re("div",{key:o.id,class:rt(["tag",{selected:e.selectedModules.includes(o.id)}]),onClick:s=>e.toggleModule(o.id)},Ae(o.name)+" ("+Ae(e.getModuleFeatureCount(o.id))+") ",11,vq))),128))]),N("div",pq,[(Oe(!0),Re(ct,null,Nt(e.filteredFeatures,o=>(Oe(),Re("div",{key:o.id,class:"card"},[N("div",gq,[t[87]||(t[87]=N("span",{class:"badge feature"},"FEATURE",-1)),N("span",mq,"#F-"+Ae(o.id),1)]),N("h3",yq,Ae(o.title),1),N("p",bq,Ae(o.description),1),N("div",xq,[t[88]||(t[88]=N("strong",{style:{color:"var(--accent-orange)"}},"Module:",-1)),wl(" "+Ae(e.getModuleName(o.moduleId)),1)]),o.acceptanceCriteria?(Oe(),Re("div",Cq,[t[89]||(t[89]=N("strong",{style:{color:"var(--accent-orange)"}},"Acceptance Criteria:",-1)),N("ul",wq,[(Oe(!0),Re(ct,null,Nt(o.acceptanceCriteria,(s,l)=>(Oe(),Re("li",{key:l},Ae(s),1))),128))])])):rr("",!0),N("div",Tq,[N("span",{class:"badge",style:Gi({background:e.getFeatureStatusColor(o.status)})},Ae(o.status),5),N("div",_q,[N("div",Sq," Priority: "+Ae(o.priority),1),N("div",Eq," Votes: "+Ae(o.votes),1)])])]))),128))])],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="modules"}])},[N("div",kq,[N("button",{class:"btn",onClick:t[28]||(t[28]=o=>e.showAddModuleModal=!0)},"+ Add Module"),N("button",{class:"btn secondary",onClick:t[29]||(t[29]=o=>e.detectModules())},"🔍 Auto-Detect"),N("button",{class:"btn doc",onClick:t[30]||(t[30]=o=>e.analyzeModuleDependencies())},"📊 Analyze Dependencies")]),e.moduleSummary.moduleCount?(Oe(),Re("div",Aq,[t[94]||(t[94]=N("div",null,[N("h3",{style:{color:"var(--accent-cyan)","margin-bottom":"0.5rem"}},"Detection Summary"),N("div",{style:{color:"var(--text-muted)","font-size":"0.9rem"}},"Based on live filesystem scan")],-1)),N("div",Bq,[N("div",null,[N("div",Lq,Ae(e.moduleSummary.moduleCount),1),t[90]||(t[90]=N("div",{style:{"text-transform":"uppercase","font-size":"0.75rem",color:"var(--text-muted)"}},"Modules",-1))]),N("div",null,[N("div",Dq,Ae(e.moduleSummary.dependencyCount),1),t[91]||(t[91]=N("div",{style:{"text-transform":"uppercase","font-size":"0.75rem",color:"var(--text-muted)"}},"Links",-1))]),N("div",null,[N("div",Mq,Ae(e.moduleSummary.externalDependencyCount),1),t[92]||(t[92]=N("div",{style:{"text-transform":"uppercase","font-size":"0.75rem",color:"var(--text-muted)"}},"External",-1))]),N("div",null,[N("div",Pq,Ae(e.moduleSummary.totalLines),1),t[93]||(t[93]=N("div",{style:{"text-transform":"uppercase","font-size":"0.75rem",color:"var(--text-muted)"}},"Lines",-1))])])])):rr("",!0),N("div",Fq,[(Oe(!0),Re(ct,null,Nt(e.modules,o=>(Oe(),Re("div",{key:o.id,class:"module-card"},[N("div",Oq,[N("div",Rq,Ae(o.name),1),N("div",{class:"module-health",style:Gi({background:e.getHealthColor(o.health)})},null,4)]),N("div",Iq,[N("div",Nq,[N("div",zq,Ae(e.getModuleBugCount(o.id)),1),t[95]||(t[95]=N("div",{class:"stat-label"},"Bugs",-1))]),N("div",$q,[N("div",qq,Ae(e.getModuleFeatureCount(o.id)),1),t[96]||(t[96]=N("div",{class:"stat-label"},"Features",-1))]),N("div",Vq,[N("div",Hq,Ae(o.health)+"%",1),t[97]||(t[97]=N("div",{class:"stat-label"},"Health",-1))])]),N("div",Wq,[N("div",Uq," Dependencies ("+Ae((o.dependencies||[]).length)+"): ",1),N("div",null,[(Oe(!0),Re(ct,null,Nt(o.dependencies||[],s=>(Oe(),Re("span",{key:s,class:"dependency-item"},Ae(s),1))),128))])]),o.externalDependencies&&o.externalDependencies.length?(Oe(),Re("div",Gq,[N("div",Yq," External Packages ("+Ae(o.externalDependencies.length)+"): ",1),N("div",null,[(Oe(!0),Re(ct,null,Nt(o.externalDependencies,s=>(Oe(),Re("span",{key:o.id+s,class:"dependency-item",style:{color:"var(--accent-orange)"}},Ae(s),1))),128))])])):rr("",!0),o.pathHints&&o.pathHints.length?(Oe(),Re("div",Kq,[t[98]||(t[98]=N("div",{style:{"font-size":"0.8rem",color:"var(--text-muted)","margin-bottom":"0.5rem"}}," Paths: ",-1)),N("div",null,[(Oe(!0),Re(ct,null,Nt(o.pathHints,s=>(Oe(),Re("span",{key:o.id+s,class:"dependency-item",style:{color:"var(--accent-blue)"}},Ae(s),1))),128))])])):rr("",!0),N("div",jq,[N("button",{class:"btn",style:{width:"100%",padding:"0.5rem"},onClick:s=>e.analyzeModule(o)}," Analyze Module ",8,Xq)])]))),128))])],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="specs"}])},[N("div",Zq,[t[104]||(t[104]=N("h2",{style:{color:"var(--text-bright)","margin-bottom":"1.5rem"}}," Intelligent Spec Builder ",-1)),N("div",Qq,[t[99]||(t[99]=N("span",{style:{color:"var(--accent-cyan)"}},"Phase: ",-1)),N("span",Jq,Ae(e.currentPhase),1)]),(Oe(!0),Re(ct,null,Nt(e.currentQuestions,(o,s)=>(Oe(),Re("div",{key:o.id,class:"question-card"},[o.isSectionFirst?(Oe(),Re("div",e8,[N("h3",null,Ae(o.sectionTitle),1),o.sectionDescription?(Oe(),Re("p",t8,Ae(o.sectionDescription),1)):rr("",!0)])):rr("",!0),N("div",r8,Ae(o.prompt),1),o.type==="text"?lt((Oe(),Re("input",{key:1,"onUpdate:modelValue":l=>o.answer=l,onChange:l=>e.processAnswer(o),placeholder:o.placeholder},null,40,n8)),[[cr,o.answer]]):o.type==="textarea"?lt((Oe(),Re("textarea",{key:2,"onUpdate:modelValue":l=>o.answer=l,onChange:l=>e.processAnswer(o),rows:"4",placeholder:o.placeholder},null,40,i8)),[[cr,o.answer]]):o.type==="select"?lt((Oe(),Re("select",{key:3,"onUpdate:modelValue":l=>o.answer=l,onChange:l=>e.processAnswer(o)},[t[100]||(t[100]=N("option",{value:""},"Choose...",-1)),(Oe(!0),Re(ct,null,Nt(o.options||[],l=>(Oe(),Re("option",{key:l,value:l},Ae(l),9,o8))),128))],40,a8)),[[zr,o.answer]]):rr("",!0),o.help?(Oe(),Re("div",s8,Ae(o.help),1)):rr("",!0)]))),128)),N("div",l8,[N("div",u8,[t[102]||(t[102]=N("label",{style:{"font-size":"0.8rem",color:"var(--text-muted)"}},"Export Format",-1)),lt(N("select",{"onUpdate:modelValue":t[31]||(t[31]=o=>e.specExportFormat=o),style:{"min-width":"180px"}},[...t[101]||(t[101]=[N("option",{value:"json"},"JSON",-1),N("option",{value:"markdown"},"Markdown",-1),N("option",{value:"github"},"GitHub Spec Kit",-1)])],512),[[zr,e.specExportFormat]])]),N("button",{class:"btn feature",onClick:t[32]||(t[32]=o=>e.generateSpec())}," Generate & Save Spec "),e.latestSpecMeta?(Oe(),Re("div",c8," Saved as "+Ae(e.latestSpecMeta.filename),1)):rr("",!0)]),e.generatedSpec?(Oe(),Re("div",h8,[t[103]||(t[103]=N("h3",{style:{color:"var(--text-bright)","margin-bottom":"1rem"}},"Generated Spec:",-1)),N("pre",f8,Ae(e.generatedSpec),1)])):rr("",!0)])],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="diagrams"}])},[N("div",d8,[N("button",{class:"btn",onClick:t[33]||(t[33]=o=>e.generateDiagram("architecture"))},"🏗️ Architecture"),N("button",{class:"btn",onClick:t[34]||(t[34]=o=>e.generateDiagram("flow"))},"🔄 Flow"),N("button",{class:"btn",onClick:t[35]||(t[35]=o=>e.generateDiagram("sequence"))},"📋 Sequence"),N("button",{class:"btn",onClick:t[36]||(t[36]=o=>e.generateDiagram("entity"))},"🗂️ Entity"),N("button",{class:"btn secondary",onClick:t[37]||(t[37]=o=>e.generateFromModules())},"📦 From Modules")]),t[105]||(t[105]=N("div",{class:"mermaid-container"},[N("div",{id:"mermaid-output"})],-1)),lt(N("textarea",{"onUpdate:modelValue":t[38]||(t[38]=o=>e.mermaidCode=o),style:{width:"100%","min-height":"200px","margin-top":"1rem"},placeholder:"Mermaid code..."},null,512),[[cr,e.mermaidCode]]),N("button",{class:"btn",onClick:t[39]||(t[39]=o=>e.renderMermaid())},"Render Diagram")],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="api"}])},[N("div",v8,[N("button",{class:"btn",onClick:t[40]||(t[40]=o=>e.generateAPISpec())},"🔄 Generate API Spec"),lt(N("select",{"onUpdate:modelValue":t[41]||(t[41]=o=>e.apiFormat=o)},[...t[106]||(t[106]=[N("option",{value:"openapi"},"OpenAPI 3.0",-1),N("option",{value:"custom"},"Custom Lightweight",-1),N("option",{value:"json"},"JSON Schema",-1)])],512),[[zr,e.apiFormat]]),N("button",{class:"btn secondary",onClick:t[42]||(t[42]=o=>e.exportAPISpec())},"📥 Export"),N("button",{class:"btn feature",onClick:t[43]||(t[43]=o=>e.testAPI())},"🧪 Test Endpoints")]),N("div",p8,Ae(e.apiSpecContent),1)],2),N("div",{class:rt(["tab-content",{active:e.activeTab==="docs"}])},[N("div",g8,[N("button",{class:"btn doc",onClick:t[44]||(t[44]=o=>e.generateDocs())},"📖 Generate Documentation"),N("button",{class:"btn secondary",onClick:t[45]||(t[45]=o=>e.exportDocs())},"📥 Export Markdown"),lt(N("select",{"onUpdate:modelValue":t[46]||(t[46]=o=>e.docType=o)},[...t[107]||(t[107]=[N("option",{value:"overview"},"Project Overview",-1),N("option",{value:"modules"},"Module Documentation",-1),N("option",{value:"api"},"API Documentation",-1),N("option",{value:"features"},"Feature Specifications",-1)])],512),[[zr,e.docType]])]),N("div",m8,[N("h2",y8,Ae(e.docTitle),1),N("div",{innerHTML:e.generatedDocs},null,8,b8)])],2)]),N("div",{class:rt(["modal",{active:e.showBugModal}])},[N("div",x8,[N("button",{class:"close-modal",onClick:t[47]||(t[47]=o=>e.showBugModal=!1)},"×"),t[114]||(t[114]=N("h2",{style:{color:"var(--danger)","margin-bottom":"1rem"}},"Report New Bug",-1)),N("div",C8,[t[108]||(t[108]=N("label",null,"Title",-1)),lt(N("input",{"onUpdate:modelValue":t[48]||(t[48]=o=>e.newBug.title=o),type:"text",placeholder:"Bug title..."},null,512),[[cr,e.newBug.title]])]),N("div",w8,[t[109]||(t[109]=N("label",null,"Description",-1)),lt(N("textarea",{"onUpdate:modelValue":t[49]||(t[49]=o=>e.newBug.description=o),rows:"4",placeholder:"Describe the bug..."},null,512),[[cr,e.newBug.description]])]),N("div",T8,[t[111]||(t[111]=N("label",null,"Priority",-1)),lt(N("select",{"onUpdate:modelValue":t[50]||(t[50]=o=>e.newBug.priority=o)},[...t[110]||(t[110]=[N("option",{value:"high"},"High",-1),N("option",{value:"medium"},"Medium",-1),N("option",{value:"low"},"Low",-1)])],512),[[zr,e.newBug.priority]])]),N("div",_8,[t[112]||(t[112]=N("label",null,"Modules (select multiple)",-1)),N("div",S8,[(Oe(!0),Re(ct,null,Nt(e.modules,o=>(Oe(),Re("label",{key:o.id,style:{display:"flex","align-items":"center"}},[lt(N("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[51]||(t[51]=s=>e.newBug.modules=s),style:{"margin-right":"0.5rem",width:"auto"}},null,8,E8),[[pS,e.newBug.modules]]),wl(" "+Ae(o.name),1)]))),128))])]),N("div",k8,[t[113]||(t[113]=N("label",null,"Tags (comma separated)",-1)),lt(N("input",{"onUpdate:modelValue":t[52]||(t[52]=o=>e.newBug.tagsText=o),type:"text",placeholder:"BUG, AUTH, BACKEND"},null,512),[[cr,e.newBug.tagsText]])]),N("button",{class:"btn danger",onClick:t[53]||(t[53]=o=>e.addBug())},"Submit Bug")])],2),N("div",{class:rt(["modal",{active:e.showTicketCompletionModal}])},[N("div",A8,[N("button",{class:"close-modal",onClick:t[54]||(t[54]=(...o)=>e.cancelTicketCompletion&&e.cancelTicketCompletion(...o))},"×"),t[116]||(t[116]=N("h2",{style:{color:"var(--success)","margin-bottom":"1rem"}},"Wrap Up Ticket",-1)),t[117]||(t[117]=N("p",{style:{"margin-bottom":"1rem",color:"var(--text-muted)"}}," Provide a concise summary of what changed, how it was validated, and any follow-up actions before closing this ticket. ",-1)),N("div",B8,[t[115]||(t[115]=N("label",null,"Summary of Work Completed",-1)),lt(N("textarea",{"onUpdate:modelValue":t[55]||(t[55]=o=>e.ticketCompletionSummary=o),rows:"5",placeholder:"Describe the fix, validation steps, and remaining follow-ups..."},null,512),[[cr,e.ticketCompletionSummary]])]),e.ticketCompletionError?(Oe(),Re("p",L8,Ae(e.ticketCompletionError),1)):rr("",!0),N("div",D8,[N("button",{class:"btn secondary",onClick:t[56]||(t[56]=(...o)=>e.cancelTicketCompletion&&e.cancelTicketCompletion(...o))},"Cancel"),N("button",{class:"btn success",onClick:t[57]||(t[57]=(...o)=>e.confirmTicketCompletion&&e.confirmTicketCompletion(...o))},"Mark as Finished")])])],2),N("div",{class:rt(["modal",{active:e.showFeatureModal}])},[N("div",M8,[N("button",{class:"close-modal",onClick:t[58]||(t[58]=o=>e.showFeatureModal=!1)},"×"),t[124]||(t[124]=N("h2",{style:{color:"var(--feature)","margin-bottom":"1rem"}},"Propose New Feature",-1)),N("div",P8,[t[118]||(t[118]=N("label",null,"Title",-1)),lt(N("input",{"onUpdate:modelValue":t[59]||(t[59]=o=>e.newFeature.title=o),type:"text",placeholder:"Feature title..."},null,512),[[cr,e.newFeature.title]])]),N("div",F8,[t[119]||(t[119]=N("label",null,"Description",-1)),lt(N("textarea",{"onUpdate:modelValue":t[60]||(t[60]=o=>e.newFeature.description=o),rows:"4",placeholder:"Describe the feature..."},null,512),[[cr,e.newFeature.description]])]),N("div",O8,[t[120]||(t[120]=N("label",null,"Module",-1)),lt(N("select",{"onUpdate:modelValue":t[61]||(t[61]=o=>e.newFeature.moduleId=o)},[(Oe(!0),Re(ct,null,Nt(e.modules,o=>(Oe(),Re("option",{key:o.id,value:o.id},Ae(o.name),9,R8))),128))],512),[[zr,e.newFeature.moduleId]])]),N("div",I8,[t[122]||(t[122]=N("label",null,"Priority",-1)),lt(N("select",{"onUpdate:modelValue":t[62]||(t[62]=o=>e.newFeature.priority=o)},[...t[121]||(t[121]=[N("option",{value:"critical"},"Critical",-1),N("option",{value:"high"},"High",-1),N("option",{value:"medium"},"Medium",-1),N("option",{value:"low"},"Low",-1)])],512),[[zr,e.newFeature.priority]])]),N("div",N8,[t[123]||(t[123]=N("label",null,"Acceptance Criteria (one per line)",-1)),lt(N("textarea",{"onUpdate:modelValue":t[63]||(t[63]=o=>e.newFeature.criteriaText=o),rows:"4",placeholder:`- User can do X
- System validates Y
- Data is saved to Z`},null,512),[[cr,e.newFeature.criteriaText]])]),N("button",{class:"btn feature",onClick:t[64]||(t[64]=o=>e.addFeature())},"Submit Feature")])],2),N("div",{class:rt(["modal",{active:e.showAddModuleModal}])},[N("div",z8,[N("button",{class:"close-modal",onClick:t[65]||(t[65]=o=>e.showAddModuleModal=!1)},"×"),t[131]||(t[131]=N("h2",{style:{color:"var(--accent-orange)","margin-bottom":"1rem"}},"Add New Module",-1)),N("div",$8,[t[125]||(t[125]=N("label",null,"Module Name",-1)),lt(N("input",{"onUpdate:modelValue":t[66]||(t[66]=o=>e.newModule.name=o),placeholder:"Authentication"},null,512),[[cr,e.newModule.name]])]),N("div",q8,[t[126]||(t[126]=N("label",null,"Module ID",-1)),lt(N("input",{"onUpdate:modelValue":t[67]||(t[67]=o=>e.newModule.id=o),placeholder:"auth"},null,512),[[cr,e.newModule.id]])]),N("div",V8,[t[127]||(t[127]=N("label",null,"Relative Path",-1)),lt(N("input",{"onUpdate:modelValue":t[68]||(t[68]=o=>e.newModule.path=o),placeholder:"src/auth"},null,512),[[cr,e.newModule.path]])]),N("div",H8,[t[128]||(t[128]=N("label",null,"Dependencies (comma-separated)",-1)),lt(N("input",{"onUpdate:modelValue":t[69]||(t[69]=o=>e.newModule.depsString=o),placeholder:"database, crypto, utils"},null,512),[[cr,e.newModule.depsString]])]),N("div",W8,[t[130]||(t[130]=N("label",null,"Module Type",-1)),lt(N("select",{"onUpdate:modelValue":t[70]||(t[70]=o=>e.newModule.type=o)},[...t[129]||(t[129]=[yp('<option value="custom">Custom</option><option value="frontend">Frontend</option><option value="backend">Backend</option><option value="service">Service</option><option value="documentation">Documentation</option>',5)])],512),[[zr,e.newModule.type]])]),N("button",{class:"btn",onClick:t[71]||(t[71]=o=>e.addModule())},"Add Module")])],2)])}const G8=v6(p6,[["render",U8]]);xS(G8).mount("#app");export{ni as $,jo as A,Qo as B,CF as C,xF as D,pF as E,j2 as F,oV as G,EF as H,FM as I,wk as J,Zd as K,Zb as L,Ms as M,e1 as N,K8 as O,Ib as P,BS as Q,Ar as R,Fr as S,BF as T,rV as U,sx as V,mv as W,vM as X,lM as Y,_n as Z,Qd as _,bF as a,so as a$,jp as a0,Bk as a1,hs as a2,Ig as a3,sV as a4,yM as a5,MM as a6,ua as a7,sD as a8,eD as a9,tV as aA,J8 as aB,j8 as aC,X8 as aD,iV as aE,Q8 as aF,nV as aG,_i as aH,Ue as aI,Tn as aJ,Os as aK,oo as aL,uu as aM,GL as aN,MD as aO,Fs as aP,hu as aQ,$L as aR,P1 as aS,WB as aT,UB as aU,qi as aV,Sg as aW,GB as aX,uv as aY,HB as aZ,jB as a_,lD as aa,uD as ab,$1 as ac,Zu as ad,tc as ae,fu as af,qB as ag,lv as ah,V1 as ai,z1 as aj,zL as ak,OL as al,tD as am,hD as an,Rs as ao,oi as ap,dV as aq,Ps as ar,Ie as as,qe as at,wF as au,rv as av,Z8 as aw,eV as ax,rg as ay,tg as az,mF as b,Ei as b0,xg as b1,cv as b2,O1 as b3,od as b4,eL as b5,Xc as b6,WM as b7,TS as b8,gF as c,Vr as d,Lx as e,ar as f,wv as g,vu as h,Za as i,DS as j,vv as k,$e as l,zM as m,G2 as n,hF as o,DM as p,_M as q,Z1 as r,yF as s,rM as t,fV as u,Xb as v,IM as w,zS as x,uL as y,sv as z};
